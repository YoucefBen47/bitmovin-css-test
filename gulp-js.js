(function (f) {
  if (typeof exports === "object" && typeof module !== "undefined") {
    module.exports = f();
  } else if (typeof define === "function" && define.amd) {
    define([], f);
  } else {
    var g;
    if (typeof window !== "undefined") {
      g = window;
    } else if (typeof global !== "undefined") {
      g = global;
    } else if (typeof self !== "undefined") {
      g = self;
    } else {
      g = this;
    }
    (g.bitmovin || (g.bitmovin = {})).playerui = f();
  }
})(function () {
  var define, module, exports;
  return (function () {
    function r(e, n, t) {
      function o(i, f) {
        if (!n[i]) {
          if (!e[i]) {
            var c = "function" == typeof require && require;
            if (!f && c) return c(i, !0);
            if (u) return u(i, !0);
            var a = new Error("Cannot find module '" + i + "'");
            throw ((a.code = "MODULE_NOT_FOUND"), a);
          }
          var p = (n[i] = { exports: {} });
          e[i][0].call(
            p.exports,
            function (r) {
              var n = e[i][1][r];
              return o(n || r);
            },
            p,
            p.exports,
            r,
            e,
            n,
            t
          );
        }
        return n[i].exports;
      }
      for (
        var u = "function" == typeof require && require, i = 0;
        i < t.length;
        i++
      )
        o(t[i]);
      return o;
    }
    return r;
  })()(
    {
      1: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ArrayUtils = void 0;
          /**
           * @category Utils
           */
          var ArrayUtils;
          (function (ArrayUtils) {
            /**
             * Removes an item from an array.
             * @param array the array that may contain the item to remove
             * @param item the item to remove from the array
             * @returns {any} the removed item or null if it wasn't part of the array
             */
            function remove(array, item) {
              var index = array.indexOf(item);
              if (index > -1) {
                return array.splice(index, 1)[0];
              } else {
                return null;
              }
            }
            ArrayUtils.remove = remove;
          })(ArrayUtils || (exports.ArrayUtils = ArrayUtils = {}));
        },
        {},
      ],
      2: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.AudioTrackSwitchHandler = void 0;
          var i18n_1 = require("./localization/i18n");
          /**
           * Helper class to handle all audio tracks related events
           *
           * This class listens to player events as well as the `ListSelector` event if selection changed
           *
           * @category Utils
           */
          var AudioTrackSwitchHandler = /** @class */ (function () {
            function AudioTrackSwitchHandler(player, element, uimanager) {
              var _this = this;
              this.addAudioTrack = function (event) {
                var audioTrack = event.track;
                if (!_this.listElement.hasItem(audioTrack.id)) {
                  _this.listElement.addItem(
                    audioTrack.id,
                    i18n_1.i18n.getLocalizer(audioTrack.label),
                    true
                  );
                }
              };
              this.removeAudioTrack = function (event) {
                var audioTrack = event.track;
                if (_this.listElement.hasItem(audioTrack.id)) {
                  _this.listElement.removeItem(audioTrack.id);
                }
              };
              this.selectCurrentAudioTrack = function () {
                var currentAudioTrack = _this.player.getAudio();
                // HLS streams don't always provide this, so we have to check
                if (currentAudioTrack) {
                  _this.listElement.selectItem(currentAudioTrack.id);
                }
              };
              this.refreshAudioTracks = function () {
                var audioTracks = _this.player.getAvailableAudio();
                var audioTrackToListItem = function (audioTrack) {
                  return { key: audioTrack.id, label: audioTrack.label };
                };
                _this.listElement.synchronizeItems(
                  audioTracks.map(audioTrackToListItem)
                );
                _this.selectCurrentAudioTrack();
              };
              this.player = player;
              this.listElement = element;
              this.uimanager = uimanager;
              this.bindSelectionEvent();
              this.bindPlayerEvents();
              this.refreshAudioTracks();
            }
            AudioTrackSwitchHandler.prototype.bindSelectionEvent = function () {
              var _this = this;
              this.listElement.onItemSelected.subscribe(function (_, value) {
                _this.player.setAudio(value);
              });
            };
            AudioTrackSwitchHandler.prototype.bindPlayerEvents = function () {
              // Update selection when selected track has changed
              this.player.on(
                this.player.exports.PlayerEvent.AudioChanged,
                this.selectCurrentAudioTrack
              );
              // Update tracks when source goes away
              this.player.on(
                this.player.exports.PlayerEvent.SourceUnloaded,
                this.refreshAudioTracks
              );
              // Update tracks when the period within a source changes
              this.player.on(
                this.player.exports.PlayerEvent.PeriodSwitched,
                this.refreshAudioTracks
              );
              // Update tracks when a track is added or removed
              this.player.on(
                this.player.exports.PlayerEvent.AudioAdded,
                this.addAudioTrack
              );
              this.player.on(
                this.player.exports.PlayerEvent.AudioRemoved,
                this.removeAudioTrack
              );
              this.uimanager
                .getConfig()
                .events.onUpdated.subscribe(this.refreshAudioTracks);
            };
            return AudioTrackSwitchHandler;
          })();
          exports.AudioTrackSwitchHandler = AudioTrackSwitchHandler;
        },
        { "./localization/i18n": 91 },
      ],
      3: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.BrowserUtils = void 0;
          /**
           * @category Utils
           */
          var BrowserUtils = /** @class */ (function () {
            function BrowserUtils() {}
            Object.defineProperty(BrowserUtils, "isMobile", {
              // isMobile only needs to be evaluated once (it cannot change during a browser session)
              // Mobile detection according to Mozilla recommendation: "In summary, we recommend looking for the string “Mobi”
              // anywhere in the User Agent to detect a mobile device."
              // https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent
              get: function () {
                if (!this.windowExists()) {
                  return false;
                }
                return (
                  navigator &&
                  navigator.userAgent &&
                  /Mobi/.test(navigator.userAgent)
                );
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(BrowserUtils, "isChrome", {
              get: function () {
                if (!this.windowExists()) {
                  return false;
                }
                return (
                  navigator &&
                  navigator.userAgent &&
                  /Chrome/.test(navigator.userAgent)
                );
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(BrowserUtils, "isAndroid", {
              get: function () {
                if (!this.windowExists()) {
                  return false;
                }
                return (
                  navigator &&
                  navigator.userAgent &&
                  /Android/.test(navigator.userAgent) &&
                  !this.isHisense
                );
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(BrowserUtils, "isIOS", {
              get: function () {
                if (!this.windowExists()) {
                  return false;
                }
                return (
                  navigator &&
                  navigator.userAgent &&
                  /iPad|iPhone|iPod/.test(navigator.userAgent)
                );
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(BrowserUtils, "isMacIntel", {
              get: function () {
                if (!this.windowExists()) {
                  return false;
                }
                return (
                  navigator &&
                  navigator.userAgent &&
                  navigator.platform === "MacIntel"
                );
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(BrowserUtils, "isHisense", {
              get: function () {
                if (!this.windowExists()) {
                  return false;
                }
                return (
                  navigator &&
                  navigator.userAgent &&
                  /Hisense/.test(navigator.userAgent)
                );
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(BrowserUtils, "isPlayStation", {
              get: function () {
                if (!this.windowExists()) {
                  return false;
                }
                return (
                  navigator &&
                  navigator.userAgent &&
                  /PlayStation/i.test(navigator.userAgent)
                );
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(BrowserUtils, "isWebOs", {
              get: function () {
                if (!this.windowExists()) {
                  return false;
                }
                return (
                  navigator &&
                  navigator.userAgent &&
                  (navigator.userAgent.includes("Web0S") ||
                    navigator.userAgent.includes("NetCast"))
                );
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(BrowserUtils, "isTizen", {
              get: function () {
                if (!this.windowExists()) {
                  return false;
                }
                return (
                  navigator &&
                  navigator.userAgent &&
                  /Tizen/.test(navigator.userAgent)
                );
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(BrowserUtils, "isTouchSupported", {
              // https://hacks.mozilla.org/2013/04/detecting-touch-its-the-why-not-the-how/
              get: function () {
                if (!this.windowExists()) {
                  return false;
                }
                return (
                  "ontouchstart" in window ||
                  (navigator &&
                    navigator.userAgent &&
                    (navigator.maxTouchPoints > 0 ||
                      navigator.msMaxTouchPoints > 0))
                );
              },
              enumerable: false,
              configurable: true,
            });
            BrowserUtils.windowExists = function () {
              return typeof window !== "undefined";
            };
            return BrowserUtils;
          })();
          exports.BrowserUtils = BrowserUtils;
        },
        {},
      ],
      4: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.AdClickOverlay = void 0;
          var clickoverlay_1 = require("./clickoverlay");
          /**
           * A simple click capture overlay for clickThroughUrls of ads.
           *
           * @category Components
           */
          var AdClickOverlay = /** @class */ (function (_super) {
            __extends(AdClickOverlay, _super);
            function AdClickOverlay(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  acceptsTouchWithUiHidden: true,
                },
                _this.config
              );
              return _this;
            }
            AdClickOverlay.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var clickThroughCallback = null;
              player.on(player.exports.PlayerEvent.AdStarted, function (event) {
                var ad = event.ad;
                _this.setUrl(ad.clickThroughUrl);
                clickThroughCallback = ad.clickThroughUrlOpened;
              });
              // Clear click-through URL when ad has finished
              var adFinishedHandler = function () {
                _this.setUrl(null);
              };
              player.on(
                player.exports.PlayerEvent.AdFinished,
                adFinishedHandler
              );
              player.on(
                player.exports.PlayerEvent.AdSkipped,
                adFinishedHandler
              );
              player.on(player.exports.PlayerEvent.AdError, adFinishedHandler);
              this.onClick.subscribe(function () {
                // Pause the ad when overlay is clicked
                player.pause("ui-ad-click-overlay");
                if (clickThroughCallback) {
                  clickThroughCallback();
                }
              });
            };
            return AdClickOverlay;
          })(clickoverlay_1.ClickOverlay);
          exports.AdClickOverlay = AdClickOverlay;
        },
        { "./clickoverlay": 16 },
      ],
      5: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.AdMessageLabel = void 0;
          var label_1 = require("./label");
          var stringutils_1 = require("../stringutils");
          var i18n_1 = require("../localization/i18n");
          /**
           * A label that displays a message about a running ad, optionally with a countdown.
           *
           * @category Components
           */
          var AdMessageLabel = /** @class */ (function (_super) {
            __extends(AdMessageLabel, _super);
            function AdMessageLabel(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-label-ad-message",
                  text: i18n_1.i18n.getLocalizer("ads.remainingTime"),
                },
                _this.config
              );
              return _this;
            }
            AdMessageLabel.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              var text = config.text;
              var updateMessageHandler = function () {
                _this.setText(
                  stringutils_1.StringUtils.replaceAdMessagePlaceholders(
                    i18n_1.i18n.performLocalization(text),
                    null,
                    player
                  )
                );
              };
              var adStartHandler = function (event) {
                var uiConfig = event.ad.uiConfig;
                text = (uiConfig && uiConfig.message) || config.text;
                updateMessageHandler();
                player.on(
                  player.exports.PlayerEvent.TimeChanged,
                  updateMessageHandler
                );
              };
              var adEndHandler = function () {
                player.off(
                  player.exports.PlayerEvent.TimeChanged,
                  updateMessageHandler
                );
              };
              player.on(player.exports.PlayerEvent.AdStarted, adStartHandler);
              player.on(player.exports.PlayerEvent.AdSkipped, adEndHandler);
              player.on(player.exports.PlayerEvent.AdError, adEndHandler);
              player.on(player.exports.PlayerEvent.AdFinished, adEndHandler);
            };
            return AdMessageLabel;
          })(label_1.Label);
          exports.AdMessageLabel = AdMessageLabel;
        },
        { "../localization/i18n": 91, "../stringutils": 111, "./label": 28 },
      ],
      6: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.AdSkipButton = void 0;
          var button_1 = require("./button");
          var stringutils_1 = require("../stringutils");
          /**
           * A button that is displayed during ads and can be used to skip the ad.
           *
           * @category Buttons
           */
          var AdSkipButton = /** @class */ (function (_super) {
            __extends(AdSkipButton, _super);
            function AdSkipButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-button-ad-skip",
                  untilSkippableMessage: "Skip ad in {remainingTime}",
                  skippableMessage: "Skip ad",
                  acceptsTouchWithUiHidden: true,
                },
                _this.config
              );
              return _this;
            }
            AdSkipButton.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              var untilSkippableMessage = config.untilSkippableMessage;
              var skippableMessage = config.skippableMessage;
              var skipOffset = -1;
              var updateSkipMessageHandler = function () {
                _this.show();
                // Update the skip message on the button
                if (player.getCurrentTime() < skipOffset) {
                  _this.setText(
                    stringutils_1.StringUtils.replaceAdMessagePlaceholders(
                      untilSkippableMessage,
                      skipOffset,
                      player
                    )
                  );
                  _this.disable();
                } else {
                  _this.setText(skippableMessage);
                  _this.enable();
                }
              };
              var adStartHandler = function (event) {
                var ad = event.ad;
                skipOffset = ad.skippableAfter;
                untilSkippableMessage =
                  (ad.uiConfig && ad.uiConfig.untilSkippableMessage) ||
                  config.untilSkippableMessage;
                skippableMessage =
                  (ad.uiConfig && ad.uiConfig.skippableMessage) ||
                  config.skippableMessage;
                // Display this button only if ad is skippable.
                // Non-skippable ads will return -1 for skippableAfter for player version < v8.3.0.
                if (typeof skipOffset === "number" && skipOffset >= 0) {
                  updateSkipMessageHandler();
                  player.on(
                    player.exports.PlayerEvent.TimeChanged,
                    updateSkipMessageHandler
                  );
                } else {
                  _this.hide();
                }
              };
              var adEndHandler = function () {
                player.off(
                  player.exports.PlayerEvent.TimeChanged,
                  updateSkipMessageHandler
                );
              };
              player.on(player.exports.PlayerEvent.AdStarted, adStartHandler);
              player.on(player.exports.PlayerEvent.AdSkipped, adEndHandler);
              player.on(player.exports.PlayerEvent.AdError, adEndHandler);
              player.on(player.exports.PlayerEvent.AdFinished, adEndHandler);
              this.onClick.subscribe(function () {
                // Try to skip the ad (this only works if it is skippable so we don't need to take extra care of that here)
                player.ads.skip();
              });
            };
            return AdSkipButton;
          })(button_1.Button);
          exports.AdSkipButton = AdSkipButton;
        },
        { "../stringutils": 111, "./button": 12 },
      ],
      7: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.AirPlayToggleButton = void 0;
          var togglebutton_1 = require("./togglebutton");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button that toggles Apple AirPlay.
           *
           * @category Buttons
           */
          var AirPlayToggleButton = /** @class */ (function (_super) {
            __extends(AirPlayToggleButton, _super);
            function AirPlayToggleButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-airplaytogglebutton",
                  text: i18n_1.i18n.getLocalizer("appleAirplay"),
                },
                _this.config
              );
              return _this;
            }
            AirPlayToggleButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              if (!player.isAirplayAvailable) {
                // If the player does not support Airplay (player 7.0), we just hide this component and skip configuration
                this.hide();
                return;
              }
              this.onClick.subscribe(function () {
                if (player.isAirplayAvailable()) {
                  player.showAirplayTargetPicker();
                } else {
                  if (console) {
                    console.log("AirPlay unavailable");
                  }
                }
              });
              var airPlayAvailableHandler = function () {
                if (player.isAirplayAvailable()) {
                  _this.show();
                } else {
                  _this.hide();
                }
              };
              var airPlayChangedHandler = function () {
                if (player.isAirplayActive()) {
                  _this.on();
                } else {
                  _this.off();
                }
              };
              player.on(
                player.exports.PlayerEvent.AirplayAvailable,
                airPlayAvailableHandler
              );
              player.on(
                player.exports.PlayerEvent.AirplayChanged,
                airPlayChangedHandler
              );
              // Startup init
              airPlayAvailableHandler(); // Hide button if AirPlay is not available
              airPlayChangedHandler();
            };
            return AirPlayToggleButton;
          })(togglebutton_1.ToggleButton);
          exports.AirPlayToggleButton = AirPlayToggleButton;
        },
        { "../localization/i18n": 91, "./togglebutton": 74 },
      ],
      8: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.AudioQualitySelectBox = void 0;
          var selectbox_1 = require("./selectbox");
          var i18n_1 = require("../localization/i18n");
          /**
           * A select box providing a selection between 'auto' and the available audio qualities.
           *
           * @category Components
           */
          var AudioQualitySelectBox = /** @class */ (function (_super) {
            __extends(AudioQualitySelectBox, _super);
            function AudioQualitySelectBox(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-audioqualityselectbox"],
                },
                _this.config
              );
              return _this;
            }
            AudioQualitySelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var selectCurrentAudioQuality = function () {
                _this.selectItem(player.getAudioQuality().id);
              };
              var updateAudioQualities = function () {
                var audioQualities = player.getAvailableAudioQualities();
                _this.clearItems();
                // Add entry for automatic quality switching (default setting)
                _this.addItem("auto", i18n_1.i18n.getLocalizer("auto"));
                // Add audio qualities
                for (
                  var _i = 0, audioQualities_1 = audioQualities;
                  _i < audioQualities_1.length;
                  _i++
                ) {
                  var audioQuality = audioQualities_1[_i];
                  _this.addItem(audioQuality.id, audioQuality.label);
                }
                // Select initial quality
                selectCurrentAudioQuality();
              };
              this.onItemSelected.subscribe(function (sender, value) {
                player.setAudioQuality(value);
              });
              // Update qualities when audio track has changed
              player.on(
                player.exports.PlayerEvent.AudioChanged,
                updateAudioQualities
              );
              // Update qualities when source goes away
              player.on(
                player.exports.PlayerEvent.SourceUnloaded,
                updateAudioQualities
              );
              // Update qualities when the period within a source changes
              player.on(
                player.exports.PlayerEvent.PeriodSwitched,
                updateAudioQualities
              );
              // Update quality selection when quality is changed (from outside)
              player.on(
                player.exports.PlayerEvent.AudioQualityChanged,
                selectCurrentAudioQuality
              );
              if (player.exports.PlayerEvent.AudioQualityAdded) {
                // Update qualities when their availability changed
                // TODO: remove any cast after next player release
                player.on(
                  player.exports.PlayerEvent.AudioQualityAdded,
                  updateAudioQualities
                );
                player.on(
                  player.exports.PlayerEvent.AudioQualityRemoved,
                  updateAudioQualities
                );
              }
              uimanager
                .getConfig()
                .events.onUpdated.subscribe(updateAudioQualities);
            };
            return AudioQualitySelectBox;
          })(selectbox_1.SelectBox);
          exports.AudioQualitySelectBox = AudioQualitySelectBox;
        },
        { "../localization/i18n": 91, "./selectbox": 44 },
      ],
      9: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.AudioTrackListBox = void 0;
          var listbox_1 = require("./listbox");
          var audiotrackutils_1 = require("../audiotrackutils");
          /**
           * A element that is similar to a select box where the user can select a subtitle
           *
           * @category Components
           */
          var AudioTrackListBox = /** @class */ (function (_super) {
            __extends(AudioTrackListBox, _super);
            function AudioTrackListBox() {
              return (_super !== null && _super.apply(this, arguments)) || this;
            }
            AudioTrackListBox.prototype.configure = function (
              player,
              uimanager
            ) {
              _super.prototype.configure.call(this, player, uimanager);
              new audiotrackutils_1.AudioTrackSwitchHandler(
                player,
                this,
                uimanager
              );
            };
            return AudioTrackListBox;
          })(listbox_1.ListBox);
          exports.AudioTrackListBox = AudioTrackListBox;
        },
        { "../audiotrackutils": 2, "./listbox": 29 },
      ],
      10: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.AudioTrackSelectBox = void 0;
          var selectbox_1 = require("./selectbox");
          var audiotrackutils_1 = require("../audiotrackutils");
          /**
           * A select box providing a selection between available audio tracks (e.g. different languages).
           *
           * @category Components
           */
          var AudioTrackSelectBox = /** @class */ (function (_super) {
            __extends(AudioTrackSelectBox, _super);
            function AudioTrackSelectBox(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-audiotrackselectbox"],
                },
                _this.config
              );
              return _this;
            }
            AudioTrackSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              _super.prototype.configure.call(this, player, uimanager);
              new audiotrackutils_1.AudioTrackSwitchHandler(
                player,
                this,
                uimanager
              );
            };
            return AudioTrackSelectBox;
          })(selectbox_1.SelectBox);
          exports.AudioTrackSelectBox = AudioTrackSelectBox;
        },
        { "../audiotrackutils": 2, "./selectbox": 44 },
      ],
      11: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.BufferingOverlay = void 0;
          var container_1 = require("./container");
          var component_1 = require("./component");
          var timeout_1 = require("../timeout");
          /**
           * Overlays the player and displays a buffering indicator.
           *
           * @category Components
           */
          var BufferingOverlay = /** @class */ (function (_super) {
            __extends(BufferingOverlay, _super);
            function BufferingOverlay(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.indicators = [
                new component_1.Component({
                  tag: "div",
                  cssClass: "ui-buffering-overlay-indicator",
                  role: "img",
                }),
                new component_1.Component({
                  tag: "div",
                  cssClass: "ui-buffering-overlay-indicator",
                  role: "img",
                }),
                new component_1.Component({
                  tag: "div",
                  cssClass: "ui-buffering-overlay-indicator",
                  role: "img",
                }),
              ];
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-buffering-overlay",
                  hidden: true,
                  components: _this.indicators,
                  showDelayMs: 1000,
                },
                _this.config
              );
              return _this;
            }
            BufferingOverlay.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              var overlayShowTimeout = new timeout_1.Timeout(
                config.showDelayMs,
                function () {
                  _this.show();
                }
              );
              var showOverlay = function () {
                overlayShowTimeout.start();
              };
              var hideOverlay = function () {
                overlayShowTimeout.clear();
                _this.hide();
              };
              player.on(player.exports.PlayerEvent.StallStarted, showOverlay);
              player.on(player.exports.PlayerEvent.StallEnded, hideOverlay);
              player.on(player.exports.PlayerEvent.Play, showOverlay);
              player.on(player.exports.PlayerEvent.Playing, hideOverlay);
              player.on(player.exports.PlayerEvent.Paused, hideOverlay);
              player.on(player.exports.PlayerEvent.Seek, showOverlay);
              player.on(player.exports.PlayerEvent.Seeked, hideOverlay);
              player.on(player.exports.PlayerEvent.TimeShift, showOverlay);
              player.on(player.exports.PlayerEvent.TimeShifted, hideOverlay);
              player.on(player.exports.PlayerEvent.SourceUnloaded, hideOverlay);
              // Show overlay if player is already stalled at init
              if (player.isStalled()) {
                this.show();
              }
            };
            return BufferingOverlay;
          })(container_1.Container);
          exports.BufferingOverlay = BufferingOverlay;
        },
        { "../timeout": 113, "./component": 18, "./container": 19 },
      ],
      12: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.Button = void 0;
          var component_1 = require("./component");
          var dom_1 = require("../dom");
          var eventdispatcher_1 = require("../eventdispatcher");
          var i18n_1 = require("../localization/i18n");
          /**
           * A simple clickable button.
           *
           * @category Components
           */
          var Button = /** @class */ (function (_super) {
            __extends(Button, _super);
            function Button(config) {
              var _this = _super.call(this, config) || this;
              _this.buttonEvents = {
                onClick: new eventdispatcher_1.EventDispatcher(),
              };
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-button",
                  role: "button",
                  tabIndex: 0,
                  acceptsTouchWithUiHidden: false,
                },
                _this.config
              );
              return _this;
            }
            Button.prototype.toDomElement = function () {
              var _this = this;
              var buttonElementAttributes = {
                id: this.config.id,
                "aria-label": i18n_1.i18n.performLocalization(
                  this.config.ariaLabel || this.config.text
                ),
                class: this.getCssClasses(),
                type: "button",
                /**
                 * WCAG20 standard to display if a button is pressed or not
                 */
                "aria-pressed": "false",
                tabindex: this.config.tabIndex.toString(),
              };
              if (this.config.role != null) {
                buttonElementAttributes["role"] = this.config.role;
              }
              // Create the button element with the text label
              var buttonElement = new dom_1.DOM(
                "button",
                buttonElementAttributes,
                this
              ).append(
                new dom_1.DOM("span", {
                  class: this.prefixCss("label"),
                }).html(i18n_1.i18n.performLocalization(this.config.text))
              );
              // Listen for the click event on the button element and trigger the corresponding event on the button component
              buttonElement.on("click", function () {
                _this.onClickEvent();
              });
              return buttonElement;
            };
            /**
             * Sets text on the label of the button.
             * @param text the text to put into the label of the button
             */
            Button.prototype.setText = function (text) {
              this.getDomElement()
                .find("." + this.prefixCss("label"))
                .html(i18n_1.i18n.performLocalization(text));
            };
            Button.prototype.onClickEvent = function () {
              this.buttonEvents.onClick.dispatch(this);
            };
            Object.defineProperty(Button.prototype, "onClick", {
              /**
               * Gets the event that is fired when the button is clicked.
               * @returns {Event<Button<Config>, NoArgs>}
               */
              get: function () {
                return this.buttonEvents.onClick.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            return Button;
          })(component_1.Component);
          exports.Button = Button;
        },
        {
          "../dom": 84,
          "../eventdispatcher": 86,
          "../localization/i18n": 91,
          "./component": 18,
        },
      ],
      13: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.CastStatusOverlay = void 0;
          var container_1 = require("./container");
          var label_1 = require("./label");
          var i18n_1 = require("../localization/i18n");
          /**
           * Overlays the player and displays the status of a Cast session.
           *
           * @category Components
           */
          var CastStatusOverlay = /** @class */ (function (_super) {
            __extends(CastStatusOverlay, _super);
            function CastStatusOverlay(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.statusLabel = new label_1.Label({
                cssClass: "ui-cast-status-label",
              });
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-cast-status-overlay",
                  components: [_this.statusLabel],
                  hidden: true,
                },
                _this.config
              );
              return _this;
            }
            CastStatusOverlay.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              player.on(
                player.exports.PlayerEvent.CastWaitingForDevice,
                function (event) {
                  _this.show();
                  // Get device name and update status text while connecting
                  var castDeviceName = event.castPayload.deviceName;
                  _this.statusLabel.setText(
                    i18n_1.i18n.getLocalizer("connectingTo", {
                      castDeviceName: castDeviceName,
                    })
                  );
                }
              );
              player.on(
                player.exports.PlayerEvent.CastStarted,
                function (event) {
                  // Session is started or resumed
                  // For cases when a session is resumed, we do not receive the previous events and therefore show the status panel
                  // here too
                  _this.show();
                  var castDeviceName = event.deviceName;
                  _this.statusLabel.setText(
                    i18n_1.i18n.getLocalizer("playingOn", {
                      castDeviceName: castDeviceName,
                    })
                  );
                }
              );
              player.on(
                player.exports.PlayerEvent.CastStopped,
                function (event) {
                  // Cast session gone, hide the status panel
                  _this.hide();
                }
              );
            };
            return CastStatusOverlay;
          })(container_1.Container);
          exports.CastStatusOverlay = CastStatusOverlay;
        },
        { "../localization/i18n": 91, "./container": 19, "./label": 28 },
      ],
      14: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.CastToggleButton = void 0;
          var togglebutton_1 = require("./togglebutton");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button that toggles casting to a Cast receiver.
           *
           * @category Buttons
           */
          var CastToggleButton = /** @class */ (function (_super) {
            __extends(CastToggleButton, _super);
            function CastToggleButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-casttogglebutton",
                  text: i18n_1.i18n.getLocalizer("googleCast"),
                },
                _this.config
              );
              return _this;
            }
            CastToggleButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.onClick.subscribe(function () {
                if (player.isCastAvailable()) {
                  if (player.isCasting()) {
                    player.castStop();
                  } else {
                    player.castVideo();
                  }
                } else {
                  if (console) {
                    console.log("Cast unavailable");
                  }
                }
              });
              var castAvailableHander = function () {
                if (player.isCastAvailable()) {
                  _this.show();
                } else {
                  _this.hide();
                }
              };
              player.on(
                player.exports.PlayerEvent.CastAvailable,
                castAvailableHander
              );
              // Toggle button 'on' state
              player.on(
                player.exports.PlayerEvent.CastWaitingForDevice,
                function () {
                  _this.on();
                }
              );
              player.on(player.exports.PlayerEvent.CastStarted, function () {
                // When a session is resumed, there is no CastStart event, so we also need to toggle here for such cases
                _this.on();
              });
              player.on(player.exports.PlayerEvent.CastStopped, function () {
                _this.off();
              });
              // Startup init
              castAvailableHander(); // Hide button if Cast not available
              if (player.isCasting()) {
                this.on();
              }
            };
            return CastToggleButton;
          })(togglebutton_1.ToggleButton);
          exports.CastToggleButton = CastToggleButton;
        },
        { "../localization/i18n": 91, "./togglebutton": 74 },
      ],
      15: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.CastUIContainer = void 0;
          var uicontainer_1 = require("./uicontainer");
          var timeout_1 = require("../timeout");
          /**
           * The base container for Cast receivers that contains all of the UI and takes care that the UI is shown on
           * certain playback events.
           *
           * @category Containers
           */
          var CastUIContainer = /** @class */ (function (_super) {
            __extends(CastUIContainer, _super);
            function CastUIContainer(config) {
              return _super.call(this, config) || this;
            }
            CastUIContainer.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              /*
               * Show UI on Cast devices at certain playback events
               *
               * Since a Cast receiver does not have a direct HCI, we show the UI on certain playback events to give the user
               * a chance to see on the screen what's going on, e.g. on play/pause or a seek the UI is shown and the user can
               * see the current time and position on the seek bar.
               * The UI is shown permanently while playback is paused, otherwise hides automatically after the configured
               * hide delay time.
               */
              var isUiShown = false;
              var hideUi = function () {
                uimanager.onControlsHide.dispatch(_this);
                isUiShown = false;
              };
              this.castUiHideTimeout = new timeout_1.Timeout(
                config.hideDelay,
                hideUi
              );
              var showUi = function () {
                if (!isUiShown) {
                  uimanager.onControlsShow.dispatch(_this);
                  isUiShown = true;
                }
              };
              var showUiPermanently = function () {
                showUi();
                _this.castUiHideTimeout.clear();
              };
              var showUiWithTimeout = function () {
                showUi();
                _this.castUiHideTimeout.start();
              };
              var showUiAfterSeek = function () {
                if (player.isPlaying()) {
                  showUiWithTimeout();
                } else {
                  showUiPermanently();
                }
              };
              player.on(player.exports.PlayerEvent.Play, showUiWithTimeout);
              player.on(player.exports.PlayerEvent.Paused, showUiPermanently);
              player.on(player.exports.PlayerEvent.Seek, showUiPermanently);
              player.on(player.exports.PlayerEvent.Seeked, showUiAfterSeek);
              uimanager
                .getConfig()
                .events.onUpdated.subscribe(showUiWithTimeout);
            };
            CastUIContainer.prototype.release = function () {
              _super.prototype.release.call(this);
              this.castUiHideTimeout.clear();
            };
            return CastUIContainer;
          })(uicontainer_1.UIContainer);
          exports.CastUIContainer = CastUIContainer;
        },
        { "../timeout": 113, "./uicontainer": 76 },
      ],
      16: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ClickOverlay = void 0;
          var button_1 = require("./button");
          /**
           * A click overlay that opens an url in a new tab if clicked.
           *
           * @category Components
           */
          var ClickOverlay = /** @class */ (function (_super) {
            __extends(ClickOverlay, _super);
            function ClickOverlay(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-clickoverlay",
                  role: _this.config.role,
                },
                _this.config
              );
              return _this;
            }
            ClickOverlay.prototype.initialize = function () {
              _super.prototype.initialize.call(this);
              this.setUrl(this.config.url);
              var element = this.getDomElement();
              element.on("click", function () {
                if (element.data("url")) {
                  window.open(element.data("url"), "_blank");
                }
              });
            };
            /**
             * Gets the URL that should be followed when the watermark is clicked.
             * @returns {string} the watermark URL
             */
            ClickOverlay.prototype.getUrl = function () {
              return this.getDomElement().data("url");
            };
            ClickOverlay.prototype.setUrl = function (url) {
              if (url === undefined || url == null) {
                url = "";
              }
              this.getDomElement().data("url", url);
            };
            return ClickOverlay;
          })(button_1.Button);
          exports.ClickOverlay = ClickOverlay;
        },
        { "./button": 12 },
      ],
      17: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.CloseButton = void 0;
          var button_1 = require("./button");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button that closes (hides) a configured component.
           *
           * @category Buttons
           */
          var CloseButton = /** @class */ (function (_super) {
            __extends(CloseButton, _super);
            function CloseButton(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-closebutton",
                  text: i18n_1.i18n.getLocalizer("close"),
                },
                _this.config
              );
              return _this;
            }
            CloseButton.prototype.configure = function (player, uimanager) {
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              this.onClick.subscribe(function () {
                config.target.hide();
              });
            };
            return CloseButton;
          })(button_1.Button);
          exports.CloseButton = CloseButton;
        },
        { "../localization/i18n": 91, "./button": 12 },
      ],
      18: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.Component = exports.ViewMode = void 0;
          var guid_1 = require("../guid");
          var dom_1 = require("../dom");
          var eventdispatcher_1 = require("../eventdispatcher");
          var i18n_1 = require("../localization/i18n");
          var ViewMode;
          (function (ViewMode) {
            /**
             * Indicates that the component has entered a view mode where it must stay visible. Auto-hiding of this component
             * must be disabled as long as it resides in this state.
             */
            ViewMode["Persistent"] = "persistent";
            /**
             * The control can be hidden at any time.
             */
            ViewMode["Temporary"] = "temporary";
          })(ViewMode || (exports.ViewMode = ViewMode = {}));
          /**
           * The base class of the UI framework.
           * Each component must extend this class and optionally the config interface.
           *
           * @category Components
           */
          var Component = /** @class */ (function () {
            /**
             * Constructs a component with an optionally supplied config. All subclasses must call the constructor of their
             * superclass and then merge their configuration into the component's configuration.
             * @param config the configuration for the component
             */
            function Component(config) {
              if (config === void 0) {
                config = {};
              }
              /**
               * The list of events that this component offers. These events should always be private and only directly
               * accessed from within the implementing component.
               *
               * Because TypeScript does not support private properties with the same name on different class hierarchy levels
               * (i.e. superclass and subclass cannot contain a private property with the same name), the default naming
               * convention for the event list of a component that should be followed by subclasses is the concatenation of the
               * camel-cased class name + 'Events' (e.g. SubClass extends Component => subClassEvents).
               * See {@link #componentEvents} for an example.
               *
               * Event properties should be named in camel case with an 'on' prefix and in the present tense. Async events may
               * have a start event (when the operation starts) in the present tense, and must have an end event (when the
               * operation ends) in the past tense (or present tense in special cases (e.g. onStart/onStarted or onPlay/onPlaying).
               * See {@link #componentEvents#onShow} for an example.
               *
               * Each event should be accompanied with a protected method named by the convention eventName + 'Event'
               * (e.g. onStartEvent), that actually triggers the event by calling {@link EventDispatcher#dispatch dispatch} and
               * passing a reference to the component as first parameter. Components should always trigger their events with these
               * methods. Implementing this pattern gives subclasses means to directly listen to the events by overriding the
               * method (and saving the overhead of passing a handler to the event dispatcher) and more importantly to trigger
               * these events without having access to the private event list.
               * See {@link #onShow} for an example.
               *
               * To provide external code the possibility to listen to this component's events (subscribe, unsubscribe, etc.),
               * each event should also be accompanied by a public getter function with the same name as the event's property,
               * that returns the {@link Event} obtained from the event dispatcher by calling {@link EventDispatcher#getEvent}.
               * See {@link #onShow} for an example.
               *
               * Full example for an event representing an example action in a example component:
               *
               * <code>
               * // Define an example component class with an example event
               * class ExampleComponent extends Component<ComponentConfig> {
               *
               *     private exampleComponentEvents = {
               *         onExampleAction: new EventDispatcher<ExampleComponent, NoArgs>()
               *     }
               *
               *     // constructor and other stuff...
               *
               *     protected onExampleActionEvent() {
               *        this.exampleComponentEvents.onExampleAction.dispatch(this);
               *    }
               *
               *    get onExampleAction(): Event<ExampleComponent, NoArgs> {
               *        return this.exampleComponentEvents.onExampleAction.getEvent();
               *    }
               * }
               *
               * // Create an instance of the component somewhere
               * var exampleComponentInstance = new ExampleComponent();
               *
               * // Subscribe to the example event on the component
               * exampleComponentInstance.onExampleAction.subscribe(function (sender: ExampleComponent) {
               *     console.log('onExampleAction of ' + sender + ' has fired!');
               * });
               * </code>
               */
              this.componentEvents = {
                onShow: new eventdispatcher_1.EventDispatcher(),
                onHide: new eventdispatcher_1.EventDispatcher(),
                onViewModeChanged: new eventdispatcher_1.EventDispatcher(),
                onHoverChanged: new eventdispatcher_1.EventDispatcher(),
                onEnabled: new eventdispatcher_1.EventDispatcher(),
                onDisabled: new eventdispatcher_1.EventDispatcher(),
              };
              // Create the configuration for this component
              this.config = this.mergeConfig(
                config,
                {
                  tag: "div",
                  id: "bmpui-id-" + guid_1.Guid.next(),
                  cssPrefix: "bmpui",
                  cssClass: "ui-component",
                  cssClasses: [],
                  hidden: false,
                  disabled: false,
                },
                {}
              );
              this.viewMode = ViewMode.Temporary;
            }
            /**
             * Initializes the component, e.g. by applying config settings.
             * This method must not be called from outside the UI framework.
             *
             * This method is automatically called by the {@link UIInstanceManager}. If the component is an inner component of
             * some component, and thus encapsulated abd managed internally and never directly exposed to the UIManager,
             * this method must be called from the managing component's {@link #initialize} method.
             */
            Component.prototype.initialize = function () {
              this.hidden = this.config.hidden;
              this.disabled = this.config.disabled;
              // Hide the component at initialization if it is configured to be hidden
              if (this.isHidden()) {
                this.hidden = false; // Set flag to false for the following hide() call to work (hide() checks the flag)
                this.hide();
              }
              // Disable the component at initialization if it is configured to be disabled
              if (this.isDisabled()) {
                this.disabled = false; // Set flag to false for the following disable() call to work (disable() checks the flag)
                this.disable();
              }
            };
            /**
             * Configures the component for the supplied Player and UIInstanceManager. This is the place where all the magic
             * happens, where components typically subscribe and react to events (on their DOM element, the Player, or the
             * UIInstanceManager), and basically everything that makes them interactive.
             * This method is called only once, when the UIManager initializes the UI.
             *
             * Subclasses usually overwrite this method to add their own functionality.
             *
             * @param player the player which this component controls
             * @param uimanager the UIInstanceManager that manages this component
             */
            Component.prototype.configure = function (player, uimanager) {
              var _this = this;
              this.onShow.subscribe(function () {
                return uimanager.onComponentShow.dispatch(_this);
              });
              this.onHide.subscribe(function () {
                return uimanager.onComponentHide.dispatch(_this);
              });
              this.onViewModeChanged.subscribe(function (_, args) {
                return uimanager.onComponentViewModeChanged.dispatch(
                  _this,
                  args
                );
              });
              // Track the hovered state of the element
              this.getDomElement().on("mouseenter", function () {
                return _this.onHoverChangedEvent(true);
              });
              this.getDomElement().on("mouseleave", function () {
                return _this.onHoverChangedEvent(false);
              });
            };
            /**
             * Releases all resources and dependencies that the component holds. Player, DOM, and UIManager events are
             * automatically removed during release and do not explicitly need to be removed here.
             * This method is called by the UIManager when it releases the UI.
             *
             * Subclasses that need to release resources should override this method and call super.release().
             */
            Component.prototype.release = function () {
              // Nothing to do here, override where necessary
            };
            /**
             * Generate the DOM element for this component.
             *
             * Subclasses usually overwrite this method to extend or replace the DOM element with their own design.
             */
            Component.prototype.toDomElement = function () {
              var element = new dom_1.DOM(
                this.config.tag,
                {
                  id: this.config.id,
                  class: this.getCssClasses(),
                  role: this.config.role,
                },
                this
              );
              return element;
            };
            /**
             * Returns the DOM element of this component. Creates the DOM element if it does not yet exist.
             *
             * Should not be overwritten by subclasses.
             *
             * @returns {DOM}
             */
            Component.prototype.getDomElement = function () {
              if (!this.element) {
                this.element = this.toDomElement();
              }
              return this.element;
            };
            /**
             * Checks if this component has a DOM element.
             */
            Component.prototype.hasDomElement = function () {
              return Boolean(this.element);
            };
            Component.prototype.setAriaLabel = function (label) {
              this.setAriaAttr("label", i18n_1.i18n.performLocalization(label));
            };
            Component.prototype.setAriaAttr = function (name, value) {
              this.getDomElement().attr("aria-".concat(name), value);
            };
            /**
             * Merges a configuration with a default configuration and a base configuration from the superclass.
             *
             * @param config the configuration settings for the components, as usually passed to the constructor
             * @param defaults a default configuration for settings that are not passed with the configuration
             * @param base configuration inherited from a superclass
             * @returns {Config}
             */
            Component.prototype.mergeConfig = function (
              config,
              defaults,
              base
            ) {
              // Extend default config with supplied config
              var merged = Object.assign({}, base, defaults, config);
              // Return the extended config
              return merged;
            };
            /**
             * Helper method that returns a string of all CSS classes of the component.
             *
             * @returns {string}
             */
            Component.prototype.getCssClasses = function () {
              var _this = this;
              // Merge all CSS classes into single array
              var flattenedArray = [this.config.cssClass].concat(
                this.config.cssClasses
              );
              // Prefix classes
              flattenedArray = flattenedArray.map(function (css) {
                return _this.prefixCss(css);
              });
              // Join array values into a string
              var flattenedString = flattenedArray.join(" ");
              // Return trimmed string to prevent whitespace at the end from the join operation
              return flattenedString.trim();
            };
            Component.prototype.prefixCss = function (cssClassOrId) {
              return this.config.cssPrefix + "-" + cssClassOrId;
            };
            /**
             * Returns the configuration object of the component.
             * @returns {Config}
             */
            Component.prototype.getConfig = function () {
              return this.config;
            };
            /**
             * Hides the component if shown.
             * This method basically transfers the component into the hidden state. Actual hiding is done via CSS.
             */
            Component.prototype.hide = function () {
              if (!this.hidden) {
                this.hidden = true;
                this.getDomElement().addClass(
                  this.prefixCss(Component.CLASS_HIDDEN)
                );
                this.onHideEvent();
              }
            };
            /**
             * Shows the component if hidden.
             */
            Component.prototype.show = function () {
              if (this.hidden) {
                this.getDomElement().removeClass(
                  this.prefixCss(Component.CLASS_HIDDEN)
                );
                this.hidden = false;
                this.onShowEvent();
              }
            };
            /**
             * Determines if the component is hidden.
             * @returns {boolean} true if the component is hidden, else false
             */
            Component.prototype.isHidden = function () {
              return this.hidden;
            };
            /**
             * Determines if the component is shown.
             * @returns {boolean} true if the component is visible, else false
             */
            Component.prototype.isShown = function () {
              return !this.isHidden();
            };
            /**
             * Toggles the hidden state by hiding the component if it is shown, or showing it if hidden.
             */
            Component.prototype.toggleHidden = function () {
              if (this.isHidden()) {
                this.show();
              } else {
                this.hide();
              }
            };
            /**
             * Disables the component.
             * This method basically transfers the component into the disabled state. Actual disabling is done via CSS or child
             * components. (e.g. Button needs to unsubscribe click listeners)
             */
            Component.prototype.disable = function () {
              if (!this.disabled) {
                this.disabled = true;
                this.getDomElement().addClass(
                  this.prefixCss(Component.CLASS_DISABLED)
                );
                this.onDisabledEvent();
              }
            };
            /**
             * Enables the component.
             * This method basically transfers the component into the enabled state. Actual enabling is done via CSS or child
             * components. (e.g. Button needs to subscribe click listeners)
             */
            Component.prototype.enable = function () {
              if (this.disabled) {
                this.getDomElement().removeClass(
                  this.prefixCss(Component.CLASS_DISABLED)
                );
                this.disabled = false;
                this.onEnabledEvent();
              }
            };
            /**
             * Determines if the component is disabled.
             * @returns {boolean} true if the component is disabled, else false
             */
            Component.prototype.isDisabled = function () {
              return this.disabled;
            };
            /**
             * Determines if the component is enabled.
             * @returns {boolean} true if the component is enabled, else false
             */
            Component.prototype.isEnabled = function () {
              return !this.isDisabled();
            };
            /**
             * Determines if the component is currently hovered.
             * @returns {boolean} true if the component is hovered, else false
             */
            Component.prototype.isHovered = function () {
              return this.hovered;
            };
            /**
             * Fires the onShow event.
             * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
             */
            Component.prototype.onShowEvent = function () {
              this.componentEvents.onShow.dispatch(this);
            };
            /**
             * Fires the onHide event.
             * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
             */
            Component.prototype.onHideEvent = function () {
              this.componentEvents.onHide.dispatch(this);
            };
            /**
             * Fires the onEnabled event.
             * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
             */
            Component.prototype.onEnabledEvent = function () {
              this.componentEvents.onEnabled.dispatch(this);
            };
            /**
             * Fires the onDisabled event.
             * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
             */
            Component.prototype.onDisabledEvent = function () {
              this.componentEvents.onDisabled.dispatch(this);
            };
            /**
             * Fires the onViewModeChanged event.
             * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
             */
            Component.prototype.onViewModeChangedEvent = function (mode) {
              if (this.viewMode === mode) {
                return;
              }
              this.viewMode = mode;
              this.componentEvents.onViewModeChanged.dispatch(this, {
                mode: mode,
              });
            };
            /**
             * Fires the onHoverChanged event.
             * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
             */
            Component.prototype.onHoverChangedEvent = function (hovered) {
              this.hovered = hovered;
              this.componentEvents.onHoverChanged.dispatch(this, {
                hovered: hovered,
              });
            };
            Object.defineProperty(Component.prototype, "onShow", {
              /**
               * Gets the event that is fired when the component is showing.
               * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
               * @returns {Event<Component<Config>, NoArgs>}
               */
              get: function () {
                return this.componentEvents.onShow.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(Component.prototype, "onHide", {
              /**
               * Gets the event that is fired when the component is hiding.
               * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
               * @returns {Event<Component<Config>, NoArgs>}
               */
              get: function () {
                return this.componentEvents.onHide.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(Component.prototype, "onEnabled", {
              /**
               * Gets the event that is fired when the component is enabling.
               * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
               * @returns {Event<Component<Config>, NoArgs>}
               */
              get: function () {
                return this.componentEvents.onEnabled.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(Component.prototype, "onDisabled", {
              /**
               * Gets the event that is fired when the component is disabling.
               * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
               * @returns {Event<Component<Config>, NoArgs>}
               */
              get: function () {
                return this.componentEvents.onDisabled.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(Component.prototype, "onHoverChanged", {
              /**
               * Gets the event that is fired when the component's hover-state is changing.
               * @returns {Event<Component<Config>, ComponentHoverChangedEventArgs>}
               */
              get: function () {
                return this.componentEvents.onHoverChanged.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(Component.prototype, "onViewModeChanged", {
              /**
               * Gets the event that is fired when the `ViewMode` of this component has changed.
               * @returns {Event<Component<Config>, ViewModeChangedEventArgs>}
               */
              get: function () {
                return this.componentEvents.onViewModeChanged.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            /**
             * The classname that is attached to the element when it is in the hidden state.
             * @type {string}
             */
            Component.CLASS_HIDDEN = "hidden";
            /**
             * The classname that is attached to the element when it is in the disabled state.
             * @type {string}
             */
            Component.CLASS_DISABLED = "disabled";
            return Component;
          })();
          exports.Component = Component;
        },
        {
          "../dom": 84,
          "../eventdispatcher": 86,
          "../guid": 89,
          "../localization/i18n": 91,
        },
      ],
      19: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.Container = void 0;
          var component_1 = require("./component");
          var dom_1 = require("../dom");
          var arrayutils_1 = require("../arrayutils");
          var i18n_1 = require("../localization/i18n");
          /**
           * A container component that can contain a collection of child components.
           * Components can be added at construction time through the {@link ContainerConfig#components} setting, or later
           * through the {@link Container#addComponent} method. The UIManager automatically takes care of all components, i.e. it
           * initializes and configures them automatically.
           *
           * In the DOM, the container consists of an outer <div> (that can be configured by the config) and an inner wrapper
           * <div> that contains the components. This double-<div>-structure is often required to achieve many advanced effects
           * in CSS and/or JS, e.g. animations and certain formatting with absolute positioning.
           *
           * DOM example:
           * <code>
           *     <div class='ui-container'>
           *         <div class='container-wrapper'>
           *             ... child components ...
           *         </div>
           *     </div>
           * </code>
           *
           * @category Components
           */
          var Container = /** @class */ (function (_super) {
            __extends(Container, _super);
            function Container(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-container",
                  components: [],
                },
                _this.config
              );
              _this.componentsToAdd = [];
              _this.componentsToRemove = [];
              _this.componentsInPersistentViewMode = 0;
              return _this;
            }
            /**
             * Adds a child component to the container.
             * @param component the component to add
             */
            Container.prototype.addComponent = function (component) {
              this.config.components.push(component);
              this.componentsToAdd.push(component);
            };
            /**
             * Removes a child component from the container.
             * @param component the component to remove
             * @returns {boolean} true if the component has been removed, false if it is not contained in this container
             */
            Container.prototype.removeComponent = function (component) {
              if (
                arrayutils_1.ArrayUtils.remove(
                  this.config.components,
                  component
                ) != null
              ) {
                this.componentsToRemove.push(component);
                return true;
              } else {
                return false;
              }
            };
            /**
             * Gets an array of all child components in this container.
             * @returns {Component<ComponentConfig>[]}
             */
            Container.prototype.getComponents = function () {
              return this.config.components;
            };
            /**
             * Removes all child components from the container.
             */
            Container.prototype.removeComponents = function () {
              for (
                var _i = 0, _a = this.getComponents().slice();
                _i < _a.length;
                _i++
              ) {
                var component = _a[_i];
                this.removeComponent(component);
              }
            };
            /**
             * Updates the DOM of the container with the current components.
             */
            Container.prototype.updateComponents = function () {
              /* We cannot just clear the container to remove all elements and then re-add those that should stay, because
               * IE looses the innerHTML of unattached elements, leading to empty elements within the container (e.g. missing
               * subtitle text in SubtitleLabel).
               * Instead, we keep a list of elements to add and remove, leaving remaining elements alone. By keeping them in
               * the DOM, their content gets preserved in all browsers.
               */
              var component;
              while (
                (component = this.componentsToRemove.shift()) !== undefined
              ) {
                component.getDomElement().remove();
              }
              while ((component = this.componentsToAdd.shift()) !== undefined) {
                this.innerContainerElement.append(component.getDomElement());
              }
            };
            Container.prototype.toDomElement = function () {
              // Create the container element (the outer <div>)
              var containerElement = new dom_1.DOM(
                this.config.tag,
                {
                  id: this.config.id,
                  class: this.getCssClasses(),
                  role: this.config.role,
                  "aria-label": i18n_1.i18n.performLocalization(
                    this.config.ariaLabel
                  ),
                },
                this
              );
              // Create the inner container element (the inner <div>) that will contain the components
              var innerContainer = new dom_1.DOM(this.config.tag, {
                class: this.prefixCss("container-wrapper"),
              });
              this.innerContainerElement = innerContainer;
              for (
                var _i = 0, _a = this.config.components;
                _i < _a.length;
                _i++
              ) {
                var initialComponent = _a[_i];
                this.componentsToAdd.push(initialComponent);
              }
              this.updateComponents();
              containerElement.append(innerContainer);
              return containerElement;
            };
            Container.prototype.suspendHideTimeout = function () {
              // to be implemented in subclass
            };
            Container.prototype.resumeHideTimeout = function () {
              // to be implemented in subclass
            };
            Container.prototype.trackComponentViewMode = function (mode) {
              if (mode === component_1.ViewMode.Persistent) {
                this.componentsInPersistentViewMode++;
              } else if (mode === component_1.ViewMode.Temporary) {
                this.componentsInPersistentViewMode = Math.max(
                  this.componentsInPersistentViewMode - 1,
                  0
                );
              }
              if (this.componentsInPersistentViewMode > 0) {
                // There is at least one component that must not be hidden,
                // therefore the hide timeout must be suspended
                this.suspendHideTimeout();
              } else {
                this.resumeHideTimeout();
              }
            };
            return Container;
          })(component_1.Component);
          exports.Container = Container;
        },
        {
          "../arrayutils": 1,
          "../dom": 84,
          "../localization/i18n": 91,
          "./component": 18,
        },
      ],
      20: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ControlBar = void 0;
          var container_1 = require("./container");
          var uiutils_1 = require("../uiutils");
          var spacer_1 = require("./spacer");
          var i18n_1 = require("../localization/i18n");
          var browserutils_1 = require("../browserutils");
          var settingspanel_1 = require("./settingspanel");
          /**
           * A container for main player control components, e.g. play toggle button, seek bar, volume control, fullscreen toggle
           * button.
           *
           * @category Components
           */
          var ControlBar = /** @class */ (function (_super) {
            __extends(ControlBar, _super);
            function ControlBar(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-controlbar",
                  hidden: true,
                  role: "region",
                  ariaLabel: i18n_1.i18n.getLocalizer("controlBar"),
                },
                _this.config
              );
              return _this;
            }
            ControlBar.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              // Counts how many components are hovered and block hiding of the control bar
              var hoverStackCount = 0;
              var isSettingsPanelShown = false;
              // Only enabling this for platforms without touch input.
              // Enabling this for touch devices causes the UI to not disappear after hideDelay seconds,
              // because `mouseleave` event is not emitted.
              // Instead, it will stay visible until another manual interaction is performed.
              if (
                uimanager.getConfig().disableAutoHideWhenHovered &&
                !browserutils_1.BrowserUtils.isTouchSupported
              ) {
                // Track hover status of child components
                uiutils_1.UIUtils.traverseTree(this, function (component) {
                  // Do not track hover status of child containers or spacers, only of 'real' controls
                  if (
                    component instanceof container_1.Container ||
                    component instanceof spacer_1.Spacer
                  ) {
                    return;
                  }
                  // Subscribe hover event and keep a count of the number of hovered children
                  component.onHoverChanged.subscribe(function (_, args) {
                    if (args.hovered) {
                      hoverStackCount++;
                    } else {
                      hoverStackCount--;
                    }
                  });
                });
              }
              if (browserutils_1.BrowserUtils.isMobile) {
                uimanager.onComponentShow.subscribe(function (component) {
                  if (component instanceof settingspanel_1.SettingsPanel) {
                    isSettingsPanelShown = true;
                  }
                });
                uimanager.onComponentHide.subscribe(function (component) {
                  if (component instanceof settingspanel_1.SettingsPanel) {
                    isSettingsPanelShown = false;
                  }
                });
              }
              uimanager.onControlsShow.subscribe(function () {
                _this.show();
              });
              uimanager.onPreviewControlsHide.subscribe(function (
                sender,
                args
              ) {
                // Cancel the hide event if hovered child components block hiding or if the settings panel is active on mobile.
                args.cancel =
                  args.cancel || hoverStackCount > 0 || isSettingsPanelShown;
              });
              uimanager.onControlsHide.subscribe(function () {
                _this.hide();
              });
            };
            return ControlBar;
          })(container_1.Container);
          exports.ControlBar = ControlBar;
        },
        {
          "../browserutils": 3,
          "../localization/i18n": 91,
          "../uiutils": 117,
          "./container": 19,
          "./settingspanel": 45,
          "./spacer": 52,
        },
      ],
      21: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.EcoModeContainer = void 0;
          var i18n_1 = require("../localization/i18n");
          var container_1 = require("./container");
          var ecomodetogglebutton_1 = require("./ecomodetogglebutton");
          var label_1 = require("./label");
          var settingspanelitem_1 = require("./settingspanelitem");
          /**
           * @category Containers
           */
          var EcoModeContainer = /** @class */ (function (_super) {
            __extends(EcoModeContainer, _super);
            function EcoModeContainer(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.savedEmissons = 0;
              var ecoModeToggleButton =
                new ecomodetogglebutton_1.EcoModeToggleButton();
              var labelEcoMode = new label_1.Label({
                text: i18n_1.i18n.getLocalizer("ecoMode.title"),
                for: ecoModeToggleButton.getConfig().id,
                id: "ecomodelabel",
              });
              _this.emissionsSavedLabel = new label_1.Label({
                text: "".concat(_this.savedEmissons.toFixed(4), " gCO2"),
                cssClass: "ui-label-savedEnergy",
              });
              _this.ecoModeToggleButtonItem =
                new settingspanelitem_1.SettingsPanelItem(
                  labelEcoMode,
                  ecoModeToggleButton
                );
              _this.ecoModeSavedEmissionsItem =
                new settingspanelitem_1.SettingsPanelItem(
                  "Saved Emissions",
                  _this.emissionsSavedLabel,
                  {
                    hidden: true,
                  }
                );
              _this.addComponent(_this.ecoModeToggleButtonItem);
              _this.addComponent(_this.ecoModeSavedEmissionsItem);
              ecoModeToggleButton.onToggleOn.subscribe(function () {
                _this.ecoModeSavedEmissionsItem.show();
                _this.onToggleCallback();
              });
              ecoModeToggleButton.onToggleOff.subscribe(function () {
                _this.ecoModeSavedEmissionsItem.hide();
                _this.onToggleCallback();
              });
              return _this;
            }
            EcoModeContainer.prototype.setOnToggleCallback = function (
              callback
            ) {
              this.onToggleCallback = callback;
            };
            EcoModeContainer.prototype.configure = function (player) {
              var _this = this;
              player.on(
                player.exports.PlayerEvent.SegmentPlayback,
                function (segment) {
                  if (!segment.mimeType.includes("video")) {
                    return;
                  }
                  var _a = segment.mediaInfo,
                    height = _a.height,
                    width = _a.width,
                    bitrate = _a.bitrate,
                    frameRate = _a.frameRate;
                  var _b = _this.getMaxQualityAvailable(
                      player.getAvailableVideoQualities()
                    ),
                    maxHeight = _b.height,
                    maxBitrate = _b.bitrate,
                    maxWidth = _b.width;
                  var currentEnergyKwh = _this.calculateEnergyConsumption(
                    frameRate,
                    height,
                    width,
                    bitrate,
                    segment.duration
                  );
                  var maxEnergyKwh = _this.calculateEnergyConsumption(
                    frameRate,
                    maxHeight,
                    maxWidth,
                    maxBitrate,
                    segment.duration
                  );
                  if (_this.ecoModeSavedEmissionsItem.isShown()) {
                    _this.updateSavedEmissions(
                      currentEnergyKwh,
                      maxEnergyKwh,
                      _this.emissionsSavedLabel
                    );
                  }
                }
              );
            };
            EcoModeContainer.prototype.updateSavedEmissions = function (
              currentEnergyConsuption,
              maxEnergyConsuption,
              emissionsSavedLabel
            ) {
              // 475 is the average carbon intensity of all countries in gCO2/kWh
              var averageCarbonIntensity = 475;
              this.currentEnergyEmission =
                currentEnergyConsuption * averageCarbonIntensity;
              var maxEnergyEmisson =
                maxEnergyConsuption * averageCarbonIntensity;
              this.savedEmissons +=
                maxEnergyEmisson - this.currentEnergyEmission;
              emissionsSavedLabel.setText(
                this.savedEmissons.toFixed(4) + " gCO2"
              );
            };
            /**
             * The calculations are based on the following paper: https://arxiv.org/pdf/2210.05444.pdf
             */
            EcoModeContainer.prototype.calculateEnergyConsumption = function (
              fps,
              height,
              width,
              bitrate,
              duration
            ) {
              var fpsWeight = 0.035;
              var pixeldWeight = 5.76e-9;
              var birateWeight = 6.97e-6;
              var constantOffset = 8.52;
              var bitrateInternetWeight = 3.24e-5;
              var internetConnectionOffset = 1.15;
              var videoCodec = 4.16;
              var energyConsumptionW =
                fpsWeight * fps +
                pixeldWeight * height * width +
                (birateWeight + bitrateInternetWeight) * (bitrate / 1000) +
                videoCodec +
                constantOffset +
                internetConnectionOffset;
              // Convert energy consumption from Watts (W) to Kilowatt-hours (kWh) for the given time duration of the segment
              var energyConsumptionKwh =
                (energyConsumptionW * duration) / 3.6e6;
              return energyConsumptionKwh;
            };
            EcoModeContainer.prototype.getMaxQualityAvailable = function (
              availableVideoQualities
            ) {
              var sortedQualities = availableVideoQualities.sort(function (
                a,
                b
              ) {
                return a.bitrate - b.bitrate;
              });
              return sortedQualities[sortedQualities.length - 1];
            };
            return EcoModeContainer;
          })(container_1.Container);
          exports.EcoModeContainer = EcoModeContainer;
        },
        {
          "../localization/i18n": 91,
          "./container": 19,
          "./ecomodetogglebutton": 22,
          "./label": 28,
          "./settingspanelitem": 46,
        },
      ],
      22: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.EcoModeToggleButton = void 0;
          var togglebutton_1 = require("./togglebutton");
          var i18n_1 = require("../localization/i18n");
          /**
           * @category Buttons
           */
          var EcoModeToggleButton = /** @class */ (function (_super) {
            __extends(EcoModeToggleButton, _super);
            function EcoModeToggleButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              var defaultConfig = {
                text: i18n_1.i18n.getLocalizer("ecoMode"),
                cssClass: "ui-ecomodetogglebutton",
                onClass: "on",
                offClass: "off",
                ariaLabel: i18n_1.i18n.getLocalizer("ecoMode"),
              };
              _this.config = _this.mergeConfig(
                config,
                defaultConfig,
                _this.config
              );
              return _this;
            }
            EcoModeToggleButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              if (this.areAdaptationApisAvailable(player)) {
                this.onClick.subscribe(function () {
                  _this.toggle();
                });
                this.onToggleOn.subscribe(function () {
                  _this.enableEcoMode(player);
                  player.setVideoQuality("auto");
                });
                this.onToggleOff.subscribe(function () {
                  _this.disableEcoMode(player);
                });
                player.on(
                  player.exports.PlayerEvent.VideoQualityChanged,
                  function (quality) {
                    if (quality.targetQuality.id !== "auto") {
                      _this.off();
                      _this.disableEcoMode(player);
                    }
                  }
                );
              } else {
                _super.prototype.disable.call(this);
              }
            };
            EcoModeToggleButton.prototype.areAdaptationApisAvailable =
              function (player) {
                var isGetConfigAvailable = Boolean(
                  player.adaptation.getConfig &&
                    typeof player.adaptation.getConfig === "function"
                );
                var isSetConfigAvailable = Boolean(
                  player.adaptation.setConfig &&
                    typeof player.adaptation.setConfig === "function"
                );
                return Boolean(
                  player.adaptation &&
                    isGetConfigAvailable &&
                    isSetConfigAvailable
                );
              };
            EcoModeToggleButton.prototype.enableEcoMode = function (player) {
              this.adaptationConfig = player.adaptation.getConfig();
              var codec = player.getAvailableVideoQualities()[0].codec;
              if (codec.includes("avc")) {
                player.adaptation.setConfig({
                  resolution: { maxSelectableVideoHeight: 720 },
                  limitToPlayerSize: true,
                });
              }
              if (codec.includes("hvc") || codec.includes("hev")) {
                player.adaptation.setConfig({
                  resolution: { maxSelectableVideoHeight: 1080 },
                  limitToPlayerSize: true,
                });
              }
              if (codec.includes("av1") || codec.includes("av01")) {
                player.adaptation.setConfig({
                  resolution: { maxSelectableVideoHeight: 1440 },
                  limitToPlayerSize: true,
                });
              }
            };
            EcoModeToggleButton.prototype.disableEcoMode = function (player) {
              player.adaptation.setConfig(this.adaptationConfig);
            };
            return EcoModeToggleButton;
          })(togglebutton_1.ToggleButton);
          exports.EcoModeToggleButton = EcoModeToggleButton;
        },
        { "../localization/i18n": 91, "./togglebutton": 74 },
      ],
      23: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ErrorMessageOverlay = void 0;
          var container_1 = require("./container");
          var label_1 = require("./label");
          var tvnoisecanvas_1 = require("./tvnoisecanvas");
          var errorutils_1 = require("../errorutils");
          var mobilev3playerapi_1 = require("../mobilev3playerapi");
          /**
           * Overlays the player and displays error messages.
           *
           * @category Components
           */
          var ErrorMessageOverlay = /** @class */ (function (_super) {
            __extends(ErrorMessageOverlay, _super);
            function ErrorMessageOverlay(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.errorLabel = new label_1.Label({
                cssClass: "ui-errormessage-label",
              });
              _this.tvNoiseBackground = new tvnoisecanvas_1.TvNoiseCanvas();
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-errormessage-overlay",
                  components: [_this.tvNoiseBackground, _this.errorLabel],
                  hidden: true,
                },
                _this.config
              );
              return _this;
            }
            ErrorMessageOverlay.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              var handleErrorMessage = function (event, message) {
                var customizedMessage = customizeErrorMessage(
                  uimanager.getConfig().errorMessages || config.messages,
                  event
                );
                if (customizedMessage) {
                  message = customizedMessage;
                }
                _this.display(message);
              };
              if ((0, mobilev3playerapi_1.isMobileV3PlayerAPI)(player)) {
                var errorEventHandler = function (event) {
                  var message =
                    errorutils_1.ErrorUtils.defaultMobileV3ErrorMessageTranslator(
                      event
                    );
                  handleErrorMessage(event, message);
                };
                player.on(
                  mobilev3playerapi_1.MobileV3PlayerEvent.PlayerError,
                  errorEventHandler
                );
                player.on(
                  mobilev3playerapi_1.MobileV3PlayerEvent.SourceError,
                  errorEventHandler
                );
              } else {
                player.on(player.exports.PlayerEvent.Error, function (event) {
                  var message =
                    errorutils_1.ErrorUtils.defaultWebErrorMessageTranslator(
                      event
                    );
                  handleErrorMessage(event, message);
                });
              }
              player.on(
                player.exports.PlayerEvent.SourceLoaded,
                function (event) {
                  if (_this.isShown()) {
                    _this.tvNoiseBackground.stop();
                    _this.hide();
                  }
                }
              );
            };
            ErrorMessageOverlay.prototype.display = function (errorMessage) {
              this.errorLabel.setText(errorMessage);
              this.tvNoiseBackground.start();
              this.show();
            };
            ErrorMessageOverlay.prototype.release = function () {
              _super.prototype.release.call(this);
              // Canvas rendering must be explicitly stopped, else it just continues forever and hogs resources
              this.tvNoiseBackground.stop();
            };
            return ErrorMessageOverlay;
          })(container_1.Container);
          exports.ErrorMessageOverlay = ErrorMessageOverlay;
          function customizeErrorMessage(errorMessages, event) {
            if (!errorMessages) {
              return undefined;
            }
            // Process message vocabularies
            if (typeof errorMessages === "function") {
              // Translation function for all errors
              return errorMessages(event);
            }
            if (errorMessages[event.code]) {
              // It's not a translation function, so it must be a map of strings or translation functions
              var customMessage = errorMessages[event.code];
              return typeof customMessage === "string"
                ? customMessage
                : customMessage(event);
            }
          }
        },
        {
          "../errorutils": 85,
          "../mobilev3playerapi": 97,
          "./container": 19,
          "./label": 28,
          "./tvnoisecanvas": 75,
        },
      ],
      24: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.FullscreenToggleButton = void 0;
          var togglebutton_1 = require("./togglebutton");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button that toggles the player between windowed and fullscreen view.
           *
           * @category Buttons
           */
          var FullscreenToggleButton = /** @class */ (function (_super) {
            __extends(FullscreenToggleButton, _super);
            function FullscreenToggleButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-fullscreentogglebutton",
                  text: i18n_1.i18n.getLocalizer("fullscreen"),
                },
                _this.config
              );
              return _this;
            }
            FullscreenToggleButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var isFullScreenAvailable = function () {
                return player.isViewModeAvailable(
                  player.exports.ViewMode.Fullscreen
                );
              };
              var fullscreenStateHandler = function () {
                player.getViewMode() === player.exports.ViewMode.Fullscreen
                  ? _this.on()
                  : _this.off();
              };
              var fullscreenAvailabilityChangedHandler = function () {
                isFullScreenAvailable() ? _this.show() : _this.hide();
              };
              player.on(
                player.exports.PlayerEvent.ViewModeChanged,
                fullscreenStateHandler
              );
              // Available only in our native SDKs for now
              if (player.exports.PlayerEvent.ViewModeAvailabilityChanged) {
                player.on(
                  player.exports.PlayerEvent.ViewModeAvailabilityChanged,
                  fullscreenAvailabilityChangedHandler
                );
              }
              uimanager
                .getConfig()
                .events.onUpdated.subscribe(
                  fullscreenAvailabilityChangedHandler
                );
              this.onClick.subscribe(function () {
                if (!isFullScreenAvailable()) {
                  if (console) {
                    console.log("Fullscreen unavailable");
                  }
                  return;
                }
                var targetViewMode =
                  player.getViewMode() === player.exports.ViewMode.Fullscreen
                    ? player.exports.ViewMode.Inline
                    : player.exports.ViewMode.Fullscreen;
                player.setViewMode(targetViewMode);
              });
              // Startup init
              fullscreenAvailabilityChangedHandler();
              fullscreenStateHandler();
            };
            return FullscreenToggleButton;
          })(togglebutton_1.ToggleButton);
          exports.FullscreenToggleButton = FullscreenToggleButton;
        },
        { "../localization/i18n": 91, "./togglebutton": 74 },
      ],
      25: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.HugePlaybackToggleButton = void 0;
          var playbacktogglebutton_1 = require("./playbacktogglebutton");
          var dom_1 = require("../dom");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button that overlays the video and toggles between playback and pause.
           *
           * @category Buttons
           */
          var HugePlaybackToggleButton = /** @class */ (function (_super) {
            __extends(HugePlaybackToggleButton, _super);
            function HugePlaybackToggleButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-hugeplaybacktogglebutton",
                  text: i18n_1.i18n.getLocalizer("playPause"),
                  role: "button",
                },
                _this.config
              );
              return _this;
            }
            HugePlaybackToggleButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              // Update button state through API events
              _super.prototype.configure.call(this, player, uimanager, false);
              // Set enterFullscreenOnInitialPlayback if set in the uimanager config
              if (
                typeof uimanager.getConfig()
                  .enterFullscreenOnInitialPlayback === "boolean"
              ) {
                this.config.enterFullscreenOnInitialPlayback =
                  uimanager.getConfig().enterFullscreenOnInitialPlayback;
              }
              var togglePlayback = function () {
                if (player.isPlaying() || _this.isPlayInitiated) {
                  player.pause("ui");
                } else {
                  player.play("ui");
                }
              };
              console.log(player);
              var toggleFullscreen = function () {
                if (
                  player.getViewMode() === player.exports.ViewMode.Fullscreen
                ) {
                  player.setViewMode(player.exports.ViewMode.Inline);
                } else {
                  player.setViewMode(player.exports.ViewMode.Fullscreen);
                }
              };
              var firstPlay = true;
              var clickTime = 0;
              var doubleClickTime = 0;
              /*
               * YouTube-style toggle button handling
               *
               * The goal is to prevent a short pause or playback interval between a click, that toggles playback, and a
               * double click, that toggles fullscreen. In this naive approach, the first click would e.g. start playback,
               * the second click would be detected as double click and toggle to fullscreen, and as second normal click stop
               * playback, which results is a short playback interval with max length of the double click detection
               * period (usually 500ms).
               *
               * To solve this issue, we defer handling of the first click for 200ms, which is almost unnoticeable to the user,
               * and just toggle playback if no second click (double click) has been registered during this period. If a double
               * click is registered, we just toggle the fullscreen. In the first 200ms, undesired playback changes thus cannot
               * happen. If a double click is registered within 500ms, we undo the playback change and switch fullscreen mode.
               * In the end, this method basically introduces a 200ms observing interval in which playback changes are prevented
               * if a double click happens.
               */
              this.onClick.subscribe(function () {
                // Directly start playback on first click of the button.
                // This is a required workaround for mobile browsers where video playback needs to be triggered directly
                // by the user. A deferred playback start through the timeout below is not considered as user action and
                // therefore ignored by mobile browsers.
                if (firstPlay) {
                  // Try to start playback. Then we wait for Play and only when it arrives, we disable the firstPlay flag.
                  // If we disable the flag here, onClick was triggered programmatically instead of by a user interaction, and
                  // playback is blocked (e.g. on mobile devices due to the programmatic play() call), we loose the chance to
                  // ever start playback through a user interaction again with this button.
                  togglePlayback();
                  if (_this.config.enterFullscreenOnInitialPlayback) {
                    player.setViewMode(player.exports.ViewMode.Fullscreen);
                  }
                  return;
                }
                var now = Date.now();
                if (now - clickTime < 200) {
                  // We have a double click inside the 200ms interval, just toggle fullscreen mode
                  toggleFullscreen();
                  doubleClickTime = now;
                  return;
                } else if (now - clickTime < 500) {
                  // We have a double click inside the 500ms interval, undo playback toggle and toggle fullscreen mode
                  toggleFullscreen();
                  togglePlayback();
                  doubleClickTime = now;
                  return;
                }
                clickTime = now;
                setTimeout(function () {
                  if (Date.now() - doubleClickTime > 200) {
                    // No double click detected, so we toggle playback and wait what happens next
                    togglePlayback();
                  }
                }, 200);
              });
              player.on(player.exports.PlayerEvent.Play, function () {
                // Playback has really started, we can disable the flag to switch to normal toggle button handling
                firstPlay = false;
              });
              player.on(player.exports.PlayerEvent.Warning, function (event) {
                if (
                  event.code ===
                  player.exports.WarningCode.PLAYBACK_COULD_NOT_BE_STARTED
                ) {
                  // if playback could not be started, reset the first play flag as we need the user interaction to start
                  firstPlay = true;
                }
              });
              var suppressPlayButtonTransitionAnimation = function () {
                // Disable the current animation
                _this.setTransitionAnimationsEnabled(false);
                // Enable the transition animations for the next state change
                _this.onToggle.subscribeOnce(function () {
                  _this.setTransitionAnimationsEnabled(true);
                });
              };
              // Hide the play button animation when the UI is loaded (it should only be animated on state changes)
              suppressPlayButtonTransitionAnimation();
              var isAutoplayEnabled =
                player.getConfig().playback &&
                Boolean(player.getConfig().playback.autoplay);
              // We only know if an autoplay attempt is upcoming if the player is not yet ready. It the player is already ready,
              // the attempt might be upcoming or might have already happened, but we don't have to handle that because we can
              // simply rely on isPlaying and the play state events.
              var isAutoplayUpcoming = !player.getSource() && isAutoplayEnabled;
              // Hide the play button when the player is already playing or autoplay is upcoming
              if (player.isPlaying() || isAutoplayUpcoming) {
                // Hide the play button (switch to playing state)
                this.on();
                // Disable the animation of the playing state switch
                suppressPlayButtonTransitionAnimation();
                // Show the play button without an animation if a play attempt is blocked
                player.on(player.exports.PlayerEvent.Warning, function (event) {
                  if (
                    event.code ===
                    player.exports.WarningCode.PLAYBACK_COULD_NOT_BE_STARTED
                  ) {
                    suppressPlayButtonTransitionAnimation();
                  }
                });
              }
            };
            HugePlaybackToggleButton.prototype.toDomElement = function () {
              var buttonElement = _super.prototype.toDomElement.call(this);
              // Add child that contains the play button image
              // Setting the image directly on the button does not work together with scaling animations, because the button
              // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
              // to the size if the image, it can scale inside the player without overshooting.
              buttonElement.append(
                new dom_1.DOM("div", {
                  class: this.prefixCss("image"),
                })
              );
              return buttonElement;
            };
            /**
             * Enables or disables the play state transition animations of the play button image. Can be used to suppress
             * animations.
             * @param {boolean} enabled true to enable the animations (default), false to disable them
             */
            HugePlaybackToggleButton.prototype.setTransitionAnimationsEnabled =
              function (enabled) {
                var noTransitionAnimationsClass = this.prefixCss(
                  "no-transition-animations"
                );
                if (enabled) {
                  this.getDomElement().removeClass(noTransitionAnimationsClass);
                } else if (
                  !this.getDomElement().hasClass(noTransitionAnimationsClass)
                ) {
                  this.getDomElement().addClass(noTransitionAnimationsClass);
                }
              };
            return HugePlaybackToggleButton;
          })(playbacktogglebutton_1.PlaybackToggleButton);
          exports.HugePlaybackToggleButton = HugePlaybackToggleButton;
        },
        {
          "../dom": 84,
          "../localization/i18n": 91,
          "./playbacktogglebutton": 35,
        },
      ],
      26: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.HugeReplayButton = void 0;
          var button_1 = require("./button");
          var dom_1 = require("../dom");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button to play/replay a video.
           *
           * @category Buttons
           */
          var HugeReplayButton = /** @class */ (function (_super) {
            __extends(HugeReplayButton, _super);
            function HugeReplayButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-hugereplaybutton",
                  text: i18n_1.i18n.getLocalizer("replay"),
                },
                _this.config
              );
              return _this;
            }
            HugeReplayButton.prototype.configure = function (
              player,
              uimanager
            ) {
              _super.prototype.configure.call(this, player, uimanager);
              this.onClick.subscribe(function () {
                player.play("ui");
              });
            };
            HugeReplayButton.prototype.toDomElement = function () {
              var buttonElement = _super.prototype.toDomElement.call(this);
              // Add child that contains the play button image
              // Setting the image directly on the button does not work together with scaling animations, because the button
              // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
              // to the size if the image, it can scale inside the player without overshooting.
              buttonElement.append(
                new dom_1.DOM("div", {
                  class: this.prefixCss("image"),
                })
              );
              return buttonElement;
            };
            return HugeReplayButton;
          })(button_1.Button);
          exports.HugeReplayButton = HugeReplayButton;
        },
        { "../dom": 84, "../localization/i18n": 91, "./button": 12 },
      ],
      27: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ItemSelectionList = void 0;
          var listselector_1 = require("./listselector");
          var dom_1 = require("../dom");
          var i18n_1 = require("../localization/i18n");
          /**
           * @category Components
           */
          var ItemSelectionList = /** @class */ (function (_super) {
            __extends(ItemSelectionList, _super);
            function ItemSelectionList(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  tag: "ul",
                  cssClass: "ui-itemselectionlist",
                },
                _this.config
              );
              return _this;
            }
            ItemSelectionList.prototype.isActive = function () {
              return this.items.length > 1;
            };
            ItemSelectionList.prototype.toDomElement = function () {
              var listElement = new dom_1.DOM(
                "ul",
                {
                  id: this.config.id,
                  class: this.getCssClasses(),
                },
                this
              );
              this.listElement = listElement;
              this.updateDomItems();
              return listElement;
            };
            ItemSelectionList.prototype.updateDomItems = function (
              selectedValue
            ) {
              var _this = this;
              if (selectedValue === void 0) {
                selectedValue = null;
              }
              // Delete all children
              this.listElement.empty();
              var selectedListItem = null;
              var selectItem = function (listItem) {
                listItem.addClass(
                  _this.prefixCss(ItemSelectionList.CLASS_SELECTED)
                );
              };
              var deselectItem = function (listItem) {
                listItem.removeClass(
                  _this.prefixCss(ItemSelectionList.CLASS_SELECTED)
                );
              };
              var _loop_1 = function (item) {
                var listItem = new dom_1.DOM("li", {
                  type: "li",
                  class: this_1.prefixCss("ui-selectionlistitem"),
                }).append(
                  new dom_1.DOM("a", {}).html(
                    i18n_1.i18n.performLocalization(item.label)
                  )
                );
                if (!selectedListItem) {
                  if (selectedValue == null) {
                    // If there is no pre-selected value, select the first one
                    selectedListItem = listItem;
                  } else if (String(selectedValue) === item.key) {
                    // convert selectedValue to string to catch 'null'/null case
                    selectedListItem = listItem;
                  }
                }
                // Handle list item selections
                listItem.on("click", function () {
                  // Deselect the previous item (if there was a selected item)
                  if (selectedListItem) {
                    deselectItem(selectedListItem);
                  }
                  // Select the clicked item
                  selectedListItem = listItem;
                  selectItem(listItem);
                  // Fire the event
                  _this.onItemSelectedEvent(item.key, false);
                });
                // Select default item
                if (selectedListItem) {
                  selectItem(selectedListItem);
                }
                this_1.listElement.append(listItem);
              };
              var this_1 = this;
              for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
                var item = _a[_i];
                _loop_1(item);
              }
            };
            ItemSelectionList.prototype.onItemAddedEvent = function (value) {
              _super.prototype.onItemAddedEvent.call(this, value);
              this.updateDomItems(this.selectedItem);
            };
            ItemSelectionList.prototype.onItemRemovedEvent = function (value) {
              _super.prototype.onItemRemovedEvent.call(this, value);
              this.updateDomItems(this.selectedItem);
            };
            ItemSelectionList.prototype.onItemSelectedEvent = function (
              value,
              updateDomItems
            ) {
              if (updateDomItems === void 0) {
                updateDomItems = true;
              }
              _super.prototype.onItemSelectedEvent.call(this, value);
              if (updateDomItems) {
                this.updateDomItems(value);
              }
            };
            ItemSelectionList.CLASS_SELECTED = "selected";
            return ItemSelectionList;
          })(listselector_1.ListSelector);
          exports.ItemSelectionList = ItemSelectionList;
        },
        { "../dom": 84, "../localization/i18n": 91, "./listselector": 30 },
      ],
      28: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.Label = void 0;
          var component_1 = require("./component");
          var dom_1 = require("../dom");
          var eventdispatcher_1 = require("../eventdispatcher");
          var i18n_1 = require("../localization/i18n");
          /**
           * A simple text label.
           *
           * DOM example:
           * <code>
           *     <span class='ui-label'>...some text...</span>
           * </code>
           *
           * @category Components
           */
          var Label = /** @class */ (function (_super) {
            __extends(Label, _super);
            function Label(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.labelEvents = {
                onClick: new eventdispatcher_1.EventDispatcher(),
                onTextChanged: new eventdispatcher_1.EventDispatcher(),
              };
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-label",
                },
                _this.config
              );
              _this.text = _this.config.text;
              return _this;
            }
            Label.prototype.toDomElement = function () {
              var _this = this;
              var tagName = this.config.for != null ? "label" : "span";
              var labelElement = new dom_1.DOM(
                tagName,
                {
                  id: this.config.id,
                  for: this.config.for,
                  class: this.getCssClasses(),
                },
                this
              ).html(i18n_1.i18n.performLocalization(this.text));
              labelElement.on("click", function () {
                _this.onClickEvent();
              });
              return labelElement;
            };
            /**
             * Set the text on this label.
             * @param text
             */
            Label.prototype.setText = function (text) {
              if (text === this.text) {
                return;
              }
              this.text = text;
              var localizedText = i18n_1.i18n.performLocalization(text);
              this.getDomElement().html(localizedText);
              this.onTextChangedEvent(localizedText);
            };
            /**
             * Gets the text on this label.
             * @return {string} The text on the label
             */
            Label.prototype.getText = function () {
              return i18n_1.i18n.performLocalization(this.text);
            };
            /**
             * Clears the text on this label.
             */
            Label.prototype.clearText = function () {
              this.getDomElement().html("");
              this.onTextChangedEvent(null);
            };
            /**
             * Tests if the label is empty and does not contain any text.
             * @return {boolean} True if the label is empty, else false
             */
            Label.prototype.isEmpty = function () {
              return !this.text;
            };
            /**
             * Fires the {@link #onClick} event.
             * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
             * and calling the super method.
             */
            Label.prototype.onClickEvent = function () {
              this.labelEvents.onClick.dispatch(this);
            };
            /**
             * Fires the {@link #onClick} event.
             * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
             * and calling the super method.
             */
            Label.prototype.onTextChangedEvent = function (text) {
              this.labelEvents.onTextChanged.dispatch(this, text);
            };
            Object.defineProperty(Label.prototype, "onClick", {
              /**
               * Gets the event that is fired when the label is clicked.
               * @returns {Event<Label<LabelConfig>, NoArgs>}
               */
              get: function () {
                return this.labelEvents.onClick.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(Label.prototype, "onTextChanged", {
              /**
               * Gets the event that is fired when the text on the label is changed.
               * @returns {Event<Label<LabelConfig>, string>}
               */
              get: function () {
                return this.labelEvents.onTextChanged.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            return Label;
          })(component_1.Component);
          exports.Label = Label;
        },
        {
          "../dom": 84,
          "../eventdispatcher": 86,
          "../localization/i18n": 91,
          "./component": 18,
        },
      ],
      29: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ListBox = void 0;
          var togglebutton_1 = require("./togglebutton");
          var listselector_1 = require("./listselector");
          var dom_1 = require("../dom");
          var arrayutils_1 = require("../arrayutils");
          /**
           * A element to select a single item out of a list of available items.
           *
           * DOM example:
           * <code>
           *   <div class='ui-listbox'>
           *     <button class='ui-listbox-button'>label</button>
           *     ...
           *   </div
           * </code>
           *
           * @category Components
           */
          // TODO: change ListSelector to extends container in v4 to improve usage of ListBox.
          //       Currently we are creating the dom element of the list box with child elements manually here.
          //       But this functionality is already covered within the Container component.
          var ListBox = /** @class */ (function (_super) {
            __extends(ListBox, _super);
            function ListBox(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.components = [];
              _this.removeListBoxDomItem = function (_, key) {
                var component = _this.getComponentForKey(key);
                if (component) {
                  component.getDomElement().remove();
                  arrayutils_1.ArrayUtils.remove(_this.components, component);
                }
              };
              _this.addListBoxDomItem = function (_, key) {
                var component = _this.getComponentForKey(key);
                var newItem = _this.getItemForKey(key);
                if (component) {
                  // Update existing component
                  component.setText(newItem.label);
                } else {
                  var listBoxItemButton_1 =
                    _this.buildListBoxItemButton(newItem);
                  listBoxItemButton_1.onClick.subscribe(function () {
                    _this.handleSelectionChange(listBoxItemButton_1);
                  });
                  _this.components.push(listBoxItemButton_1);
                  _this.listBoxElement.append(
                    listBoxItemButton_1.getDomElement()
                  );
                }
              };
              _this.refreshSelectedItem = function () {
                // This gets called twice because the first time is triggered when the user clicks on the ListBoxItemButton. And the
                // second call comes from the player event when the actual item is selected (Subtitle / AudioTrack in this case).
                // As this is a generic component we can't prohibit this behaviour. We need to treat this component as it acts
                // independent from PlayerEvents and on the other hand we need to react to PlayerEvents as it could be triggered
                // from outside.
                for (var _i = 0, _a = _this.items; _i < _a.length; _i++) {
                  var item = _a[_i];
                  var component = _this.getComponentForKey(item.key);
                  if (component) {
                    String(component.key) === String(_this.selectedItem)
                      ? component.on()
                      : component.off();
                  }
                }
              };
              _this.handleSelectionChange = function (sender) {
                _this.onItemSelectedEvent(sender.key);
              };
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-listbox",
                },
                _this.config
              );
              return _this;
            }
            ListBox.prototype.configure = function (player, uimanager) {
              // Subscribe before super call to receive initial events
              this.onItemAdded.subscribe(this.addListBoxDomItem);
              this.onItemRemoved.subscribe(this.removeListBoxDomItem);
              this.onItemSelected.subscribe(this.refreshSelectedItem);
              _super.prototype.configure.call(this, player, uimanager);
            };
            ListBox.prototype.toDomElement = function () {
              var listBoxElement = new dom_1.DOM(
                "div",
                {
                  id: this.config.id,
                  class: this.getCssClasses(),
                },
                this
              );
              this.listBoxElement = listBoxElement;
              this.createListBoxDomItems();
              this.refreshSelectedItem();
              return listBoxElement;
            };
            ListBox.prototype.createListBoxDomItems = function () {
              // Delete all children
              this.listBoxElement.empty();
              this.components = [];
              // Add updated children
              for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
                var item = _a[_i];
                this.addListBoxDomItem(this, item.key);
              }
            };
            ListBox.prototype.buildListBoxItemButton = function (listItem) {
              return new ListBoxItemButton({
                key: listItem.key,
                text: listItem.label,
                ariaLabel: listItem.ariaLabel,
              });
            };
            ListBox.prototype.getComponentForKey = function (key) {
              return this.components.find(function (c) {
                return key === c.key;
              });
            };
            return ListBox;
          })(listselector_1.ListSelector);
          exports.ListBox = ListBox;
          var ListBoxItemButton = /** @class */ (function (_super) {
            __extends(ListBoxItemButton, _super);
            function ListBoxItemButton(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-listbox-button",
                  onClass: "selected",
                  offClass: "",
                },
                _this.config
              );
              return _this;
            }
            Object.defineProperty(ListBoxItemButton.prototype, "key", {
              get: function () {
                return this.config.key;
              },
              enumerable: false,
              configurable: true,
            });
            return ListBoxItemButton;
          })(togglebutton_1.ToggleButton);
        },
        {
          "../arrayutils": 1,
          "../dom": 84,
          "./listselector": 30,
          "./togglebutton": 74,
        },
      ],
      30: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          var __assign =
            (this && this.__assign) ||
            function () {
              __assign =
                Object.assign ||
                function (t) {
                  for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s)
                      if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
                  }
                  return t;
                };
              return __assign.apply(this, arguments);
            };
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ListSelector = void 0;
          var component_1 = require("./component");
          var eventdispatcher_1 = require("../eventdispatcher");
          var arrayutils_1 = require("../arrayutils");
          var i18n_1 = require("../localization/i18n");
          var ListSelector = /** @class */ (function (_super) {
            __extends(ListSelector, _super);
            function ListSelector(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.listSelectorEvents = {
                onItemAdded: new eventdispatcher_1.EventDispatcher(),
                onItemRemoved: new eventdispatcher_1.EventDispatcher(),
                onItemSelected: new eventdispatcher_1.EventDispatcher(),
              };
              _this.config = _this.mergeConfig(
                config,
                {
                  items: [],
                  cssClass: "ui-listselector",
                },
                _this.config
              );
              _this.items = _this.config.items;
              return _this;
            }
            ListSelector.prototype.getItemIndex = function (key) {
              for (var i = 0; i < this.items.length; i++) {
                if (this.items[i].key === key) {
                  return i;
                }
              }
              return -1;
            };
            /**
             * Returns all current items of this selector.
             * * @returns {ListItem[]}
             */
            ListSelector.prototype.getItems = function () {
              return this.items;
            };
            /**
             * Checks if the specified item is part of this selector.
             * @param key the key of the item to check
             * @returns {boolean} true if the item is part of this selector, else false
             */
            ListSelector.prototype.hasItem = function (key) {
              return this.getItemIndex(key) > -1;
            };
            /**
             * Adds an item to this selector by doing a sorted insert or by appending the element to the end of the list of items.
             * If an item with the specified key already exists, it is replaced.
             * @param key the key of the item to add
             * @param label the (human-readable) label of the item to add
             * @param sortedInsert whether the item should be added respecting the order of keys
             * @param ariaLabel custom aria label for the listItem
             */
            ListSelector.prototype.addItem = function (
              key,
              label,
              sortedInsert,
              ariaLabel
            ) {
              if (sortedInsert === void 0) {
                sortedInsert = false;
              }
              if (ariaLabel === void 0) {
                ariaLabel = "";
              }
              var listItem = __assign(
                { key: key, label: i18n_1.i18n.performLocalization(label) },
                ariaLabel && { ariaLabel: ariaLabel }
              );
              // Apply filter function
              if (this.config.filter && !this.config.filter(listItem)) {
                return;
              }
              // Apply translator function
              if (this.config.translator) {
                listItem.label = this.config.translator(listItem);
              }
              // Try to remove key first to get overwrite behavior and avoid duplicate keys
              this.removeItem(key); // This will trigger an ItemRemoved and an ItemAdded event
              // Add the item to the list
              if (sortedInsert) {
                var index = this.items.findIndex(function (entry) {
                  return entry.key > key;
                });
                if (index < 0) {
                  this.items.push(listItem);
                } else {
                  this.items.splice(index, 0, listItem);
                }
              } else {
                this.items.push(listItem);
              }
              this.onItemAddedEvent(key);
            };
            /**
             * Removes an item from this selector.
             * @param key the key of the item to remove
             * @returns {boolean} true if removal was successful, false if the item is not part of this selector
             */
            ListSelector.prototype.removeItem = function (key) {
              var index = this.getItemIndex(key);
              if (index > -1) {
                arrayutils_1.ArrayUtils.remove(this.items, this.items[index]);
                this.onItemRemovedEvent(key);
                return true;
              }
              return false;
            };
            /**
             * Selects an item from the items in this selector.
             * @param key the key of the item to select
             * @returns {boolean} true is the selection was successful, false if the selected item is not part of the selector
             */
            ListSelector.prototype.selectItem = function (key) {
              if (key === this.selectedItem) {
                // itemConfig is already selected, suppress any further action
                return true;
              }
              var index = this.getItemIndex(key);
              if (index > -1) {
                this.selectedItem = key;
                this.onItemSelectedEvent(key);
                return true;
              }
              return false;
            };
            /**
             * Returns the key of the selected item.
             * @returns {string} the key of the selected item or null if no item is selected
             */
            ListSelector.prototype.getSelectedItem = function () {
              return this.selectedItem;
            };
            /**
             * Returns the items for the given key or undefined if no item with the given key exists.
             * @param key the key of the item to return
             * @returns {ListItem} the item with the requested key. Undefined if no item with the given key exists.
             */
            ListSelector.prototype.getItemForKey = function (key) {
              return this.items.find(function (item) {
                return item.key === key;
              });
            };
            /**
             * Synchronize the current items of this selector with the given ones. This will remove and add items selectively.
             * For each removed item the ItemRemovedEvent and for each added item the ItemAddedEvent will be triggered. Favour
             * this method over using clearItems and adding all items again afterwards.
             * @param newItems
             */
            ListSelector.prototype.synchronizeItems = function (newItems) {
              var _this = this;
              newItems
                .filter(function (item) {
                  return !_this.hasItem(item.key);
                })
                .forEach(function (item) {
                  return _this.addItem(
                    item.key,
                    item.label,
                    item.sortedInsert,
                    item.ariaLabel
                  );
                });
              this.items
                .filter(function (item) {
                  return (
                    newItems.filter(function (i) {
                      return i.key === item.key;
                    }).length === 0
                  );
                })
                .forEach(function (item) {
                  return _this.removeItem(item.key);
                });
            };
            /**
             * Removes all items from this selector.
             */
            ListSelector.prototype.clearItems = function () {
              // local copy for iteration after clear
              var items = this.items;
              // clear items
              this.items = [];
              // clear the selection as the selected item is also removed
              this.selectedItem = null;
              // fire events
              for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
                var item = items_1[_i];
                this.onItemRemovedEvent(item.key);
              }
            };
            /**
             * Returns the number of items in this selector.
             * @returns {number}
             */
            ListSelector.prototype.itemCount = function () {
              return Object.keys(this.items).length;
            };
            ListSelector.prototype.onItemAddedEvent = function (key) {
              this.listSelectorEvents.onItemAdded.dispatch(this, key);
            };
            ListSelector.prototype.onItemRemovedEvent = function (key) {
              this.listSelectorEvents.onItemRemoved.dispatch(this, key);
            };
            ListSelector.prototype.onItemSelectedEvent = function (key) {
              this.listSelectorEvents.onItemSelected.dispatch(this, key);
            };
            Object.defineProperty(ListSelector.prototype, "onItemAdded", {
              /**
               * Gets the event that is fired when an item is added to the list of items.
               * @returns {Event<ListSelector<Config>, string>}
               */
              get: function () {
                return this.listSelectorEvents.onItemAdded.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(ListSelector.prototype, "onItemRemoved", {
              /**
               * Gets the event that is fired when an item is removed from the list of items.
               * @returns {Event<ListSelector<Config>, string>}
               */
              get: function () {
                return this.listSelectorEvents.onItemRemoved.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(ListSelector.prototype, "onItemSelected", {
              /**
               * Gets the event that is fired when an item is selected from the list of items.
               * @returns {Event<ListSelector<Config>, string>}
               */
              get: function () {
                return this.listSelectorEvents.onItemSelected.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            return ListSelector;
          })(component_1.Component);
          exports.ListSelector = ListSelector;
        },
        {
          "../arrayutils": 1,
          "../eventdispatcher": 86,
          "../localization/i18n": 91,
          "./component": 18,
        },
      ],
      31: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.MetadataLabel = exports.MetadataLabelContent = void 0;
          var label_1 = require("./label");
          /**
           * Enumerates the types of content that the {@link MetadataLabel} can display.
           */
          var MetadataLabelContent;
          (function (MetadataLabelContent) {
            /**
             * Title of the data source.
             */
            MetadataLabelContent[(MetadataLabelContent["Title"] = 0)] = "Title";
            /**
             * Description fo the data source.
             */
            MetadataLabelContent[(MetadataLabelContent["Description"] = 1)] =
              "Description";
          })(
            MetadataLabelContent ||
              (exports.MetadataLabelContent = MetadataLabelContent = {})
          );
          /**
           * A label that can be configured to display certain metadata.
           *
           * @category Labels
           */
          var MetadataLabel = /** @class */ (function (_super) {
            __extends(MetadataLabel, _super);
            function MetadataLabel(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: [
                    "label-metadata",
                    "label-metadata-" +
                      MetadataLabelContent[config.content].toLowerCase(),
                  ],
                },
                _this.config
              );
              return _this;
            }
            MetadataLabel.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              var uiconfig = uimanager.getConfig();
              var init = function () {
                switch (config.content) {
                  case MetadataLabelContent.Title:
                    _this.setText(uiconfig.metadata.title);
                    break;
                  case MetadataLabelContent.Description:
                    _this.setText(uiconfig.metadata.description);
                    break;
                }
              };
              var unload = function () {
                _this.setText(null);
              };
              // Init label
              init();
              // Clear labels when source is unloaded
              player.on(player.exports.PlayerEvent.SourceUnloaded, unload);
              uimanager.getConfig().events.onUpdated.subscribe(init);
            };
            return MetadataLabel;
          })(label_1.Label);
          exports.MetadataLabel = MetadataLabel;
        },
        { "./label": 28 },
      ],
      32: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.PictureInPictureToggleButton = void 0;
          var togglebutton_1 = require("./togglebutton");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button that toggles Apple macOS picture-in-picture mode.
           *
           * @category Buttons
           */
          var PictureInPictureToggleButton = /** @class */ (function (_super) {
            __extends(PictureInPictureToggleButton, _super);
            function PictureInPictureToggleButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-piptogglebutton",
                  text: i18n_1.i18n.getLocalizer("pictureInPicture"),
                },
                _this.config
              );
              return _this;
            }
            PictureInPictureToggleButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var isPictureInPictureAvailable = function () {
                return player.isViewModeAvailable(
                  player.exports.ViewMode.PictureInPicture
                );
              };
              var pictureInPictureStateHandler = function () {
                player.getViewMode() ===
                player.exports.ViewMode.PictureInPicture
                  ? _this.on()
                  : _this.off();
              };
              var pictureInPictureAvailabilityChangedHandler = function () {
                isPictureInPictureAvailable() ? _this.show() : _this.hide();
              };
              player.on(
                player.exports.PlayerEvent.ViewModeChanged,
                pictureInPictureStateHandler
              );
              // Available only in our native SDKs for now
              if (player.exports.PlayerEvent.ViewModeAvailabilityChanged) {
                player.on(
                  player.exports.PlayerEvent.ViewModeAvailabilityChanged,
                  pictureInPictureAvailabilityChangedHandler
                );
              }
              uimanager
                .getConfig()
                .events.onUpdated.subscribe(
                  pictureInPictureAvailabilityChangedHandler
                );
              this.onClick.subscribe(function () {
                if (!isPictureInPictureAvailable()) {
                  if (console) {
                    console.log("PIP unavailable");
                  }
                  return;
                }
                var targetViewMode =
                  player.getViewMode() ===
                  player.exports.ViewMode.PictureInPicture
                    ? player.exports.ViewMode.Inline
                    : player.exports.ViewMode.PictureInPicture;
                player.setViewMode(targetViewMode);
              });
              // Startup init
              pictureInPictureAvailabilityChangedHandler(); // Hide button if PIP not available
              pictureInPictureStateHandler();
            };
            return PictureInPictureToggleButton;
          })(togglebutton_1.ToggleButton);
          exports.PictureInPictureToggleButton = PictureInPictureToggleButton;
        },
        { "../localization/i18n": 91, "./togglebutton": 74 },
      ],
      33: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.PlaybackSpeedSelectBox = void 0;
          var selectbox_1 = require("./selectbox");
          var i18n_1 = require("../localization/i18n");
          /**
           * A select box providing a selection of different playback speeds.
           *
           * @category Components
           */
          var PlaybackSpeedSelectBox = /** @class */ (function (_super) {
            __extends(PlaybackSpeedSelectBox, _super);
            function PlaybackSpeedSelectBox(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.defaultPlaybackSpeeds = [0.25, 0.5, 1, 1.5, 2];
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-playbackspeedselectbox"],
                },
                _this.config
              );
              return _this;
            }
            PlaybackSpeedSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addDefaultItems();
              this.onItemSelected.subscribe(function (sender, value) {
                player.setPlaybackSpeed(parseFloat(value));
                _this.selectItem(value);
              });
              var setDefaultValue = function () {
                var playbackSpeed = player.getPlaybackSpeed();
                _this.setSpeed(playbackSpeed);
              };
              player.on(
                player.exports.PlayerEvent.PlaybackSpeedChanged,
                setDefaultValue
              );
              uimanager.getConfig().events.onUpdated.subscribe(setDefaultValue);
            };
            PlaybackSpeedSelectBox.prototype.setSpeed = function (speed) {
              if (!this.selectItem(String(speed))) {
                // a playback speed was set which is not in the list, add it to the list to show it to the user
                this.clearItems();
                this.addDefaultItems([speed]);
                this.selectItem(String(speed));
              }
            };
            PlaybackSpeedSelectBox.prototype.addDefaultItems = function (
              customItems
            ) {
              var _this = this;
              if (customItems === void 0) {
                customItems = [];
              }
              var sortedSpeeds = this.defaultPlaybackSpeeds
                .concat(customItems)
                .sort();
              sortedSpeeds.forEach(function (element) {
                if (element !== 1) {
                  _this.addItem(String(element), "".concat(element, "x"));
                } else {
                  _this.addItem(
                    String(element),
                    i18n_1.i18n.getLocalizer("normal")
                  );
                }
              });
            };
            PlaybackSpeedSelectBox.prototype.clearItems = function () {
              this.items = [];
              this.selectedItem = null;
            };
            return PlaybackSpeedSelectBox;
          })(selectbox_1.SelectBox);
          exports.PlaybackSpeedSelectBox = PlaybackSpeedSelectBox;
        },
        { "../localization/i18n": 91, "./selectbox": 44 },
      ],
      34: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.PlaybackTimeLabel = exports.PlaybackTimeLabelMode = void 0;
          var label_1 = require("./label");
          var playerutils_1 = require("../playerutils");
          var stringutils_1 = require("../stringutils");
          var i18n_1 = require("../localization/i18n");
          var PlaybackTimeLabelMode;
          (function (PlaybackTimeLabelMode) {
            /**
             * Displays the current time
             */
            PlaybackTimeLabelMode[(PlaybackTimeLabelMode["CurrentTime"] = 0)] =
              "CurrentTime";
            /**
             * Displays the duration of the content
             */
            PlaybackTimeLabelMode[(PlaybackTimeLabelMode["TotalTime"] = 1)] =
              "TotalTime";
            /**
             * Displays the current time and the duration of the content
             * Format: ${currentTime} / ${totalTime}
             */
            PlaybackTimeLabelMode[
              (PlaybackTimeLabelMode["CurrentAndTotalTime"] = 2)
            ] = "CurrentAndTotalTime";
            /**
             * Displays the remaining time of the content
             */
            PlaybackTimeLabelMode[
              (PlaybackTimeLabelMode["RemainingTime"] = 3)
            ] = "RemainingTime";
          })(
            PlaybackTimeLabelMode ||
              (exports.PlaybackTimeLabelMode = PlaybackTimeLabelMode = {})
          );
          /**
           * A label that display the current playback time and the total time through {@link PlaybackTimeLabel#setTime setTime}
           * or any string through {@link PlaybackTimeLabel#setText setText}.
           *
           * @category Labels
           */
          var PlaybackTimeLabel = /** @class */ (function (_super) {
            __extends(PlaybackTimeLabel, _super);
            function PlaybackTimeLabel(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-playbacktimelabel",
                  timeLabelMode: PlaybackTimeLabelMode.CurrentAndTotalTime,
                  hideInLivePlayback: false,
                },
                _this.config
              );
              return _this;
            }
            PlaybackTimeLabel.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              var live = false;
              var liveCssClass = this.prefixCss("ui-playbacktimelabel-live");
              var liveEdgeCssClass = this.prefixCss(
                "ui-playbacktimelabel-live-edge"
              );
              var minWidth = 0;
              var liveClickHandler = function () {
                player.timeShift(0);
              };
              var updateLiveState = function () {
                // Player is playing a live stream when the duration is infinite
                live = player.isLive();
                // Attach/detach live marker class
                if (live) {
                  _this.getDomElement().addClass(liveCssClass);
                  _this.setText(i18n_1.i18n.getLocalizer("live"));
                  if (config.hideInLivePlayback) {
                    _this.hide();
                  }
                  _this.onClick.subscribe(liveClickHandler);
                  updateLiveTimeshiftState();
                } else {
                  _this.getDomElement().removeClass(liveCssClass);
                  _this.getDomElement().removeClass(liveEdgeCssClass);
                  _this.show();
                  _this.onClick.unsubscribe(liveClickHandler);
                }
              };
              var updateLiveTimeshiftState = function () {
                if (!live) {
                  return;
                }
                // The player is only at the live edge iff the stream is not shifted and it is actually playing or playback has
                // never been started (meaning it isn't paused). A player that is paused is always behind the live edge.
                // An exception is made for live streams without a timeshift window, because here we "stop" playback instead
                // of pausing it (from a UI perspective), so we keep the live edge indicator on because a play would always
                // resume at the live edge.
                var isTimeshifted = player.getTimeShift() < 0;
                var isTimeshiftAvailable = player.getMaxTimeShift() < 0;
                if (
                  !isTimeshifted &&
                  (!player.isPaused() || !isTimeshiftAvailable)
                ) {
                  _this.getDomElement().addClass(liveEdgeCssClass);
                } else {
                  _this.getDomElement().removeClass(liveEdgeCssClass);
                }
              };
              var liveStreamDetector =
                new playerutils_1.PlayerUtils.LiveStreamDetector(
                  player,
                  uimanager
                );
              liveStreamDetector.onLiveChanged.subscribe(function (
                sender,
                args
              ) {
                live = args.live;
                updateLiveState();
              });
              liveStreamDetector.detect(); // Initial detection
              var playbackTimeHandler = function () {
                if (!live && player.getDuration() !== Infinity) {
                  _this.setTime(
                    playerutils_1.PlayerUtils.getCurrentTimeRelativeToSeekableRange(
                      player
                    ),
                    player.getDuration()
                  );
                }
                // To avoid 'jumping' in the UI by varying label sizes due to non-monospaced fonts,
                // we gradually increase the min-width with the content to reach a stable size.
                var width = _this.getDomElement().width();
                if (width > minWidth) {
                  minWidth = width;
                  _this.getDomElement().css({
                    "min-width": minWidth + "px",
                  });
                }
              };
              var updateTimeFormatBasedOnDuration = function () {
                // Set time format depending on source duration
                _this.timeFormat =
                  Math.abs(
                    player.isLive()
                      ? player.getMaxTimeShift()
                      : player.getDuration()
                  ) >= 3600
                    ? stringutils_1.StringUtils.FORMAT_HHMMSS
                    : stringutils_1.StringUtils.FORMAT_MMSS;
                playbackTimeHandler();
              };
              player.on(
                player.exports.PlayerEvent.TimeChanged,
                playbackTimeHandler
              );
              player.on(
                player.exports.PlayerEvent.Ready,
                updateTimeFormatBasedOnDuration
              );
              player.on(player.exports.PlayerEvent.Seeked, playbackTimeHandler);
              player.on(
                player.exports.PlayerEvent.TimeShift,
                updateLiveTimeshiftState
              );
              player.on(
                player.exports.PlayerEvent.TimeShifted,
                updateLiveTimeshiftState
              );
              player.on(
                player.exports.PlayerEvent.Playing,
                updateLiveTimeshiftState
              );
              player.on(
                player.exports.PlayerEvent.Paused,
                updateLiveTimeshiftState
              );
              player.on(
                player.exports.PlayerEvent.StallStarted,
                updateLiveTimeshiftState
              );
              player.on(
                player.exports.PlayerEvent.StallEnded,
                updateLiveTimeshiftState
              );
              var init = function () {
                // Reset min-width when a new source is ready (especially for switching VOD/Live modes where the label content
                // changes)
                minWidth = 0;
                _this.getDomElement().css({
                  "min-width": null,
                });
                updateTimeFormatBasedOnDuration();
              };
              uimanager.getConfig().events.onUpdated.subscribe(init);
              init();
            };
            /**
             * Sets the current playback time and total duration.
             * @param playbackSeconds the current playback time in seconds
             * @param durationSeconds the total duration in seconds
             */
            PlaybackTimeLabel.prototype.setTime = function (
              playbackSeconds,
              durationSeconds
            ) {
              var currentTime = stringutils_1.StringUtils.secondsToTime(
                playbackSeconds,
                this.timeFormat
              );
              var totalTime = stringutils_1.StringUtils.secondsToTime(
                durationSeconds,
                this.timeFormat
              );
              switch (this.config.timeLabelMode) {
                case PlaybackTimeLabelMode.CurrentTime:
                  this.setText("".concat(currentTime));
                  break;
                case PlaybackTimeLabelMode.TotalTime:
                  this.setText("".concat(totalTime));
                  break;
                case PlaybackTimeLabelMode.CurrentAndTotalTime:
                  this.setText("".concat(currentTime, " / ").concat(totalTime));
                  break;
                case PlaybackTimeLabelMode.RemainingTime:
                  this.setText(
                    "".concat(
                      stringutils_1.StringUtils.secondsToTime(
                        durationSeconds - playbackSeconds,
                        this.timeFormat
                      )
                    )
                  );
                  break;
              }
            };
            /**
             * Sets the current time format
             * @param timeFormat the time format
             */
            PlaybackTimeLabel.prototype.setTimeFormat = function (timeFormat) {
              this.timeFormat = timeFormat;
            };
            return PlaybackTimeLabel;
          })(label_1.Label);
          exports.PlaybackTimeLabel = PlaybackTimeLabel;
        },
        {
          "../localization/i18n": 91,
          "../playerutils": 98,
          "../stringutils": 111,
          "./label": 28,
        },
      ],
      35: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.PlaybackToggleButton = void 0;
          var togglebutton_1 = require("./togglebutton");
          var playerutils_1 = require("../playerutils");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button that toggles between playback and pause.
           *
           * @category Buttons
           */
          var PlaybackToggleButton = /** @class */ (function (_super) {
            __extends(PlaybackToggleButton, _super);
            function PlaybackToggleButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-playbacktogglebutton",
                  text: i18n_1.i18n.getLocalizer("play"),
                  onAriaLabel: i18n_1.i18n.getLocalizer("pause"),
                  offAriaLabel: i18n_1.i18n.getLocalizer("play"),
                },
                _this.config
              );
              _this.isPlayInitiated = false;
              return _this;
            }
            PlaybackToggleButton.prototype.configure = function (
              player,
              uimanager,
              handleClickEvent
            ) {
              var _this = this;
              if (handleClickEvent === void 0) {
                handleClickEvent = true;
              }
              _super.prototype.configure.call(this, player, uimanager);
              // Set enterFullscreenOnInitialPlayback if set in the uimanager config
              if (
                typeof uimanager.getConfig()
                  .enterFullscreenOnInitialPlayback === "boolean"
              ) {
                this.config.enterFullscreenOnInitialPlayback =
                  uimanager.getConfig().enterFullscreenOnInitialPlayback;
              }
              var isSeeking = false;
              var firstPlay = true;
              // Handler to update button state based on player state
              var playbackStateHandler = function () {
                // If the UI is currently seeking, playback is temporarily stopped but the buttons should
                // not reflect that and stay as-is (e.g indicate playback while seeking).
                if (isSeeking) {
                  return;
                }
                if (player.isPlaying() || _this.isPlayInitiated) {
                  _this.on();
                } else {
                  _this.off();
                }
              };
              // Call handler upon these events
              player.on(player.exports.PlayerEvent.Play, function (e) {
                _this.isPlayInitiated = true;
                firstPlay = false;
                playbackStateHandler();
              });
              player.on(player.exports.PlayerEvent.Paused, function (e) {
                _this.isPlayInitiated = false;
                playbackStateHandler();
              });
              player.on(player.exports.PlayerEvent.Playing, function (e) {
                _this.isPlayInitiated = false;
                playbackStateHandler();
              });
              // after unloading + loading a new source, the player might be in a different playing state (from playing into stopped)
              player.on(
                player.exports.PlayerEvent.SourceLoaded,
                playbackStateHandler
              );
              uimanager
                .getConfig()
                .events.onUpdated.subscribe(playbackStateHandler);
              player.on(
                player.exports.PlayerEvent.SourceUnloaded,
                playbackStateHandler
              );
              // when playback finishes, player turns to paused mode
              player.on(
                player.exports.PlayerEvent.PlaybackFinished,
                playbackStateHandler
              );
              player.on(
                player.exports.PlayerEvent.CastStarted,
                playbackStateHandler
              );
              // When a playback attempt is rejected with warning 5008, we switch the button state back to off
              // This is required for blocked autoplay, because there is no Paused event in such case
              player.on(player.exports.PlayerEvent.Warning, function (event) {
                if (
                  event.code ===
                  player.exports.WarningCode.PLAYBACK_COULD_NOT_BE_STARTED
                ) {
                  _this.isPlayInitiated = false;
                  firstPlay = true;
                  _this.off();
                }
              });
              var updateLiveState = function () {
                var showStopToggle =
                  player.isLive() &&
                  !playerutils_1.PlayerUtils.isTimeShiftAvailable(player);
                if (showStopToggle) {
                  _this
                    .getDomElement()
                    .addClass(
                      _this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE)
                    );
                } else {
                  _this
                    .getDomElement()
                    .removeClass(
                      _this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE)
                    );
                }
              };
              // Detect absence of timeshifting on live streams and add tagging class to convert button icons to play/stop
              var timeShiftDetector =
                new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(
                  player
                );
              var liveStreamDetector =
                new playerutils_1.PlayerUtils.LiveStreamDetector(
                  player,
                  uimanager
                );
              timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(
                function () {
                  return updateLiveState();
                }
              );
              liveStreamDetector.onLiveChanged.subscribe(function () {
                return updateLiveState();
              });
              timeShiftDetector.detect(); // Initial detection
              liveStreamDetector.detect();
              if (handleClickEvent) {
                // Control player by button events
                // When a button event triggers a player API call, events are fired which in turn call the event handler
                // above that updated the button state.
                this.onClick.subscribe(function () {
                  if (player.isPlaying() || _this.isPlayInitiated) {
                    player.pause("ui");
                  } else {
                    player.play("ui");
                    if (
                      firstPlay &&
                      _this.config.enterFullscreenOnInitialPlayback
                    ) {
                      player.setViewMode(player.exports.ViewMode.Fullscreen);
                    }
                  }
                });
              }
              // Track UI seeking status
              uimanager.onSeek.subscribe(function () {
                isSeeking = true;
              });
              uimanager.onSeeked.subscribe(function () {
                isSeeking = false;
              });
              // Startup init
              playbackStateHandler();
            };
            PlaybackToggleButton.CLASS_STOPTOGGLE = "stoptoggle";
            return PlaybackToggleButton;
          })(togglebutton_1.ToggleButton);
          exports.PlaybackToggleButton = PlaybackToggleButton;
        },
        {
          "../localization/i18n": 91,
          "../playerutils": 98,
          "./togglebutton": 74,
        },
      ],
      36: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.PlaybackToggleOverlay = void 0;
          var container_1 = require("./container");
          var hugeplaybacktogglebutton_1 = require("./hugeplaybacktogglebutton");
          /**
           * Overlays the player and displays error messages.
           *
           * @category Components
           */
          var PlaybackToggleOverlay = /** @class */ (function (_super) {
            __extends(PlaybackToggleOverlay, _super);
            function PlaybackToggleOverlay(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.playbackToggleButton =
                new hugeplaybacktogglebutton_1.HugePlaybackToggleButton({
                  enterFullscreenOnInitialPlayback: Boolean(
                    config.enterFullscreenOnInitialPlayback
                  ),
                });
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-playbacktoggle-overlay",
                  components: [_this.playbackToggleButton],
                },
                _this.config
              );
              return _this;
            }
            return PlaybackToggleOverlay;
          })(container_1.Container);
          exports.PlaybackToggleOverlay = PlaybackToggleOverlay;
        },
        { "./container": 19, "./hugeplaybacktogglebutton": 25 },
      ],
      37: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.QuickSeekButton = void 0;
          var button_1 = require("./button");
          var i18n_1 = require("../localization/i18n");
          var playerutils_1 = require("../playerutils");
          /**
           * @category Buttons
           */
          var QuickSeekButton = /** @class */ (function (_super) {
            __extends(QuickSeekButton, _super);
            function QuickSeekButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.onSeek = function (event) {
                _this.currentSeekTarget = event.seekTarget;
              };
              _this.onSeekedOrTimeShifted = function () {
                _this.currentSeekTarget = null;
              };
              _this.onTimeShift = function (event) {
                _this.currentSeekTarget =
                  _this.player.getTimeShift() + (event.target - event.position);
              };
              _this.currentSeekTarget = null;
              _this.config = _this.mergeConfig(
                config,
                {
                  seekSeconds: -10,
                  cssClass: "ui-quickseekbutton",
                },
                _this.config
              );
              var seekDirection =
                _this.config.seekSeconds < 0 ? "rewind" : "forward";
              _this.config.text =
                _this.config.text ||
                i18n_1.i18n.getLocalizer("quickseek.".concat(seekDirection));
              _this.config.ariaLabel =
                _this.config.ariaLabel ||
                i18n_1.i18n.getLocalizer("quickseek.".concat(seekDirection));
              _this
                .getDomElement()
                .data(_this.prefixCss("seek-direction"), seekDirection);
              return _this;
            }
            QuickSeekButton.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.player = player;
              var isLive;
              var hasTimeShift;
              var switchVisibility = function (isLive, hasTimeShift) {
                if (isLive && !hasTimeShift) {
                  _this.hide();
                } else {
                  _this.show();
                }
              };
              var timeShiftDetector =
                new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(
                  player
                );
              timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(
                function (sender, args) {
                  hasTimeShift = args.timeShiftAvailable;
                  switchVisibility(isLive, hasTimeShift);
                }
              );
              var liveStreamDetector =
                new playerutils_1.PlayerUtils.LiveStreamDetector(
                  player,
                  uimanager
                );
              liveStreamDetector.onLiveChanged.subscribe(function (
                sender,
                args
              ) {
                isLive = args.live;
                switchVisibility(isLive, hasTimeShift);
              });
              // Initial detection
              timeShiftDetector.detect();
              liveStreamDetector.detect();
              this.onClick.subscribe(function () {
                if (isLive && !hasTimeShift) {
                  // If no DVR window is available, the button should be hidden anyway, so this is to be absolutely sure
                  return;
                }
                if (
                  isLive &&
                  _this.config.seekSeconds > 0 &&
                  player.getTimeShift() === 0
                ) {
                  // Don't do anything if the player is already on the live edge
                  return;
                }
                var currentPosition =
                  _this.currentSeekTarget !== null
                    ? _this.currentSeekTarget
                    : isLive
                    ? player.getTimeShift()
                    : player.getCurrentTime();
                var newSeekTime = currentPosition + _this.config.seekSeconds;
                if (isLive) {
                  var clampedValue =
                    playerutils_1.PlayerUtils.clampValueToRange(
                      newSeekTime,
                      player.getMaxTimeShift(),
                      0
                    );
                  player.timeShift(clampedValue);
                } else {
                  var clampedValue =
                    playerutils_1.PlayerUtils.clampValueToRange(
                      newSeekTime,
                      0,
                      player.getDuration()
                    );
                  player.seek(clampedValue);
                }
              });
              this.player.on(this.player.exports.PlayerEvent.Seek, this.onSeek);
              this.player.on(
                this.player.exports.PlayerEvent.Seeked,
                this.onSeekedOrTimeShifted
              );
              this.player.on(
                this.player.exports.PlayerEvent.TimeShift,
                this.onTimeShift
              );
              this.player.on(
                this.player.exports.PlayerEvent.TimeShifted,
                this.onSeekedOrTimeShifted
              );
            };
            QuickSeekButton.prototype.release = function () {
              this.player.off(
                this.player.exports.PlayerEvent.Seek,
                this.onSeek
              );
              this.player.off(
                this.player.exports.PlayerEvent.Seeked,
                this.onSeekedOrTimeShifted
              );
              this.player.off(
                this.player.exports.PlayerEvent.TimeShift,
                this.onTimeShift
              );
              this.player.off(
                this.player.exports.PlayerEvent.TimeShifted,
                this.onSeekedOrTimeShifted
              );
              this.currentSeekTarget = null;
              this.player = null;
            };
            return QuickSeekButton;
          })(button_1.Button);
          exports.QuickSeekButton = QuickSeekButton;
        },
        { "../localization/i18n": 91, "../playerutils": 98, "./button": 12 },
      ],
      38: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.RecommendationOverlay = void 0;
          var container_1 = require("./container");
          var component_1 = require("./component");
          var dom_1 = require("../dom");
          var stringutils_1 = require("../stringutils");
          var hugereplaybutton_1 = require("./hugereplaybutton");
          /**
           * Overlays the player and displays recommended videos.
           *
           * @category Containers
           */
          var RecommendationOverlay = /** @class */ (function (_super) {
            __extends(RecommendationOverlay, _super);
            function RecommendationOverlay(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.replayButton = new hugereplaybutton_1.HugeReplayButton();
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-recommendation-overlay",
                  hidden: true,
                  components: [_this.replayButton],
                },
                _this.config
              );
              return _this;
            }
            RecommendationOverlay.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var clearRecommendations = function () {
                for (
                  var _i = 0, _a = _this.getComponents().slice();
                  _i < _a.length;
                  _i++
                ) {
                  var component = _a[_i];
                  if (component instanceof RecommendationItem) {
                    _this.removeComponent(component);
                  }
                }
                _this.updateComponents();
                _this
                  .getDomElement()
                  .removeClass(_this.prefixCss("recommendations"));
              };
              var setupRecommendations = function () {
                clearRecommendations();
                var recommendations = uimanager.getConfig().recommendations;
                if (recommendations.length > 0) {
                  var index = 1;
                  for (
                    var _i = 0, recommendations_1 = recommendations;
                    _i < recommendations_1.length;
                    _i++
                  ) {
                    var item = recommendations_1[_i];
                    _this.addComponent(
                      new RecommendationItem({
                        itemConfig: item,
                        cssClasses: ["recommendation-item-" + index++],
                      })
                    );
                  }
                  _this.updateComponents(); // create container DOM elements
                  _this
                    .getDomElement()
                    .addClass(_this.prefixCss("recommendations"));
                }
              };
              uimanager
                .getConfig()
                .events.onUpdated.subscribe(setupRecommendations);
              // Remove recommendations and hide overlay when source is unloaded
              player.on(player.exports.PlayerEvent.SourceUnloaded, function () {
                clearRecommendations();
                _this.hide();
              });
              // Display recommendations when playback has finished
              player.on(
                player.exports.PlayerEvent.PlaybackFinished,
                function () {
                  _this.show();
                }
              );
              // Hide recommendations when playback starts, e.g. a restart
              player.on(player.exports.PlayerEvent.Play, function () {
                _this.hide();
              });
              // Init on startup
              setupRecommendations();
            };
            return RecommendationOverlay;
          })(container_1.Container);
          exports.RecommendationOverlay = RecommendationOverlay;
          /**
           * An item of the {@link RecommendationOverlay}. Used only internally in {@link RecommendationOverlay}.
           */
          var RecommendationItem = /** @class */ (function (_super) {
            __extends(RecommendationItem, _super);
            function RecommendationItem(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-recommendation-item",
                  itemConfig: null, // this must be passed in from outside
                },
                _this.config
              );
              return _this;
            }
            RecommendationItem.prototype.toDomElement = function () {
              var config = this.config.itemConfig;
              var itemElement = new dom_1.DOM(
                "a",
                {
                  id: this.config.id,
                  class: this.getCssClasses(),
                  href: config.url,
                },
                this
              ).css({
                "background-image": "url(".concat(config.thumbnail, ")"),
              });
              var bgElement = new dom_1.DOM("div", {
                class: this.prefixCss("background"),
              });
              itemElement.append(bgElement);
              var titleElement = new dom_1.DOM("span", {
                class: this.prefixCss("title"),
              }).append(
                new dom_1.DOM("span", {
                  class: this.prefixCss("innertitle"),
                }).html(config.title)
              );
              itemElement.append(titleElement);
              var timeElement = new dom_1.DOM("span", {
                class: this.prefixCss("duration"),
              }).append(
                new dom_1.DOM("span", {
                  class: this.prefixCss("innerduration"),
                }).html(
                  config.duration
                    ? stringutils_1.StringUtils.secondsToTime(config.duration)
                    : ""
                )
              );
              itemElement.append(timeElement);
              return itemElement;
            };
            return RecommendationItem;
          })(component_1.Component);
        },
        {
          "../dom": 84,
          "../stringutils": 111,
          "./component": 18,
          "./container": 19,
          "./hugereplaybutton": 26,
        },
      ],
      39: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ReplayButton = void 0;
          var button_1 = require("./button");
          var i18n_1 = require("../localization/i18n");
          var playerutils_1 = require("../playerutils");
          /**
           * A button to play/replay a video.
           *
           * @category Buttons
           */
          var ReplayButton = /** @class */ (function (_super) {
            __extends(ReplayButton, _super);
            function ReplayButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-replaybutton",
                  text: i18n_1.i18n.getLocalizer("replay"),
                  ariaLabel: i18n_1.i18n.getLocalizer("replay"),
                },
                _this.config
              );
              return _this;
            }
            ReplayButton.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              if (player.isLive()) {
                this.hide();
              }
              var liveStreamDetector =
                new playerutils_1.PlayerUtils.LiveStreamDetector(
                  player,
                  uimanager
                );
              liveStreamDetector.onLiveChanged.subscribe(function (
                sender,
                args
              ) {
                if (args.live) {
                  _this.hide();
                } else {
                  _this.show();
                }
              });
              this.onClick.subscribe(function () {
                if (!player.hasEnded()) {
                  player.seek(0);
                  // Not calling `play` will keep the play/pause state as is
                } else {
                  // If playback has already ended, calling `play` will automatically restart from the beginning
                  player.play("ui");
                }
              });
            };
            return ReplayButton;
          })(button_1.Button);
          exports.ReplayButton = ReplayButton;
        },
        { "../localization/i18n": 91, "../playerutils": 98, "./button": 12 },
      ],
      40: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SeekBar = void 0;
          var groupplaybackapi_1 = require("./../groupplaybackapi");
          var component_1 = require("./component");
          var dom_1 = require("../dom");
          var eventdispatcher_1 = require("../eventdispatcher");
          var timeout_1 = require("../timeout");
          var playerutils_1 = require("../playerutils");
          var stringutils_1 = require("../stringutils");
          var seekbarcontroller_1 = require("./seekbarcontroller");
          var i18n_1 = require("../localization/i18n");
          var browserutils_1 = require("../browserutils");
          var timelinemarkershandler_1 = require("./timelinemarkershandler");
          var seekbarbufferlevel_1 = require("./seekbarbufferlevel");
          /**
           * A seek bar to seek within the player's media. It displays the current playback position, amount of buffed data, seek
           * target, and keeps status about an ongoing seek.
           *
           * The seek bar displays different 'bars':
           *  - the playback position, i.e. the position in the media at which the player current playback pointer is positioned
           *  - the buffer position, which usually is the playback position plus the time span that is already buffered ahead
           *  - the seek position, used to preview to where in the timeline a seek will jump to
           *
           *  @category Components
           */
          var SeekBar = /** @class */ (function (_super) {
            __extends(SeekBar, _super);
            function SeekBar(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              /**
               * Buffer of the the current playback position. The position must be buffered in case the element
               * needs to be refreshed with {@link #refreshPlaybackPosition}.
               * @type {number}
               */
              _this.playbackPositionPercentage = 0;
              _this.isUserSeeking = false;
              _this.seekBarEvents = {
                /**
                 * Fired when a scrubbing seek operation is started.
                 */
                onSeek: new eventdispatcher_1.EventDispatcher(),
                /**
                 * Fired during a scrubbing seek to indicate that the seek preview (i.e. the video frame) should be updated.
                 */
                onSeekPreview: new eventdispatcher_1.EventDispatcher(),
                /**
                 * Fired when a scrubbing seek has finished or when a direct seek is issued.
                 */
                onSeeked: new eventdispatcher_1.EventDispatcher(),
              };
              _this.seekWhileScrubbing = function (sender, args) {
                if (args.scrubbing) {
                  _this.seek(args.position);
                }
              };
              _this.getTargetSeekPosition = function (percentage) {
                var target;
                if (_this.player.isLive()) {
                  var maxTimeShift = _this.player.getMaxTimeShift();
                  target = maxTimeShift - maxTimeShift * (percentage / 100);
                } else {
                  var seekableRangeStart =
                    playerutils_1.PlayerUtils.getSeekableRangeStart(
                      _this.player,
                      0
                    );
                  var relativeSeekTarget =
                    _this.player.getDuration() * (percentage / 100);
                  target = relativeSeekTarget + seekableRangeStart;
                }
                return target;
              };
              _this.seek = function (percentage) {
                var targetPlaybackPosition =
                  _this.getTargetSeekPosition(percentage);
                if (_this.player.isLive()) {
                  _this.player.timeShift(targetPlaybackPosition, "ui");
                } else {
                  _this.player.seek(targetPlaybackPosition, "ui");
                }
              };
              _this.updateLabelPosition = function (pixelPosition) {
                if (!_this.uiBoundingRect) {
                  _this.uiBoundingRect = _this.uiManager
                    .getUI()
                    .getDomElement()
                    .get(0)
                    .getBoundingClientRect();
                }
                _this.label.setPositionInBounds(
                  pixelPosition,
                  _this.uiBoundingRect
                );
              };
              var keyStepIncrements = _this.config.keyStepIncrements || {
                leftRight: 1,
                upDown: 5,
              };
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-seekbar",
                  vertical: false,
                  smoothPlaybackPositionUpdateIntervalMs: 50,
                  keyStepIncrements: keyStepIncrements,
                  ariaLabel: i18n_1.i18n.getLocalizer("seekBar"),
                  tabIndex: 0,
                  snappingRange: 1,
                  enableSeekPreview: true,
                  snappingEnabled: true,
                },
                _this.config
              );
              _this.label = _this.config.label;
              return _this;
            }
            SeekBar.prototype.initialize = function () {
              _super.prototype.initialize.call(this);
              if (this.hasLabel()) {
                this.getLabel().initialize();
              }
            };
            SeekBar.prototype.setAriaSliderMinMax = function (min, max) {
              this.getDomElement().attr("aria-valuemin", min);
              this.getDomElement().attr("aria-valuemax", max);
            };
            SeekBar.prototype.setAriaSliderValues = function () {
              if (this.seekBarType === seekbarcontroller_1.SeekBarType.Live) {
                var timeshiftValue = Math.ceil(
                  this.player.getTimeShift()
                ).toString();
                this.getDomElement().attr("aria-valuenow", timeshiftValue);
                this.getDomElement().attr(
                  "aria-valuetext",
                  ""
                    .concat(
                      i18n_1.i18n.performLocalization(
                        i18n_1.i18n.getLocalizer("seekBar.timeshift")
                      ),
                      " "
                    )
                    .concat(
                      i18n_1.i18n.performLocalization(
                        i18n_1.i18n.getLocalizer("seekBar.value")
                      ),
                      ": "
                    )
                    .concat(timeshiftValue)
                );
              } else if (
                this.seekBarType === seekbarcontroller_1.SeekBarType.Vod
              ) {
                var ariaValueText = ""
                  .concat(
                    stringutils_1.StringUtils.secondsToText(
                      this.player.getCurrentTime()
                    ),
                    " "
                  )
                  .concat(
                    i18n_1.i18n.performLocalization(
                      i18n_1.i18n.getLocalizer("seekBar.durationText")
                    ),
                    " "
                  )
                  .concat(
                    stringutils_1.StringUtils.secondsToText(
                      this.player.getDuration()
                    )
                  );
                this.getDomElement().attr(
                  "aria-valuenow",
                  Math.floor(this.player.getCurrentTime()).toString()
                );
                this.getDomElement().attr("aria-valuetext", ariaValueText);
              }
            };
            SeekBar.prototype.getPlaybackPositionPercentage = function () {
              if (this.player.isLive()) {
                return (
                  100 -
                  (100 / this.player.getMaxTimeShift()) *
                    this.player.getTimeShift()
                );
              }
              return (
                (100 / this.player.getDuration()) *
                this.getRelativeCurrentTime()
              );
            };
            SeekBar.prototype.updateBufferLevel = function (
              playbackPositionPercentage
            ) {
              var bufferLoadedPercentageLevel;
              if (this.player.isLive()) {
                // Always show full buffer for live streams
                bufferLoadedPercentageLevel = 100;
              } else {
                bufferLoadedPercentageLevel =
                  playbackPositionPercentage +
                  (0, seekbarbufferlevel_1.getMinBufferLevel)(this.player);
              }
              this.setBufferPosition(bufferLoadedPercentageLevel);
            };
            SeekBar.prototype.configure = function (
              player,
              uimanager,
              configureSeek
            ) {
              var _this = this;
              if (configureSeek === void 0) {
                configureSeek = true;
              }
              _super.prototype.configure.call(this, player, uimanager);
              this.player = player;
              this.uiManager = uimanager;
              // Apply scaling transform to the backdrop bar to have all bars rendered similarly
              // (the call must be up here to be executed for the volume slider as well)
              this.setPosition(this.seekBarBackdrop, 100);
              // Add seekbar controls to the seekbar
              var seekBarController = new seekbarcontroller_1.SeekBarController(
                this.config.keyStepIncrements,
                player,
                uimanager.getConfig().volumeController
              );
              seekBarController.setSeekBarControls(
                this.getDomElement(),
                function () {
                  return _this.seekBarType;
                }
              );
              // The configureSeek flag can be used by subclasses to disable configuration as seek bar. E.g. the volume
              // slider is reusing this component but adds its own functionality, and does not need the seek functionality.
              // This is actually a hack, the proper solution would be for both seek bar and volume sliders to extend
              // a common base slider component and implement their functionality there.
              if (!configureSeek) {
                this.seekBarType = seekbarcontroller_1.SeekBarType.Volume;
                return;
              }
              uimanager.onControlsShow.subscribe(function () {
                _this.isUiShown = true;
                if (
                  _this.smoothPlaybackPositionUpdater &&
                  !player.isLive() &&
                  !_this.smoothPlaybackPositionUpdater.isActive()
                ) {
                  playbackPositionHandler(null, true);
                  _this.smoothPlaybackPositionUpdater.start();
                }
              });
              uimanager.onControlsHide.subscribe(function () {
                _this.isUiShown = false;
                if (
                  _this.smoothPlaybackPositionUpdater &&
                  _this.smoothPlaybackPositionUpdater.isActive()
                ) {
                  _this.smoothPlaybackPositionUpdater.clear();
                }
              });
              var isPlaying = false;
              var scrubbing = false;
              var isPlayerSeeking = false;
              var suspension;
              // Update playback and buffer positions
              var playbackPositionHandler = function (event, forceUpdate) {
                if (event === void 0) {
                  event = null;
                }
                if (forceUpdate === void 0) {
                  forceUpdate = false;
                }
                if (_this.isUserSeeking) {
                  // We caught a seek preview seek, do not update the seekbar
                  return;
                }
                var playbackPositionPercentage =
                  _this.getPlaybackPositionPercentage();
                _this.updateBufferLevel(playbackPositionPercentage);
                // The segment request finished is used to help the playback position move, when the smooth playback position is not enabled.
                // At the same time when the user is scrubbing, we also move the position of the seekbar to display a preview during scrubbing.
                // When the user is scrubbing we do not record this as a user seek operation, as the user has yet to finish their seek,
                // but we should not move the playback position to not create a jumping behaviour.
                if (
                  scrubbing &&
                  event &&
                  event.type ===
                    player.exports.PlayerEvent.SegmentRequestFinished &&
                  playbackPositionPercentage !==
                    _this.playbackPositionPercentage
                ) {
                  playbackPositionPercentage = _this.playbackPositionPercentage;
                }
                if (player.isLive()) {
                  if (player.getMaxTimeShift() === 0) {
                    // This case must be explicitly handled to avoid division by zero
                    _this.setPlaybackPosition(100);
                  } else {
                    if (!_this.isSeeking()) {
                      _this.setPlaybackPosition(playbackPositionPercentage);
                    }
                    _this.setAriaSliderMinMax(
                      player.getMaxTimeShift().toString(),
                      "0"
                    );
                  }
                } else {
                  // Update playback position only in paused state or in the initial startup state where player is neither
                  // paused nor playing. Playback updates are handled in the Timeout below.
                  var isInInitialStartupState =
                    _this.config.smoothPlaybackPositionUpdateIntervalMs ===
                      SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED ||
                    forceUpdate ||
                    player.isPaused();
                  var isNeitherPausedNorPlaying =
                    player.isPaused() === player.isPlaying();
                  if (
                    (isInInitialStartupState || isNeitherPausedNorPlaying) &&
                    !_this.isSeeking()
                  ) {
                    _this.setPlaybackPosition(playbackPositionPercentage);
                  }
                  _this.setAriaSliderMinMax(
                    "0",
                    player.getDuration().toString()
                  );
                }
                if (_this.isUiShown) {
                  _this.setAriaSliderValues();
                }
              };
              // Update seekbar upon these events
              // init playback position when the player is ready
              player.on(
                player.exports.PlayerEvent.Ready,
                playbackPositionHandler
              );
              // update playback position when it changes
              player.on(
                player.exports.PlayerEvent.TimeChanged,
                playbackPositionHandler
              );
              // update bufferlevel when buffering is complete
              player.on(
                player.exports.PlayerEvent.StallEnded,
                playbackPositionHandler
              );
              // update playback position when a timeshift has finished
              player.on(
                player.exports.PlayerEvent.TimeShifted,
                playbackPositionHandler
              );
              // update bufferlevel when a segment has been downloaded
              player.on(
                player.exports.PlayerEvent.SegmentRequestFinished,
                playbackPositionHandler
              );
              this.configureLivePausedTimeshiftUpdater(
                player,
                uimanager,
                playbackPositionHandler
              );
              // Seek handling
              var onPlayerSeek = function () {
                isPlayerSeeking = true;
                _this.setSeeking(true);
                scrubbing = false;
              };
              var onPlayerSeeked = function (event) {
                if (event === void 0) {
                  event = null;
                }
                isPlayerSeeking = false;
                _this.setSeeking(false);
                // update playback position when a seek has finished
                playbackPositionHandler(event, true);
              };
              var restorePlayingState = function () {
                // Continue playback after seek if player was playing when seek started
                if (isPlaying) {
                  // use the same issuer here as in the pause on seek
                  player.play("ui-seek");
                }
              };
              player.on(player.exports.PlayerEvent.Seek, onPlayerSeek);
              player.on(player.exports.PlayerEvent.Seeked, onPlayerSeeked);
              player.on(player.exports.PlayerEvent.TimeShift, onPlayerSeek);
              player.on(player.exports.PlayerEvent.TimeShifted, onPlayerSeeked);
              var isGroupPlaybackAPIAvailable = function (player) {
                return !!player.groupPlayback;
              };
              this.onSeek.subscribe(function (sender) {
                // track seeking status so we can catch events from seek preview seeks
                _this.isUserSeeking = true;
                // Notify UI manager of started seek
                uimanager.onSeek.dispatch(sender);
                if (
                  isGroupPlaybackAPIAvailable(player) &&
                  player.groupPlayback.hasJoined() &&
                  !suspension
                ) {
                  suspension = player.groupPlayback.beginSuspension(
                    groupplaybackapi_1.GroupPlaybackSuspensionReason
                      .UserIsScrubbing
                  );
                }
                // Save current playback state before performing the seek
                if (!isPlayerSeeking) {
                  isPlaying = player.isPlaying();
                  // Pause playback while seeking
                  if (isPlaying) {
                    // use a different issuer here, as play/pause on seek is not "really" triggerd by the user
                    player.pause("ui-seek");
                  }
                }
              });
              this.onSeekPreview.subscribe(function (sender, args) {
                // Notify UI manager of seek preview
                uimanager.onSeekPreview.dispatch(sender, args);
                scrubbing = args.scrubbing;
              });
              // Set enableSeekPreview if set in the uimanager config
              if (
                typeof uimanager.getConfig().enableSeekPreview === "boolean"
              ) {
                this.config.enableSeekPreview =
                  uimanager.getConfig().enableSeekPreview;
              }
              // Rate-limited scrubbing seek
              if (this.config.enableSeekPreview) {
                this.onSeekPreview.subscribeRateLimited(
                  this.seekWhileScrubbing,
                  200
                );
              }
              this.onSeeked.subscribe(function (sender, percentage) {
                _this.isUserSeeking = false;
                // Do the seek
                _this.seek(percentage);
                // Notify UI manager of finished seek
                uimanager.onSeeked.dispatch(sender);
                // Continue playback after seek if player was playing when seek started
                restorePlayingState();
                if (
                  isGroupPlaybackAPIAvailable(player) &&
                  player.groupPlayback.hasJoined() &&
                  suspension
                ) {
                  var proposedPlaybackTime =
                    _this.getTargetSeekPosition(percentage);
                  player.groupPlayback.endSuspension(suspension, {
                    proposedPlaybackTime: proposedPlaybackTime,
                  });
                  suspension = undefined;
                }
              });
              if (this.hasLabel()) {
                // Configure a seekbar label that is internal to the seekbar)
                this.getLabel().configure(player, uimanager);
              }
              // Hide seekbar for live sources without timeshift
              var isLive = false;
              var hasTimeShift = false;
              var switchVisibility = function (isLive, hasTimeShift) {
                if (isLive && !hasTimeShift) {
                  _this.hide();
                } else {
                  _this.show();
                }
                playbackPositionHandler(null, true);
                _this.refreshPlaybackPosition();
              };
              var liveStreamDetector =
                new playerutils_1.PlayerUtils.LiveStreamDetector(
                  player,
                  uimanager
                );
              liveStreamDetector.onLiveChanged.subscribe(function (
                sender,
                args
              ) {
                isLive = args.live;
                if (isLive && _this.smoothPlaybackPositionUpdater != null) {
                  _this.smoothPlaybackPositionUpdater.clear();
                  _this.seekBarType = seekbarcontroller_1.SeekBarType.Live;
                } else {
                  _this.seekBarType = seekbarcontroller_1.SeekBarType.Vod;
                }
                switchVisibility(isLive, hasTimeShift);
              });
              var timeShiftDetector =
                new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(
                  player
                );
              timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(
                function (sender, args) {
                  hasTimeShift = args.timeShiftAvailable;
                  switchVisibility(isLive, hasTimeShift);
                }
              );
              // Initial detection
              liveStreamDetector.detect();
              timeShiftDetector.detect();
              // Refresh the playback position when the player resized or the UI is configured. The playback position marker
              // is positioned absolutely and must therefore be updated when the size of the seekbar changes.
              player.on(player.exports.PlayerEvent.PlayerResized, function () {
                _this.refreshPlaybackPosition();
                _this.uiBoundingRect = _this.uiManager
                  .getUI()
                  .getDomElement()
                  .get(0)
                  .getBoundingClientRect();
              });
              // Additionally, when this code is called, the seekbar is not part of the UI yet and therefore does not have a size,
              // resulting in a wrong initial position of the marker. Refreshing it once the UI is configured solved this issue.
              uimanager.onConfigured.subscribe(function () {
                _this.refreshPlaybackPosition();
              });
              // It can also happen when a new source is loaded
              player.on(player.exports.PlayerEvent.SourceLoaded, function () {
                _this.refreshPlaybackPosition();
              });
              // Add markers when a source is loaded or update when a marker is added or removed
              uimanager.getConfig().events.onUpdated.subscribe(function () {
                playbackPositionHandler();
              });
              // Set the snappingRange if set in the uimanager config
              if (
                typeof uimanager.getConfig().seekbarSnappingRange === "number"
              ) {
                this.config.snappingRange =
                  uimanager.getConfig().seekbarSnappingRange;
              }
              if (
                typeof uimanager.getConfig().seekbarSnappingEnabled ===
                "boolean"
              ) {
                this.config.snappingEnabled =
                  uimanager.getConfig().seekbarSnappingEnabled;
              }
              // Initialize seekbar
              playbackPositionHandler(); // Set the playback position
              this.setBufferPosition(0);
              this.setSeekPosition(0);
              if (
                this.config.smoothPlaybackPositionUpdateIntervalMs !==
                SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED
              ) {
                this.configureSmoothPlaybackPositionUpdater(player, uimanager);
              }
              // Initialize markers
              this.initializeTimelineMarkers(player, uimanager);
            };
            SeekBar.prototype.initializeTimelineMarkers = function (
              player,
              uimanager
            ) {
              var _this = this;
              var timelineMarkerConfig = {
                cssPrefix: this.config.cssPrefix,
                snappingRange: this.config.snappingRange,
              };
              this.timelineMarkersHandler =
                new timelinemarkershandler_1.TimelineMarkersHandler(
                  timelineMarkerConfig,
                  function () {
                    return _this.seekBar.width();
                  },
                  this.seekBarMarkersContainer
                );
              this.timelineMarkersHandler.initialize(player, uimanager);
            };
            /**
             * Update seekbar while a live stream with DVR window is paused.
             * The playback position stays still and the position indicator visually moves towards the back.
             */
            SeekBar.prototype.configureLivePausedTimeshiftUpdater = function (
              player,
              uimanager,
              playbackPositionHandler
            ) {
              var _this = this;
              // Regularly update the playback position while the timeout is active
              this.pausedTimeshiftUpdater = new timeout_1.Timeout(
                1000,
                playbackPositionHandler,
                true
              );
              // Start updater when a live stream with timeshift window is paused
              player.on(player.exports.PlayerEvent.Paused, function () {
                if (player.isLive() && player.getMaxTimeShift() < 0) {
                  _this.pausedTimeshiftUpdater.start();
                }
              });
              // Stop updater when playback continues (no matter if the updater was started before)
              player.on(player.exports.PlayerEvent.Play, function () {
                return _this.pausedTimeshiftUpdater.clear();
              });
            };
            SeekBar.prototype.configureSmoothPlaybackPositionUpdater =
              function (player, uimanager) {
                var _this = this;
                /*
                 * Playback position update
                 *
                 * We do not update the position directly from the TimeChanged event, because it arrives very jittery and
                 * results in a jittery position indicator since the CSS transition time is statically set.
                 * To work around this issue, we maintain a local playback position that is updated in a stable regular interval
                 * and kept in sync with the player.
                 */
                var currentTimeSeekBar = 0;
                var currentTimePlayer = 0;
                var updateIntervalMs = 50;
                var currentTimeUpdateDeltaSecs = updateIntervalMs / 1000;
                this.smoothPlaybackPositionUpdater = new timeout_1.Timeout(
                  updateIntervalMs,
                  function () {
                    if (_this.isSeeking()) {
                      return;
                    }
                    currentTimeSeekBar += currentTimeUpdateDeltaSecs;
                    try {
                      currentTimePlayer = _this.getRelativeCurrentTime();
                    } catch (error) {
                      // Detect if the player has been destroyed and stop updating if so
                      if (
                        error instanceof
                        player.exports.PlayerAPINotAvailableError
                      ) {
                        _this.smoothPlaybackPositionUpdater.clear();
                      }
                      // If the current time cannot be read it makes no sense to continue
                      return;
                    }
                    // Sync currentTime of seekbar to player
                    var currentTimeDelta =
                      currentTimeSeekBar - currentTimePlayer;
                    // If the delta is larger that 2 secs, directly jump the seekbar to the
                    // player time instead of smoothly fast forwarding/rewinding.
                    if (Math.abs(currentTimeDelta) > 2) {
                      currentTimeSeekBar = currentTimePlayer;
                    }
                    // If currentTimeDelta is negative and below the adjustment threshold,
                    // the player is ahead of the seekbar and we 'fast forward' the seekbar
                    else if (currentTimeDelta <= -currentTimeUpdateDeltaSecs) {
                      currentTimeSeekBar += currentTimeUpdateDeltaSecs;
                    }
                    // If currentTimeDelta is positive and above the adjustment threshold,
                    // the player is behind the seekbar and we 'rewind' the seekbar
                    else if (currentTimeDelta >= currentTimeUpdateDeltaSecs) {
                      currentTimeSeekBar -= currentTimeUpdateDeltaSecs;
                    }
                    var playbackPositionPercentage =
                      (100 / player.getDuration()) * currentTimeSeekBar;
                    _this.setPlaybackPosition(playbackPositionPercentage);
                  },
                  true
                );
                var startSmoothPlaybackPositionUpdater = function () {
                  if (!player.isLive()) {
                    currentTimeSeekBar = _this.getRelativeCurrentTime();
                    _this.smoothPlaybackPositionUpdater.start();
                  }
                };
                var stopSmoothPlaybackPositionUpdater = function () {
                  _this.smoothPlaybackPositionUpdater.clear();
                };
                player.on(
                  player.exports.PlayerEvent.Play,
                  startSmoothPlaybackPositionUpdater
                );
                player.on(
                  player.exports.PlayerEvent.Playing,
                  startSmoothPlaybackPositionUpdater
                );
                player.on(
                  player.exports.PlayerEvent.Paused,
                  stopSmoothPlaybackPositionUpdater
                );
                player.on(
                  player.exports.PlayerEvent.PlaybackFinished,
                  stopSmoothPlaybackPositionUpdater
                );
                player.on(player.exports.PlayerEvent.Seeked, function () {
                  currentTimeSeekBar = _this.getRelativeCurrentTime();
                });
                player.on(
                  player.exports.PlayerEvent.SourceUnloaded,
                  stopSmoothPlaybackPositionUpdater
                );
                if (player.isPlaying()) {
                  startSmoothPlaybackPositionUpdater();
                }
              };
            SeekBar.prototype.getRelativeCurrentTime = function () {
              return playerutils_1.PlayerUtils.getCurrentTimeRelativeToSeekableRange(
                this.player
              );
            };
            SeekBar.prototype.release = function () {
              _super.prototype.release.call(this);
              if (this.smoothPlaybackPositionUpdater) {
                // object must not necessarily exist, e.g. in volume slider subclass
                this.smoothPlaybackPositionUpdater.clear();
              }
              if (this.pausedTimeshiftUpdater) {
                this.pausedTimeshiftUpdater.clear();
              }
              if (this.config.enableSeekPreview) {
                this.onSeekPreview.unsubscribe(this.seekWhileScrubbing);
              }
            };
            SeekBar.prototype.toDomElement = function () {
              var _this = this;
              if (this.config.vertical) {
                this.config.cssClasses.push("vertical");
              }
              var seekBarContainer = new dom_1.DOM(
                "div",
                {
                  id: this.config.id,
                  class: this.getCssClasses(),
                  role: "slider",
                  "aria-label": i18n_1.i18n.performLocalization(
                    this.config.ariaLabel
                  ),
                  tabindex: this.config.tabIndex.toString(),
                },
                this
              );
              var seekBar = new dom_1.DOM("div", {
                class: this.prefixCss("seekbar"),
              });
              this.seekBar = seekBar;
              // Indicator that shows the buffer fill level
              var seekBarBufferLevel = new dom_1.DOM("div", {
                class: this.prefixCss("seekbar-bufferlevel"),
              });
              this.seekBarBufferPosition = seekBarBufferLevel;
              // Indicator that shows the current playback position
              var seekBarPlaybackPosition = new dom_1.DOM("div", {
                class: this.prefixCss("seekbar-playbackposition"),
              });
              this.seekBarPlaybackPosition = seekBarPlaybackPosition;
              // A marker of the current playback position, e.g. a dot or line
              var seekBarPlaybackPositionMarker = new dom_1.DOM("div", {
                class: this.prefixCss("seekbar-playbackposition-marker"),
              });
              this.seekBarPlaybackPositionMarker =
                seekBarPlaybackPositionMarker;
              // Indicator that show where a seek will go to
              var seekBarSeekPosition = new dom_1.DOM("div", {
                class: this.prefixCss("seekbar-seekposition"),
              });
              this.seekBarSeekPosition = seekBarSeekPosition;
              // Indicator that shows the full seekbar
              var seekBarBackdrop = new dom_1.DOM("div", {
                class: this.prefixCss("seekbar-backdrop"),
              });
              this.seekBarBackdrop = seekBarBackdrop;
              var seekBarChapterMarkersContainer = new dom_1.DOM("div", {
                class: this.prefixCss("seekbar-markers"),
              });
              this.seekBarMarkersContainer = seekBarChapterMarkersContainer;
              seekBar.append(
                this.seekBarBackdrop,
                this.seekBarBufferPosition,
                this.seekBarSeekPosition,
                this.seekBarPlaybackPosition,
                this.seekBarMarkersContainer,
                this.seekBarPlaybackPositionMarker
              );
              var seeking = false;
              // Define handler functions so we can attach/remove them later
              var mouseTouchMoveHandler = function (e) {
                e.preventDefault();
                // Avoid propagation to VR handler
                if (_this.player.vr != null) {
                  e.stopPropagation();
                }
                var offset = _this.getOffset(e);
                var targetPercentage = 100 * offset;
                var seekPositionPx = offset * _this.seekBar.width();
                _this.setSeekPosition(targetPercentage);
                _this.setPlaybackPosition(targetPercentage);
                _this.onSeekPreviewEvent(
                  targetPercentage,
                  seekPositionPx,
                  true
                );
              };
              var mouseTouchUpHandler = function (e) {
                var _a;
                e.preventDefault();
                // Remove handlers, seek operation is finished
                new dom_1.DOM(document).off(
                  "touchmove mousemove",
                  mouseTouchMoveHandler
                );
                new dom_1.DOM(document).off(
                  "touchend mouseup",
                  mouseTouchUpHandler
                );
                var targetPercentage = 100 * _this.getOffset(e);
                if (_this.config.snappingEnabled) {
                  var matchingMarker =
                    (_a = _this.timelineMarkersHandler) === null ||
                    _a === void 0
                      ? void 0
                      : _a.getMarkerAtPosition(targetPercentage);
                  targetPercentage = matchingMarker
                    ? matchingMarker.position
                    : targetPercentage;
                }
                _this.setSeeking(false);
                seeking = false;
                // Fire seeked event
                _this.onSeekedEvent(targetPercentage);
              };
              // A seek always start with a touchstart or mousedown directly on the seekbar.
              // To track a mouse seek also outside the seekbar (for touch events this works automatically),
              // so the user does not need to take care that the mouse always stays on the seekbar, we attach the mousemove
              // and mouseup handlers to the whole document. A seek is triggered when the user lifts the mouse key.
              // A seek mouse gesture is thus basically a click with a long time frame between down and up events.
              seekBar.on("touchstart mousedown", function (e) {
                var isTouchEvent =
                  browserutils_1.BrowserUtils.isTouchSupported &&
                  _this.isTouchEvent(e);
                // Prevent selection of DOM elements (also prevents mousedown if current event is touchstart)
                e.preventDefault();
                // Avoid propagation to VR handler
                if (_this.player.vr != null) {
                  e.stopPropagation();
                }
                _this.setSeeking(true); // Set seeking class on DOM element
                seeking = true; // Set seek tracking flag
                // Fire seeked event
                _this.onSeekEvent();
                // Add handler to track the seek operation over the whole document
                new dom_1.DOM(document).on(
                  isTouchEvent ? "touchmove" : "mousemove",
                  mouseTouchMoveHandler
                );
                new dom_1.DOM(document).on(
                  isTouchEvent ? "touchend" : "mouseup",
                  mouseTouchUpHandler
                );
              });
              // Display seek target indicator when mouse hovers or finger slides over seekbar
              seekBar.on("touchmove mousemove", function (e) {
                e.preventDefault();
                if (seeking) {
                  mouseTouchMoveHandler(e);
                }
                var offset = _this.getOffset(e);
                var seekPositionPercentage = 100 * offset;
                var seekPositionPx = offset * _this.seekBar.width();
                _this.setSeekPosition(seekPositionPercentage);
                _this.onSeekPreviewEvent(
                  seekPositionPercentage,
                  seekPositionPx,
                  false
                );
                if (_this.hasLabel() && _this.getLabel().isHidden()) {
                  _this.getLabel().show();
                }
              });
              // Hide seek target indicator when mouse or finger leaves seekbar
              seekBar.on("touchend mouseleave", function (e) {
                e.preventDefault();
                _this.setSeekPosition(0);
                if (_this.hasLabel()) {
                  _this.getLabel().hide();
                }
              });
              seekBarContainer.append(seekBar);
              if (this.label) {
                seekBarContainer.append(this.label.getDomElement());
              }
              return seekBarContainer;
            };
            /**
             * Gets the horizontal offset of a mouse/touch event point from the left edge of the seek bar.
             * @param eventPageX the pageX coordinate of an event to calculate the offset from
             * @returns {number} a number in the range of [0, 1], where 0 is the left edge and 1 is the right edge
             */
            SeekBar.prototype.getHorizontalOffset = function (eventPageX) {
              var elementOffsetPx = this.seekBar.offset().left;
              var widthPx = this.seekBar.width();
              var offsetPx = eventPageX - elementOffsetPx;
              var offset = (1 / widthPx) * offsetPx;
              return this.sanitizeOffset(offset);
            };
            /**
             * Gets the vertical offset of a mouse/touch event point from the bottom edge of the seek bar.
             * @param eventPageY the pageX coordinate of an event to calculate the offset from
             * @returns {number} a number in the range of [0, 1], where 0 is the bottom edge and 1 is the top edge
             */
            SeekBar.prototype.getVerticalOffset = function (eventPageY) {
              var elementOffsetPx = this.seekBar.offset().top;
              var widthPx = this.seekBar.height();
              var offsetPx = eventPageY - elementOffsetPx;
              var offset = (1 / widthPx) * offsetPx;
              return 1 - this.sanitizeOffset(offset);
            };
            /**
             * Gets the mouse or touch event offset for the current configuration (horizontal or vertical).
             * @param e the event to calculate the offset from
             * @returns {number} a number in the range of [0, 1]
             * @see #getHorizontalOffset
             * @see #getVerticalOffset
             */
            SeekBar.prototype.getOffset = function (e) {
              if (
                browserutils_1.BrowserUtils.isTouchSupported &&
                this.isTouchEvent(e)
              ) {
                if (this.config.vertical) {
                  return this.getVerticalOffset(
                    e.type === "touchend"
                      ? e.changedTouches[0].pageY
                      : e.touches[0].pageY
                  );
                } else {
                  return this.getHorizontalOffset(
                    e.type === "touchend"
                      ? e.changedTouches[0].pageX
                      : e.touches[0].pageX
                  );
                }
              } else if (e instanceof MouseEvent) {
                if (this.config.vertical) {
                  return this.getVerticalOffset(e.pageY);
                } else {
                  return this.getHorizontalOffset(e.pageX);
                }
              } else {
                if (console) {
                  console.warn("invalid event");
                }
                return 0;
              }
            };
            /**
             * Sanitizes the mouse offset to the range of [0, 1].
             *
             * When tracking the mouse outside the seek bar, the offset can be outside the desired range and this method
             * limits it to the desired range. E.g. a mouse event left of the left edge of a seek bar yields an offset below
             * zero, but to display the seek target on the seek bar, we need to limit it to zero.
             *
             * @param offset the offset to sanitize
             * @returns {number} the sanitized offset.
             */
            SeekBar.prototype.sanitizeOffset = function (offset) {
              // Since we track mouse moves over the whole document, the target can be outside the seek range,
              // and we need to limit it to the [0, 1] range.
              if (offset < 0) {
                offset = 0;
              } else if (offset > 1) {
                offset = 1;
              }
              return offset;
            };
            /**
             * Sets the position of the playback position indicator.
             * @param percent a number between 0 and 100 as returned by the player
             */
            SeekBar.prototype.setPlaybackPosition = function (percent) {
              this.playbackPositionPercentage = percent;
              // Set position of the bar
              this.setPosition(this.seekBarPlaybackPosition, percent);
              // Set position of the marker
              var totalSize = this.config.vertical
                ? this.seekBar.height() -
                  this.seekBarPlaybackPositionMarker.height()
                : this.seekBar.width();
              var px = (totalSize / 100) * percent;
              if (this.config.vertical) {
                px =
                  this.seekBar.height() -
                  px -
                  this.seekBarPlaybackPositionMarker.height();
              }
              var style = this.config.vertical
                ? // -ms-transform required for IE9
                  // -webkit-transform required for Android 4.4 WebView
                  {
                    transform: "translateY(" + px + "px)",
                    "-ms-transform": "translateY(" + px + "px)",
                    "-webkit-transform": "translateY(" + px + "px)",
                  }
                : {
                    transform: "translateX(" + px + "px)",
                    "-ms-transform": "translateX(" + px + "px)",
                    "-webkit-transform": "translateX(" + px + "px)",
                  };
              this.seekBarPlaybackPositionMarker.css(style);
            };
            /**
             * Refreshes the playback position. Can be used by subclasses to refresh the position when
             * the size of the component changes.
             */
            SeekBar.prototype.refreshPlaybackPosition = function () {
              this.setPlaybackPosition(this.playbackPositionPercentage);
            };
            /**
             * Sets the position until which media is buffered.
             * @param percent a number between 0 and 100
             */
            SeekBar.prototype.setBufferPosition = function (percent) {
              this.setPosition(this.seekBarBufferPosition, percent);
            };
            /**
             * Sets the position where a seek, if executed, would jump to.
             * @param percent a number between 0 and 100
             */
            SeekBar.prototype.setSeekPosition = function (percent) {
              this.setPosition(this.seekBarSeekPosition, percent);
            };
            /**
             * Set the actual position (width or height) of a DOM element that represent a bar in the seek bar.
             * @param element the element to set the position for
             * @param percent a number between 0 and 100
             */
            SeekBar.prototype.setPosition = function (element, percent) {
              var scale = percent / 100;
              // When the scale is exactly 1 or very near 1 (and the browser internally rounds it to 1), browsers seem to render
              // the elements differently and the height gets slightly off, leading to mismatching heights when e.g. the buffer
              // level bar has a width of 1 and the playback position bar has a width < 1. A jittering buffer level around 1
              // leads to an even worse flickering effect.
              // Various changes in CSS styling and DOM hierarchy did not solve the issue so the workaround is to avoid a scale
              // of exactly 1.
              if (scale >= 0.99999 && scale <= 1.00001) {
                scale = 0.99999;
              }
              var style = this.config.vertical
                ? // -ms-transform required for IE9
                  // -webkit-transform required for Android 4.4 WebView
                  {
                    transform: "scaleY(" + scale + ")",
                    "-ms-transform": "scaleY(" + scale + ")",
                    "-webkit-transform": "scaleY(" + scale + ")",
                  }
                : {
                    transform: "scaleX(" + scale + ")",
                    "-ms-transform": "scaleX(" + scale + ")",
                    "-webkit-transform": "scaleX(" + scale + ")",
                  };
              element.css(style);
            };
            /**
             * Puts the seek bar into or out of seeking state by adding/removing a class to the DOM element. This can be used
             * to adjust the styling while seeking.
             *
             * @param seeking should be true when entering seek state, false when exiting the seek state
             */
            SeekBar.prototype.setSeeking = function (seeking) {
              if (seeking) {
                this.getDomElement().addClass(
                  this.prefixCss(SeekBar.CLASS_SEEKING)
                );
              } else {
                this.getDomElement().removeClass(
                  this.prefixCss(SeekBar.CLASS_SEEKING)
                );
              }
            };
            /**
             * Checks if the seek bar is currently in the seek state.
             * @returns {boolean} true if in seek state, else false
             */
            SeekBar.prototype.isSeeking = function () {
              return this.getDomElement().hasClass(
                this.prefixCss(SeekBar.CLASS_SEEKING)
              );
            };
            /**
             * Checks if the seek bar has a {@link SeekBarLabel}.
             * @returns {boolean} true if the seek bar has a label, else false
             */
            SeekBar.prototype.hasLabel = function () {
              return this.label != null;
            };
            /**
             * Gets the label of this seek bar.
             * @returns {SeekBarLabel} the label if this seek bar has a label, else null
             */
            SeekBar.prototype.getLabel = function () {
              return this.label;
            };
            SeekBar.prototype.onSeekEvent = function () {
              this.seekBarEvents.onSeek.dispatch(this);
            };
            SeekBar.prototype.onSeekPreviewEvent = function (
              percentage,
              targetOffsetPx,
              scrubbing
            ) {
              var snappedMarker =
                this.timelineMarkersHandler &&
                this.timelineMarkersHandler.getMarkerAtPosition(percentage);
              var seekPositionPercentage = percentage;
              if (snappedMarker) {
                if (snappedMarker.duration > 0) {
                  if (percentage < snappedMarker.position) {
                    // Snap the position to the start of the interval if the seek is within the left snap margin
                    // We know that we are within a snap margin when we are outside the marker interval but still
                    // have a snappedMarker
                    seekPositionPercentage = snappedMarker.position;
                  } else if (
                    percentage >
                    snappedMarker.position + snappedMarker.duration
                  ) {
                    // Snap the position to the end of the interval if the seek is within the right snap margin
                    seekPositionPercentage =
                      snappedMarker.position + snappedMarker.duration;
                  }
                } else {
                  // Position markers always snap to their marker position
                  seekPositionPercentage = snappedMarker.position;
                }
              }
              if (this.label) {
                this.updateLabelPosition(targetOffsetPx);
              }
              this.seekBarEvents.onSeekPreview.dispatch(this, {
                scrubbing: scrubbing,
                position: seekPositionPercentage,
                marker: snappedMarker,
              });
            };
            SeekBar.prototype.onSeekedEvent = function (percentage) {
              this.seekBarEvents.onSeeked.dispatch(this, percentage);
            };
            Object.defineProperty(SeekBar.prototype, "onSeek", {
              /**
               * Gets the event that is fired when a scrubbing seek operation is started.
               * @returns {Event<SeekBar, NoArgs>}
               */
              get: function () {
                return this.seekBarEvents.onSeek.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(SeekBar.prototype, "onSeekPreview", {
              /**
               * Gets the event that is fired during a scrubbing seek (to indicate that the seek preview, i.e. the video frame,
               * should be updated), or during a normal seek preview when the seek bar is hovered (and the seek target,
               * i.e. the seek bar label, should be updated).
               * @returns {Event<SeekBar, SeekPreviewEventArgs>}
               */
              get: function () {
                return this.seekBarEvents.onSeekPreview.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(SeekBar.prototype, "onSeeked", {
              /**
               * Gets the event that is fired when a scrubbing seek has finished or when a direct seek is issued.
               * @returns {Event<SeekBar, number>}
               */
              get: function () {
                return this.seekBarEvents.onSeeked.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            SeekBar.prototype.onShowEvent = function () {
              _super.prototype.onShowEvent.call(this);
              // Refresh the position of the playback position when the seek bar becomes visible. To correctly set the position,
              // the DOM element must be fully initialized an have its size calculated, because the position is set as an absolute
              // value calculated from the size. This required size is not known when it is hidden.
              // For such cases, we refresh the position here in onShow because here it is guaranteed that the component knows
              // its size and can set the position correctly.
              this.refreshPlaybackPosition();
            };
            /**
             * Checks if TouchEvent is supported.
             * @returns {boolean} true if TouchEvent not undefined, else false
             */
            SeekBar.prototype.isTouchEvent = function (e) {
              return window.TouchEvent && e instanceof TouchEvent;
            };
            SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED = -1;
            /**
             * The CSS class that is added to the DOM element while the seek bar is in 'seeking' state.
             */
            SeekBar.CLASS_SEEKING = "seeking";
            return SeekBar;
          })(component_1.Component);
          exports.SeekBar = SeekBar;
        },
        {
          "../browserutils": 3,
          "../dom": 84,
          "../eventdispatcher": 86,
          "../localization/i18n": 91,
          "../playerutils": 98,
          "../stringutils": 111,
          "../timeout": 113,
          "./../groupplaybackapi": 88,
          "./component": 18,
          "./seekbarbufferlevel": 41,
          "./seekbarcontroller": 42,
          "./timelinemarkershandler": 72,
        },
      ],
      41: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.getMinBufferLevel = getMinBufferLevel;
          function getMinBufferLevel(player) {
            var playerDuration = player.getDuration();
            var videoBufferLength = player.getVideoBufferLength();
            var audioBufferLength = player.getAudioBufferLength();
            // Calculate the buffer length which is the smaller length of the audio and video buffers. If one of these
            // buffers is not available, we set it's value to MAX_VALUE to make sure that the other real value is taken
            // as the buffer length.
            var bufferLength = Math.min(
              videoBufferLength != null ? videoBufferLength : Number.MAX_VALUE,
              audioBufferLength != null ? audioBufferLength : Number.MAX_VALUE
            );
            // If both buffer lengths are missing, we set the buffer length to zero
            if (bufferLength === Number.MAX_VALUE) {
              bufferLength = 0;
            }
            return (100 / playerDuration) * bufferLength;
          }
        },
        {},
      ],
      42: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SeekBarController = exports.SeekBarType = void 0;
          var uiutils_1 = require("../uiutils");
          var SeekBarType;
          (function (SeekBarType) {
            SeekBarType[(SeekBarType["Vod"] = 0)] = "Vod";
            SeekBarType[(SeekBarType["Live"] = 1)] = "Live";
            SeekBarType[(SeekBarType["Volume"] = 2)] = "Volume";
          })(SeekBarType || (exports.SeekBarType = SeekBarType = {}));
          var coerceValueIntoRange = function (value, range, cb) {
            if (value < range.min) {
              cb(range.min);
            } else if (value > range.max) {
              cb(range.max);
            } else {
              cb(value);
            }
          };
          /**
           * @category Utils
           */
          var SeekBarController = /** @class */ (function () {
            function SeekBarController(
              keyStepIncrements,
              player,
              volumeController
            ) {
              this.keyStepIncrements = keyStepIncrements;
              this.player = player;
              this.volumeController = volumeController;
            }
            SeekBarController.prototype.arrowKeyControls = function (
              currentValue,
              range,
              valueUpdate
            ) {
              var _this = this;
              var controlValue = Math.floor(currentValue);
              return {
                left: function () {
                  return coerceValueIntoRange(
                    controlValue - _this.keyStepIncrements.leftRight,
                    range,
                    valueUpdate
                  );
                },
                right: function () {
                  return coerceValueIntoRange(
                    controlValue + _this.keyStepIncrements.leftRight,
                    range,
                    valueUpdate
                  );
                },
                up: function () {
                  return coerceValueIntoRange(
                    controlValue + _this.keyStepIncrements.upDown,
                    range,
                    valueUpdate
                  );
                },
                down: function () {
                  return coerceValueIntoRange(
                    controlValue - _this.keyStepIncrements.upDown,
                    range,
                    valueUpdate
                  );
                },
                home: function () {
                  return coerceValueIntoRange(range.min, range, valueUpdate);
                },
                end: function () {
                  return coerceValueIntoRange(range.max, range, valueUpdate);
                },
              };
            };
            SeekBarController.prototype.seekBarControls = function (type) {
              if (type === SeekBarType.Live) {
                // eslint-disable-next-line @typescript-eslint/unbound-method
                return this.arrowKeyControls(
                  this.player.getTimeShift(),
                  { min: this.player.getMaxTimeShift(), max: 0 },
                  this.player.timeShift
                );
              } else if (type === SeekBarType.Vod) {
                // eslint-disable-next-line @typescript-eslint/unbound-method
                return this.arrowKeyControls(
                  this.player.getCurrentTime(),
                  { min: 0, max: this.player.getDuration() },
                  this.player.seek
                );
              } else if (
                type === SeekBarType.Volume &&
                this.volumeController != null
              ) {
                var volumeTransition = this.volumeController.startTransition();
                return this.arrowKeyControls(
                  this.player.getVolume(),
                  { min: 0, max: 100 },
                  volumeTransition.finish.bind(volumeTransition)
                );
              }
            };
            SeekBarController.prototype.setSeekBarControls = function (
              domElement,
              type
            ) {
              var _this = this;
              domElement.on("keydown", function (e) {
                var controls = _this.seekBarControls(type());
                switch (e.keyCode) {
                  case uiutils_1.UIUtils.KeyCode.LeftArrow: {
                    controls.left();
                    e.preventDefault();
                    break;
                  }
                  case uiutils_1.UIUtils.KeyCode.RightArrow: {
                    controls.right();
                    e.preventDefault();
                    break;
                  }
                  case uiutils_1.UIUtils.KeyCode.UpArrow: {
                    controls.up();
                    e.preventDefault();
                    break;
                  }
                  case uiutils_1.UIUtils.KeyCode.DownArrow: {
                    controls.down();
                    e.preventDefault();
                    break;
                  }
                  case uiutils_1.UIUtils.KeyCode.Home: {
                    controls.home();
                    e.preventDefault();
                    break;
                  }
                  case uiutils_1.UIUtils.KeyCode.End: {
                    controls.end();
                    e.preventDefault();
                    break;
                  }
                  case uiutils_1.UIUtils.KeyCode.Space: {
                    _this.player.isPlaying()
                      ? _this.player.pause()
                      : _this.player.play();
                    e.preventDefault();
                    break;
                  }
                }
              });
            };
            return SeekBarController;
          })();
          exports.SeekBarController = SeekBarController;
        },
        { "../uiutils": 117 },
      ],
      43: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SeekBarLabel = void 0;
          var container_1 = require("./container");
          var label_1 = require("./label");
          var component_1 = require("./component");
          var stringutils_1 = require("../stringutils");
          var imageloader_1 = require("../imageloader");
          var playerutils_1 = require("../playerutils");
          /**
           * A label for a {@link SeekBar} that can display the seek target time, a thumbnail, and title (e.g. chapter title).
           *
           * @category Components
           */
          var SeekBarLabel = /** @class */ (function (_super) {
            __extends(SeekBarLabel, _super);
            function SeekBarLabel(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.appliedMarkerCssClasses = [];
              _this.handleSeekPreview = function (sender, args) {
                if (_this.player.isLive()) {
                  var maxTimeShift = _this.player.getMaxTimeShift();
                  var timeShiftPreview =
                    maxTimeShift - maxTimeShift * (args.position / 100);
                  _this.setTime(timeShiftPreview);
                  // In case of a live stream the player expects the time passed into the getThumbnail as a wallClockTime and not
                  // as a relative timeShift value.
                  var convertTimeShiftPreviewToWallClockTime = function (
                    targetTimeShift
                  ) {
                    var currentTimeShift = _this.player.getTimeShift();
                    var currentTime = _this.player.getCurrentTime();
                    var wallClockTimeOfLiveEdge =
                      currentTime - currentTimeShift;
                    return wallClockTimeOfLiveEdge + targetTimeShift;
                  };
                  var wallClockTime =
                    convertTimeShiftPreviewToWallClockTime(timeShiftPreview);
                  _this.setThumbnail(_this.player.getThumbnail(wallClockTime));
                } else {
                  var time = _this.player.getDuration() * (args.position / 100);
                  _this.setTime(time);
                  var seekableRangeStart =
                    playerutils_1.PlayerUtils.getSeekableRangeStart(
                      _this.player,
                      0
                    );
                  var absoluteSeekTarget = time + seekableRangeStart;
                  _this.setThumbnail(
                    _this.player.getThumbnail(absoluteSeekTarget)
                  );
                }
                if (args.marker) {
                  _this.setTitleText(args.marker.marker.title);
                } else {
                  _this.setTitleText(null);
                }
                // Remove CSS classes from previous marker
                if (_this.appliedMarkerCssClasses.length > 0) {
                  _this
                    .getDomElement()
                    .removeClass(_this.appliedMarkerCssClasses.join(" "));
                  _this.appliedMarkerCssClasses = [];
                }
                // Add CSS classes of current marker
                if (args.marker) {
                  var cssClasses = (args.marker.marker.cssClasses || []).map(
                    function (cssClass) {
                      return _this.prefixCss(cssClass);
                    }
                  );
                  _this.getDomElement().addClass(cssClasses.join(" "));
                  _this.appliedMarkerCssClasses = cssClasses;
                }
              };
              _this.timeLabel = new label_1.Label({
                cssClasses: ["seekbar-label-time"],
              });
              _this.titleLabel = new label_1.Label({
                cssClasses: ["seekbar-label-title"],
              });
              _this.thumbnail = new component_1.Component({
                cssClasses: ["seekbar-thumbnail"],
                role: "img",
              });
              _this.thumbnailImageLoader = new imageloader_1.ImageLoader();
              _this.container = new container_1.Container({
                components: [
                  _this.thumbnail,
                  new container_1.Container({
                    components: [_this.titleLabel, _this.timeLabel],
                    cssClass: "seekbar-label-metadata",
                  }),
                ],
                cssClass: "seekbar-label-inner",
              });
              _this.caret = new label_1.Label({
                cssClasses: ["seekbar-label-caret"],
              });
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-seekbar-label",
                  components: [_this.container, _this.caret],
                  hidden: true,
                },
                _this.config
              );
              return _this;
            }
            SeekBarLabel.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.player = player;
              this.uiManager = uimanager;
              uimanager.onSeekPreview.subscribeRateLimited(
                this.handleSeekPreview,
                100
              );
              var init = function () {
                // Set time format depending on source duration
                _this.timeFormat =
                  Math.abs(
                    player.isLive()
                      ? player.getMaxTimeShift()
                      : player.getDuration()
                  ) >= 3600
                    ? stringutils_1.StringUtils.FORMAT_HHMMSS
                    : stringutils_1.StringUtils.FORMAT_MMSS;
                // Set initial state of title and thumbnail to handle sourceLoaded when switching to a live-stream
                _this.setTitleText(null);
                _this.setThumbnail(null);
              };
              uimanager.getConfig().events.onUpdated.subscribe(init);
              init();
            };
            SeekBarLabel.prototype.setPositionInBounds = function (
              seekPositionPx,
              bounds
            ) {
              this.getDomElement().css("left", seekPositionPx + "px");
              // Check parent container as it has a padding that needs to be considered
              var labelBounding = this.container
                .getDomElement()
                .get(0)
                .parentElement.getBoundingClientRect();
              var preventOverflowOffset = 0;
              if (labelBounding.right > bounds.right) {
                preventOverflowOffset = labelBounding.right - bounds.right;
              } else if (labelBounding.left < bounds.left) {
                preventOverflowOffset = labelBounding.left - bounds.left;
              }
              if (preventOverflowOffset !== 0) {
                this.getDomElement().css(
                  "left",
                  seekPositionPx - preventOverflowOffset + "px"
                );
                this.caret
                  .getDomElement()
                  .css(
                    "transform",
                    "translateX(".concat(preventOverflowOffset, "px)")
                  );
              } else {
                this.caret.getDomElement().css("transform", null);
              }
            };
            /**
             * Sets arbitrary text on the label.
             * @param text the text to show on the label
             */
            SeekBarLabel.prototype.setText = function (text) {
              this.timeLabel.setText(text);
            };
            /**
             * Sets a time to be displayed on the label.
             * @param seconds the time in seconds to display on the label
             */
            SeekBarLabel.prototype.setTime = function (seconds) {
              this.setText(
                stringutils_1.StringUtils.secondsToTime(
                  seconds,
                  this.timeFormat
                )
              );
            };
            /**
             * Sets the text on the title label.
             * @param text the text to show on the label
             */
            SeekBarLabel.prototype.setTitleText = function (text) {
              if (text === void 0) {
                text = "";
              }
              this.titleLabel.setText(text);
            };
            /**
             * Sets or removes a thumbnail on the label.
             * @param thumbnail the thumbnail to display on the label or null to remove a displayed thumbnail
             */
            SeekBarLabel.prototype.setThumbnail = function (thumbnail) {
              var _this = this;
              if (thumbnail === void 0) {
                thumbnail = null;
              }
              var thumbnailElement = this.thumbnail.getDomElement();
              if (thumbnail == null) {
                thumbnailElement.css({
                  "background-image": null,
                  display: null,
                  width: null,
                  height: null,
                });
              } else {
                // We use the thumbnail image loader to make sure the thumbnail is loaded and it's size is known before be can
                // calculate the CSS properties and set them on the element.
                this.thumbnailImageLoader.load(
                  thumbnail.url,
                  function (url, width, height) {
                    // can be checked like that because x/y/w/h are either all present or none
                    // https://www.w3.org/TR/media-frags/#naming-space
                    if (thumbnail.x !== undefined) {
                      thumbnailElement.css(
                        _this.thumbnailCssSprite(thumbnail, width, height)
                      );
                    } else {
                      thumbnailElement.css(
                        _this.thumbnailCssSingleImage(thumbnail, width, height)
                      );
                    }
                  }
                );
              }
            };
            SeekBarLabel.prototype.thumbnailCssSprite = function (
              thumbnail,
              width,
              height
            ) {
              var thumbnailCountX = width / thumbnail.width;
              var thumbnailCountY = height / thumbnail.height;
              var thumbnailIndexX = thumbnail.x / thumbnail.width;
              var thumbnailIndexY = thumbnail.y / thumbnail.height;
              var sizeX = 100 * thumbnailCountX;
              var sizeY = 100 * thumbnailCountY;
              var offsetX = 100 * thumbnailIndexX;
              var offsetY = 100 * thumbnailIndexY;
              var aspectRatio = (1 / thumbnail.width) * thumbnail.height;
              // The thumbnail size is set by setting the CSS 'width' and 'padding-bottom' properties. 'padding-bottom' is
              // used because it is relative to the width and can be used to set the aspect ratio of the thumbnail.
              // A default value for width is set in the stylesheet and can be overwritten from there or anywhere else.
              return {
                display: "inherit",
                "background-image": "url(".concat(thumbnail.url, ")"),
                "padding-bottom": "".concat(100 * aspectRatio, "%"),
                "background-size": "".concat(sizeX, "% ").concat(sizeY, "%"),
                "background-position": "-"
                  .concat(offsetX, "% -")
                  .concat(offsetY, "%"),
              };
            };
            SeekBarLabel.prototype.thumbnailCssSingleImage = function (
              thumbnail,
              width,
              height
            ) {
              var aspectRatio = (1 / width) * height;
              return {
                display: "inherit",
                "background-image": "url(".concat(thumbnail.url, ")"),
                "padding-bottom": "".concat(100 * aspectRatio, "%"),
                "background-size": "100% 100%",
                "background-position": "0 0",
              };
            };
            SeekBarLabel.prototype.release = function () {
              _super.prototype.release.call(this);
              this.uiManager.onSeekPreview.unsubscribe(this.handleSeekPreview);
            };
            return SeekBarLabel;
          })(container_1.Container);
          exports.SeekBarLabel = SeekBarLabel;
        },
        {
          "../imageloader": 90,
          "../playerutils": 98,
          "../stringutils": 111,
          "./component": 18,
          "./container": 19,
          "./label": 28,
        },
      ],
      44: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SelectBox = void 0;
          var listselector_1 = require("./listselector");
          var dom_1 = require("../dom");
          var i18n_1 = require("../localization/i18n");
          var playerutils_1 = require("../playerutils");
          var component_1 = require("./component");
          var DocumentDropdownClosedEvents = [
            "mousemove",
            "mouseenter",
            "mouseleave",
            "touchstart",
            "touchmove",
            "touchend",
            "pointermove",
            "click",
            "keydown",
            "keypress",
            "keyup",
            "blur",
          ];
          var SelectDropdownClosedEvents = ["change", "keyup", "mouseup"];
          var DropdownOpenedEvents = [
            [
              "click",
              function () {
                return true;
              },
            ],
            [
              "keydown",
              function (event) {
                return [" ", "ArrowUp", "ArrowDown"].includes(event.key);
              },
            ],
            [
              "mousedown",
              function () {
                return true;
              },
            ],
          ];
          var Timeout = 100;
          /**
           * A simple select box providing the possibility to select a single item out of a list of available items.
           *
           * DOM example:
           * <code>
           *     <select class='ui-selectbox'>
           *         <option value='key'>label</option>
           *         ...
           *     </select>
           * </code>
           *
           * @category Components
           */
          var SelectBox = /** @class */ (function (_super) {
            __extends(SelectBox, _super);
            function SelectBox(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.dropdownCloseListenerTimeoutId = 0;
              _this.removeDropdownCloseListeners = function () {};
              _this.removeDropdownOpenedListeners = function () {};
              _this.onChange = function () {
                var value = _this.selectElement.val();
                _this.onItemSelectedEvent(value, false);
              };
              _this.closeDropdown = function () {
                var select = _this.getSelectElement();
                if (select === undefined) {
                  return;
                }
                select.blur();
              };
              _this.onPlayerStateChange = function (_, state) {
                if (
                  [
                    playerutils_1.PlayerUtils.PlayerState.Idle,
                    playerutils_1.PlayerUtils.PlayerState.Finished,
                  ].includes(state)
                ) {
                  _this.closeDropdown();
                }
              };
              _this.onDropdownOpened = function () {
                clearTimeout(_this.dropdownCloseListenerTimeoutId);
                _this.dropdownCloseListenerTimeoutId = window.setTimeout(
                  function () {
                    return _this.addDropdownCloseListeners();
                  },
                  Timeout
                );
                _this.onViewModeChangedEvent(component_1.ViewMode.Persistent);
              };
              _this.onDropdownClosed = function () {
                clearTimeout(_this.dropdownCloseListenerTimeoutId);
                _this.removeDropdownCloseListeners();
                _this.onViewModeChangedEvent(component_1.ViewMode.Temporary);
              };
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-selectbox",
                },
                _this.config
              );
              return _this;
            }
            SelectBox.prototype.toDomElement = function () {
              this.selectElement = new dom_1.DOM(
                "select",
                {
                  id: this.config.id,
                  class: this.getCssClasses(),
                  "aria-label": i18n_1.i18n.performLocalization(
                    this.config.ariaLabel
                  ),
                },
                this
              );
              this.onDisabled.subscribe(this.closeDropdown);
              this.onHide.subscribe(this.closeDropdown);
              this.addDropdownOpenedListeners();
              this.updateDomItems();
              this.selectElement.on("change", this.onChange);
              return this.selectElement;
            };
            SelectBox.prototype.configure = function (player, uimanager) {
              var _a;
              _super.prototype.configure.call(this, player, uimanager);
              this.uiContainer = uimanager.getUI();
              (_a = this.uiContainer) === null || _a === void 0
                ? void 0
                : _a.onPlayerStateChange().subscribe(this.onPlayerStateChange);
            };
            SelectBox.prototype.getSelectElement = function () {
              var _a, _b;
              return (_b =
                (_a = this.selectElement) === null || _a === void 0
                  ? void 0
                  : _a.get()) === null || _b === void 0
                ? void 0
                : _b[0];
            };
            SelectBox.prototype.updateDomItems = function (selectedValue) {
              if (selectedValue === void 0) {
                selectedValue = null;
              }
              if (this.selectElement === undefined) {
                return;
              }
              // Delete all children
              this.selectElement.empty();
              // Add updated children
              for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
                var item = _a[_i];
                var optionElement = new dom_1.DOM("option", {
                  value: String(item.key),
                }).html(i18n_1.i18n.performLocalization(item.label));
                if (item.key === String(selectedValue)) {
                  // convert selectedValue to string to catch 'null'/null case
                  optionElement.attr("selected", "selected");
                }
                this.selectElement.append(optionElement);
              }
            };
            SelectBox.prototype.onItemAddedEvent = function (value) {
              _super.prototype.onItemAddedEvent.call(this, value);
              this.updateDomItems(this.selectedItem);
            };
            SelectBox.prototype.onItemRemovedEvent = function (value) {
              _super.prototype.onItemRemovedEvent.call(this, value);
              this.updateDomItems(this.selectedItem);
            };
            SelectBox.prototype.onItemSelectedEvent = function (
              value,
              updateDomItems
            ) {
              if (updateDomItems === void 0) {
                updateDomItems = true;
              }
              _super.prototype.onItemSelectedEvent.call(this, value);
              if (updateDomItems) {
                this.updateDomItems(value);
              }
            };
            SelectBox.prototype.addDropdownCloseListeners = function () {
              var _this = this;
              this.removeDropdownCloseListeners();
              clearTimeout(this.dropdownCloseListenerTimeoutId);
              DocumentDropdownClosedEvents.forEach(function (event) {
                return document.addEventListener(
                  event,
                  _this.onDropdownClosed,
                  true
                );
              });
              SelectDropdownClosedEvents.forEach(function (event) {
                return _this.selectElement.on(
                  event,
                  _this.onDropdownClosed,
                  true
                );
              });
              this.removeDropdownCloseListeners = function () {
                DocumentDropdownClosedEvents.forEach(function (event) {
                  return document.removeEventListener(
                    event,
                    _this.onDropdownClosed,
                    true
                  );
                });
                SelectDropdownClosedEvents.forEach(function (event) {
                  return _this.selectElement.off(
                    event,
                    _this.onDropdownClosed,
                    true
                  );
                });
              };
            };
            SelectBox.prototype.addDropdownOpenedListeners = function () {
              var _this = this;
              var removeListenerFunctions = [];
              this.removeDropdownOpenedListeners();
              var _loop_1 = function (event_1, filter) {
                var listener = function (event) {
                  if (filter(event)) {
                    _this.onDropdownOpened();
                  }
                };
                removeListenerFunctions.push(function () {
                  return _this.selectElement.off(event_1, listener, true);
                });
                this_1.selectElement.on(event_1, listener, true);
              };
              var this_1 = this;
              for (
                var _i = 0, DropdownOpenedEvents_1 = DropdownOpenedEvents;
                _i < DropdownOpenedEvents_1.length;
                _i++
              ) {
                var _a = DropdownOpenedEvents_1[_i],
                  event_1 = _a[0],
                  filter = _a[1];
                _loop_1(event_1, filter);
              }
              this.removeDropdownOpenedListeners = function () {
                for (
                  var _i = 0,
                    removeListenerFunctions_1 = removeListenerFunctions;
                  _i < removeListenerFunctions_1.length;
                  _i++
                ) {
                  var remove = removeListenerFunctions_1[_i];
                  remove();
                }
              };
            };
            SelectBox.prototype.release = function () {
              _super.prototype.release.call(this);
              this.removeDropdownCloseListeners();
              this.removeDropdownOpenedListeners();
              clearTimeout(this.dropdownCloseListenerTimeoutId);
            };
            return SelectBox;
          })(listselector_1.ListSelector);
          exports.SelectBox = SelectBox;
        },
        {
          "../dom": 84,
          "../localization/i18n": 91,
          "../playerutils": 98,
          "./component": 18,
          "./listselector": 30,
        },
      ],
      45: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SettingsPanel = void 0;
          var container_1 = require("./container");
          var selectbox_1 = require("./selectbox");
          var timeout_1 = require("../timeout");
          var eventdispatcher_1 = require("../eventdispatcher");
          var settingspanelpage_1 = require("./settingspanelpage");
          var NavigationDirection;
          (function (NavigationDirection) {
            NavigationDirection[(NavigationDirection["Forwards"] = 0)] =
              "Forwards";
            NavigationDirection[(NavigationDirection["Backwards"] = 1)] =
              "Backwards";
          })(NavigationDirection || (NavigationDirection = {}));
          /**
           * A panel containing a list of {@link SettingsPanelPage items}.
           *
           * To configure pages just pass them in the components array.
           *
           * Example:
           *  let settingsPanel = new SettingsPanel({
           *    hidden: true,
           *  });
           *
           *  let settingsPanelPage = new SettingsPanelPage({
           *    components: […]
           *  });
           *
           *  let secondSettingsPanelPage = new SettingsPanelPage({
           *    components: […]
           *  });
           *
           *  settingsPanel.addComponent(settingsPanelPage);
           *  settingsPanel.addComponent(secondSettingsPanelPage);
           *
           * For an example how to navigate between pages @see SettingsPanelPageNavigatorButton
           *
           * @category Components
           */
          var SettingsPanel = /** @class */ (function (_super) {
            __extends(SettingsPanel, _super);
            function SettingsPanel(config) {
              var _this = _super.call(this, config) || this;
              _this.navigationStack = [];
              _this.settingsPanelEvents = {
                onSettingsStateChanged: new eventdispatcher_1.EventDispatcher(),
              };
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-settings-panel",
                  hideDelay: 3000,
                  pageTransitionAnimation: true,
                },
                _this.config
              );
              _this.activePage = _this.getRootPage();
              return _this;
            }
            SettingsPanel.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              uimanager.onControlsHide.subscribe(function () {
                return _this.hideHoveredSelectBoxes();
              });
              uimanager.onComponentViewModeChanged.subscribe(function (_, _a) {
                var mode = _a.mode;
                return _this.trackComponentViewMode(mode);
              });
              if (config.hideDelay > -1) {
                this.hideTimeout = new timeout_1.Timeout(
                  config.hideDelay,
                  function () {
                    _this.hide();
                    _this.hideHoveredSelectBoxes();
                  }
                );
                this.getDomElement().on("mouseenter", function () {
                  // On mouse enter clear the timeout
                  _this.hideTimeout.clear();
                });
                this.getDomElement().on("mouseleave", function () {
                  // On mouse leave activate the timeout
                  _this.hideTimeout.reset();
                });
                this.getDomElement().on("focusin", function () {
                  _this.hideTimeout.clear();
                });
                this.getDomElement().on("focusout", function () {
                  _this.hideTimeout.reset();
                });
              }
              this.onHide.subscribe(function () {
                if (config.hideDelay > -1) {
                  // Clear timeout when hidden from outside
                  _this.hideTimeout.clear();
                }
                // Since we don't reset the actual navigation here we need to simulate a onInactive event in case some panel
                // needs to do something when they become invisible / inactive.
                _this.activePage.onInactiveEvent();
              });
              this.onShow.subscribe(function () {
                // Reset navigation when te panel gets visible to avoid a weird animation when hiding
                _this.resetNavigation(true);
                // Since we don't need to navigate to the root page again we need to fire the onActive event when the settings
                // panel gets visible.
                _this.activePage.onActiveEvent();
                if (config.hideDelay > -1) {
                  // Activate timeout when shown
                  _this.hideTimeout.start();
                }
              });
              // pass event from root page through
              this.getRootPage().onSettingsStateChanged.subscribe(function () {
                _this.onSettingsStateChangedEvent();
              });
              this.updateActivePageClass();
            };
            /**
             * Returns the current active / visible page
             * @return {SettingsPanelPage}
             */
            SettingsPanel.prototype.getActivePage = function () {
              return this.activePage;
            };
            /**
             * Sets the
             * @deprecated Use {@link setActivePage} instead
             * @param index
             */
            SettingsPanel.prototype.setActivePageIndex = function (index) {
              this.setActivePage(this.getPages()[index]);
            };
            /**
             * Adds the passed page to the navigation stack and makes it visible.
             * Use {@link popSettingsPanelPage} to navigate backwards.
             *
             * Results in no-op if the target page is the current page.
             * @param targetPage
             */
            SettingsPanel.prototype.setActivePage = function (targetPage) {
              if (targetPage === this.getActivePage()) {
                console.warn(
                  "Page is already the current one ... skipping navigation"
                );
                return;
              }
              this.navigateToPage(
                targetPage,
                this.getActivePage(),
                NavigationDirection.Forwards,
                !this.config.pageTransitionAnimation
              );
            };
            /**
             * Resets the navigation stack by navigating back to the root page and displaying it.
             */
            SettingsPanel.prototype.popToRootSettingsPanelPage = function () {
              this.resetNavigation(this.config.pageTransitionAnimation);
            };
            /**
             * Removes the current page from the navigation stack and makes the previous one visible.
             * Results in a no-op if we are already on the root page.
             */
            SettingsPanel.prototype.popSettingsPanelPage = function () {
              if (this.navigationStack.length === 0) {
                console.warn(
                  "Already on the root page ... skipping navigation"
                );
                return;
              }
              var targetPage =
                this.navigationStack[this.navigationStack.length - 2];
              // The root part isn't part of the navigation stack so handle it explicitly here
              if (!targetPage) {
                targetPage = this.getRootPage();
              }
              this.navigateToPage(
                targetPage,
                this.activePage,
                NavigationDirection.Backwards,
                !this.config.pageTransitionAnimation
              );
            };
            /**
             * Checks if there are active settings within the root page of the settings panel.
             * An active setting is a setting that is visible and enabled, which the user can interact with.
             * @returns {boolean} true if there are active settings, false if the panel is functionally empty to a user
             */
            SettingsPanel.prototype.rootPageHasActiveSettings = function () {
              return this.getRootPage().hasActiveSettings();
            };
            /**
             * Return all configured pages
             * @returns {SettingsPanelPage[]}
             */
            SettingsPanel.prototype.getPages = function () {
              return this.config.components.filter(function (component) {
                return (
                  component instanceof settingspanelpage_1.SettingsPanelPage
                );
              });
            };
            Object.defineProperty(
              SettingsPanel.prototype,
              "onSettingsStateChanged",
              {
                get: function () {
                  return this.settingsPanelEvents.onSettingsStateChanged.getEvent();
                },
                enumerable: false,
                configurable: true,
              }
            );
            SettingsPanel.prototype.release = function () {
              _super.prototype.release.call(this);
              if (this.hideTimeout) {
                this.hideTimeout.clear();
              }
            };
            // Support adding settingsPanelPages after initialization
            SettingsPanel.prototype.addComponent = function (component) {
              if (
                this.getPages().length === 0 &&
                component instanceof settingspanelpage_1.SettingsPanelPage
              ) {
                this.activePage = component;
              }
              _super.prototype.addComponent.call(this, component);
            };
            SettingsPanel.prototype.suspendHideTimeout = function () {
              this.hideTimeout.suspend();
            };
            SettingsPanel.prototype.resumeHideTimeout = function () {
              this.hideTimeout.resume(true);
            };
            SettingsPanel.prototype.updateActivePageClass = function () {
              var _this = this;
              this.getPages().forEach(function (page) {
                if (page === _this.activePage) {
                  page
                    .getDomElement()
                    .addClass(_this.prefixCss(SettingsPanel.CLASS_ACTIVE_PAGE));
                } else {
                  page
                    .getDomElement()
                    .removeClass(
                      _this.prefixCss(SettingsPanel.CLASS_ACTIVE_PAGE)
                    );
                }
              });
            };
            SettingsPanel.prototype.resetNavigation = function (
              resetNavigationOnShow
            ) {
              var sourcePage = this.getActivePage();
              var rootPage = this.getRootPage();
              if (sourcePage) {
                // Since the onInactiveEvent was already fired in the onHide we need to suppress it here
                if (!resetNavigationOnShow) {
                  sourcePage.onInactiveEvent();
                }
              }
              this.navigationStack = [];
              this.animateNavigation(
                rootPage,
                sourcePage,
                resetNavigationOnShow
              );
              this.activePage = rootPage;
              this.updateActivePageClass();
            };
            SettingsPanel.prototype.navigateToPage = function (
              targetPage,
              sourcePage,
              direction,
              skipAnimation
            ) {
              this.activePage = targetPage;
              if (direction === NavigationDirection.Forwards) {
                this.navigationStack.push(targetPage);
              } else {
                this.navigationStack.pop();
              }
              this.animateNavigation(targetPage, sourcePage, skipAnimation);
              this.updateActivePageClass();
              targetPage.onActiveEvent();
              sourcePage.onInactiveEvent();
            };
            /**
             * @param targetPage
             * @param sourcePage
             * @param skipAnimation This is just an internal flag if we want to have an animation. It is set true when we reset
             * the navigation within the onShow callback of the settingsPanel. In this case we don't want an actual animation but
             * the recalculation of the dimension of the settingsPanel.
             * This is independent of the pageTransitionAnimation flag.
             */
            SettingsPanel.prototype.animateNavigation = function (
              targetPage,
              sourcePage,
              skipAnimation
            ) {
              if (!this.config.pageTransitionAnimation) {
                return;
              }
              var settingsPanelDomElement = this.getDomElement();
              var settingsPanelHTMLElement = this.getDomElement().get(0);
              // get current dimension
              var settingsPanelWidth = settingsPanelHTMLElement.scrollWidth;
              var settingsPanelHeight = settingsPanelHTMLElement.scrollHeight;
              // calculate target size of the settings panel
              sourcePage.getDomElement().css("display", "none");
              this.getDomElement().css({ width: "", height: "" }); // let css auto settings kick in again
              var targetPageHtmlElement = targetPage.getDomElement().get(0);
              // clone the targetPage DOM element so that we can calculate the width / height how they will be after
              // switching the page. We are using a clone to prevent (mostly styling) side-effects on the real DOM element
              var clone = targetPageHtmlElement.cloneNode(true);
              // append to parent so we get the 'real' size
              var containerWrapper = targetPageHtmlElement.parentNode;
              containerWrapper.appendChild(clone);
              // set clone visible
              clone.style.display = "block";
              // collect target dimension
              var targetSettingsPanelWidth =
                settingsPanelHTMLElement.scrollWidth;
              var targetSettingsPanelHeight =
                settingsPanelHTMLElement.scrollHeight;
              // remove clone from the DOM
              clone.parentElement.removeChild(clone); // .remove() is not working in IE
              sourcePage.getDomElement().css("display", "");
              // set the values back to the current ones that the browser animates it (browsers don't animate 'auto' values)
              settingsPanelDomElement.css({
                width: settingsPanelWidth + "px",
                height: settingsPanelHeight + "px",
              });
              if (!skipAnimation) {
                // We need to force the browser to reflow between setting the width and height that we actually get a animation
                this.forceBrowserReflow();
              }
              // set the values to the target dimension
              settingsPanelDomElement.css({
                width: targetSettingsPanelWidth + "px",
                height: targetSettingsPanelHeight + "px",
              });
            };
            SettingsPanel.prototype.forceBrowserReflow = function () {
              // Force the browser to reflow the layout
              // https://gist.github.com/paulirish/5d52fb081b3570c81e3a
              // eslint-disable-next-line @typescript-eslint/no-unused-expressions
              this.getDomElement().get(0).offsetLeft;
            };
            /**
             * Workaround for IE, Firefox and Safari
             * when the settings panel fades out while an item of a select box is still hovered, the select box will not fade out
             * while the settings panel does. This would leave a floating select box, which is just weird
             */
            SettingsPanel.prototype.hideHoveredSelectBoxes = function () {
              this.getComputedItems()
                .map(function (item) {
                  return item["setting"];
                })
                .filter(function (component) {
                  return component instanceof selectbox_1.SelectBox;
                })
                .forEach(function (selectBox) {
                  return selectBox.closeDropdown();
                });
            };
            // collect all items from all pages (see hideHoveredSelectBoxes)
            SettingsPanel.prototype.getComputedItems = function () {
              var allItems = [];
              for (var _i = 0, _a = this.getPages(); _i < _a.length; _i++) {
                var page = _a[_i];
                allItems.push.apply(allItems, page.getItems());
              }
              return allItems;
            };
            SettingsPanel.prototype.getRootPage = function () {
              return this.getPages()[0];
            };
            SettingsPanel.prototype.onSettingsStateChangedEvent = function () {
              this.settingsPanelEvents.onSettingsStateChanged.dispatch(this);
            };
            SettingsPanel.CLASS_ACTIVE_PAGE = "active";
            return SettingsPanel;
          })(container_1.Container);
          exports.SettingsPanel = SettingsPanel;
        },
        {
          "../eventdispatcher": 86,
          "../timeout": 113,
          "./container": 19,
          "./selectbox": 44,
          "./settingspanelpage": 47,
        },
      ],
      46: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SettingsPanelItem = void 0;
          var container_1 = require("./container");
          var component_1 = require("./component");
          var eventdispatcher_1 = require("../eventdispatcher");
          var label_1 = require("./label");
          var selectbox_1 = require("./selectbox");
          var listbox_1 = require("./listbox");
          var videoqualityselectbox_1 = require("./videoqualityselectbox");
          var audioqualityselectbox_1 = require("./audioqualityselectbox");
          var playbackspeedselectbox_1 = require("./playbackspeedselectbox");
          /**
           * An item for a {@link SettingsPanelPage},
           * Containing an optional {@link Label} and a component that configures a setting.
           * If the components is a {@link SelectBox} it will handle the logic of displaying it or not
           *
           * @category Components
           */
          var SettingsPanelItem = /** @class */ (function (_super) {
            __extends(SettingsPanelItem, _super);
            function SettingsPanelItem(label, setting, config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.settingsPanelItemEvents = {
                onActiveChanged: new eventdispatcher_1.EventDispatcher(),
              };
              _this.setting = setting;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-settings-panel-item",
                  role: "menuitem",
                },
                _this.config
              );
              if (label !== null) {
                if (label instanceof component_1.Component) {
                  _this.label = label;
                } else {
                  _this.label = new label_1.Label({
                    text: label,
                    for: _this.setting.getConfig().id,
                  });
                }
                _this.addComponent(_this.label);
              }
              _this.addComponent(_this.setting);
              return _this;
            }
            SettingsPanelItem.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              if (
                this.setting instanceof selectbox_1.SelectBox ||
                this.setting instanceof listbox_1.ListBox
              ) {
                var handleConfigItemChanged = function () {
                  if (
                    !(_this.setting instanceof selectbox_1.SelectBox) &&
                    !(_this.setting instanceof listbox_1.ListBox)
                  ) {
                    return;
                  }
                  // The minimum number of items that must be available for the setting to be displayed
                  // By default, at least two items must be available, else a selection is not possible
                  var minItemsToDisplay = 2;
                  // Audio/video quality select boxes contain an additional 'auto' mode, which in combination with a single
                  // available quality also does not make sense
                  if (
                    (_this.setting instanceof
                      videoqualityselectbox_1.VideoQualitySelectBox &&
                      _this.setting.hasAutoItem()) ||
                    _this.setting instanceof
                      audioqualityselectbox_1.AudioQualitySelectBox
                  ) {
                    minItemsToDisplay = 3;
                  }
                  if (_this.setting.itemCount() < minItemsToDisplay) {
                    // Hide the setting if no meaningful choice is available
                    _this.hide();
                  } else if (
                    _this.setting instanceof
                      playbackspeedselectbox_1.PlaybackSpeedSelectBox &&
                    !uimanager.getConfig().playbackSpeedSelectionEnabled
                  ) {
                    // Hide the PlaybackSpeedSelectBox if disabled in config
                    _this.hide();
                  } else {
                    _this.show();
                  }
                  // Visibility might have changed and therefore the active state might have changed so we fire the event
                  // TODO fire only when state has really changed (e.g. check if visibility has really changed)
                  _this.onActiveChangedEvent();
                  _this.getDomElement().attr("aria-haspopup", "true");
                };
                this.setting.onItemAdded.subscribe(handleConfigItemChanged);
                this.setting.onItemRemoved.subscribe(handleConfigItemChanged);
                // Initialize hidden state
                handleConfigItemChanged();
              }
            };
            /**
             * Checks if this settings panel item is active, i.e. visible and enabled and a user can interact with it.
             * @returns {boolean} true if the panel is active, else false
             */
            SettingsPanelItem.prototype.isActive = function () {
              return this.isShown();
            };
            SettingsPanelItem.prototype.onActiveChangedEvent = function () {
              this.settingsPanelItemEvents.onActiveChanged.dispatch(this);
            };
            Object.defineProperty(
              SettingsPanelItem.prototype,
              "onActiveChanged",
              {
                /**
                 * Gets the event that is fired when the 'active' state of this item changes.
                 * @see #isActive
                 * @returns {Event<SettingsPanelItem, NoArgs>}
                 */
                get: function () {
                  return this.settingsPanelItemEvents.onActiveChanged.getEvent();
                },
                enumerable: false,
                configurable: true,
              }
            );
            return SettingsPanelItem;
          })(container_1.Container);
          exports.SettingsPanelItem = SettingsPanelItem;
        },
        {
          "../eventdispatcher": 86,
          "./audioqualityselectbox": 8,
          "./component": 18,
          "./container": 19,
          "./label": 28,
          "./listbox": 29,
          "./playbackspeedselectbox": 33,
          "./selectbox": 44,
          "./videoqualityselectbox": 77,
        },
      ],
      47: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SettingsPanelPage = void 0;
          var container_1 = require("./container");
          var settingspanelitem_1 = require("./settingspanelitem");
          var eventdispatcher_1 = require("../eventdispatcher");
          var browserutils_1 = require("../browserutils");
          /**
           * A panel containing a list of {@link SettingsPanelItem items} that represent labelled settings.
           *
           * @category Components
           */
          var SettingsPanelPage = /** @class */ (function (_super) {
            __extends(SettingsPanelPage, _super);
            function SettingsPanelPage(config) {
              var _this = _super.call(this, config) || this;
              _this.settingsPanelPageEvents = {
                onSettingsStateChanged: new eventdispatcher_1.EventDispatcher(),
                onActive: new eventdispatcher_1.EventDispatcher(),
                onInactive: new eventdispatcher_1.EventDispatcher(),
              };
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-settings-panel-page",
                  role: "menu",
                },
                _this.config
              );
              return _this;
            }
            SettingsPanelPage.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              // Fire event when the state of a settings-item has changed
              var settingsStateChangedHandler = function () {
                _this.onSettingsStateChangedEvent();
                // Attach marker class to last visible item
                var lastShownItem = null;
                for (var _i = 0, _a = _this.getItems(); _i < _a.length; _i++) {
                  var component = _a[_i];
                  component
                    .getDomElement()
                    .removeClass(_this.prefixCss(SettingsPanelPage.CLASS_LAST));
                  if (component.isShown()) {
                    lastShownItem = component;
                  }
                }
                if (lastShownItem) {
                  lastShownItem
                    .getDomElement()
                    .addClass(_this.prefixCss(SettingsPanelPage.CLASS_LAST));
                }
              };
              for (var _i = 0, _a = this.getItems(); _i < _a.length; _i++) {
                var component = _a[_i];
                component.onActiveChanged.subscribe(
                  settingsStateChangedHandler
                );
              }
            };
            SettingsPanelPage.prototype.hasActiveSettings = function () {
              for (var _i = 0, _a = this.getItems(); _i < _a.length; _i++) {
                var component = _a[_i];
                if (component.isActive()) {
                  return true;
                }
              }
              return false;
            };
            SettingsPanelPage.prototype.getItems = function () {
              return this.config.components.filter(function (component) {
                return (
                  component instanceof settingspanelitem_1.SettingsPanelItem
                );
              });
            };
            SettingsPanelPage.prototype.onSettingsStateChangedEvent =
              function () {
                this.settingsPanelPageEvents.onSettingsStateChanged.dispatch(
                  this
                );
              };
            Object.defineProperty(
              SettingsPanelPage.prototype,
              "onSettingsStateChanged",
              {
                get: function () {
                  return this.settingsPanelPageEvents.onSettingsStateChanged.getEvent();
                },
                enumerable: false,
                configurable: true,
              }
            );
            SettingsPanelPage.prototype.onActiveEvent = function () {
              var activeItems = this.getItems().filter(function (item) {
                return item.isActive();
              });
              this.settingsPanelPageEvents.onActive.dispatch(this);
              // Disable focus for iOS and iPadOS 13. They open select boxes automatically on focus and we want to avoid that.
              if (
                activeItems.length > 0 &&
                !browserutils_1.BrowserUtils.isIOS &&
                !(
                  browserutils_1.BrowserUtils.isMacIntel &&
                  browserutils_1.BrowserUtils.isTouchSupported
                )
              ) {
                activeItems[0].getDomElement().focusToFirstInput();
              }
            };
            Object.defineProperty(SettingsPanelPage.prototype, "onActive", {
              get: function () {
                return this.settingsPanelPageEvents.onActive.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            SettingsPanelPage.prototype.onInactiveEvent = function () {
              this.settingsPanelPageEvents.onInactive.dispatch(this);
            };
            Object.defineProperty(SettingsPanelPage.prototype, "onInactive", {
              get: function () {
                return this.settingsPanelPageEvents.onInactive.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            SettingsPanelPage.CLASS_LAST = "last";
            return SettingsPanelPage;
          })(container_1.Container);
          exports.SettingsPanelPage = SettingsPanelPage;
        },
        {
          "../browserutils": 3,
          "../eventdispatcher": 86,
          "./container": 19,
          "./settingspanelitem": 46,
        },
      ],
      48: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SettingsPanelPageBackButton = void 0;
          var settingspanelpagenavigatorbutton_1 = require("./settingspanelpagenavigatorbutton");
          /**
           * @category Buttons
           */
          var SettingsPanelPageBackButton = /** @class */ (function (_super) {
            __extends(SettingsPanelPageBackButton, _super);
            function SettingsPanelPageBackButton(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-settingspanelpagebackbutton",
                  text: "back",
                },
                _this.config
              );
              return _this;
            }
            SettingsPanelPageBackButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.onClick.subscribe(function () {
                _this.popPage();
              });
            };
            return SettingsPanelPageBackButton;
          })(
            settingspanelpagenavigatorbutton_1.SettingsPanelPageNavigatorButton
          );
          exports.SettingsPanelPageBackButton = SettingsPanelPageBackButton;
        },
        { "./settingspanelpagenavigatorbutton": 49 },
      ],
      49: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SettingsPanelPageNavigatorButton = void 0;
          var button_1 = require("./button");
          /**
           * Can be used to navigate between SettingsPanelPages
           *
           * Example:
           *  let settingPanelNavigationButton = new SettingsPanelPageNavigatorButton({
           *    container: settingsPanel,
           *    targetPage: settingsPanelPage,
           *  });
           *
           *  settingsPanelPage.addComponent(settingPanelNavigationButton);
           *
           * Don't forget to add the settingPanelNavigationButton to the settingsPanelPage.
           *
           * @category Buttons
           */
          var SettingsPanelPageNavigatorButton = /** @class */ (function (
            _super
          ) {
            __extends(SettingsPanelPageNavigatorButton, _super);
            function SettingsPanelPageNavigatorButton(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(config, {}, _this.config);
              _this.container = _this.config.container;
              _this.targetPage = _this.config.targetPage;
              return _this;
            }
            /**
             * navigate one level back
             */
            SettingsPanelPageNavigatorButton.prototype.popPage = function () {
              this.container.popSettingsPanelPage();
            };
            /**
             * navigate to the target page
             */
            SettingsPanelPageNavigatorButton.prototype.pushTargetPage =
              function () {
                this.container.setActivePage(this.targetPage);
              };
            return SettingsPanelPageNavigatorButton;
          })(button_1.Button);
          exports.SettingsPanelPageNavigatorButton =
            SettingsPanelPageNavigatorButton;
        },
        { "./button": 12 },
      ],
      50: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SettingsPanelPageOpenButton = void 0;
          var settingspanelpagenavigatorbutton_1 = require("./settingspanelpagenavigatorbutton");
          var i18n_1 = require("../localization/i18n");
          /**
           * @category Buttons
           */
          var SettingsPanelPageOpenButton = /** @class */ (function (_super) {
            __extends(SettingsPanelPageOpenButton, _super);
            function SettingsPanelPageOpenButton(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-settingspanelpageopenbutton",
                  text: i18n_1.i18n.getLocalizer("open"),
                  role: "menuitem",
                },
                _this.config
              );
              return _this;
            }
            SettingsPanelPageOpenButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.getDomElement().attr("aria-haspopup", "true");
              this.getDomElement().attr(
                "aria-owns",
                this.config.targetPage.getConfig().id
              );
              this.onClick.subscribe(function () {
                _this.pushTargetPage();
              });
            };
            return SettingsPanelPageOpenButton;
          })(
            settingspanelpagenavigatorbutton_1.SettingsPanelPageNavigatorButton
          );
          exports.SettingsPanelPageOpenButton = SettingsPanelPageOpenButton;
        },
        {
          "../localization/i18n": 91,
          "./settingspanelpagenavigatorbutton": 49,
        },
      ],
      51: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SettingsToggleButton = void 0;
          var togglebutton_1 = require("./togglebutton");
          var settingspanel_1 = require("./settingspanel");
          var arrayutils_1 = require("../arrayutils");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button that toggles visibility of a settings panel.
           *
           * @category Buttons
           */
          var SettingsToggleButton = /** @class */ (function (_super) {
            __extends(SettingsToggleButton, _super);
            function SettingsToggleButton(config) {
              var _this = _super.call(this, config) || this;
              _this.visibleSettingsPanels = [];
              if (!config.settingsPanel) {
                throw new Error("Required SettingsPanel is missing");
              }
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-settingstogglebutton",
                  text: i18n_1.i18n.getLocalizer("settings"),
                  settingsPanel: null,
                  autoHideWhenNoActiveSettings: true,
                  role: "pop-up button",
                },
                _this.config
              );
              /**
               * WCAG20 standard defines which popup menu (element id) is owned by the button
               */
              _this
                .getDomElement()
                .attr(
                  "aria-owns",
                  config.settingsPanel.getActivePage().getConfig().id
                );
              /**
               * WCAG20 standard defines that a button has a popup menu bound to it
               */
              _this.getDomElement().attr("aria-haspopup", "true");
              return _this;
            }
            SettingsToggleButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              var settingsPanel = config.settingsPanel;
              this.onClick.subscribe(function () {
                // only hide other `SettingsPanel`s if a new one will be opened
                if (!settingsPanel.isShown()) {
                  // Hide all open SettingsPanels before opening this button's panel
                  // (We need to iterate a copy because hiding them will automatically remove themselves from the array
                  // due to the subscribeOnce above)
                  _this.visibleSettingsPanels
                    .slice()
                    .forEach(function (settingsPanel) {
                      return settingsPanel.hide();
                    });
                }
                settingsPanel.toggleHidden();
              });
              settingsPanel.onShow.subscribe(function () {
                // Set toggle status to on when the settings panel shows
                _this.on();
              });
              settingsPanel.onHide.subscribe(function () {
                // Set toggle status to off when the settings panel hides
                _this.off();
              });
              // Ensure that only one `SettingPanel` is visible at once
              // Keep track of shown SettingsPanels
              uimanager.onComponentShow.subscribe(function (sender) {
                if (sender instanceof settingspanel_1.SettingsPanel) {
                  _this.visibleSettingsPanels.push(sender);
                  sender.onHide.subscribeOnce(function () {
                    return arrayutils_1.ArrayUtils.remove(
                      _this.visibleSettingsPanels,
                      sender
                    );
                  });
                }
              });
              // Handle automatic hiding of the button if there are no settings for the user to interact with
              if (config.autoHideWhenNoActiveSettings) {
                // Setup handler to show/hide button when the settings change
                var settingsPanelItemsChangedHandler = function () {
                  if (settingsPanel.rootPageHasActiveSettings()) {
                    if (_this.isHidden()) {
                      _this.show();
                    }
                  } else {
                    if (_this.isShown()) {
                      _this.hide();
                    }
                  }
                };
                // Wire the handler to the event
                settingsPanel.onSettingsStateChanged.subscribe(
                  settingsPanelItemsChangedHandler
                );
                // Call handler for first init at startup
                settingsPanelItemsChangedHandler();
              }
            };
            return SettingsToggleButton;
          })(togglebutton_1.ToggleButton);
          exports.SettingsToggleButton = SettingsToggleButton;
        },
        {
          "../arrayutils": 1,
          "../localization/i18n": 91,
          "./settingspanel": 45,
          "./togglebutton": 74,
        },
      ],
      52: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.Spacer = void 0;
          var component_1 = require("./component");
          /**
           * A dummy component that just reserves some space and does nothing else.
           *
           * @category Components
           */
          var Spacer = /** @class */ (function (_super) {
            __extends(Spacer, _super);
            function Spacer(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-spacer",
                },
                _this.config
              );
              return _this;
            }
            Spacer.prototype.onShowEvent = function () {
              // disable event firing by overwriting and not calling super
            };
            Spacer.prototype.onHideEvent = function () {
              // disable event firing by overwriting and not calling super
            };
            Spacer.prototype.onHoverChangedEvent = function (hovered) {
              // disable event firing by overwriting and not calling super
            };
            return Spacer;
          })(component_1.Component);
          exports.Spacer = Spacer;
        },
        { "./component": 18 },
      ],
      53: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SubtitleListBox = void 0;
          var listbox_1 = require("./listbox");
          var subtitleutils_1 = require("../subtitleutils");
          /**
           * A element that is similar to a select box where the user can select a subtitle
           *
           * @category Components
           */
          var SubtitleListBox = /** @class */ (function (_super) {
            __extends(SubtitleListBox, _super);
            function SubtitleListBox() {
              return (_super !== null && _super.apply(this, arguments)) || this;
            }
            SubtitleListBox.prototype.configure = function (player, uimanager) {
              _super.prototype.configure.call(this, player, uimanager);
              new subtitleutils_1.SubtitleSwitchHandler(
                player,
                this,
                uimanager
              );
            };
            return SubtitleListBox;
          })(listbox_1.ListBox);
          exports.SubtitleListBox = SubtitleListBox;
        },
        { "../subtitleutils": 112, "./listbox": 29 },
      ],
      54: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SubtitleRegionContainer =
            exports.SubtitleRegionContainerManager =
            exports.SubtitleLabel =
            exports.SubtitleOverlay =
              void 0;
          var container_1 = require("./container");
          var label_1 = require("./label");
          var controlbar_1 = require("./controlbar");
          var eventdispatcher_1 = require("../eventdispatcher");
          var dom_1 = require("../dom");
          var i18n_1 = require("../localization/i18n");
          var vttutils_1 = require("../vttutils");
          /**
           * Overlays the player to display subtitles.
           *
           * @category Components
           */
          var SubtitleOverlay = /** @class */ (function (_super) {
            __extends(SubtitleOverlay, _super);
            function SubtitleOverlay(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.preprocessLabelEventCallback =
                new eventdispatcher_1.EventDispatcher();
              _this.previewSubtitleActive = false;
              _this.previewSubtitle = new SubtitleLabel({
                text: i18n_1.i18n.getLocalizer("subtitle.example"),
              });
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-subtitle-overlay",
                },
                _this.config
              );
              return _this;
            }
            SubtitleOverlay.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var subtitleManager = new ActiveSubtitleManager();
              this.subtitleManager = subtitleManager;
              this.subtitleContainerManager =
                new SubtitleRegionContainerManager(this);
              player.on(player.exports.PlayerEvent.CueEnter, function (event) {
                var label = _this.generateLabel(event);
                subtitleManager.cueEnter(event, label);
                _this.preprocessLabelEventCallback.dispatch(event, label);
                if (_this.previewSubtitleActive) {
                  _this.subtitleContainerManager.removeLabel(
                    _this.previewSubtitle
                  );
                }
                _this.show();
                _this.subtitleContainerManager.addLabel(
                  label,
                  _this.getDomElement().size()
                );
                _this.updateComponents();
                if (uimanager.getConfig().forceSubtitlesIntoViewContainer) {
                  _this.handleSubtitleCropping(label);
                }
              });
              player.on(player.exports.PlayerEvent.CueUpdate, function (event) {
                var label = _this.generateLabel(event);
                var labelToReplace = subtitleManager.cueUpdate(event, label);
                _this.preprocessLabelEventCallback.dispatch(event, label);
                if (labelToReplace) {
                  _this.subtitleContainerManager.replaceLabel(
                    labelToReplace,
                    label
                  );
                }
                if (uimanager.getConfig().forceSubtitlesIntoViewContainer) {
                  _this.handleSubtitleCropping(label);
                }
              });
              player.on(player.exports.PlayerEvent.CueExit, function (event) {
                var labelToRemove = subtitleManager.cueExit(event);
                if (labelToRemove) {
                  _this.subtitleContainerManager.removeLabel(labelToRemove);
                  _this.updateComponents();
                }
                if (!subtitleManager.hasCues) {
                  if (!_this.previewSubtitleActive) {
                    _this.hide();
                  } else {
                    _this.subtitleContainerManager.addLabel(
                      _this.previewSubtitle
                    );
                    _this.updateComponents();
                  }
                }
              });
              var subtitleClearHandler = function () {
                _this.hide();
                _this.subtitleContainerManager.clear();
                subtitleManager.clear();
                _this.removeComponents();
                _this.updateComponents();
              };
              var clearInactiveCues = function () {
                var removedActiveCues = subtitleManager.clearInactiveCues(
                  player.getCurrentTime()
                );
                removedActiveCues.forEach(function (toRemove) {
                  _this.subtitleContainerManager.removeLabel(toRemove.label);
                });
              };
              player.on(
                player.exports.PlayerEvent.AudioChanged,
                subtitleClearHandler
              );
              player.on(
                player.exports.PlayerEvent.SubtitleDisabled,
                subtitleClearHandler
              );
              player.on(player.exports.PlayerEvent.Seeked, clearInactiveCues);
              player.on(
                player.exports.PlayerEvent.TimeShifted,
                clearInactiveCues
              );
              player.on(
                player.exports.PlayerEvent.PlaybackFinished,
                subtitleClearHandler
              );
              player.on(
                player.exports.PlayerEvent.SourceUnloaded,
                subtitleClearHandler
              );
              uimanager.onComponentShow.subscribe(function (component) {
                if (component instanceof controlbar_1.ControlBar) {
                  _this
                    .getDomElement()
                    .addClass(
                      _this.prefixCss(SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE)
                    );
                }
              });
              uimanager.onComponentHide.subscribe(function (component) {
                if (component instanceof controlbar_1.ControlBar) {
                  _this
                    .getDomElement()
                    .removeClass(
                      _this.prefixCss(SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE)
                    );
                }
              });
              this.configureCea608Captions(player, uimanager);
              // Init
              subtitleClearHandler();
            };
            SubtitleOverlay.prototype.detectCroppedSubtitleLabel = function (
              labelElement
            ) {
              var parent = this.getDomElement().get(0);
              var childRect = labelElement.getBoundingClientRect();
              var parentRect = parent.getBoundingClientRect();
              return {
                top: childRect.top < parentRect.top,
                right: childRect.right > parentRect.right,
                bottom: childRect.bottom > parentRect.bottom,
                left: childRect.left < parentRect.left,
              };
            };
            SubtitleOverlay.prototype.handleSubtitleCropping = function (
              label
            ) {
              var labelDomElement = label.getDomElement();
              var cropDetection = this.detectCroppedSubtitleLabel(
                labelDomElement.get(0)
              );
              if (cropDetection.top) {
                labelDomElement.css("top", "0");
                labelDomElement.removeCss("bottom");
              }
              if (cropDetection.right) {
                labelDomElement.css("right", "0");
                labelDomElement.removeCss("left");
              }
              if (cropDetection.bottom) {
                labelDomElement.css("bottom", "0");
                labelDomElement.removeCss("top");
              }
              if (cropDetection.left) {
                labelDomElement.css("left", "0");
                labelDomElement.removeCss("right");
              }
            };
            SubtitleOverlay.prototype.generateLabel = function (event) {
              // Sanitize cue data (must be done before the cue ID is generated in subtitleManager.cueEnter / update)
              var region = event.region;
              if (event.position) {
                // Sometimes the positions are undefined, we assume them to be zero
                event.position.row = event.position.row || 0;
                event.position.column = event.position.column || 0;
                region = region || "cea608-row-".concat(event.position.row);
              }
              var label = new SubtitleLabel({
                // Prefer the HTML subtitle text if set, else try generating a image tag as string from the image attribute,
                // else use the plain text
                text:
                  event.html ||
                  ActiveSubtitleManager.generateImageTagText(event.image) ||
                  event.text,
                vtt: event.vtt,
                region: region,
                regionStyle: event.regionStyle,
              });
              return label;
            };
            SubtitleOverlay.prototype.configureCea608Captions = function (
              player,
              uimanager
            ) {
              var _this = this;
              // The calculated font size
              var fontSize = 0;
              // The required letter spacing spread the text characters evenly across the grid
              var fontLetterSpacing = 0;
              // Flag telling if a font size calculation is required of if the current values are valid
              var fontSizeCalculationRequired = true;
              // Flag telling if the CEA-608 mode is enabled
              var enabled = false;
              var updateCEA608FontSize = function () {
                var dummyLabel = new SubtitleLabel({ text: "X" });
                dummyLabel.getDomElement().css({
                  // By using a large font size we do not need to use multiple letters and can get still an
                  // accurate measurement even though the returned size is an integer value
                  "font-size": "200px",
                  "line-height": "200px",
                  visibility: "hidden",
                });
                _this.addComponent(dummyLabel);
                _this.updateComponents();
                _this.show();
                var dummyLabelCharWidth = dummyLabel.getDomElement().width();
                var dummyLabelCharHeight = dummyLabel.getDomElement().height();
                var fontSizeRatio = dummyLabelCharWidth / dummyLabelCharHeight;
                _this.removeComponent(dummyLabel);
                _this.updateComponents();
                if (!_this.subtitleManager.hasCues) {
                  _this.hide();
                }
                // We subtract 1px here to avoid line breaks at the right border of the subtitle overlay that can happen
                // when texts contain whitespaces. It's probably some kind of pixel rounding issue in the browser's
                // layouting, but the actual reason could not be determined. Aiming for a target width - 1px would work in
                // most browsers, but Safari has a "quantized" font size rendering with huge steps in between so we need
                // to subtract some more pixels to avoid line breaks there as well.
                var subtitleOverlayWidth = _this.getDomElement().width() - 10;
                var subtitleOverlayHeight = _this.getDomElement().height();
                // The size ratio of the letter grid
                var fontGridSizeRatio =
                  (dummyLabelCharWidth * SubtitleOverlay.CEA608_NUM_COLUMNS) /
                  (dummyLabelCharHeight * SubtitleOverlay.CEA608_NUM_ROWS);
                // The size ratio of the available space for the grid
                var subtitleOverlaySizeRatio =
                  subtitleOverlayWidth / subtitleOverlayHeight;
                if (subtitleOverlaySizeRatio > fontGridSizeRatio) {
                  // When the available space is wider than the text grid, the font size is simply
                  // determined by the height of the available space.
                  fontSize =
                    subtitleOverlayHeight / SubtitleOverlay.CEA608_NUM_ROWS;
                  // Calculate the additional letter spacing required to evenly spread the text across the grid's width
                  var gridSlotWidth =
                    subtitleOverlayWidth / SubtitleOverlay.CEA608_NUM_COLUMNS;
                  var fontCharWidth = fontSize * fontSizeRatio;
                  fontLetterSpacing = gridSlotWidth - fontCharWidth;
                } else {
                  // When the available space is not wide enough, texts would vertically overlap if we take
                  // the height as a base for the font size, so we need to limit the height. We do that
                  // by determining the font size by the width of the available space.
                  fontSize =
                    subtitleOverlayWidth /
                    SubtitleOverlay.CEA608_NUM_COLUMNS /
                    fontSizeRatio;
                  fontLetterSpacing = 0;
                }
                // Update font-size of all active subtitle labels
                for (
                  var _i = 0, _a = _this.getComponents();
                  _i < _a.length;
                  _i++
                ) {
                  var label = _a[_i];
                  if (label instanceof SubtitleLabel) {
                    label.getDomElement().css({
                      "font-size": "".concat(fontSize, "px"),
                      "letter-spacing": "".concat(fontLetterSpacing, "px"),
                    });
                    label.regionStyle = "line-height: ".concat(fontSize, "px;");
                  }
                }
              };
              player.on(player.exports.PlayerEvent.PlayerResized, function () {
                if (enabled) {
                  updateCEA608FontSize();
                } else {
                  fontSizeCalculationRequired = true;
                }
              });
              this.preprocessLabelEventCallback.subscribe(function (
                event,
                label
              ) {
                var isCEA608 = event.position != null;
                if (!isCEA608) {
                  // Skip all non-CEA608 cues
                  return;
                }
                if (!enabled) {
                  enabled = true;
                  _this
                    .getDomElement()
                    .addClass(_this.prefixCss(SubtitleOverlay.CLASS_CEA_608));
                  // We conditionally update the font size by this flag here to avoid updating every time a subtitle
                  // is added into an empty overlay. Because we reset the overlay when all subtitles are gone, this
                  // would trigger an unnecessary update every time, but it's only required under certain conditions,
                  // e.g. after the player size has changed.
                  if (fontSizeCalculationRequired) {
                    updateCEA608FontSize();
                    fontSizeCalculationRequired = false;
                  }
                }
                label.getDomElement().css({
                  left: "".concat(
                    event.position.column *
                      SubtitleOverlay.CEA608_COLUMN_OFFSET,
                    "%"
                  ),
                  "font-size": "".concat(fontSize, "px"),
                  "letter-spacing": "".concat(fontLetterSpacing, "px"),
                });
                label.regionStyle = "line-height: ".concat(fontSize, "px;");
              });
              var reset = function () {
                _this
                  .getDomElement()
                  .removeClass(_this.prefixCss(SubtitleOverlay.CLASS_CEA_608));
                enabled = false;
              };
              player.on(player.exports.PlayerEvent.CueExit, function () {
                if (!_this.subtitleManager.hasCues) {
                  // Disable CEA-608 mode when all subtitles are gone (to allow correct formatting and
                  // display of other types of subtitles, e.g. the formatting preview subtitle)
                  reset();
                }
              });
              player.on(player.exports.PlayerEvent.SourceUnloaded, reset);
              player.on(player.exports.PlayerEvent.SubtitleEnable, reset);
              player.on(player.exports.PlayerEvent.SubtitleDisabled, reset);
            };
            SubtitleOverlay.prototype.enablePreviewSubtitleLabel = function () {
              if (!this.subtitleManager.hasCues) {
                this.previewSubtitleActive = true;
                this.subtitleContainerManager.addLabel(this.previewSubtitle);
                this.updateComponents();
                this.show();
              }
            };
            SubtitleOverlay.prototype.removePreviewSubtitleLabel = function () {
              if (this.previewSubtitleActive) {
                this.previewSubtitleActive = false;
                this.subtitleContainerManager.removeLabel(this.previewSubtitle);
                this.updateComponents();
              }
            };
            SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE = "controlbar-visible";
            SubtitleOverlay.CLASS_CEA_608 = "cea608";
            // The number of rows in a cea608 grid
            SubtitleOverlay.CEA608_NUM_ROWS = 15;
            // The number of columns in a cea608 grid
            SubtitleOverlay.CEA608_NUM_COLUMNS = 32;
            // The offset in percent for one column (which is also the width of a column)
            SubtitleOverlay.CEA608_COLUMN_OFFSET =
              100 / SubtitleOverlay.CEA608_NUM_COLUMNS;
            return SubtitleOverlay;
          })(container_1.Container);
          exports.SubtitleOverlay = SubtitleOverlay;
          var SubtitleLabel = /** @class */ (function (_super) {
            __extends(SubtitleLabel, _super);
            function SubtitleLabel(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-subtitle-label",
                },
                _this.config
              );
              return _this;
            }
            Object.defineProperty(SubtitleLabel.prototype, "vtt", {
              get: function () {
                return this.config.vtt;
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(SubtitleLabel.prototype, "region", {
              get: function () {
                return this.config.region;
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(SubtitleLabel.prototype, "regionStyle", {
              get: function () {
                return this.config.regionStyle;
              },
              set: function (style) {
                this.config.regionStyle = style;
              },
              enumerable: false,
              configurable: true,
            });
            return SubtitleLabel;
          })(label_1.Label);
          exports.SubtitleLabel = SubtitleLabel;
          var ActiveSubtitleManager = /** @class */ (function () {
            function ActiveSubtitleManager() {
              this.activeSubtitleCueMap = {};
              this.activeSubtitleCueCount = 0;
            }
            /**
             * Calculates a unique ID for a subtitle cue, which is needed to associate an CueEnter with its CueExit
             * event so we can remove the correct subtitle in CueExit when multiple subtitles are active at the same time.
             * The start time plus the text should make a unique identifier, and in the only case where a collision
             * can happen, two similar texts will be displayed at a similar time and a similar position (or without position).
             * The start time should always be known, because it is required to schedule the CueEnter event. The end time
             * must not necessarily be known and therefore cannot be used for the ID.
             * @param event
             * @return {string}
             */
            ActiveSubtitleManager.calculateId = function (event) {
              var id = event.start + "-" + event.text;
              if (event.position) {
                id += "-" + event.position.row + "-" + event.position.column;
              }
              return id;
            };
            ActiveSubtitleManager.prototype.cueEnter = function (event, label) {
              this.addCueToMap(event, label);
            };
            ActiveSubtitleManager.prototype.cueUpdate = function (
              event,
              label
            ) {
              var labelToReplace = this.popCueFromMap(event);
              if (labelToReplace) {
                this.addCueToMap(event, label);
                return labelToReplace;
              }
              return undefined;
            };
            ActiveSubtitleManager.prototype.addCueToMap = function (
              event,
              label
            ) {
              var id = ActiveSubtitleManager.calculateId(event);
              // Create array for id if it does not exist
              this.activeSubtitleCueMap[id] =
                this.activeSubtitleCueMap[id] || [];
              // Add cue
              this.activeSubtitleCueMap[id].push({
                event: event,
                label: label,
              });
              this.activeSubtitleCueCount++;
            };
            ActiveSubtitleManager.prototype.popCueFromMap = function (event) {
              var id = ActiveSubtitleManager.calculateId(event);
              var activeSubtitleCues = this.activeSubtitleCueMap[id];
              if (activeSubtitleCues && activeSubtitleCues.length > 0) {
                // Remove cue
                /* We apply the FIFO approach here and remove the oldest cue from the associated id. When there are multiple cues
                 * with the same id, there is no way to know which one of the cues is to be deleted, so we just hope that FIFO
                 * works fine. Theoretically it can happen that two cues with colliding ids are removed at different times, in
                 * the wrong order. This rare case has yet to be observed. If it ever gets an issue, we can take the unstable
                 * cue end time (which can change between CueEnter and CueExit IN CueUpdate) and use it as an
                 * additional hint to try and remove the correct one of the colliding cues.
                 */
                var activeSubtitleCue = activeSubtitleCues.shift();
                this.activeSubtitleCueCount--;
                return activeSubtitleCue.label;
              }
            };
            /**
             * Removes all active cues which don't enclose the given time
             * @param time the time for which subtitles should remain
             */
            ActiveSubtitleManager.prototype.clearInactiveCues = function (
              time
            ) {
              var _this = this;
              var removedCues = [];
              Object.keys(this.activeSubtitleCueMap).forEach(function (key) {
                var activeCues = _this.activeSubtitleCueMap[key];
                activeCues.forEach(function (cue) {
                  if (time < cue.event.start || time > cue.event.end) {
                    _this.popCueFromMap(cue.event);
                    removedCues.push(cue);
                  }
                });
              });
              return removedCues;
            };
            ActiveSubtitleManager.generateImageTagText = function (imageData) {
              if (!imageData) {
                return;
              }
              var imgTag = new dom_1.DOM("img", {
                src: imageData,
              });
              imgTag.css("width", "100%");
              return imgTag.get(0).outerHTML; // return the html as string
            };
            /**
             * Returns the label associated with an already added cue.
             * @param event
             * @return {SubtitleLabel}
             */
            ActiveSubtitleManager.prototype.getCues = function (event) {
              var id = ActiveSubtitleManager.calculateId(event);
              var activeSubtitleCues = this.activeSubtitleCueMap[id];
              if (activeSubtitleCues && activeSubtitleCues.length > 0) {
                return activeSubtitleCues.map(function (cue) {
                  return cue.label;
                });
              }
            };
            /**
             * Removes the subtitle cue from the manager and returns the label that should be removed from the subtitle overlay,
             * or null if there is no associated label existing (e.g. because all labels have been {@link #clear cleared}.
             * @param event
             * @return {SubtitleLabel|null}
             */
            ActiveSubtitleManager.prototype.cueExit = function (event) {
              return this.popCueFromMap(event);
            };
            Object.defineProperty(ActiveSubtitleManager.prototype, "cueCount", {
              /**
               * Returns the number of active subtitle cues.
               * @return {number}
               */
              get: function () {
                // We explicitly count the cues to save an Array.reduce on every cueCount call (which can happen frequently)
                return this.activeSubtitleCueCount;
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(ActiveSubtitleManager.prototype, "hasCues", {
              /**
               * Returns true if there are active subtitle cues, else false.
               * @return {boolean}
               */
              get: function () {
                return this.cueCount > 0;
              },
              enumerable: false,
              configurable: true,
            });
            /**
             * Removes all subtitle cues from the manager.
             */
            ActiveSubtitleManager.prototype.clear = function () {
              this.activeSubtitleCueMap = {};
              this.activeSubtitleCueCount = 0;
            };
            return ActiveSubtitleManager;
          })();
          var SubtitleRegionContainerManager = /** @class */ (function () {
            /**
             * @param subtitleOverlay Reference to the subtitle overlay for adding and removing the containers.
             */
            function SubtitleRegionContainerManager(subtitleOverlay) {
              this.subtitleOverlay = subtitleOverlay;
              this.subtitleRegionContainers = {};
              this.subtitleOverlay = subtitleOverlay;
            }
            SubtitleRegionContainerManager.prototype.getRegion = function (
              label
            ) {
              if (label.vtt) {
                return {
                  regionContainerId:
                    label.vtt.region && label.vtt.region.id
                      ? label.vtt.region.id
                      : "vtt",
                  regionName: "vtt",
                };
              }
              return {
                regionContainerId: label.region || "default",
                regionName: label.region || "default",
              };
            };
            /**
             * Creates and wraps a subtitle label into a container div based on the subtitle region.
             * If the subtitle has positioning information it is added to the container.
             * @param label The subtitle label to wrap
             */
            SubtitleRegionContainerManager.prototype.addLabel = function (
              label,
              overlaySize
            ) {
              var _a = this.getRegion(label),
                regionContainerId = _a.regionContainerId,
                regionName = _a.regionName;
              var cssClasses = ["subtitle-position-".concat(regionName)];
              if (label.vtt && label.vtt.region) {
                cssClasses.push("vtt-region-".concat(label.vtt.region.id));
              }
              if (!this.subtitleRegionContainers[regionContainerId]) {
                var regionContainer = new SubtitleRegionContainer({
                  cssClasses: cssClasses,
                });
                this.subtitleRegionContainers[regionContainerId] =
                  regionContainer;
                if (label.regionStyle) {
                  regionContainer
                    .getDomElement()
                    .attr("style", label.regionStyle);
                } else if (label.vtt && !label.vtt.region) {
                  /**
                   * If there is no region present to wrap the Cue Box, the Cue box becomes the
                   * region itself. Therefore the positioning values have to come from the box.
                   */
                  regionContainer.getDomElement().css("position", "static");
                } else {
                  // getDomElement needs to be called at least once to ensure the component exists
                  regionContainer.getDomElement();
                }
                for (var regionContainerId_1 in this.subtitleRegionContainers) {
                  this.subtitleOverlay.addComponent(
                    this.subtitleRegionContainers[regionContainerId_1]
                  );
                }
              }
              this.subtitleRegionContainers[regionContainerId].addLabel(
                label,
                overlaySize
              );
            };
            SubtitleRegionContainerManager.prototype.replaceLabel = function (
              previousLabel,
              newLabel
            ) {
              var regionContainerId =
                this.getRegion(previousLabel).regionContainerId;
              this.subtitleRegionContainers[regionContainerId].removeLabel(
                previousLabel
              );
              this.subtitleRegionContainers[regionContainerId].addLabel(
                newLabel
              );
            };
            /**
             * Removes a subtitle label from a container.
             */
            SubtitleRegionContainerManager.prototype.removeLabel = function (
              label
            ) {
              var regionContainerId;
              if (label.vtt) {
                regionContainerId =
                  label.vtt.region && label.vtt.region.id
                    ? label.vtt.region.id
                    : "vtt";
              } else {
                regionContainerId = label.region || "default";
              }
              this.subtitleRegionContainers[regionContainerId].removeLabel(
                label
              );
              // Remove container if no more labels are displayed
              if (this.subtitleRegionContainers[regionContainerId].isEmpty()) {
                this.subtitleOverlay.removeComponent(
                  this.subtitleRegionContainers[regionContainerId]
                );
                delete this.subtitleRegionContainers[regionContainerId];
              }
            };
            /**
             * Removes all subtitle containers.
             */
            SubtitleRegionContainerManager.prototype.clear = function () {
              for (var regionName in this.subtitleRegionContainers) {
                this.subtitleOverlay.removeComponent(
                  this.subtitleRegionContainers[regionName]
                );
              }
              this.subtitleRegionContainers = {};
            };
            return SubtitleRegionContainerManager;
          })();
          exports.SubtitleRegionContainerManager =
            SubtitleRegionContainerManager;
          var SubtitleRegionContainer = /** @class */ (function (_super) {
            __extends(SubtitleRegionContainer, _super);
            function SubtitleRegionContainer(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.labelCount = 0;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "subtitle-region-container",
                },
                _this.config
              );
              return _this;
            }
            SubtitleRegionContainer.prototype.addLabel = function (
              labelToAdd,
              overlaySize
            ) {
              this.labelCount++;
              if (labelToAdd.vtt) {
                if (labelToAdd.vtt.region && overlaySize) {
                  vttutils_1.VttUtils.setVttRegionStyles(
                    this,
                    labelToAdd.vtt.region,
                    overlaySize
                  );
                }
                vttutils_1.VttUtils.setVttCueBoxStyles(labelToAdd, overlaySize);
              }
              this.addComponent(labelToAdd);
              this.updateComponents();
            };
            SubtitleRegionContainer.prototype.removeLabel = function (
              labelToRemove
            ) {
              this.labelCount--;
              this.removeComponent(labelToRemove);
              this.updateComponents();
            };
            SubtitleRegionContainer.prototype.isEmpty = function () {
              return this.labelCount === 0;
            };
            return SubtitleRegionContainer;
          })(container_1.Container);
          exports.SubtitleRegionContainer = SubtitleRegionContainer;
        },
        {
          "../dom": 84,
          "../eventdispatcher": 86,
          "../localization/i18n": 91,
          "../vttutils": 119,
          "./container": 19,
          "./controlbar": 20,
          "./label": 28,
        },
      ],
      55: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SubtitleSelectBox = void 0;
          var selectbox_1 = require("./selectbox");
          var subtitleutils_1 = require("../subtitleutils");
          var i18n_1 = require("../localization/i18n");
          /**
           * A select box providing a selection between available subtitle and caption tracks.
           *
           * @category Components
           */
          var SubtitleSelectBox = /** @class */ (function (_super) {
            __extends(SubtitleSelectBox, _super);
            function SubtitleSelectBox(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitleselectbox"],
                  ariaLabel: i18n_1.i18n.getLocalizer("subtitle.select"),
                },
                _this.config
              );
              return _this;
            }
            SubtitleSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              _super.prototype.configure.call(this, player, uimanager);
              new subtitleutils_1.SubtitleSwitchHandler(
                player,
                this,
                uimanager
              );
            };
            return SubtitleSelectBox;
          })(selectbox_1.SelectBox);
          exports.SubtitleSelectBox = SubtitleSelectBox;
        },
        {
          "../localization/i18n": 91,
          "../subtitleutils": 112,
          "./selectbox": 44,
        },
      ],
      56: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.BackgroundColorSelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different background colors.
           *
           * @category Components
           */
          var BackgroundColorSelectBox = /** @class */ (function (_super) {
            __extends(BackgroundColorSelectBox, _super);
            function BackgroundColorSelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitlesettingsbackgroundcolorselectbox"],
                },
                _this.config
              );
              return _this;
            }
            BackgroundColorSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem("white", i18n_1.i18n.getLocalizer("colors.white"));
              this.addItem("black", i18n_1.i18n.getLocalizer("colors.black"));
              this.addItem("red", i18n_1.i18n.getLocalizer("colors.red"));
              this.addItem("green", i18n_1.i18n.getLocalizer("colors.green"));
              this.addItem("blue", i18n_1.i18n.getLocalizer("colors.blue"));
              this.addItem("cyan", i18n_1.i18n.getLocalizer("colors.cyan"));
              this.addItem("yellow", i18n_1.i18n.getLocalizer("colors.yellow"));
              this.addItem(
                "magenta",
                i18n_1.i18n.getLocalizer("colors.magenta")
              );
              var setColorAndOpacity = function () {
                if (
                  _this.settingsManager.backgroundColor.isSet() &&
                  _this.settingsManager.backgroundOpacity.isSet()
                ) {
                  _this.toggleOverlayClass(
                    "bgcolor-" +
                      _this.settingsManager.backgroundColor.value +
                      _this.settingsManager.backgroundOpacity.value
                  );
                } else {
                  _this.toggleOverlayClass(null);
                }
              };
              this.onItemSelected.subscribe(function (sender, key) {
                _this.settingsManager.backgroundColor.value = key;
              });
              this.settingsManager.backgroundColor.onChanged.subscribe(
                function (sender, property) {
                  // Color and opacity go together, so we need to...
                  if (!_this.settingsManager.backgroundColor.isSet()) {
                    // ... clear the opacity when the color is not set
                    _this.settingsManager.backgroundOpacity.clear();
                  } else if (!_this.settingsManager.backgroundOpacity.isSet()) {
                    // ... set an opacity when the color is set
                    _this.settingsManager.backgroundOpacity.value = "100";
                  }
                  _this.selectItem(property.value);
                  setColorAndOpacity();
                }
              );
              this.settingsManager.backgroundOpacity.onChanged.subscribe(
                function () {
                  setColorAndOpacity();
                }
              );
              // Load initial value
              if (this.settingsManager.backgroundColor.isSet()) {
                this.selectItem(this.settingsManager.backgroundColor.value);
              }
            };
            return BackgroundColorSelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.BackgroundColorSelectBox = BackgroundColorSelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      57: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.BackgroundOpacitySelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different background opacity.
           *
           * @category Components
           */
          var BackgroundOpacitySelectBox = /** @class */ (function (_super) {
            __extends(BackgroundOpacitySelectBox, _super);
            function BackgroundOpacitySelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitlesettingsbackgroundopacityselectbox"],
                },
                _this.config
              );
              return _this;
            }
            BackgroundOpacitySelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem(
                "100",
                i18n_1.i18n.getLocalizer("percent", { value: 100 })
              );
              this.addItem(
                "75",
                i18n_1.i18n.getLocalizer("percent", { value: 75 })
              );
              this.addItem(
                "50",
                i18n_1.i18n.getLocalizer("percent", { value: 50 })
              );
              this.addItem(
                "25",
                i18n_1.i18n.getLocalizer("percent", { value: 25 })
              );
              this.addItem(
                "0",
                i18n_1.i18n.getLocalizer("percent", { value: 0 })
              );
              this.onItemSelected.subscribe(function (sender, key) {
                _this.settingsManager.backgroundOpacity.value = key;
                // Color and opacity go together, so we need to...
                if (!_this.settingsManager.backgroundOpacity.isSet()) {
                  // ... clear the color when the opacity is not set
                  _this.settingsManager.backgroundColor.clear();
                } else if (!_this.settingsManager.backgroundColor.isSet()) {
                  // ... set a color when the opacity is set
                  _this.settingsManager.backgroundColor.value = "black";
                }
              });
              // Update selected item when value is set from somewhere else
              this.settingsManager.backgroundOpacity.onChanged.subscribe(
                function (sender, property) {
                  _this.selectItem(property.value);
                }
              );
              // Load initial value
              if (this.settingsManager.backgroundOpacity.isSet()) {
                this.selectItem(this.settingsManager.backgroundOpacity.value);
              }
            };
            return BackgroundOpacitySelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.BackgroundOpacitySelectBox = BackgroundOpacitySelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      58: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.CharacterEdgeColorSelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different character edge colors.
           *
           * @category Components
           */
          var CharacterEdgeColorSelectBox = /** @class */ (function (_super) {
            __extends(CharacterEdgeColorSelectBox, _super);
            function CharacterEdgeColorSelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: [
                    "ui-subtitle-settings-character-edge-color-select-box",
                  ],
                },
                _this.config
              );
              return _this;
            }
            CharacterEdgeColorSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem("white", i18n_1.i18n.getLocalizer("colors.white"));
              this.addItem("black", i18n_1.i18n.getLocalizer("colors.black"));
              this.addItem("red", i18n_1.i18n.getLocalizer("colors.red"));
              this.addItem("green", i18n_1.i18n.getLocalizer("colors.green"));
              this.addItem("blue", i18n_1.i18n.getLocalizer("colors.blue"));
              this.addItem("cyan", i18n_1.i18n.getLocalizer("colors.cyan"));
              this.addItem("yellow", i18n_1.i18n.getLocalizer("colors.yellow"));
              this.addItem(
                "magenta",
                i18n_1.i18n.getLocalizer("colors.magenta")
              );
              this.onItemSelected.subscribe(function (sender, key) {
                _this.settingsManager.characterEdgeColor.value = key;
                // Edge type and color go together, so we need to...
                if (!_this.settingsManager.characterEdgeColor.isSet()) {
                  // ... clear the edge type when the color is not set
                  _this.settingsManager.characterEdge.clear();
                } else if (!_this.settingsManager.characterEdge.isSet()) {
                  // ... set a edge type when the color is set
                  _this.settingsManager.characterEdge.value = "uniform";
                }
              });
              // Update selected item when value is set from somewhere else
              this.settingsManager.characterEdgeColor.onChanged.subscribe(
                function (sender, property) {
                  _this.selectItem(property.value);
                }
              );
              // Load initial value
              if (this.settingsManager.characterEdgeColor.isSet()) {
                this.selectItem(this.settingsManager.characterEdgeColor.value);
              }
            };
            return CharacterEdgeColorSelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.CharacterEdgeColorSelectBox = CharacterEdgeColorSelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      59: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.CharacterEdgeSelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different character edge.
           *
           * @category Components
           */
          var CharacterEdgeSelectBox = /** @class */ (function (_super) {
            __extends(CharacterEdgeSelectBox, _super);
            function CharacterEdgeSelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitlesettingscharacteredgeselectbox"],
                },
                _this.config
              );
              return _this;
            }
            CharacterEdgeSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem(
                "raised",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.characterEdge.raised"
                )
              );
              this.addItem(
                "depressed",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.characterEdge.depressed"
                )
              );
              this.addItem(
                "uniform",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.characterEdge.uniform"
                )
              );
              this.addItem(
                "dropshadowed",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.characterEdge.dropshadowed"
                )
              );
              var setColorAndEdgeType = function () {
                if (
                  _this.settingsManager.characterEdge.isSet() &&
                  _this.settingsManager.characterEdgeColor.isSet()
                ) {
                  _this.toggleOverlayClass(
                    "characteredge-" +
                      _this.settingsManager.characterEdge.value +
                      "-" +
                      _this.settingsManager.characterEdgeColor.value
                  );
                } else {
                  _this.toggleOverlayClass(null);
                }
              };
              this.onItemSelected.subscribe(function (sender, key) {
                _this.settingsManager.characterEdge.value = key;
              });
              this.settingsManager.characterEdge.onChanged.subscribe(function (
                sender,
                property
              ) {
                // Edge type and color go together, so we need to...
                if (!_this.settingsManager.characterEdge.isSet()) {
                  // ... clear the color when the edge type is not set
                  _this.settingsManager.characterEdgeColor.clear();
                } else if (!_this.settingsManager.characterEdgeColor.isSet()) {
                  // ... set a color when the edge type is set
                  _this.settingsManager.characterEdgeColor.value = "black";
                }
                _this.selectItem(property.value);
                setColorAndEdgeType();
              });
              this.settingsManager.characterEdgeColor.onChanged.subscribe(
                function () {
                  setColorAndEdgeType();
                }
              );
              // Load initial value
              if (this.settingsManager.characterEdge.isSet()) {
                this.selectItem(this.settingsManager.characterEdge.value);
              }
            };
            return CharacterEdgeSelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.CharacterEdgeSelectBox = CharacterEdgeSelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      60: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.FontColorSelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different font colors.
           *
           * @category Components
           */
          var FontColorSelectBox = /** @class */ (function (_super) {
            __extends(FontColorSelectBox, _super);
            function FontColorSelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitlesettingsfontcolorselectbox"],
                },
                _this.config
              );
              return _this;
            }
            FontColorSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem("white", i18n_1.i18n.getLocalizer("colors.white"));
              this.addItem("black", i18n_1.i18n.getLocalizer("colors.black"));
              this.addItem("red", i18n_1.i18n.getLocalizer("colors.red"));
              this.addItem("green", i18n_1.i18n.getLocalizer("colors.green"));
              this.addItem("blue", i18n_1.i18n.getLocalizer("colors.blue"));
              this.addItem("cyan", i18n_1.i18n.getLocalizer("colors.cyan"));
              this.addItem("yellow", i18n_1.i18n.getLocalizer("colors.yellow"));
              this.addItem(
                "magenta",
                i18n_1.i18n.getLocalizer("colors.magenta")
              );
              var setColorAndOpacity = function () {
                if (
                  _this.settingsManager.fontColor.isSet() &&
                  _this.settingsManager.fontOpacity.isSet()
                ) {
                  _this.toggleOverlayClass(
                    "fontcolor-" +
                      _this.settingsManager.fontColor.value +
                      _this.settingsManager.fontOpacity.value
                  );
                } else {
                  _this.toggleOverlayClass(null);
                }
              };
              this.onItemSelected.subscribe(function (sender, key) {
                _this.settingsManager.fontColor.value = key;
              });
              this.settingsManager.fontColor.onChanged.subscribe(function (
                sender,
                property
              ) {
                // Color and opacity go together, so we need to...
                if (!_this.settingsManager.fontColor.isSet()) {
                  // ... clear the opacity when the color is not set
                  _this.settingsManager.fontOpacity.clear();
                } else if (!_this.settingsManager.fontOpacity.isSet()) {
                  // ... set an opacity when the color is set
                  _this.settingsManager.fontOpacity.value = "100";
                }
                _this.selectItem(property.value);
                setColorAndOpacity();
              });
              this.settingsManager.fontOpacity.onChanged.subscribe(function () {
                setColorAndOpacity();
              });
              // Load initial value
              if (this.settingsManager.fontColor.isSet()) {
                this.selectItem(this.settingsManager.fontColor.value);
              }
            };
            return FontColorSelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.FontColorSelectBox = FontColorSelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      61: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.FontFamilySelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different font family.
           *
           * @category Components
           */
          var FontFamilySelectBox = /** @class */ (function (_super) {
            __extends(FontFamilySelectBox, _super);
            function FontFamilySelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitlesettingsfontfamilyselectbox"],
                },
                _this.config
              );
              return _this;
            }
            FontFamilySelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem(
                "monospacedserif",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.font.family.monospacedserif"
                )
              );
              this.addItem(
                "proportionalserif",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.font.family.proportionalserif"
                )
              );
              this.addItem(
                "monospacedsansserif",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.font.family.monospacedsansserif"
                )
              );
              this.addItem(
                "proportionalsansserif",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.font.family.proportionalsansserif"
                )
              );
              this.addItem(
                "casual",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.font.family.casual"
                )
              );
              this.addItem(
                "cursive",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.font.family.cursive"
                )
              );
              this.addItem(
                "smallcapital",
                i18n_1.i18n.getLocalizer(
                  "settings.subtitles.font.family.smallcapital"
                )
              );
              this.settingsManager.fontFamily.onChanged.subscribe(function (
                sender,
                property
              ) {
                if (property.isSet()) {
                  _this.toggleOverlayClass("fontfamily-" + property.value);
                } else {
                  _this.toggleOverlayClass(null);
                }
                // Select the item in case the property was set from outside
                _this.selectItem(property.value);
              });
              this.onItemSelected.subscribe(function (sender, key) {
                _this.settingsManager.fontFamily.value = key;
              });
              // Load initial value
              if (this.settingsManager.fontFamily.isSet()) {
                this.selectItem(this.settingsManager.fontFamily.value);
              }
            };
            return FontFamilySelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.FontFamilySelectBox = FontFamilySelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      62: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.FontOpacitySelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different font colors.
           *
           * @category Components
           */
          var FontOpacitySelectBox = /** @class */ (function (_super) {
            __extends(FontOpacitySelectBox, _super);
            function FontOpacitySelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitlesettingsfontopacityselectbox"],
                },
                _this.config
              );
              return _this;
            }
            FontOpacitySelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem(
                "100",
                i18n_1.i18n.getLocalizer("percent", { value: 100 })
              );
              this.addItem(
                "75",
                i18n_1.i18n.getLocalizer("percent", { value: 75 })
              );
              this.addItem(
                "50",
                i18n_1.i18n.getLocalizer("percent", { value: 50 })
              );
              this.addItem(
                "25",
                i18n_1.i18n.getLocalizer("percent", { value: 25 })
              );
              this.onItemSelected.subscribe(function (sender, key) {
                _this.settingsManager.fontOpacity.value = key;
                // Color and opacity go together, so we need to...
                if (!_this.settingsManager.fontOpacity.isSet()) {
                  // ... clear the color when the opacity is not set
                  _this.settingsManager.fontColor.clear();
                } else if (!_this.settingsManager.fontColor.isSet()) {
                  // ... set a color when the opacity is set
                  _this.settingsManager.fontColor.value = "white";
                }
              });
              // Update selected item when value is set from somewhere else
              this.settingsManager.fontOpacity.onChanged.subscribe(function (
                sender,
                property
              ) {
                _this.selectItem(property.value);
              });
              // Load initial value
              if (this.settingsManager.fontOpacity.isSet()) {
                this.selectItem(this.settingsManager.fontOpacity.value);
              }
            };
            return FontOpacitySelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.FontOpacitySelectBox = FontOpacitySelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      63: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.FontSizeSelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different font colors.
           *
           * @category Components
           */
          var FontSizeSelectBox = /** @class */ (function (_super) {
            __extends(FontSizeSelectBox, _super);
            function FontSizeSelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitlesettingsfontsizeselectbox"],
                },
                _this.config
              );
              return _this;
            }
            FontSizeSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem(
                "50",
                i18n_1.i18n.getLocalizer("percent", { value: 50 })
              );
              this.addItem(
                "75",
                i18n_1.i18n.getLocalizer("percent", { value: 75 })
              );
              this.addItem(
                "100",
                i18n_1.i18n.getLocalizer("percent", { value: 100 })
              );
              this.addItem(
                "150",
                i18n_1.i18n.getLocalizer("percent", { value: 150 })
              );
              this.addItem(
                "200",
                i18n_1.i18n.getLocalizer("percent", { value: 200 })
              );
              this.addItem(
                "300",
                i18n_1.i18n.getLocalizer("percent", { value: 300 })
              );
              this.addItem(
                "400",
                i18n_1.i18n.getLocalizer("percent", { value: 400 })
              );
              this.settingsManager.fontSize.onChanged.subscribe(function (
                sender,
                property
              ) {
                if (property.isSet()) {
                  _this.toggleOverlayClass("fontsize-" + property.value);
                } else {
                  _this.toggleOverlayClass(null);
                }
                // Select the item in case the property was set from outside
                _this.selectItem(property.value);
              });
              this.onItemSelected.subscribe(function (sender, key) {
                _this.settingsManager.fontSize.value = key;
              });
              // Load initial value
              if (this.settingsManager.fontSize.isSet()) {
                this.selectItem(this.settingsManager.fontSize.value);
              }
            };
            return FontSizeSelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.FontSizeSelectBox = FontSizeSelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      64: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.FontStyleSelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different font styles.
           *
           * @category Components
           */
          var FontStyleSelectBox = /** @class */ (function (_super) {
            __extends(FontStyleSelectBox, _super);
            function FontStyleSelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitle-settings-font-style-select-box"],
                },
                _this.config
              );
              return _this;
            }
            FontStyleSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              var _a, _b;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem(
                "italic",
                i18n_1.i18n.getLocalizer("settings.subtitles.font.style.italic")
              );
              this.addItem(
                "bold",
                i18n_1.i18n.getLocalizer("settings.subtitles.font.style.bold")
              );
              (_a = this.settingsManager) === null || _a === void 0
                ? void 0
                : _a.fontStyle.onChanged.subscribe(function (sender, property) {
                    if (property.isSet()) {
                      _this.toggleOverlayClass("fontstyle-" + property.value);
                    } else {
                      _this.toggleOverlayClass(null);
                    }
                    // Select the item in case the property was set from outside
                    _this.selectItem(property.value);
                  });
              this.onItemSelected.subscribe(function (sender, key) {
                if (_this.settingsManager) {
                  _this.settingsManager.fontStyle.value = key;
                }
              });
              // Load initial value
              if (
                (_b = this.settingsManager) === null || _b === void 0
                  ? void 0
                  : _b.fontStyle.isSet()
              ) {
                this.selectItem(this.settingsManager.fontStyle.value);
              }
            };
            return FontStyleSelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.FontStyleSelectBox = FontStyleSelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      65: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SubtitleSettingSelectBox = void 0;
          var selectbox_1 = require("../selectbox");
          /**
           * Base class for all subtitles settings select box
           *
           * @category Components
           **/
          var SubtitleSettingSelectBox = /** @class */ (function (_super) {
            __extends(SubtitleSettingSelectBox, _super);
            function SubtitleSettingSelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.overlay = config.overlay;
              return _this;
            }
            /**
             * Removes a previously set class and adds the passed in class.
             * @param cssClass The new class to replace the previous class with or null to just remove the previous class
             */
            SubtitleSettingSelectBox.prototype.toggleOverlayClass = function (
              cssClass
            ) {
              // Remove previous class if existing
              if (this.currentCssClass) {
                this.overlay.getDomElement().removeClass(this.currentCssClass);
                this.currentCssClass = null;
              }
              // Add new class if specified. If the new class is null, we don't add anything.
              if (cssClass) {
                this.currentCssClass = this.prefixCss(cssClass);
                this.overlay.getDomElement().addClass(this.currentCssClass);
              }
            };
            SubtitleSettingSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              this.settingsManager = uimanager.getSubtitleSettingsManager();
            };
            return SubtitleSettingSelectBox;
          })(selectbox_1.SelectBox);
          exports.SubtitleSettingSelectBox = SubtitleSettingSelectBox;
        },
        { "../selectbox": 44 },
      ],
      66: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SubtitleSettingsLabel = void 0;
          var container_1 = require("../container");
          var dom_1 = require("../../dom");
          var i18n_1 = require("../../localization/i18n");
          /**
           * @category Components
           */
          var SubtitleSettingsLabel = /** @class */ (function (_super) {
            __extends(SubtitleSettingsLabel, _super);
            function SubtitleSettingsLabel(config) {
              var _this = _super.call(this, config) || this;
              _this.opener = config.opener;
              _this.text = config.text;
              _this.for = config.for;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-label",
                  components: [_this.opener],
                },
                _this.config
              );
              return _this;
            }
            SubtitleSettingsLabel.prototype.toDomElement = function () {
              var labelElement = new dom_1.DOM(
                "label",
                {
                  id: this.config.id,
                  class: this.getCssClasses(),
                  for: this.for,
                },
                this
              ).append(
                new dom_1.DOM("span", {}).html(
                  i18n_1.i18n.performLocalization(this.text)
                ),
                this.opener.getDomElement()
              );
              return labelElement;
            };
            return SubtitleSettingsLabel;
          })(container_1.Container);
          exports.SubtitleSettingsLabel = SubtitleSettingsLabel;
        },
        { "../../dom": 84, "../../localization/i18n": 91, "../container": 19 },
      ],
      67: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SubtitleSettingsProperty = exports.SubtitleSettingsManager =
            void 0;
          var storageutils_1 = require("../../storageutils");
          var component_1 = require("../component");
          var eventdispatcher_1 = require("../../eventdispatcher");
          /**
           * @category Utils
           */
          var SubtitleSettingsManager = /** @class */ (function () {
            function SubtitleSettingsManager() {
              this._properties = {
                fontColor: new SubtitleSettingsProperty(this),
                fontOpacity: new SubtitleSettingsProperty(this),
                fontFamily: new SubtitleSettingsProperty(this),
                fontSize: new SubtitleSettingsProperty(this),
                fontStyle: new SubtitleSettingsProperty(this),
                characterEdge: new SubtitleSettingsProperty(this),
                characterEdgeColor: new SubtitleSettingsProperty(this),
                backgroundColor: new SubtitleSettingsProperty(this),
                backgroundOpacity: new SubtitleSettingsProperty(this),
                windowColor: new SubtitleSettingsProperty(this),
                windowOpacity: new SubtitleSettingsProperty(this),
              };
              this.userSettings = {};
              this.localStorageKey =
                DummyComponent.instance().prefixCss("subtitlesettings");
            }
            SubtitleSettingsManager.prototype.reset = function () {
              for (var propertyName in this._properties) {
                this._properties[propertyName].clear();
              }
            };
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "fontColor",
              {
                get: function () {
                  return this._properties.fontColor;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "fontOpacity",
              {
                get: function () {
                  return this._properties.fontOpacity;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "fontFamily",
              {
                get: function () {
                  return this._properties.fontFamily;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "fontSize",
              {
                get: function () {
                  return this._properties.fontSize;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "fontStyle",
              {
                get: function () {
                  return this._properties.fontStyle;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "characterEdge",
              {
                get: function () {
                  return this._properties.characterEdge;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "characterEdgeColor",
              {
                get: function () {
                  return this._properties.characterEdgeColor;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "backgroundColor",
              {
                get: function () {
                  return this._properties.backgroundColor;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "backgroundOpacity",
              {
                get: function () {
                  return this._properties.backgroundOpacity;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "windowColor",
              {
                get: function () {
                  return this._properties.windowColor;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              SubtitleSettingsManager.prototype,
              "windowOpacity",
              {
                get: function () {
                  return this._properties.windowOpacity;
                },
                enumerable: false,
                configurable: true,
              }
            );
            SubtitleSettingsManager.prototype.initialize = function () {
              var _this = this;
              var _loop_1 = function (propertyName) {
                this_1._properties[propertyName].onChanged.subscribe(function (
                  sender,
                  property
                ) {
                  if (property.isSet()) {
                    _this.userSettings[propertyName] = property.value;
                  } else {
                    // Delete the property from the settings object if unset to avoid serialization of null values
                    delete _this.userSettings[propertyName];
                  }
                  // Save the settings object when a property has changed
                  _this.save();
                });
              };
              var this_1 = this;
              for (var propertyName in this._properties) {
                _loop_1(propertyName);
              }
              this.load();
            };
            /**
             * Saves the settings to local storage.
             */
            SubtitleSettingsManager.prototype.save = function () {
              storageutils_1.StorageUtils.setObject(
                this.localStorageKey,
                this.userSettings
              );
            };
            /**
             * Loads the settings from local storage
             */
            SubtitleSettingsManager.prototype.load = function () {
              this.userSettings =
                storageutils_1.StorageUtils.getObject(this.localStorageKey) ||
                {};
              // Apply the loaded settings
              for (var property in this.userSettings) {
                this._properties[property].value = this.userSettings[property];
              }
            };
            return SubtitleSettingsManager;
          })();
          exports.SubtitleSettingsManager = SubtitleSettingsManager;
          /**
           * A dummy component whose sole purpose is to expose the {@link #prefixCss} method to the
           * {@link SubtitleSettingsManager}.
           */
          var DummyComponent = /** @class */ (function (_super) {
            __extends(DummyComponent, _super);
            function DummyComponent() {
              return (_super !== null && _super.apply(this, arguments)) || this;
            }
            DummyComponent.instance = function () {
              if (!DummyComponent._instance) {
                DummyComponent._instance = new DummyComponent();
              }
              return DummyComponent._instance;
            };
            DummyComponent.prototype.prefixCss = function (cssClassOrId) {
              return _super.prototype.prefixCss.call(this, cssClassOrId);
            };
            return DummyComponent;
          })(component_1.Component);
          var SubtitleSettingsProperty = /** @class */ (function () {
            function SubtitleSettingsProperty(manager) {
              this._manager = manager;
              this._onChanged = new eventdispatcher_1.EventDispatcher();
            }
            SubtitleSettingsProperty.prototype.isSet = function () {
              return this._value != null;
            };
            SubtitleSettingsProperty.prototype.clear = function () {
              this._value = null;
              this.onChangedEvent(null);
            };
            Object.defineProperty(SubtitleSettingsProperty.prototype, "value", {
              get: function () {
                return this._value;
              },
              set: function (value) {
                if (typeof value === "string" && value === "null") {
                  value = null;
                }
                this._value = value;
                this.onChangedEvent(value);
              },
              enumerable: false,
              configurable: true,
            });
            SubtitleSettingsProperty.prototype.onChangedEvent = function (
              value
            ) {
              this._onChanged.dispatch(this._manager, this);
            };
            Object.defineProperty(
              SubtitleSettingsProperty.prototype,
              "onChanged",
              {
                get: function () {
                  return this._onChanged.getEvent();
                },
                enumerable: false,
                configurable: true,
              }
            );
            return SubtitleSettingsProperty;
          })();
          exports.SubtitleSettingsProperty = SubtitleSettingsProperty;
        },
        {
          "../../eventdispatcher": 86,
          "../../storageutils": 110,
          "../component": 18,
        },
      ],
      68: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SubtitleSettingsPanelPage = void 0;
          var settingspanelpage_1 = require("../settingspanelpage");
          var fontsizeselectbox_1 = require("./fontsizeselectbox");
          var fontstyleselectbox_1 = require("./fontstyleselectbox");
          var fontfamilyselectbox_1 = require("./fontfamilyselectbox");
          var fontcolorselectbox_1 = require("./fontcolorselectbox");
          var fontopacityselectbox_1 = require("./fontopacityselectbox");
          var characteredgeselectbox_1 = require("./characteredgeselectbox");
          var characteredgecolorselectbox_1 = require("./characteredgecolorselectbox");
          var backgroundcolorselectbox_1 = require("./backgroundcolorselectbox");
          var backgroundopacityselectbox_1 = require("./backgroundopacityselectbox");
          var windowcolorselectbox_1 = require("./windowcolorselectbox");
          var windowopacityselectbox_1 = require("./windowopacityselectbox");
          var subtitlesettingsresetbutton_1 = require("./subtitlesettingsresetbutton");
          var settingspanelpagebackbutton_1 = require("../settingspanelpagebackbutton");
          var settingspanelitem_1 = require("../settingspanelitem");
          var i18n_1 = require("../../localization/i18n");
          /**
           * @category Components
           */
          var SubtitleSettingsPanelPage = /** @class */ (function (_super) {
            __extends(SubtitleSettingsPanelPage, _super);
            function SubtitleSettingsPanelPage(config) {
              var _this = _super.call(this, config) || this;
              _this.overlay = config.overlay;
              _this.settingsPanel = config.settingsPanel;
              _this.config = _this.mergeConfig(
                config,
                {
                  components: [
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer("settings.subtitles.font.size"),
                      new fontsizeselectbox_1.FontSizeSelectBox({
                        overlay: _this.overlay,
                      })
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer("settings.subtitles.font.style"),
                      new fontstyleselectbox_1.FontStyleSelectBox({
                        overlay: _this.overlay,
                      })
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer(
                        "settings.subtitles.font.family"
                      ),
                      new fontfamilyselectbox_1.FontFamilySelectBox({
                        overlay: _this.overlay,
                      })
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer("settings.subtitles.font.color"),
                      new fontcolorselectbox_1.FontColorSelectBox({
                        overlay: _this.overlay,
                      })
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer(
                        "settings.subtitles.font.opacity"
                      ),
                      new fontopacityselectbox_1.FontOpacitySelectBox({
                        overlay: _this.overlay,
                      })
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer(
                        "settings.subtitles.characterEdge"
                      ),
                      new characteredgeselectbox_1.CharacterEdgeSelectBox({
                        overlay: _this.overlay,
                      })
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer(
                        "settings.subtitles.characterEdge.color"
                      ),
                      new characteredgecolorselectbox_1.CharacterEdgeColorSelectBox(
                        {
                          overlay: _this.overlay,
                        }
                      )
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer(
                        "settings.subtitles.background.color"
                      ),
                      new backgroundcolorselectbox_1.BackgroundColorSelectBox({
                        overlay: _this.overlay,
                      })
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer(
                        "settings.subtitles.background.opacity"
                      ),
                      new backgroundopacityselectbox_1.BackgroundOpacitySelectBox(
                        {
                          overlay: _this.overlay,
                        }
                      )
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer(
                        "settings.subtitles.window.color"
                      ),
                      new windowcolorselectbox_1.WindowColorSelectBox({
                        overlay: _this.overlay,
                      })
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer(
                        "settings.subtitles.window.opacity"
                      ),
                      new windowopacityselectbox_1.WindowOpacitySelectBox({
                        overlay: _this.overlay,
                      })
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      new settingspanelpagebackbutton_1.SettingsPanelPageBackButton(
                        {
                          container: _this.settingsPanel,
                          text: i18n_1.i18n.getLocalizer("back"),
                        }
                      ),
                      new subtitlesettingsresetbutton_1.SubtitleSettingsResetButton(
                        {}
                      ),
                      {
                        role: "menubar",
                      }
                    ),
                  ],
                },
                _this.config
              );
              return _this;
            }
            SubtitleSettingsPanelPage.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.onActive.subscribe(function () {
                _this.overlay.enablePreviewSubtitleLabel();
              });
              this.onInactive.subscribe(function () {
                _this.overlay.removePreviewSubtitleLabel();
              });
            };
            return SubtitleSettingsPanelPage;
          })(settingspanelpage_1.SettingsPanelPage);
          exports.SubtitleSettingsPanelPage = SubtitleSettingsPanelPage;
        },
        {
          "../../localization/i18n": 91,
          "../settingspanelitem": 46,
          "../settingspanelpage": 47,
          "../settingspanelpagebackbutton": 48,
          "./backgroundcolorselectbox": 56,
          "./backgroundopacityselectbox": 57,
          "./characteredgecolorselectbox": 58,
          "./characteredgeselectbox": 59,
          "./fontcolorselectbox": 60,
          "./fontfamilyselectbox": 61,
          "./fontopacityselectbox": 62,
          "./fontsizeselectbox": 63,
          "./fontstyleselectbox": 64,
          "./subtitlesettingsresetbutton": 69,
          "./windowcolorselectbox": 70,
          "./windowopacityselectbox": 71,
        },
      ],
      69: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SubtitleSettingsResetButton = void 0;
          var button_1 = require("../button");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A button that resets all subtitle settings to their defaults.
           *
           * @category Buttons
           */
          var SubtitleSettingsResetButton = /** @class */ (function (_super) {
            __extends(SubtitleSettingsResetButton, _super);
            function SubtitleSettingsResetButton(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-subtitlesettingsresetbutton",
                  text: i18n_1.i18n.getLocalizer("reset"),
                },
                _this.config
              );
              return _this;
            }
            SubtitleSettingsResetButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.settingsManager = uimanager.getSubtitleSettingsManager();
              this.onClick.subscribe(function () {
                _this.settingsManager.reset();
              });
            };
            return SubtitleSettingsResetButton;
          })(button_1.Button);
          exports.SubtitleSettingsResetButton = SubtitleSettingsResetButton;
        },
        { "../../localization/i18n": 91, "../button": 12 },
      ],
      70: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.WindowColorSelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different background colors.
           *
           * @category Components
           */
          var WindowColorSelectBox = /** @class */ (function (_super) {
            __extends(WindowColorSelectBox, _super);
            function WindowColorSelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitlesettingswindowcolorselectbox"],
                },
                _this.config
              );
              return _this;
            }
            WindowColorSelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem("white", i18n_1.i18n.getLocalizer("colors.white"));
              this.addItem("black", i18n_1.i18n.getLocalizer("colors.black"));
              this.addItem("red", i18n_1.i18n.getLocalizer("colors.red"));
              this.addItem("green", i18n_1.i18n.getLocalizer("colors.green"));
              this.addItem("blue", i18n_1.i18n.getLocalizer("colors.blue"));
              this.addItem("cyan", i18n_1.i18n.getLocalizer("colors.cyan"));
              this.addItem("yellow", i18n_1.i18n.getLocalizer("colors.yellow"));
              this.addItem(
                "magenta",
                i18n_1.i18n.getLocalizer("colors.magenta")
              );
              var setColorAndOpacity = function () {
                if (
                  _this.settingsManager.windowColor.isSet() &&
                  _this.settingsManager.windowOpacity.isSet()
                ) {
                  _this.toggleOverlayClass(
                    "windowcolor-" +
                      _this.settingsManager.windowColor.value +
                      _this.settingsManager.windowOpacity.value
                  );
                } else {
                  _this.toggleOverlayClass(null);
                }
              };
              this.onItemSelected.subscribe(function (sender, key) {
                _this.settingsManager.windowColor.value = key;
              });
              this.settingsManager.windowColor.onChanged.subscribe(function (
                sender,
                property
              ) {
                // Color and opacity go together, so we need to...
                if (!_this.settingsManager.windowColor.isSet()) {
                  // ... clear the opacity when the color is not set
                  _this.settingsManager.windowOpacity.clear();
                } else if (!_this.settingsManager.windowOpacity.isSet()) {
                  // ... set an opacity when the color is set
                  _this.settingsManager.windowOpacity.value = "100";
                }
                _this.selectItem(property.value);
                setColorAndOpacity();
              });
              this.settingsManager.windowOpacity.onChanged.subscribe(
                function () {
                  setColorAndOpacity();
                }
              );
              // Load initial value
              if (this.settingsManager.windowColor.isSet()) {
                this.selectItem(this.settingsManager.windowColor.value);
              }
            };
            return WindowColorSelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.WindowColorSelectBox = WindowColorSelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      71: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.WindowOpacitySelectBox = void 0;
          var subtitlesettingselectbox_1 = require("./subtitlesettingselectbox");
          var i18n_1 = require("../../localization/i18n");
          /**
           * A select box providing a selection of different background opacity.
           *
           * @category Components
           */
          var WindowOpacitySelectBox = /** @class */ (function (_super) {
            __extends(WindowOpacitySelectBox, _super);
            function WindowOpacitySelectBox(config) {
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-subtitlesettingswindowopacityselectbox"],
                },
                _this.config
              );
              return _this;
            }
            WindowOpacitySelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              this.addItem(null, i18n_1.i18n.getLocalizer("default"));
              this.addItem(
                "100",
                i18n_1.i18n.getLocalizer("percent", { value: 100 })
              );
              this.addItem(
                "75",
                i18n_1.i18n.getLocalizer("percent", { value: 75 })
              );
              this.addItem(
                "50",
                i18n_1.i18n.getLocalizer("percent", { value: 50 })
              );
              this.addItem(
                "25",
                i18n_1.i18n.getLocalizer("percent", { value: 25 })
              );
              this.addItem(
                "0",
                i18n_1.i18n.getLocalizer("percent", { value: 0 })
              );
              this.onItemSelected.subscribe(function (sender, key) {
                _this.settingsManager.windowOpacity.value = key;
                // Color and opacity go together, so we need to...
                if (!_this.settingsManager.windowOpacity.isSet()) {
                  // ... clear the color when the opacity is not set
                  _this.settingsManager.windowColor.clear();
                } else if (!_this.settingsManager.windowColor.isSet()) {
                  // ... set a color when the opacity is set
                  _this.settingsManager.windowColor.value = "black";
                }
              });
              // Update selected item when value is set from somewhere else
              this.settingsManager.windowOpacity.onChanged.subscribe(function (
                sender,
                property
              ) {
                _this.selectItem(property.value);
              });
              // Load initial value
              if (this.settingsManager.windowOpacity.isSet()) {
                this.selectItem(this.settingsManager.windowOpacity.value);
              }
            };
            return WindowOpacitySelectBox;
          })(subtitlesettingselectbox_1.SubtitleSettingSelectBox);
          exports.WindowOpacitySelectBox = WindowOpacitySelectBox;
        },
        { "../../localization/i18n": 91, "./subtitlesettingselectbox": 65 },
      ],
      72: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.TimelineMarkersHandler = void 0;
          var dom_1 = require("../dom");
          var playerutils_1 = require("../playerutils");
          var timeout_1 = require("../timeout");
          var TimelineMarkersHandler = /** @class */ (function () {
            function TimelineMarkersHandler(
              config,
              getSeekBarWidth,
              markersContainer
            ) {
              this.config = config;
              this.getSeekBarWidth = getSeekBarWidth;
              this.markersContainer = markersContainer;
              this.timelineMarkers = [];
            }
            TimelineMarkersHandler.prototype.initialize = function (
              player,
              uimanager
            ) {
              this.player = player;
              this.uimanager = uimanager;
              this.configureMarkers();
            };
            TimelineMarkersHandler.prototype.configureMarkers = function () {
              var _this = this;
              // Remove markers when unloaded
              this.player.on(
                this.player.exports.PlayerEvent.SourceUnloaded,
                function () {
                  return _this.clearMarkers();
                }
              );
              this.player.on(
                this.player.exports.PlayerEvent.AdBreakStarted,
                function () {
                  return _this.clearMarkers();
                }
              );
              this.player.on(
                this.player.exports.PlayerEvent.AdBreakFinished,
                function () {
                  return _this.updateMarkers();
                }
              );
              // Update markers when the size of the seekbar changes
              this.player.on(
                this.player.exports.PlayerEvent.PlayerResized,
                function () {
                  return _this.updateMarkersDOM();
                }
              );
              this.player.on(
                this.player.exports.PlayerEvent.SourceLoaded,
                function () {
                  if (_this.player.isLive()) {
                    // Update marker position as timeshift range changes
                    _this.player.on(
                      _this.player.exports.PlayerEvent.TimeChanged,
                      function () {
                        return _this.updateMarkers();
                      }
                    );
                    // Update marker postion when paused as timeshift range changes
                    _this.configureLivePausedTimeshiftUpdater(function () {
                      return _this.updateMarkers();
                    });
                  }
                }
              );
              this.uimanager
                .getConfig()
                .events.onUpdated.subscribe(function () {
                  return _this.updateMarkers();
                });
              this.uimanager.onRelease.subscribe(function () {
                return _this.uimanager
                  .getConfig()
                  .events.onUpdated.unsubscribe(function () {
                    return _this.updateMarkers();
                  });
              });
              // Init markers at startup
              this.updateMarkers();
            };
            TimelineMarkersHandler.prototype.getMarkerAtPosition = function (
              percentage
            ) {
              var snappingRange = this.config.snappingRange;
              var matchingMarker = this.timelineMarkers.find(function (marker) {
                var hasDuration = marker.duration > 0;
                // Handle interval markers
                var intervalMarkerMatch =
                  hasDuration &&
                  percentage >= marker.position - snappingRange &&
                  percentage <=
                    marker.position + marker.duration + snappingRange;
                // Handle position markers
                var positionMarkerMatch =
                  percentage >= marker.position - snappingRange &&
                  percentage <= marker.position + snappingRange;
                return intervalMarkerMatch || positionMarkerMatch;
              });
              return matchingMarker || null;
            };
            TimelineMarkersHandler.prototype.clearMarkers = function () {
              this.timelineMarkers = [];
              this.markersContainer.empty();
            };
            TimelineMarkersHandler.prototype.removeMarkerFromConfig = function (
              marker
            ) {
              this.uimanager.getConfig().metadata.markers = this.uimanager
                .getConfig()
                .metadata.markers.filter(function (_marker) {
                  return marker !== _marker;
                });
            };
            TimelineMarkersHandler.prototype.filterRemovedMarkers =
              function () {
                var _this = this;
                this.timelineMarkers = this.timelineMarkers.filter(function (
                  seekbarMarker
                ) {
                  var matchingMarker = _this.uimanager
                    .getConfig()
                    .metadata.markers.find(function (_marker) {
                      return seekbarMarker.marker === _marker;
                    });
                  if (!matchingMarker) {
                    _this.removeMarkerFromDOM(seekbarMarker);
                  }
                  return matchingMarker;
                });
              };
            TimelineMarkersHandler.prototype.removeMarkerFromDOM = function (
              marker
            ) {
              if (marker.element) {
                marker.element.remove();
              }
            };
            TimelineMarkersHandler.prototype.updateMarkers = function () {
              var _this = this;
              if (!shouldProcessMarkers(this.player, this.uimanager)) {
                this.clearMarkers();
                return;
              }
              this.filterRemovedMarkers();
              this.uimanager
                .getConfig()
                .metadata.markers.forEach(function (marker) {
                  var _a = getMarkerPositions(_this.player, marker),
                    markerPosition = _a.markerPosition,
                    markerDuration = _a.markerDuration;
                  if (shouldRemoveMarker(markerPosition, markerDuration)) {
                    _this.removeMarkerFromConfig(marker);
                  } else if (markerPosition <= 100) {
                    var matchingMarker = _this.timelineMarkers.find(function (
                      seekbarMarker
                    ) {
                      return seekbarMarker.marker === marker;
                    });
                    if (matchingMarker) {
                      matchingMarker.position = markerPosition;
                      matchingMarker.duration = markerDuration;
                      _this.updateMarkerDOM(matchingMarker);
                    } else {
                      var newMarker = {
                        marker: marker,
                        position: markerPosition,
                        duration: markerDuration,
                      };
                      _this.timelineMarkers.push(newMarker);
                      _this.createMarkerDOM(newMarker);
                    }
                  }
                });
            };
            TimelineMarkersHandler.prototype.getMarkerCssProperties = function (
              marker
            ) {
              var seekBarWidthPx = this.getSeekBarWidth();
              var positionInPx =
                (seekBarWidthPx / 100) *
                (marker.position < 0 ? 0 : marker.position);
              var cssProperties = {
                transform: "translateX(".concat(positionInPx, "px)"),
              };
              if (marker.duration > 0) {
                var markerWidthPx = Math.round(
                  (seekBarWidthPx / 100) * marker.duration
                );
                cssProperties["width"] = "".concat(markerWidthPx, "px");
              }
              return cssProperties;
            };
            TimelineMarkersHandler.prototype.updateMarkerDOM = function (
              marker
            ) {
              marker.element.css(this.getMarkerCssProperties(marker));
            };
            TimelineMarkersHandler.prototype.createMarkerDOM = function (
              marker
            ) {
              var _this = this;
              var markerClasses = ["seekbar-marker"]
                .concat(marker.marker.cssClasses || [])
                .map(function (cssClass) {
                  return _this.prefixCss(cssClass);
                });
              var markerElement = new dom_1.DOM("div", {
                class: markerClasses.join(" "),
                "data-marker-time": String(marker.marker.time),
                "data-marker-title": String(marker.marker.title),
              }).css(this.getMarkerCssProperties(marker));
              if (marker.marker.imageUrl) {
                var removeImage = function () {
                  imageElement_1.remove();
                };
                var imageElement_1 = new dom_1.DOM("img", {
                  class: this.prefixCss("seekbar-marker-image"),
                  src: marker.marker.imageUrl,
                }).on("error", removeImage);
                markerElement.append(imageElement_1);
              }
              marker.element = markerElement;
              this.markersContainer.append(markerElement);
            };
            TimelineMarkersHandler.prototype.updateMarkersDOM = function () {
              var _this = this;
              this.timelineMarkers.forEach(function (marker) {
                if (marker.element) {
                  _this.updateMarkerDOM(marker);
                } else {
                  _this.createMarkerDOM(marker);
                }
              });
            };
            TimelineMarkersHandler.prototype.configureLivePausedTimeshiftUpdater =
              function (handler) {
                var _this = this;
                // Regularly update the marker position while the timeout is active
                this.pausedTimeshiftUpdater = new timeout_1.Timeout(
                  1000,
                  handler,
                  true
                );
                this.player.on(
                  this.player.exports.PlayerEvent.Paused,
                  function () {
                    if (
                      _this.player.isLive() &&
                      _this.player.getMaxTimeShift() < 0
                    ) {
                      _this.pausedTimeshiftUpdater.start();
                    }
                  }
                );
                // Stop updater when playback continues (no matter if the updater was started before)
                this.player.on(
                  this.player.exports.PlayerEvent.Play,
                  function () {
                    return _this.pausedTimeshiftUpdater.clear();
                  }
                );
                this.player.on(
                  this.player.exports.PlayerEvent.Destroy,
                  function () {
                    return _this.pausedTimeshiftUpdater.clear();
                  }
                );
              };
            TimelineMarkersHandler.prototype.prefixCss = function (
              cssClassOrId
            ) {
              return this.config.cssPrefix + "-" + cssClassOrId;
            };
            return TimelineMarkersHandler;
          })();
          exports.TimelineMarkersHandler = TimelineMarkersHandler;
          function getMarkerPositions(player, marker) {
            var duration = getDuration(player);
            var markerPosition =
              (100 / duration) * getMarkerTime(marker, player, duration); // convert absolute time to percentage
            var markerDuration = (100 / duration) * marker.duration;
            if (markerPosition < 0 && !isNaN(markerDuration)) {
              // Shrink marker duration for on live streams as they reach end
              markerDuration = markerDuration + markerPosition;
            }
            if (100 - markerPosition < markerDuration) {
              // Shrink marker if it overflows timeline
              markerDuration = 100 - markerPosition;
            }
            return {
              markerDuration: markerDuration,
              markerPosition: markerPosition,
            };
          }
          function getMarkerTime(marker, player, duration) {
            if (!player.isLive()) {
              return marker.time;
            }
            return (
              duration -
              (playerutils_1.PlayerUtils.getSeekableRangeRespectingLive(player)
                .end -
                marker.time)
            );
          }
          function getDuration(player) {
            if (!player.isLive()) {
              return player.getDuration();
            }
            var _a =
                playerutils_1.PlayerUtils.getSeekableRangeRespectingLive(
                  player
                ),
              start = _a.start,
              end = _a.end;
            return end - start;
          }
          function shouldRemoveMarker(markerPosition, markerDuration) {
            return (
              (markerDuration < 0 || isNaN(markerDuration)) &&
              markerPosition < 0
            );
          }
          function shouldProcessMarkers(player, uimanager) {
            // Don't generate timeline markers if we don't yet have a duration
            // The duration check is for buggy platforms where the duration is not available instantly (Chrome on Android 4.3)
            var validToProcess =
              player.getDuration() !== Infinity || player.isLive();
            var hasMarkers = uimanager.getConfig().metadata.markers.length > 0;
            return validToProcess && hasMarkers;
          }
        },
        { "../dom": 84, "../playerutils": 98, "../timeout": 113 },
      ],
      73: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.TitleBar = void 0;
          var container_1 = require("./container");
          var metadatalabel_1 = require("./metadatalabel");
          /**
           * Displays a title bar containing a label with the title of the video.
           *
           * @category Components
           */
          var TitleBar = /** @class */ (function (_super) {
            __extends(TitleBar, _super);
            function TitleBar(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-titlebar",
                  hidden: true,
                  components: [
                    new metadatalabel_1.MetadataLabel({
                      content: metadatalabel_1.MetadataLabelContent.Title,
                    }),
                    new metadatalabel_1.MetadataLabel({
                      content: metadatalabel_1.MetadataLabelContent.Description,
                    }),
                  ],
                  keepHiddenWithoutMetadata: false,
                },
                _this.config
              );
              return _this;
            }
            TitleBar.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              var shouldBeShown = !this.isHidden();
              var hasMetadataText = true; // Flag to track if any metadata label contains text
              var checkMetadataTextAndUpdateVisibility = function () {
                hasMetadataText = false;
                // Iterate through metadata labels and check if at least one of them contains text
                for (
                  var _i = 0, _a = _this.getComponents();
                  _i < _a.length;
                  _i++
                ) {
                  var component = _a[_i];
                  if (component instanceof metadatalabel_1.MetadataLabel) {
                    if (!component.isEmpty()) {
                      hasMetadataText = true;
                      break;
                    }
                  }
                }
                if (_this.isShown()) {
                  // Hide a visible titlebar if it does not contain any text and the hidden flag is set
                  if (config.keepHiddenWithoutMetadata && !hasMetadataText) {
                    _this.hide();
                  }
                } else if (shouldBeShown) {
                  // Show a hidden titlebar if it should actually be shown
                  _this.show();
                }
              };
              // Listen to text change events to update the hasMetadataText flag when the metadata dynamically changes
              for (
                var _i = 0, _a = this.getComponents();
                _i < _a.length;
                _i++
              ) {
                var component = _a[_i];
                if (component instanceof metadatalabel_1.MetadataLabel) {
                  component.onTextChanged.subscribe(
                    checkMetadataTextAndUpdateVisibility
                  );
                }
              }
              uimanager.onControlsShow.subscribe(function () {
                shouldBeShown = true;
                if (!(config.keepHiddenWithoutMetadata && !hasMetadataText)) {
                  _this.show();
                }
              });
              uimanager.onControlsHide.subscribe(function () {
                shouldBeShown = false;
                _this.hide();
              });
              // init
              checkMetadataTextAndUpdateVisibility();
            };
            return TitleBar;
          })(container_1.Container);
          exports.TitleBar = TitleBar;
        },
        { "./container": 19, "./metadatalabel": 31 },
      ],
      74: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ToggleButton = void 0;
          var button_1 = require("./button");
          var eventdispatcher_1 = require("../eventdispatcher");
          /**
           * A button that can be toggled between 'on' and 'off' states.
           *
           * @category Components
           */
          var ToggleButton = /** @class */ (function (_super) {
            __extends(ToggleButton, _super);
            function ToggleButton(config) {
              var _this = _super.call(this, config) || this;
              _this.toggleButtonEvents = {
                onToggle: new eventdispatcher_1.EventDispatcher(),
                onToggleOn: new eventdispatcher_1.EventDispatcher(),
                onToggleOff: new eventdispatcher_1.EventDispatcher(),
              };
              var defaultConfig = {
                cssClass: "ui-togglebutton",
                onClass: "on",
                offClass: "off",
              };
              if (config.onAriaLabel) {
                config.ariaLabel = config.onAriaLabel;
              }
              _this.config = _this.mergeConfig(
                config,
                defaultConfig,
                _this.config
              );
              return _this;
            }
            ToggleButton.prototype.configure = function (player, uimanager) {
              _super.prototype.configure.call(this, player, uimanager);
              var config = this.getConfig();
              this.getDomElement().addClass(this.prefixCss(config.offClass));
            };
            /**
             * Toggles the button to the 'on' state.
             */
            ToggleButton.prototype.on = function () {
              if (this.isOff()) {
                var config = this.getConfig();
                this.onState = true;
                this.getDomElement().removeClass(
                  this.prefixCss(config.offClass)
                );
                this.getDomElement().addClass(this.prefixCss(config.onClass));
                this.onToggleEvent();
                this.onToggleOnEvent();
                this.setAriaAttr("pressed", "true");
                if (this.config.onAriaLabel) {
                  this.setAriaLabel(this.config.onAriaLabel);
                }
              }
            };
            /**
             * Toggles the button to the 'off' state.
             */
            ToggleButton.prototype.off = function () {
              if (this.isOn()) {
                var config = this.getConfig();
                this.onState = false;
                this.getDomElement().removeClass(
                  this.prefixCss(config.onClass)
                );
                this.getDomElement().addClass(this.prefixCss(config.offClass));
                this.onToggleEvent();
                this.onToggleOffEvent();
                this.setAriaAttr("pressed", "false");
                if (this.config.offAriaLabel) {
                  this.setAriaLabel(this.config.offAriaLabel);
                }
              }
            };
            /**
             * Toggle the button 'on' if it is 'off', or 'off' if it is 'on'.
             */
            ToggleButton.prototype.toggle = function () {
              if (this.isOn()) {
                this.off();
              } else {
                this.on();
              }
            };
            /**
             * Checks if the toggle button is in the 'on' state.
             * @returns {boolean} true if button is 'on', false if 'off'
             */
            ToggleButton.prototype.isOn = function () {
              return this.onState;
            };
            /**
             * Checks if the toggle button is in the 'off' state.
             * @returns {boolean} true if button is 'off', false if 'on'
             */
            ToggleButton.prototype.isOff = function () {
              return !this.isOn();
            };
            ToggleButton.prototype.onClickEvent = function () {
              _super.prototype.onClickEvent.call(this);
              // Fire the toggle event together with the click event
              // (they are technically the same, only the semantics are different)
              this.onToggleEvent();
            };
            ToggleButton.prototype.onToggleEvent = function () {
              this.toggleButtonEvents.onToggle.dispatch(this);
            };
            ToggleButton.prototype.onToggleOnEvent = function () {
              this.toggleButtonEvents.onToggleOn.dispatch(this);
            };
            ToggleButton.prototype.onToggleOffEvent = function () {
              this.toggleButtonEvents.onToggleOff.dispatch(this);
            };
            Object.defineProperty(ToggleButton.prototype, "onToggle", {
              /**
               * Gets the event that is fired when the button is toggled.
               * @returns {Event<ToggleButton<Config>, NoArgs>}
               */
              get: function () {
                return this.toggleButtonEvents.onToggle.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(ToggleButton.prototype, "onToggleOn", {
              /**
               * Gets the event that is fired when the button is toggled 'on'.
               * @returns {Event<ToggleButton<Config>, NoArgs>}
               */
              get: function () {
                return this.toggleButtonEvents.onToggleOn.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(ToggleButton.prototype, "onToggleOff", {
              /**
               * Gets the event that is fired when the button is toggled 'off'.
               * @returns {Event<ToggleButton<Config>, NoArgs>}
               */
              get: function () {
                return this.toggleButtonEvents.onToggleOff.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            return ToggleButton;
          })(button_1.Button);
          exports.ToggleButton = ToggleButton;
        },
        { "../eventdispatcher": 86, "./button": 12 },
      ],
      75: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.TvNoiseCanvas = void 0;
          var component_1 = require("./component");
          var dom_1 = require("../dom");
          /**
           * Animated analog TV static noise.
           *
           * @category Components
           */
          var TvNoiseCanvas = /** @class */ (function (_super) {
            __extends(TvNoiseCanvas, _super);
            function TvNoiseCanvas(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.canvasWidth = 160;
              _this.canvasHeight = 90;
              _this.interferenceHeight = 50;
              _this.lastFrameUpdate = 0;
              _this.frameInterval = 60;
              _this.useAnimationFrame = !!window.requestAnimationFrame;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-tvnoisecanvas",
                },
                _this.config
              );
              return _this;
            }
            TvNoiseCanvas.prototype.toDomElement = function () {
              return (this.canvas = new dom_1.DOM(
                "canvas",
                { class: this.getCssClasses() },
                this
              ));
            };
            TvNoiseCanvas.prototype.start = function () {
              this.canvasElement = this.canvas.get(0);
              this.canvasContext = this.canvasElement.getContext("2d");
              this.noiseAnimationWindowPos = -this.canvasHeight;
              this.lastFrameUpdate = 0;
              this.canvasElement.width = this.canvasWidth;
              this.canvasElement.height = this.canvasHeight;
              this.renderFrame();
            };
            TvNoiseCanvas.prototype.stop = function () {
              if (this.useAnimationFrame) {
                cancelAnimationFrame(this.frameUpdateHandlerId);
              } else {
                clearTimeout(this.frameUpdateHandlerId);
              }
            };
            TvNoiseCanvas.prototype.renderFrame = function () {
              // This code has been copied from the player controls.js and simplified
              if (
                this.lastFrameUpdate + this.frameInterval >
                new Date().getTime()
              ) {
                // It's too early to render the next frame
                this.scheduleNextRender();
                return;
              }
              var currentPixelOffset;
              var canvasWidth = this.canvasWidth;
              var canvasHeight = this.canvasHeight;
              // Create texture
              var noiseImage = this.canvasContext.createImageData(
                canvasWidth,
                canvasHeight
              );
              // Fill texture with noise
              for (var y = 0; y < canvasHeight; y++) {
                for (var x = 0; x < canvasWidth; x++) {
                  currentPixelOffset = canvasWidth * y * 4 + x * 4;
                  noiseImage.data[currentPixelOffset] = Math.random() * 255;
                  if (
                    y < this.noiseAnimationWindowPos ||
                    y > this.noiseAnimationWindowPos + this.interferenceHeight
                  ) {
                    noiseImage.data[currentPixelOffset] *= 0.85;
                  }
                  noiseImage.data[currentPixelOffset + 1] =
                    noiseImage.data[currentPixelOffset];
                  noiseImage.data[currentPixelOffset + 2] =
                    noiseImage.data[currentPixelOffset];
                  noiseImage.data[currentPixelOffset + 3] = 50;
                }
              }
              // Put texture onto canvas
              this.canvasContext.putImageData(noiseImage, 0, 0);
              this.lastFrameUpdate = new Date().getTime();
              this.noiseAnimationWindowPos += 7;
              if (this.noiseAnimationWindowPos > canvasHeight) {
                this.noiseAnimationWindowPos = -canvasHeight;
              }
              this.scheduleNextRender();
            };
            TvNoiseCanvas.prototype.scheduleNextRender = function () {
              if (this.useAnimationFrame) {
                this.frameUpdateHandlerId = window.requestAnimationFrame(
                  this.renderFrame.bind(this)
                );
              } else {
                this.frameUpdateHandlerId = window.setTimeout(
                  this.renderFrame.bind(this),
                  this.frameInterval
                );
              }
            };
            return TvNoiseCanvas;
          })(component_1.Component);
          exports.TvNoiseCanvas = TvNoiseCanvas;
        },
        { "../dom": 84, "./component": 18 },
      ],
      76: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.UIContainer = void 0;
          var container_1 = require("./container");
          var dom_1 = require("../dom");
          var timeout_1 = require("../timeout");
          var playerutils_1 = require("../playerutils");
          var eventdispatcher_1 = require("../eventdispatcher");
          var i18n_1 = require("../localization/i18n");
          var button_1 = require("./button");
          /**
           * The base container that contains all of the UI. The UIContainer is passed to the {@link UIManager} to build and
           * setup the UI.
           *
           * @category Containers
           */
          var UIContainer = /** @class */ (function (_super) {
            __extends(UIContainer, _super);
            function UIContainer(config) {
              var _this = _super.call(this, config) || this;
              _this.hideUi = function () {};
              _this.showUi = function () {};
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-uicontainer",
                  role: "region",
                  ariaLabel: i18n_1.i18n.getLocalizer("player"),
                  hideDelay: 5000,
                  hideImmediatelyOnMouseLeave: false,
                },
                _this.config
              );
              _this.playerStateChange = new eventdispatcher_1.EventDispatcher();
              _this.hidingPrevented = function () {
                return false;
              };
              return _this;
            }
            UIContainer.prototype.configure = function (player, uimanager) {
              var config = this.getConfig();
              if (config.userInteractionEventSource) {
                this.userInteractionEventSource = new dom_1.DOM(
                  config.userInteractionEventSource
                );
              } else {
                this.userInteractionEventSource = this.getDomElement();
              }
              _super.prototype.configure.call(this, player, uimanager);
              this.configureUIShowHide(player, uimanager);
              this.configurePlayerStates(player, uimanager);
            };
            UIContainer.prototype.configureUIShowHide = function (
              player,
              uimanager
            ) {
              var _this = this;
              var config = this.getConfig();
              if (config.hideDelay === -1) {
                uimanager.onConfigured.subscribe(function () {
                  return uimanager.onControlsShow.dispatch(_this);
                });
                return;
              }
              var isUiShown = false;
              var isSeeking = false;
              var isFirstTouch = true;
              var playerState;
              this.hidingPrevented = function () {
                return (
                  config.hidePlayerStateExceptions &&
                  config.hidePlayerStateExceptions.indexOf(playerState) > -1
                );
              };
              this.showUi = function () {
                if (!isUiShown) {
                  // Let subscribers know that they should reveal themselves
                  uimanager.onControlsShow.dispatch(_this);
                  isUiShown = true;
                }
                // Don't trigger timeout while seeking (it will be triggered once the seek is finished) or casting
                if (
                  !isSeeking &&
                  !player.isCasting() &&
                  !_this.hidingPrevented()
                ) {
                  _this.uiHideTimeout.start();
                }
              };
              this.hideUi = function () {
                // Hide the UI only if it is shown, and if not casting
                if (isUiShown && !player.isCasting()) {
                  // Issue a preview event to check if we are good to hide the controls
                  var previewHideEventArgs = {};
                  uimanager.onPreviewControlsHide.dispatch(
                    _this,
                    previewHideEventArgs
                  );
                  if (!previewHideEventArgs.cancel) {
                    // If the preview wasn't canceled, let subscribers know that they should now hide themselves
                    uimanager.onControlsHide.dispatch(_this);
                    isUiShown = false;
                  } else {
                    // If the hide preview was canceled, continue to show UI
                    _this.showUi();
                  }
                }
              };
              // Timeout to defer UI hiding by the configured delay time
              this.uiHideTimeout = new timeout_1.Timeout(
                config.hideDelay,
                this.hideUi
              );
              this.userInteractionEvents = [
                {
                  // On touch displays, the first touch reveals the UI
                  name: "touchend",
                  handler: function (e) {
                    var shouldPreventDefault = function (e) {
                      var findButtonComponent = function (element) {
                        if (
                          !element ||
                          element === _this.userInteractionEventSource.get(0) ||
                          element.component instanceof UIContainer
                        ) {
                          return null;
                        }
                        if (
                          element.component &&
                          element.component instanceof button_1.Button
                        ) {
                          return element.component;
                        } else {
                          return findButtonComponent(element.parentElement);
                        }
                      };
                      var buttonComponent = findButtonComponent(e.target);
                      return !(
                        buttonComponent &&
                        buttonComponent.getConfig().acceptsTouchWithUiHidden
                      );
                    };
                    if (!isUiShown) {
                      // Only if the UI is hidden, we prevent other actions (except for the first touch) and reveal the UI
                      // instead. The first touch is not prevented to let other listeners receive the event and trigger an
                      // initial action, e.g. the huge playback button can directly start playback instead of requiring a double
                      // tap which 1. reveals the UI and 2. starts playback.
                      if (isFirstTouch && !player.isPlaying()) {
                        isFirstTouch = false;
                      } else {
                        // On touch input devices, the first touch is expected to display the UI controls and not be propagated to
                        // other components.
                        // When buttons are always visible this causes UX problems, as the first touch is not recognized.
                        // This is the case for the {@link AdSkipButton} and {@link AdClickOverlay}.
                        // To prevent UX issues where the buttons need to be touched twice, we do not prevent the first touch event.
                        if (shouldPreventDefault(e)) {
                          e.preventDefault();
                        }
                      }
                      _this.showUi();
                    }
                  },
                },
                {
                  // When the mouse enters, we show the UI
                  name: "mouseenter",
                  handler: function () {
                    _this.showUi();
                  },
                },
                {
                  // When the mouse moves within, we show the UI
                  name: "mousemove",
                  handler: function () {
                    _this.showUi();
                  },
                },
                {
                  name: "focusin",
                  handler: function () {
                    _this.showUi();
                  },
                },
                {
                  name: "keydown",
                  handler: function () {
                    _this.showUi();
                  },
                },
                {
                  // When the mouse leaves, we can prepare to hide the UI, except a seek is going on
                  name: "mouseleave",
                  handler: function () {
                    // When a seek is going on, the seek scrub pointer may exit the UI area while still seeking, and we do not
                    // hide the UI in such cases
                    if (!isSeeking && !_this.hidingPrevented()) {
                      if (_this.config.hideImmediatelyOnMouseLeave) {
                        _this.hideUi();
                      } else {
                        _this.uiHideTimeout.start();
                      }
                    }
                  },
                },
              ];
              this.userInteractionEvents.forEach(function (event) {
                return _this.userInteractionEventSource.on(
                  event.name,
                  event.handler
                );
              });
              uimanager.onSeek.subscribe(function () {
                _this.uiHideTimeout.clear(); // Don't hide UI while a seek is in progress
                isSeeking = true;
              });
              uimanager.onSeeked.subscribe(function () {
                isSeeking = false;
                if (!_this.hidingPrevented()) {
                  _this.uiHideTimeout.start(); // Re-enable UI hide timeout after a seek
                }
              });
              uimanager.onComponentViewModeChanged.subscribe(function (_, _a) {
                var mode = _a.mode;
                return _this.trackComponentViewMode(mode);
              });
              player.on(player.exports.PlayerEvent.CastStarted, function () {
                _this.showUi(); // Show UI when a Cast session has started (UI will then stay permanently on during the session)
              });
              this.playerStateChange.subscribe(function (_, state) {
                playerState = state;
                if (_this.hidingPrevented()) {
                  // Entering a player state that prevents hiding and forces the controls to be shown
                  _this.uiHideTimeout.clear();
                  _this.showUi();
                } else {
                  // Entering a player state that allows hiding
                  _this.uiHideTimeout.start();
                }
              });
            };
            UIContainer.prototype.configurePlayerStates = function (
              player,
              uimanager
            ) {
              var _this = this;
              var container = this.getDomElement();
              // Convert player states into CSS class names
              var stateClassNames = [];
              for (var state in playerutils_1.PlayerUtils.PlayerState) {
                if (isNaN(Number(state))) {
                  var enumName =
                    playerutils_1.PlayerUtils.PlayerState[
                      playerutils_1.PlayerUtils.PlayerState[state]
                    ];
                  stateClassNames[
                    playerutils_1.PlayerUtils.PlayerState[state]
                  ] = this.prefixCss(
                    UIContainer.STATE_PREFIX + enumName.toLowerCase()
                  );
                }
              }
              var removeStates = function () {
                container.removeClass(
                  stateClassNames[playerutils_1.PlayerUtils.PlayerState.Idle]
                );
                container.removeClass(
                  stateClassNames[
                    playerutils_1.PlayerUtils.PlayerState.Prepared
                  ]
                );
                container.removeClass(
                  stateClassNames[playerutils_1.PlayerUtils.PlayerState.Playing]
                );
                container.removeClass(
                  stateClassNames[playerutils_1.PlayerUtils.PlayerState.Paused]
                );
                container.removeClass(
                  stateClassNames[
                    playerutils_1.PlayerUtils.PlayerState.Finished
                  ]
                );
              };
              var updateState = function (state) {
                removeStates();
                container.addClass(stateClassNames[state]);
                _this.playerStateChange.dispatch(_this, state);
              };
              player.on(player.exports.PlayerEvent.SourceLoaded, function () {
                updateState(playerutils_1.PlayerUtils.PlayerState.Prepared);
              });
              player.on(player.exports.PlayerEvent.Play, function () {
                updateState(playerutils_1.PlayerUtils.PlayerState.Playing);
              });
              player.on(player.exports.PlayerEvent.Playing, function () {
                updateState(playerutils_1.PlayerUtils.PlayerState.Playing);
              });
              player.on(player.exports.PlayerEvent.Paused, function () {
                updateState(playerutils_1.PlayerUtils.PlayerState.Paused);
              });
              player.on(
                player.exports.PlayerEvent.PlaybackFinished,
                function () {
                  updateState(playerutils_1.PlayerUtils.PlayerState.Finished);
                }
              );
              player.on(player.exports.PlayerEvent.SourceUnloaded, function () {
                updateState(playerutils_1.PlayerUtils.PlayerState.Idle);
              });
              uimanager.getConfig().events.onUpdated.subscribe(function () {
                updateState(playerutils_1.PlayerUtils.getState(player));
              });
              // Fullscreen marker class
              player.on(
                player.exports.PlayerEvent.ViewModeChanged,
                function () {
                  if (
                    player.getViewMode() === player.exports.ViewMode.Fullscreen
                  ) {
                    container.addClass(_this.prefixCss(UIContainer.FULLSCREEN));
                  } else {
                    container.removeClass(
                      _this.prefixCss(UIContainer.FULLSCREEN)
                    );
                  }
                }
              );
              // Init fullscreen state
              if (player.getViewMode() === player.exports.ViewMode.Fullscreen) {
                container.addClass(this.prefixCss(UIContainer.FULLSCREEN));
              }
              // Buffering marker class
              player.on(player.exports.PlayerEvent.StallStarted, function () {
                container.addClass(_this.prefixCss(UIContainer.BUFFERING));
              });
              player.on(player.exports.PlayerEvent.StallEnded, function () {
                container.removeClass(_this.prefixCss(UIContainer.BUFFERING));
              });
              // Init buffering state
              if (player.isStalled()) {
                container.addClass(this.prefixCss(UIContainer.BUFFERING));
              }
              // RemoteControl marker class
              player.on(player.exports.PlayerEvent.CastStarted, function () {
                container.addClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
              });
              player.on(player.exports.PlayerEvent.CastStopped, function () {
                container.removeClass(
                  _this.prefixCss(UIContainer.REMOTE_CONTROL)
                );
              });
              // Init RemoteControl state
              if (player.isCasting()) {
                container.addClass(this.prefixCss(UIContainer.REMOTE_CONTROL));
              }
              // Controls visibility marker class
              uimanager.onControlsShow.subscribe(function () {
                container.removeClass(
                  _this.prefixCss(UIContainer.CONTROLS_HIDDEN)
                );
                container.addClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
              });
              uimanager.onControlsHide.subscribe(function () {
                container.removeClass(
                  _this.prefixCss(UIContainer.CONTROLS_SHOWN)
                );
                container.addClass(
                  _this.prefixCss(UIContainer.CONTROLS_HIDDEN)
                );
              });
              // Layout size classes
              var updateLayoutSizeClasses = function (width, height) {
                container.removeClass(_this.prefixCss("layout-max-width-400"));
                container.removeClass(_this.prefixCss("layout-max-width-600"));
                container.removeClass(_this.prefixCss("layout-max-width-800"));
                container.removeClass(_this.prefixCss("layout-max-width-1200"));
                if (width <= 400) {
                  container.addClass(_this.prefixCss("layout-max-width-400"));
                } else if (width <= 600) {
                  container.addClass(_this.prefixCss("layout-max-width-600"));
                } else if (width <= 800) {
                  container.addClass(_this.prefixCss("layout-max-width-800"));
                } else if (width <= 1200) {
                  container.addClass(_this.prefixCss("layout-max-width-1200"));
                }
              };
              player.on(player.exports.PlayerEvent.PlayerResized, function (e) {
                // Convert strings (with "px" suffix) to ints
                var width = Math.round(
                  Number(e.width.substring(0, e.width.length - 2))
                );
                var height = Math.round(
                  Number(e.height.substring(0, e.height.length - 2))
                );
                updateLayoutSizeClasses(width, height);
              });
              // Init layout state
              updateLayoutSizeClasses(
                new dom_1.DOM(player.getContainer()).width(),
                new dom_1.DOM(player.getContainer()).height()
              );
            };
            UIContainer.prototype.release = function () {
              var _this = this;
              // Explicitly unsubscribe user interaction event handlers because they could be attached to an external element
              // that isn't owned by the UI and therefore not removed on release.
              if (this.userInteractionEvents) {
                this.userInteractionEvents.forEach(function (event) {
                  return _this.userInteractionEventSource.off(
                    event.name,
                    event.handler
                  );
                });
              }
              _super.prototype.release.call(this);
              if (this.uiHideTimeout) {
                this.uiHideTimeout.clear();
              }
            };
            UIContainer.prototype.onPlayerStateChange = function () {
              return this.playerStateChange.getEvent();
            };
            UIContainer.prototype.suspendHideTimeout = function () {
              this.uiHideTimeout.suspend();
            };
            UIContainer.prototype.resumeHideTimeout = function () {
              this.uiHideTimeout.resume(!this.hidingPrevented());
            };
            UIContainer.prototype.toDomElement = function () {
              var container = _super.prototype.toDomElement.call(this);
              // Detect flexbox support (not supported in IE9)
              if (
                document &&
                typeof document.createElement("p").style.flex !== "undefined"
              ) {
                container.addClass(this.prefixCss("flexbox"));
              } else {
                container.addClass(this.prefixCss("no-flexbox"));
              }
              return container;
            };
            UIContainer.STATE_PREFIX = "player-state-";
            UIContainer.FULLSCREEN = "fullscreen";
            UIContainer.BUFFERING = "buffering";
            UIContainer.REMOTE_CONTROL = "remote-control";
            UIContainer.CONTROLS_SHOWN = "controls-shown";
            UIContainer.CONTROLS_HIDDEN = "controls-hidden";
            return UIContainer;
          })(container_1.Container);
          exports.UIContainer = UIContainer;
        },
        {
          "../dom": 84,
          "../eventdispatcher": 86,
          "../localization/i18n": 91,
          "../playerutils": 98,
          "../timeout": 113,
          "./button": 12,
          "./container": 19,
        },
      ],
      77: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.VideoQualitySelectBox = void 0;
          var selectbox_1 = require("./selectbox");
          var i18n_1 = require("../localization/i18n");
          /**
           * A select box providing a selection between 'auto' and the available video qualities.
           *
           * @category Components
           */
          var VideoQualitySelectBox = /** @class */ (function (_super) {
            __extends(VideoQualitySelectBox, _super);
            function VideoQualitySelectBox(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClasses: ["ui-videoqualityselectbox"],
                },
                _this.config
              );
              return _this;
            }
            VideoQualitySelectBox.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var selectCurrentVideoQuality = function () {
                _this.selectItem(player.getVideoQuality().id);
              };
              var updateVideoQualities = function () {
                var videoQualities = player.getAvailableVideoQualities();
                _this.clearItems();
                // Progressive streams do not support automatic quality selection
                _this.hasAuto = player.getStreamType() !== "progressive";
                if (_this.hasAuto) {
                  // Add entry for automatic quality switching (default setting)
                  _this.addItem("auto", i18n_1.i18n.getLocalizer("auto"));
                }
                // Add video qualities
                for (
                  var _i = 0, videoQualities_1 = videoQualities;
                  _i < videoQualities_1.length;
                  _i++
                ) {
                  var videoQuality = videoQualities_1[_i];
                  _this.addItem(videoQuality.id, videoQuality.label);
                }
                // Select initial quality
                selectCurrentVideoQuality();
              };
              this.onItemSelected.subscribe(function (sender, value) {
                player.setVideoQuality(value);
              });
              // Update qualities when source goes away
              player.on(
                player.exports.PlayerEvent.SourceUnloaded,
                updateVideoQualities
              );
              // Update qualities when the period within a source changes
              player.on(
                player.exports.PlayerEvent.PeriodSwitched,
                updateVideoQualities
              );
              // Update quality selection when quality is changed (from outside)
              player.on(
                player.exports.PlayerEvent.VideoQualityChanged,
                selectCurrentVideoQuality
              );
              if (player.exports.PlayerEvent.VideoQualityAdded) {
                // Update qualities when their availability changed
                // TODO: remove any cast after next player release
                player.on(
                  player.exports.PlayerEvent.VideoQualityAdded,
                  updateVideoQualities
                );
                player.on(
                  player.exports.PlayerEvent.VideoQualityRemoved,
                  updateVideoQualities
                );
              }
              uimanager
                .getConfig()
                .events.onUpdated.subscribe(updateVideoQualities);
            };
            /**
             * Returns true if the select box contains an 'auto' item for automatic quality selection mode.
             * @return {boolean}
             */
            VideoQualitySelectBox.prototype.hasAutoItem = function () {
              return this.hasAuto;
            };
            return VideoQualitySelectBox;
          })(selectbox_1.SelectBox);
          exports.VideoQualitySelectBox = VideoQualitySelectBox;
        },
        { "../localization/i18n": 91, "./selectbox": 44 },
      ],
      78: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.VolumeControlButton = void 0;
          var container_1 = require("./container");
          var volumeslider_1 = require("./volumeslider");
          var volumetogglebutton_1 = require("./volumetogglebutton");
          var timeout_1 = require("../timeout");
          /**
           * A composite volume control that consists of and internally manages a volume control button that can be used
           * for muting, and a (depending on the CSS style, e.g. slide-out) volume control bar.
           *
           * @category Buttons
           */
          var VolumeControlButton = /** @class */ (function (_super) {
            __extends(VolumeControlButton, _super);
            function VolumeControlButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.volumeToggleButton =
                new volumetogglebutton_1.VolumeToggleButton();
              _this.volumeSlider = new volumeslider_1.VolumeSlider({
                vertical: config.vertical != null ? config.vertical : true,
                hidden: true,
              });
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-volumecontrolbutton",
                  components: [_this.volumeToggleButton, _this.volumeSlider],
                  hideDelay: 500,
                },
                _this.config
              );
              return _this;
            }
            VolumeControlButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var volumeToggleButton = this.getVolumeToggleButton();
              var volumeSlider = this.getVolumeSlider();
              this.volumeSliderHideTimeout = new timeout_1.Timeout(
                this.getConfig().hideDelay,
                function () {
                  volumeSlider.hide();
                }
              );
              /*
               * Volume Slider visibility handling
               *
               * The volume slider shall be visible while the user hovers the mute toggle button, while the user hovers the
               * volume slider, and while the user slides the volume slider. If none of these situations are true, the slider
               * shall disappear.
               */
              var volumeSliderHovered = false;
              volumeToggleButton.getDomElement().on("mouseenter", function () {
                // Show volume slider when mouse enters the button area
                if (volumeSlider.isHidden()) {
                  volumeSlider.show();
                }
                // Avoid hiding of the slider when button is hovered
                _this.volumeSliderHideTimeout.clear();
              });
              volumeToggleButton.getDomElement().on("mouseleave", function () {
                // Hide slider delayed when button is left
                _this.volumeSliderHideTimeout.reset();
              });
              volumeSlider.getDomElement().on("mouseenter", function () {
                // When the slider is entered, cancel the hide timeout activated by leaving the button
                _this.volumeSliderHideTimeout.clear();
                volumeSliderHovered = true;
              });
              volumeSlider.getDomElement().on("mouseleave", function () {
                // When mouse leaves the slider, only hide it if there is no slide operation in progress
                if (volumeSlider.isSeeking()) {
                  _this.volumeSliderHideTimeout.clear();
                } else {
                  _this.volumeSliderHideTimeout.reset();
                }
                volumeSliderHovered = false;
              });
              volumeSlider.onSeeked.subscribe(function () {
                // When a slide operation is done and the slider not hovered (mouse outside slider), hide slider delayed
                if (!volumeSliderHovered) {
                  _this.volumeSliderHideTimeout.reset();
                }
              });
            };
            VolumeControlButton.prototype.release = function () {
              _super.prototype.release.call(this);
              this.volumeSliderHideTimeout.clear();
            };
            /**
             * Provides access to the internally managed volume toggle button.
             * @returns {VolumeToggleButton}
             */
            VolumeControlButton.prototype.getVolumeToggleButton = function () {
              return this.volumeToggleButton;
            };
            /**
             * Provides access to the internally managed volume silder.
             * @returns {VolumeSlider}
             */
            VolumeControlButton.prototype.getVolumeSlider = function () {
              return this.volumeSlider;
            };
            return VolumeControlButton;
          })(container_1.Container);
          exports.VolumeControlButton = VolumeControlButton;
        },
        {
          "../timeout": 113,
          "./container": 19,
          "./volumeslider": 79,
          "./volumetogglebutton": 80,
        },
      ],
      79: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.VolumeSlider = void 0;
          var seekbar_1 = require("./seekbar");
          var i18n_1 = require("../localization/i18n");
          /**
           * A simple volume slider component to adjust the player's volume setting.
           *
           * @category Components
           */
          var VolumeSlider = /** @class */ (function (_super) {
            __extends(VolumeSlider, _super);
            function VolumeSlider(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.updateVolumeWhileScrubbing = function (sender, args) {
                if (args.scrubbing && _this.volumeTransition) {
                  _this.volumeTransition.update(args.position);
                }
              };
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-volumeslider",
                  hideIfVolumeControlProhibited: true,
                  ariaLabel: i18n_1.i18n.getLocalizer("settings.audio.volume"),
                  tabIndex: 0,
                },
                _this.config
              );
              return _this;
            }
            VolumeSlider.prototype.setVolumeAriaSliderValues = function (
              value
            ) {
              this.getDomElement().attr(
                "aria-valuenow",
                Math.ceil(value).toString()
              );
              this.getDomElement().attr(
                "aria-valuetext",
                ""
                  .concat(
                    i18n_1.i18n.performLocalization(
                      i18n_1.i18n.getLocalizer("seekBar.value")
                    ),
                    ": "
                  )
                  .concat(Math.ceil(value))
              );
            };
            VolumeSlider.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager, false);
              this.setAriaSliderMinMax("0", "100");
              var config = this.getConfig();
              var volumeController = uimanager.getConfig().volumeController;
              if (
                config.hideIfVolumeControlProhibited &&
                !this.detectVolumeControlAvailability()
              ) {
                this.hide();
                // We can just return from here, because the user will never interact with the control and any configured
                // functionality would only eat resources for no reason.
                return;
              }
              volumeController.onChanged.subscribe(function (_, args) {
                if (args.muted) {
                  _this.setVolumeAriaSliderValues(0);
                  _this.setPlaybackPosition(0);
                } else {
                  _this.setPlaybackPosition(args.volume);
                  _this.setVolumeAriaSliderValues(args.volume);
                }
              });
              this.onSeek.subscribe(function () {
                _this.volumeTransition = volumeController.startTransition();
              });
              this.onSeekPreview.subscribeRateLimited(
                this.updateVolumeWhileScrubbing,
                50
              );
              this.onSeeked.subscribe(function (sender, percentage) {
                if (_this.volumeTransition) {
                  _this.volumeTransition.finish(percentage);
                }
              });
              // Update the volume slider marker when the player resized, a source is loaded,
              // or the UI is configured. Check the seekbar for a detailed description.
              player.on(player.exports.PlayerEvent.PlayerResized, function () {
                _this.refreshPlaybackPosition();
              });
              uimanager.onConfigured.subscribe(function () {
                _this.refreshPlaybackPosition();
              });
              uimanager.getConfig().events.onUpdated.subscribe(function () {
                _this.refreshPlaybackPosition();
              });
              uimanager.onComponentShow.subscribe(function () {
                _this.refreshPlaybackPosition();
              });
              uimanager.onComponentHide.subscribe(function () {
                _this.refreshPlaybackPosition();
              });
              // Init volume bar
              volumeController.onChangedEvent();
            };
            VolumeSlider.prototype.detectVolumeControlAvailability =
              function () {
                /*
                 * "On iOS devices, the audio level is always under the user’s physical control. The volume property is not
                 * settable in JavaScript. Reading the volume property always returns 1."
                 * https://developer.apple.com/library/content/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html
                 */
                // as muted autoplay gets paused as soon as we unmute it, we may not touch the volume of the actual player so we
                // probe a dummy audio element
                var dummyVideoElement = document.createElement("video");
                // try setting the volume to 0.7 and if it's still 1 we are on a volume control restricted device
                dummyVideoElement.volume = 0.7;
                return dummyVideoElement.volume !== 1;
              };
            VolumeSlider.prototype.release = function () {
              _super.prototype.release.call(this);
              this.onSeekPreview.unsubscribe(this.updateVolumeWhileScrubbing);
            };
            return VolumeSlider;
          })(seekbar_1.SeekBar);
          exports.VolumeSlider = VolumeSlider;
        },
        { "../localization/i18n": 91, "./seekbar": 40 },
      ],
      80: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.VolumeToggleButton = void 0;
          var togglebutton_1 = require("./togglebutton");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button that toggles audio muting.
           *
           * @category Buttons
           */
          var VolumeToggleButton = /** @class */ (function (_super) {
            __extends(VolumeToggleButton, _super);
            function VolumeToggleButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              var defaultConfig = {
                cssClass: "ui-volumetogglebutton",
                text: i18n_1.i18n.getLocalizer("settings.audio.mute"),
                onClass: "muted",
                offClass: "unmuted",
                ariaLabel: i18n_1.i18n.getLocalizer("settings.audio.mute"),
              };
              _this.config = _this.mergeConfig(
                config,
                defaultConfig,
                _this.config
              );
              return _this;
            }
            VolumeToggleButton.prototype.configure = function (
              player,
              uimanager
            ) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var volumeController = uimanager.getConfig().volumeController;
              volumeController.onChanged.subscribe(function (_, args) {
                if (args.muted) {
                  _this.on();
                } else {
                  _this.off();
                }
                var volumeLevelTens = Math.ceil(args.volume / 10);
                _this
                  .getDomElement()
                  .data(
                    _this.prefixCss("volume-level-tens"),
                    String(volumeLevelTens)
                  );
              });
              this.onClick.subscribe(function () {
                volumeController.toggleMuted();
              });
              // Startup init
              volumeController.onChangedEvent();
            };
            return VolumeToggleButton;
          })(togglebutton_1.ToggleButton);
          exports.VolumeToggleButton = VolumeToggleButton;
        },
        { "../localization/i18n": 91, "./togglebutton": 74 },
      ],
      81: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.VRToggleButton = void 0;
          var togglebutton_1 = require("./togglebutton");
          var i18n_1 = require("../localization/i18n");
          /**
           * A button that toggles the video view between normal/mono and VR/stereo.
           *
           * @category Buttons
           */
          var VRToggleButton = /** @class */ (function (_super) {
            __extends(VRToggleButton, _super);
            function VRToggleButton(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-vrtogglebutton",
                  text: i18n_1.i18n.getLocalizer("vr"),
                },
                _this.config
              );
              return _this;
            }
            VRToggleButton.prototype.configure = function (player, uimanager) {
              var _this = this;
              _super.prototype.configure.call(this, player, uimanager);
              var isVRConfigured = function () {
                // VR availability cannot be checked through getVRStatus() because it is asynchronously populated and not
                // available at UI initialization. As an alternative, we check the VR settings in the config.
                // TODO use getVRStatus() through isVRStereoAvailable() once the player has been rewritten and the status is
                // available in Ready
                var source = player.getSource();
                return source && Boolean(source.vr);
              };
              var isVRStereoAvailable = function () {
                var source = player.getSource();
                return player.vr && Boolean(source.vr);
              };
              var vrStateHandler = function (ev) {
                if (
                  ev.type === player.exports.PlayerEvent.Warning &&
                  ev.code !== player.exports.WarningCode.VR_RENDERING_ERROR
                ) {
                  return;
                }
                if (isVRConfigured() && isVRStereoAvailable()) {
                  _this.show(); // show button in case it is hidden
                  if (player.vr && player.vr.getStereo()) {
                    _this.on();
                  } else {
                    _this.off();
                  }
                } else {
                  _this.hide(); // hide button if no stereo mode available
                }
              };
              var vrButtonVisibilityHandler = function () {
                if (isVRConfigured()) {
                  _this.show();
                } else {
                  _this.hide();
                }
              };
              player.on(
                player.exports.PlayerEvent.VRStereoChanged,
                vrStateHandler
              );
              player.on(player.exports.PlayerEvent.Warning, vrStateHandler);
              // Hide button when VR source goes away
              player.on(
                player.exports.PlayerEvent.SourceUnloaded,
                vrButtonVisibilityHandler
              );
              uimanager
                .getConfig()
                .events.onUpdated.subscribe(vrButtonVisibilityHandler);
              this.onClick.subscribe(function () {
                if (!isVRStereoAvailable()) {
                  if (console) {
                    console.log("No VR content");
                  }
                } else {
                  if (player.vr && player.vr.getStereo()) {
                    player.vr.setStereo(false);
                  } else {
                    player.vr.setStereo(true);
                  }
                }
              });
              // Set startup visibility
              vrButtonVisibilityHandler();
            };
            return VRToggleButton;
          })(togglebutton_1.ToggleButton);
          exports.VRToggleButton = VRToggleButton;
        },
        { "../localization/i18n": 91, "./togglebutton": 74 },
      ],
      82: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.Watermark = void 0;
          var clickoverlay_1 = require("./clickoverlay");
          var i18n_1 = require("../localization/i18n");
          /**
           * A watermark overlay with a clickable logo.
           *
           * @category Components
           */
          var Watermark = /** @class */ (function (_super) {
            __extends(Watermark, _super);
            function Watermark(config) {
              if (config === void 0) {
                config = {};
              }
              var _this = _super.call(this, config) || this;
              _this.config = _this.mergeConfig(
                config,
                {
                  cssClass: "ui-watermark",
                  url: "http://bitmovin.com",
                  role: "link",
                  text: "logo",
                  ariaLabel: i18n_1.i18n.getLocalizer("watermarkLink"),
                },
                _this.config
              );
              return _this;
            }
            return Watermark;
          })(clickoverlay_1.ClickOverlay);
          exports.Watermark = Watermark;
        },
        { "../localization/i18n": 91, "./clickoverlay": 16 },
      ],
      83: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.DemoFactory = void 0;
          var vrtogglebutton_1 = require("./components/vrtogglebutton");
          var settingstogglebutton_1 = require("./components/settingstogglebutton");
          var volumeslider_1 = require("./components/volumeslider");
          var playbacktimelabel_1 = require("./components/playbacktimelabel");
          var airplaytogglebutton_1 = require("./components/airplaytogglebutton");
          var errormessageoverlay_1 = require("./components/errormessageoverlay");
          var controlbar_1 = require("./components/controlbar");
          var casttogglebutton_1 = require("./components/casttogglebutton");
          var fullscreentogglebutton_1 = require("./components/fullscreentogglebutton");
          var recommendationoverlay_1 = require("./components/recommendationoverlay");
          var playbackspeedselectbox_1 = require("./components/playbackspeedselectbox");
          var audioqualityselectbox_1 = require("./components/audioqualityselectbox");
          var caststatusoverlay_1 = require("./components/caststatusoverlay");
          var uicontainer_1 = require("./components/uicontainer");
          var watermark_1 = require("./components/watermark");
          var subtitleoverlay_1 = require("./components/subtitleoverlay");
          var settingspanel_1 = require("./components/settingspanel");
          var seekbarlabel_1 = require("./components/seekbarlabel");
          var playbacktoggleoverlay_1 = require("./components/playbacktoggleoverlay");
          var pictureinpicturetogglebutton_1 = require("./components/pictureinpicturetogglebutton");
          var spacer_1 = require("./components/spacer");
          var container_1 = require("./components/container");
          var volumetogglebutton_1 = require("./components/volumetogglebutton");
          var playbacktogglebutton_1 = require("./components/playbacktogglebutton");
          var seekbar_1 = require("./components/seekbar");
          var videoqualityselectbox_1 = require("./components/videoqualityselectbox");
          var uimanager_1 = require("./uimanager");
          var titlebar_1 = require("./components/titlebar");
          var bufferingoverlay_1 = require("./components/bufferingoverlay");
          var subtitlelistbox_1 = require("./components/subtitlelistbox");
          var audiotracklistbox_1 = require("./components/audiotracklistbox");
          var settingspanelitem_1 = require("./components/settingspanelitem");
          var settingspanelpage_1 = require("./components/settingspanelpage");
          var uifactory_1 = require("./uifactory");
          var main_1 = require("./main");
          var DemoFactory;
          (function (DemoFactory) {
            function buildDemoWithSeparateAudioSubtitlesButtons(
              player,
              config
            ) {
              if (config === void 0) {
                config = {};
              }
              // show smallScreen UI only on mobile/handheld devices
              var smallScreenSwitchWidth = 600;
              return new uimanager_1.UIManager(
                player,
                [
                  {
                    ui: uifactory_1.UIFactory.modernSmallScreenAdsUI(),
                    condition: function (context) {
                      return (
                        context.isMobile &&
                        context.documentWidth < smallScreenSwitchWidth &&
                        context.isAd &&
                        context.adRequiresUi
                      );
                    },
                  },
                  {
                    ui: uifactory_1.UIFactory.modernAdsUI(),
                    condition: function (context) {
                      return context.isAd && context.adRequiresUi;
                    },
                  },
                  {
                    ui: uifactory_1.UIFactory.modernSmallScreenUI(),
                    condition: function (context) {
                      return (
                        context.isMobile &&
                        context.documentWidth < smallScreenSwitchWidth
                      );
                    },
                  },
                  {
                    ui: modernUIWithSeparateAudioSubtitlesButtons(),
                  },
                ],
                config
              );
            }
            DemoFactory.buildDemoWithSeparateAudioSubtitlesButtons =
              buildDemoWithSeparateAudioSubtitlesButtons;
            function modernUIWithSeparateAudioSubtitlesButtons() {
              var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
              var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                  new settingspanelpage_1.SettingsPanelPage({
                    components: [
                      new settingspanelitem_1.SettingsPanelItem(
                        "Video Quality",
                        new videoqualityselectbox_1.VideoQualitySelectBox()
                      ),
                      new settingspanelitem_1.SettingsPanelItem(
                        "Speed",
                        new playbackspeedselectbox_1.PlaybackSpeedSelectBox()
                      ),
                      new settingspanelitem_1.SettingsPanelItem(
                        "Audio Quality",
                        new audioqualityselectbox_1.AudioQualitySelectBox()
                      ),
                    ],
                  }),
                ],
                hidden: true,
              });
              var subtitleListBox = new subtitlelistbox_1.SubtitleListBox();
              var subtitleSettingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                  new settingspanelpage_1.SettingsPanelPage({
                    components: [
                      new settingspanelitem_1.SettingsPanelItem(
                        null,
                        subtitleListBox
                      ),
                    ],
                  }),
                ],
                hidden: true,
              });
              var audioTrackListBox =
                new audiotracklistbox_1.AudioTrackListBox();
              var audioTrackSettingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                  new settingspanelpage_1.SettingsPanelPage({
                    components: [
                      new settingspanelitem_1.SettingsPanelItem(
                        null,
                        audioTrackListBox
                      ),
                    ],
                  }),
                ],
                hidden: true,
              });
              var controlBar = new controlbar_1.ControlBar({
                components: [
                  audioTrackSettingsPanel,
                  subtitleSettingsPanel,
                  settingsPanel,
                  new container_1.Container({
                    components: [
                      new playbacktimelabel_1.PlaybackTimeLabel({
                        timeLabelMode:
                          playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime,
                        hideInLivePlayback: true,
                      }),
                      new seekbar_1.SeekBar({
                        label: new seekbarlabel_1.SeekBarLabel(),
                      }),
                      new playbacktimelabel_1.PlaybackTimeLabel({
                        timeLabelMode:
                          playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime,
                        cssClasses: ["text-right"],
                      }),
                    ],
                    cssClasses: ["controlbar-top"],
                  }),
                  new container_1.Container({
                    components: [
                      new playbacktogglebutton_1.PlaybackToggleButton(),
                      new main_1.QuickSeekButton({ seekSeconds: -10 }),
                      new main_1.QuickSeekButton({ seekSeconds: 10 }),
                      new volumetogglebutton_1.VolumeToggleButton(),
                      new volumeslider_1.VolumeSlider(),
                      new spacer_1.Spacer(),
                      new pictureinpicturetogglebutton_1.PictureInPictureToggleButton(),
                      new airplaytogglebutton_1.AirPlayToggleButton(),
                      new casttogglebutton_1.CastToggleButton(),
                      new vrtogglebutton_1.VRToggleButton(),
                      new settingstogglebutton_1.SettingsToggleButton({
                        settingsPanel: audioTrackSettingsPanel,
                        cssClass: "ui-audiotracksettingstogglebutton",
                      }),
                      new settingstogglebutton_1.SettingsToggleButton({
                        settingsPanel: subtitleSettingsPanel,
                        cssClass: "ui-subtitlesettingstogglebutton",
                      }),
                      new settingstogglebutton_1.SettingsToggleButton({
                        settingsPanel: settingsPanel,
                      }),
                      new fullscreentogglebutton_1.FullscreenToggleButton(),
                    ],
                    cssClasses: ["controlbar-bottom"],
                  }),
                ],
              });
              return new uicontainer_1.UIContainer({
                components: [
                  subtitleOverlay,
                  new bufferingoverlay_1.BufferingOverlay(),
                  new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                  new caststatusoverlay_1.CastStatusOverlay(),
                  controlBar,
                  new titlebar_1.TitleBar(),
                  new recommendationoverlay_1.RecommendationOverlay(),
                  new watermark_1.Watermark(),
                  new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
              });
            }
          })(DemoFactory || (exports.DemoFactory = DemoFactory = {}));
        },
        {
          "./components/airplaytogglebutton": 7,
          "./components/audioqualityselectbox": 8,
          "./components/audiotracklistbox": 9,
          "./components/bufferingoverlay": 11,
          "./components/caststatusoverlay": 13,
          "./components/casttogglebutton": 14,
          "./components/container": 19,
          "./components/controlbar": 20,
          "./components/errormessageoverlay": 23,
          "./components/fullscreentogglebutton": 24,
          "./components/pictureinpicturetogglebutton": 32,
          "./components/playbackspeedselectbox": 33,
          "./components/playbacktimelabel": 34,
          "./components/playbacktogglebutton": 35,
          "./components/playbacktoggleoverlay": 36,
          "./components/recommendationoverlay": 38,
          "./components/seekbar": 40,
          "./components/seekbarlabel": 43,
          "./components/settingspanel": 45,
          "./components/settingspanelitem": 46,
          "./components/settingspanelpage": 47,
          "./components/settingstogglebutton": 51,
          "./components/spacer": 52,
          "./components/subtitlelistbox": 53,
          "./components/subtitleoverlay": 54,
          "./components/titlebar": 73,
          "./components/uicontainer": 76,
          "./components/videoqualityselectbox": 77,
          "./components/volumeslider": 79,
          "./components/volumetogglebutton": 80,
          "./components/vrtogglebutton": 81,
          "./components/watermark": 82,
          "./main": 96,
          "./uifactory": 115,
          "./uimanager": 116,
        },
      ],
      84: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.DOM = void 0;
          /**
           * Simple DOM manipulation and DOM element event handling modeled after jQuery (as replacement for jQuery).
           *
           * Like jQuery, DOM operates on single elements and lists of elements. For example: creating an element returns a DOM
           * instance with a single element, selecting elements returns a DOM instance with zero, one, or many elements. Similar
           * to jQuery, setters usually affect all elements, while getters operate on only the first element.
           * Also similar to jQuery, most methods (except getters) return the DOM instance facilitating easy chaining of method
           * calls.
           *
           * Built with the help of: http://youmightnotneedjquery.com/
           */
          var DOM = /** @class */ (function () {
            function DOM(something, attributes, component) {
              this.document = document; // Set the global document to the local document field
              if (something instanceof Array) {
                if (
                  something.length > 0 &&
                  something[0] instanceof HTMLElement
                ) {
                  var elements = something;
                  this.elements = elements;
                }
              } else if (something instanceof HTMLElement) {
                var element = something;
                this.elements = [element];
              } else if (something instanceof Document) {
                // When a document is passed in, we do not do anything with it, but by setting this.elements to null
                // we give the event handling method a means to detect if the events should be registered on the document
                // instead of elements.
                this.elements = null;
              } else if (attributes) {
                var tagName = something;
                var element = document.createElement(tagName);
                for (var attributeName in attributes) {
                  var attributeValue = attributes[attributeName];
                  if (attributeValue != null) {
                    element.setAttribute(attributeName, attributeValue);
                  }
                }
                if (component) {
                  element.component = component;
                }
                this.elements = [element];
              } else {
                var selector = something;
                this.elements = this.findChildElements(selector);
              }
            }
            Object.defineProperty(DOM.prototype, "length", {
              /**
               * Gets the number of elements that this DOM instance currently holds.
               * @returns {number} the number of elements
               */
              get: function () {
                return this.elements ? this.elements.length : 0;
              },
              enumerable: false,
              configurable: true,
            });
            DOM.prototype.get = function (index) {
              if (index === undefined) {
                return this.elements;
              } else if (
                !this.elements ||
                index >= this.elements.length ||
                index < -this.elements.length
              ) {
                return undefined;
              } else if (index < 0) {
                return this.elements[this.elements.length - index];
              } else {
                return this.elements[index];
              }
            };
            /**
             * A shortcut method for iterating all elements. Shorts this.elements.forEach(...) to this.forEach(...).
             * @param handler the handler to execute an operation on an element
             */
            DOM.prototype.forEach = function (handler) {
              if (!this.elements) {
                return;
              }
              this.elements.forEach(function (element) {
                handler(element);
              });
            };
            DOM.prototype.findChildElementsOfElement = function (
              element,
              selector
            ) {
              var childElements = element.querySelectorAll(selector);
              // Convert NodeList to Array
              // https://toddmotto.com/a-comprehensive-dive-into-nodelists-arrays-converting-nodelists-and-understanding-the-dom/
              return [].slice.call(childElements);
            };
            DOM.prototype.findChildElements = function (selector) {
              var _this = this;
              var allChildElements = [];
              if (this.elements) {
                this.forEach(function (element) {
                  allChildElements = allChildElements.concat(
                    _this.findChildElementsOfElement(element, selector)
                  );
                });
              } else {
                return this.findChildElementsOfElement(document, selector);
              }
              return allChildElements;
            };
            /**
             * Finds all child elements of all elements matching the supplied selector.
             * @param selector the selector to match with child elements
             * @returns {DOM} a new DOM instance representing all matched children
             */
            DOM.prototype.find = function (selector) {
              var allChildElements = this.findChildElements(selector);
              return new DOM(allChildElements);
            };
            /**
             * Focuses to the first input element
             */
            DOM.prototype.focusToFirstInput = function () {
              var inputElements = this.findChildElements(
                'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
              );
              if (inputElements.length > 0) {
                inputElements[0].focus();
              }
            };
            /**
             * Focuses to the first input element
             */
            DOM.prototype.scrollTo = function (x, y) {
              this.elements[0].scrollTo(x, y);
            };
            DOM.prototype.html = function (content) {
              if (arguments.length > 0) {
                return this.setHtml(content);
              } else {
                return this.getHtml();
              }
            };
            DOM.prototype.getHtml = function () {
              return this.elements[0].innerHTML;
            };
            DOM.prototype.setHtml = function (content) {
              if (content === undefined || content == null) {
                // Set to empty string to avoid innerHTML getting set to 'undefined' (all browsers) or 'null' (IE9)
                content = "";
              }
              this.forEach(function (element) {
                element.innerHTML = content;
              });
              return this;
            };
            /**
             * Clears the inner HTML of all elements (deletes all children).
             * @returns {DOM}
             */
            DOM.prototype.empty = function () {
              this.forEach(function (element) {
                element.innerHTML = "";
              });
              return this;
            };
            /**
             * Returns the current value of the first form element, e.g. the selected value of a select box or the text if an
             * input field.
             * @returns {string} the value of a form element
             */
            DOM.prototype.val = function () {
              var element = this.elements[0];
              if (
                element instanceof HTMLSelectElement ||
                element instanceof HTMLInputElement
              ) {
                return element.value;
              } else {
                // TODO add support for missing form elements
                throw new Error(
                  "val() not supported for ".concat(typeof element)
                );
              }
            };
            DOM.prototype.attr = function (attribute, value) {
              if (arguments.length > 1) {
                return this.setAttr(attribute, value);
              } else {
                return this.getAttr(attribute);
              }
            };
            /**
             * Removes the attribute of the element.
             * @param attribute
             */
            DOM.prototype.removeAttr = function (attribute) {
              this.forEach(function (element) {
                element.removeAttribute(attribute);
              });
            };
            DOM.prototype.getAttr = function (attribute) {
              return this.elements[0].getAttribute(attribute);
            };
            DOM.prototype.setAttr = function (attribute, value) {
              this.forEach(function (element) {
                element.setAttribute(attribute, value);
              });
              return this;
            };
            DOM.prototype.data = function (dataAttribute, value) {
              if (arguments.length > 1) {
                return this.setData(dataAttribute, value);
              } else {
                return this.getData(dataAttribute);
              }
            };
            DOM.prototype.getData = function (dataAttribute) {
              return this.elements[0].getAttribute("data-" + dataAttribute);
            };
            DOM.prototype.setData = function (dataAttribute, value) {
              this.forEach(function (element) {
                element.setAttribute("data-" + dataAttribute, value);
              });
              return this;
            };
            /**
             * Appends one or more DOM elements as children to all elements.
             * @param childElements the chrild elements to append
             * @returns {DOM}
             */
            DOM.prototype.append = function () {
              var childElements = [];
              for (var _i = 0; _i < arguments.length; _i++) {
                childElements[_i] = arguments[_i];
              }
              this.forEach(function (element) {
                childElements.forEach(function (childElement) {
                  childElement.elements.forEach(function (_, index) {
                    element.appendChild(childElement.elements[index]);
                  });
                });
              });
              return this;
            };
            /**
             * Removes all elements from the DOM.
             */
            DOM.prototype.remove = function () {
              this.forEach(function (element) {
                var parent = element.parentNode;
                if (parent) {
                  parent.removeChild(element);
                }
              });
            };
            /**
             * Returns the offset of the first element from the document's top left corner.
             * @returns {Offset}
             */
            DOM.prototype.offset = function () {
              var element = this.elements[0];
              var elementRect = element.getBoundingClientRect();
              var htmlRect =
                document.body.parentElement.getBoundingClientRect();
              // Virtual viewport scroll handling (e.g. pinch zoomed viewports in mobile browsers or desktop Chrome/Edge)
              // 'normal' zooms and virtual viewport zooms (aka layout viewport) result in different
              // element.getBoundingClientRect() results:
              //  - with normal scrolls, the clientRect decreases with an increase in scroll(Top|Left)/page(X|Y)Offset
              //  - with pinch zoom scrolls, the clientRect stays the same while scroll/pageOffset changes
              // This means, that the combination of clientRect + scroll/pageOffset does not work to calculate the offset
              // from the document's upper left origin when pinch zoom is used.
              // To work around this issue, we do not use scroll/pageOffset but get the clientRect of the html element and
              // subtract it from the element's rect, which always results in the offset from the document origin.
              // NOTE: the current way of offset calculation was implemented specifically to track event positions on the
              // seek bar, and it might break compatibility with jQuery's offset() method. If this ever turns out to be a
              // problem, this method should be reverted to the old version and the offset calculation moved to the seek bar.
              return {
                top: elementRect.top - htmlRect.top,
                left: elementRect.left - htmlRect.left,
              };
            };
            /**
             * Returns the width of the first element.
             * @returns {number} the width of the first element
             */
            DOM.prototype.width = function () {
              // TODO check if this is the same as jQuery's width() (probably not)
              return this.elements[0].offsetWidth;
            };
            /**
             * Returns the height of the first element.
             * @returns {number} the height of the first element
             */
            DOM.prototype.height = function () {
              // TODO check if this is the same as jQuery's height() (probably not)
              return this.elements[0].offsetHeight;
            };
            /**
             * Returns the size of the first element.
             * @return {Size} the size of the first element
             */
            DOM.prototype.size = function () {
              return { width: this.width(), height: this.height() };
            };
            /**
             * Attaches an event handler to one or more events on all elements.
             * @param eventName the event name (or multiple names separated by space) to listen to
             * @param eventHandler the event handler to call when the event fires
             * @param options the options for this event handler
             * @returns {DOM}
             */
            DOM.prototype.on = function (eventName, eventHandler, options) {
              var _this = this;
              var events = eventName.split(" ");
              events.forEach(function (event) {
                if (_this.elements == null) {
                  _this.document.addEventListener(event, eventHandler, options);
                } else {
                  _this.forEach(function (element) {
                    element.addEventListener(event, eventHandler, options);
                  });
                }
              });
              return this;
            };
            /**
             * Removes an event handler from one or more events on all elements.
             * @param eventName the event name (or multiple names separated by space) to remove the handler from
             * @param eventHandler the event handler to remove
             * @param options the options for this event handler
             * @returns {DOM}
             */
            DOM.prototype.off = function (eventName, eventHandler, options) {
              var _this = this;
              var events = eventName.split(" ");
              events.forEach(function (event) {
                if (_this.elements == null) {
                  _this.document.removeEventListener(
                    event,
                    eventHandler,
                    options
                  );
                } else {
                  _this.forEach(function (element) {
                    element.removeEventListener(event, eventHandler, options);
                  });
                }
              });
              return this;
            };
            /**
             * Adds the specified class(es) to all elements.
             * @param className the class(es) to add, multiple classes separated by space
             * @returns {DOM}
             */
            DOM.prototype.addClass = function (className) {
              this.forEach(function (element) {
                var _a;
                if (element.classList) {
                  var classNames = className
                    .split(" ")
                    .filter(function (className) {
                      return className.length > 0;
                    });
                  if (classNames.length > 0) {
                    (_a = element.classList).add.apply(_a, classNames);
                  }
                } else {
                  element.className += " " + className;
                }
              });
              return this;
            };
            /**
             * Removed the specified class(es) from all elements.
             * @param className the class(es) to remove, multiple classes separated by space
             * @returns {DOM}
             */
            DOM.prototype.removeClass = function (className) {
              this.forEach(function (element) {
                var _a;
                if (element.classList) {
                  var classNames = className
                    .split(" ")
                    .filter(function (className) {
                      return className.length > 0;
                    });
                  if (classNames.length > 0) {
                    (_a = element.classList).remove.apply(_a, classNames);
                  }
                } else {
                  element.className = element.className.replace(
                    new RegExp(
                      "(^|\\b)" + className.split(" ").join("|") + "(\\b|$)",
                      "gi"
                    ),
                    " "
                  );
                }
              });
              return this;
            };
            /**
             * Checks if any of the elements has the specified class.
             * @param className the class name to check
             * @returns {boolean} true if one of the elements has the class attached, else if no element has it attached
             */
            DOM.prototype.hasClass = function (className) {
              var hasClass = false;
              this.forEach(function (element) {
                if (element.classList) {
                  if (element.classList.contains(className)) {
                    // Since we are inside a handler, we can't just 'return true'. Instead, we save it to a variable
                    // and return it at the end of the function body.
                    hasClass = true;
                  }
                } else {
                  if (
                    new RegExp("(^| )" + className + "( |$)", "gi").test(
                      element.className
                    )
                  ) {
                    // See comment above
                    hasClass = true;
                  }
                }
              });
              return hasClass;
            };
            DOM.prototype.css = function (propertyNameOrCollection, value) {
              if (typeof propertyNameOrCollection === "string") {
                var propertyName = propertyNameOrCollection;
                if (arguments.length === 2) {
                  return this.setCss(propertyName, value);
                } else {
                  return this.getCss(propertyName);
                }
              } else {
                var propertyValueCollection = propertyNameOrCollection;
                return this.setCssCollection(propertyValueCollection);
              }
            };
            /**
             * Removes an inline CSS property if it exists
             * @param propertyName name of the property to remove
             * @param elementIndex index of the element whose CSS property should get removed
             */
            DOM.prototype.removeCss = function (propertyName, elementIndex) {
              if (elementIndex === void 0) {
                elementIndex = 0;
              }
              return this.elements[elementIndex].style.removeProperty(
                propertyName
              );
            };
            DOM.prototype.getCss = function (propertyName) {
              return getComputedStyle(this.elements[0])[propertyName];
            };
            DOM.prototype.setCss = function (propertyName, value) {
              this.forEach(function (element) {
                // <any> cast to resolve TS7015: http://stackoverflow.com/a/36627114/370252
                element.style[propertyName] = value;
              });
              return this;
            };
            DOM.prototype.setCssCollection = function (ruleValueCollection) {
              this.forEach(function (element) {
                // http://stackoverflow.com/a/34490573/370252
                Object.assign(element.style, ruleValueCollection);
              });
              return this;
            };
            return DOM;
          })();
          exports.DOM = DOM;
        },
        {},
      ],
      85: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ErrorUtils = void 0;
          /**
           * @category Utils
           */
          var ErrorUtils;
          (function (ErrorUtils) {
            ErrorUtils.defaultErrorMessages = {
              1000: "Error is unknown",
              1001: "The player API is not available after a call to PlayerAPI.destroy.",
              1100: "General setup error",
              1101: "There was an error when inserting the HTML video element",
              1102: "No configuration was provided",
              1103: "The license is not valid",
              1104: "The the domain-locked player is not authorized to playback on this domain",
              1105: "The domain is not allowlisted",
              1106: "The license server URL is invalid",
              1107: "The impression server URL is invalid",
              1108: "Could not initialize a rendering engine",
              1109: "The used flash version does not support playback",
              1110: "Native Flash is not authorized by a valid Adobe token",
              1111: "Flash doesn't have sufficient resources",
              1112: "Flash container API not available",
              1113: 'Protocol not supported. This site has been loaded using "file" protocol, but unfortunately this is not supported. Please load the page using a web server (using http or https)',
              1200: "General source error",
              1201: "No valid source was provided",
              1202: "The downloaded manifest is invalid",
              1203: "There was no technology detected to playback the provided source",
              1204: "The stream type is not supported",
              1205: "The forced technology is not supported",
              1206: "No stream found for supported technologies.",
              1207: "The downloaded segment is empty",
              1208: "The manifest could not be loaded",
              1209: "Progressive stream type not supported or the stream has an error",
              1210: "HLS stream has an error",
              1211: "The encryption method is not supported",
              1300: "General playback error",
              1301: "Video decoder or demuxer had an error with the content",
              1302: "General error if Flash renderer has an error",
              1303: "Flash doesn't have sufficient resources",
              1304: "The transmuxer could not be initialized",
              1400: "Network error while downloading",
              1401: "The manifest download timed out",
              1402: "The segment download timed out",
              1403: "The progressive stream download timed out",
              1404: "The Certificate could not be loaded",
              2000: "General DRM error",
              2001: "Required DRM configuration is missing",
              2002: "The licensing server URL is missing",
              2003: "License request failed",
              2004: "Key or KeyId is missing",
              2005: "Key size is not supported",
              2006: "Unable to instantiate a key system supporting the required combinations",
              2007: "Unable to create or initialize key session",
              2008: "The MediaKey object could not be created/initialized",
              2009: "Key error",
              2010: "The key system is not supported",
              2011: "The certificate is not valid",
              2012: "Invalid header key/value pair for PlayReady license request",
              2013: "Content cannot be played back because the output is restricted on this machine",
              2014: "DRM error for the Flash renderer",
              2100: "General VR error",
              2101: "Player technology not compatible with VR playback",
              3000: "General module error",
              3001: "The definition of the module is invalid (e.g. incomplete).",
              3002: "The module definition specifies dependencies but the module is not provided via a function for deferred loading.",
              3003: "A module cannot be loaded because it has not been added to the player core.",
              3004: "A module cannot be loaded because one or more dependencies are missing.",
              3100: "An Advertising module error has occurred. Refer to the attached AdvertisingError.",
            };
            ErrorUtils.defaultMobileV3ErrorMessageTranslator = function (
              error
            ) {
              return error.message;
            };
            ErrorUtils.defaultWebErrorMessageTranslator = function (error) {
              var errorMessage = ErrorUtils.defaultErrorMessages[error.code];
              if (errorMessage) {
                // Use the error message text if there is one
                return "".concat(errorMessage, "\n(").concat(error.name, ")"); // default error message style
              } else {
                // Fallback to error code/name if no message is defined
                return "".concat(error.code, " ").concat(error.name);
              }
            };
          })(ErrorUtils || (exports.ErrorUtils = ErrorUtils = {}));
        },
        {},
      ],
      86: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.EventDispatcher = void 0;
          var arrayutils_1 = require("./arrayutils");
          var timeout_1 = require("./timeout");
          /**
           * Event dispatcher to subscribe and trigger events. Each event should have its own dispatcher.
           */
          var EventDispatcher = /** @class */ (function () {
            function EventDispatcher() {
              this.listeners = [];
            }
            /**
             * {@inheritDoc}
             */
            EventDispatcher.prototype.subscribe = function (listener) {
              this.listeners.push(new EventListenerWrapper(listener));
            };
            /**
             * {@inheritDoc}
             */
            EventDispatcher.prototype.subscribeOnce = function (listener) {
              this.listeners.push(new EventListenerWrapper(listener, true));
            };
            /**
             * {@inheritDoc}
             */
            EventDispatcher.prototype.subscribeRateLimited = function (
              listener,
              rateMs
            ) {
              this.listeners.push(
                new RateLimitedEventListenerWrapper(listener, rateMs)
              );
            };
            /**
             * {@inheritDoc}
             */
            EventDispatcher.prototype.unsubscribe = function (listener) {
              // Iterate through listeners, compare with parameter, and remove if found
              // NOTE: In case we ever remove all matching listeners instead of just the first, we need to reverse-iterate here
              for (var i = 0; i < this.listeners.length; i++) {
                var subscribedListener = this.listeners[i];
                if (subscribedListener.listener === listener) {
                  subscribedListener.clear();
                  arrayutils_1.ArrayUtils.remove(
                    this.listeners,
                    subscribedListener
                  );
                  return true;
                }
              }
              return false;
            };
            /**
             * Removes all listeners from this dispatcher.
             */
            EventDispatcher.prototype.unsubscribeAll = function () {
              // In case of RateLimitedEventListenerWrapper we need to make sure that the timeout callback won't be called
              for (var _i = 0, _a = this.listeners; _i < _a.length; _i++) {
                var listener = _a[_i];
                listener.clear();
              }
              this.listeners = [];
            };
            /**
             * Dispatches an event to all subscribed listeners.
             * @param sender the source of the event
             * @param args the arguments for the event
             */
            EventDispatcher.prototype.dispatch = function (sender, args) {
              if (args === void 0) {
                args = null;
              }
              var listenersToRemove = [];
              // Call every listener
              // We iterate over a copy of the array of listeners to avoid the case where events are not fired on listeners when
              // listeners are unsubscribed from within the event handlers during a dispatch (because the indices change and
              // listeners are shifted within the array).
              // This means that listener x+1 will still be called if unsubscribed from within the handler of listener x, as well
              // as listener y+1 will not be called when subscribed from within the handler of listener y.
              // Array.slice(0) is the fastest array copy method according to: https://stackoverflow.com/a/21514254/370252
              var listeners = this.listeners.slice(0);
              for (
                var _i = 0, listeners_1 = listeners;
                _i < listeners_1.length;
                _i++
              ) {
                var listener = listeners_1[_i];
                listener.fire(sender, args);
                if (listener.isOnce()) {
                  listenersToRemove.push(listener);
                }
              }
              // Remove one-time listener
              for (
                var _a = 0, listenersToRemove_1 = listenersToRemove;
                _a < listenersToRemove_1.length;
                _a++
              ) {
                var listenerToRemove = listenersToRemove_1[_a];
                arrayutils_1.ArrayUtils.remove(
                  this.listeners,
                  listenerToRemove
                );
              }
            };
            /**
             * Returns the event that this dispatcher manages and on which listeners can subscribe and unsubscribe event handlers.
             * @returns {Event}
             */
            EventDispatcher.prototype.getEvent = function () {
              // For now, just cast the event dispatcher to the event interface. At some point in the future when the
              // codebase grows, it might make sense to split the dispatcher into separate dispatcher and event classes.
              return this;
            };
            return EventDispatcher;
          })();
          exports.EventDispatcher = EventDispatcher;
          /**
           * A basic event listener wrapper to manage listeners within the {@link EventDispatcher}. This is a 'private' class
           * for internal dispatcher use and it is therefore not exported.
           */
          var EventListenerWrapper = /** @class */ (function () {
            function EventListenerWrapper(listener, once) {
              if (once === void 0) {
                once = false;
              }
              this.eventListener = listener;
              this.once = once;
            }
            Object.defineProperty(EventListenerWrapper.prototype, "listener", {
              /**
               * Returns the wrapped event listener.
               * @returns {EventListener<Sender, Args>}
               */
              get: function () {
                return this.eventListener;
              },
              enumerable: false,
              configurable: true,
            });
            /**
             * Fires the wrapped event listener with the given arguments.
             * @param sender
             * @param args
             */
            EventListenerWrapper.prototype.fire = function (sender, args) {
              this.eventListener(sender, args);
            };
            /**
             * Checks if this listener is scheduled to be called only once.
             * @returns {boolean} once if true
             */
            EventListenerWrapper.prototype.isOnce = function () {
              return this.once;
            };
            EventListenerWrapper.prototype.clear = function () {};
            return EventListenerWrapper;
          })();
          /**
           * Extends the basic {@link EventListenerWrapper} with rate-limiting functionality.
           */
          var RateLimitedEventListenerWrapper = /** @class */ (function (
            _super
          ) {
            __extends(RateLimitedEventListenerWrapper, _super);
            function RateLimitedEventListenerWrapper(listener, rateMs) {
              var _this = _super.call(this, listener) || this; // sets the event listener sink
              _this.rateMs = rateMs;
              // starting limiting the events to the given value
              var startRateLimiting = function () {
                _this.rateLimitTimout.start();
              };
              // timout for limiting the events
              _this.rateLimitTimout = new timeout_1.Timeout(
                _this.rateMs,
                function () {
                  if (_this.lastSeenEvent) {
                    _this.fireSuper(
                      _this.lastSeenEvent.sender,
                      _this.lastSeenEvent.args
                    );
                    startRateLimiting(); // start rateLimiting again to keep rate limit active even after firing the last seen event
                    _this.lastSeenEvent = null;
                  }
                }
              );
              // In case the events stopping during the rateLimiting we need to track the last seen one and delegate after the
              // rate limiting is finished. This prevents missing the last update due to the rate limit.
              _this.rateLimitingEventListener = function (sender, args) {
                // only fire events if the rateLimiting is not running
                if (_this.shouldFireEvent()) {
                  _this.fireSuper(sender, args);
                  startRateLimiting();
                  return;
                }
                _this.lastSeenEvent = {
                  sender: sender,
                  args: args,
                };
              };
              return _this;
            }
            RateLimitedEventListenerWrapper.prototype.shouldFireEvent =
              function () {
                return !this.rateLimitTimout.isActive();
              };
            RateLimitedEventListenerWrapper.prototype.fireSuper = function (
              sender,
              args
            ) {
              // Fire the actual external event listener
              _super.prototype.fire.call(this, sender, args);
            };
            RateLimitedEventListenerWrapper.prototype.fire = function (
              sender,
              args
            ) {
              // Fire the internal rate-limiting listener instead of the external event listener
              this.rateLimitingEventListener(sender, args);
            };
            RateLimitedEventListenerWrapper.prototype.clear = function () {
              _super.prototype.clear.call(this);
              this.rateLimitTimout.clear();
            };
            return RateLimitedEventListenerWrapper;
          })(EventListenerWrapper);
        },
        { "./arrayutils": 1, "./timeout": 113 },
      ],
      87: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.FocusVisibilityTracker = void 0;
          var FocusVisibleCssClassName = "bmpui-focus-visible";
          var FocusVisibilityTracker = /** @class */ (function () {
            function FocusVisibilityTracker(bitmovinUiPrefix) {
              var _this = this;
              this.bitmovinUiPrefix = bitmovinUiPrefix;
              this.lastInteractionWasKeyboard = true;
              this.onKeyDown = function (e) {
                if (e.metaKey || e.altKey || e.ctrlKey) {
                  return;
                }
                _this.lastInteractionWasKeyboard = true;
              };
              this.onMouseOrPointerOrTouch = function () {
                return (_this.lastInteractionWasKeyboard = false);
              };
              this.onFocus = function (_a) {
                var element = _a.target;
                if (
                  _this.lastInteractionWasKeyboard &&
                  isHtmlElement(element) &&
                  isBitmovinUi(element, _this.bitmovinUiPrefix) &&
                  !element.classList.contains(FocusVisibleCssClassName)
                ) {
                  element.classList.add(FocusVisibleCssClassName);
                }
              };
              this.onBlur = function (_a) {
                var element = _a.target;
                if (isHtmlElement(element)) {
                  element.classList.remove(FocusVisibleCssClassName);
                }
              };
              this.eventHandlerMap = {
                mousedown: this.onMouseOrPointerOrTouch,
                pointerdown: this.onMouseOrPointerOrTouch,
                touchstart: this.onMouseOrPointerOrTouch,
                keydown: this.onKeyDown,
                focus: this.onFocus,
                blur: this.onBlur,
              };
              this.registerEventListeners();
            }
            FocusVisibilityTracker.prototype.registerEventListeners =
              function () {
                for (var event_1 in this.eventHandlerMap) {
                  document.addEventListener(
                    event_1,
                    this.eventHandlerMap[event_1],
                    true
                  );
                }
              };
            FocusVisibilityTracker.prototype.unregisterEventListeners =
              function () {
                for (var event_2 in this.eventHandlerMap) {
                  document.removeEventListener(
                    event_2,
                    this.eventHandlerMap[event_2],
                    true
                  );
                }
              };
            FocusVisibilityTracker.prototype.release = function () {
              this.unregisterEventListeners();
            };
            return FocusVisibilityTracker;
          })();
          exports.FocusVisibilityTracker = FocusVisibilityTracker;
          function isBitmovinUi(element, bitmovinUiPrefix) {
            return element.id.indexOf(bitmovinUiPrefix) === 0;
          }
          function isHtmlElement(element) {
            return (
              element instanceof HTMLElement &&
              element.classList instanceof DOMTokenList
            );
          }
        },
        {},
      ],
      88: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.GroupPlaybackSuspensionReason = void 0;
          /**
     * The Group Playback API offers control over synchronized playback of a group of clients, e.g. for Apple SharePlay
     * sessions.
    
     * Note: The API currently only covers the immediate needs of the iOS SDK in combination with our UI which is regarding
     * temporarily suspending synchronization of the player from the group. But it is open to be extended as needed in the
     * future.
     */
          /**
           * Reason for suspending the synchronization with the group.
           */
          var GroupPlaybackSuspensionReason;
          (function (GroupPlaybackSuspensionReason) {
            GroupPlaybackSuspensionReason["UserIsScrubbing"] =
              "userIsScrubbing";
          })(
            GroupPlaybackSuspensionReason ||
              (exports.GroupPlaybackSuspensionReason =
                GroupPlaybackSuspensionReason =
                  {})
          );
        },
        {},
      ],
      89: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.Guid = void 0;
          var Guid;
          (function (Guid) {
            var guid = 1;
            function next() {
              return guid++;
            }
            Guid.next = next;
          })(Guid || (exports.Guid = Guid = {}));
        },
        {},
      ],
      90: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ImageLoader = void 0;
          var dom_1 = require("./dom");
          /**
           * Tracks the loading state of images.
           */
          var ImageLoader = /** @class */ (function () {
            function ImageLoader() {
              this.state = {};
            }
            /**
             * Loads an image and call the callback once the image is loaded. If the image is already loaded, the callback
             * is called immediately, else it is called once loading has finished. Calling this method multiple times for the
             * same image while it is loading calls only let callback passed into the last call.
             * @param url The url to the image to load
             * @param loadedCallback The callback that is called when the image is loaded
             */
            ImageLoader.prototype.load = function (url, loadedCallback) {
              var _this = this;
              if (!this.state[url]) {
                // When the image was never attempted to be loaded before, we create a state and store it in the state map
                // for later use when the same image is requested to be loaded again.
                var state_1 = {
                  url: url,
                  image: new dom_1.DOM("img", {}),
                  loadedCallback: loadedCallback,
                  loaded: false,
                  width: 0,
                  height: 0,
                };
                this.state[url] = state_1;
                // Listen to the load event, update the state and call the callback once the image is loaded
                state_1.image.on("load", function (e) {
                  state_1.loaded = true;
                  state_1.width = state_1.image.get(0).width;
                  state_1.height = state_1.image.get(0).height;
                  _this.callLoadedCallback(state_1);
                });
                // Set the image URL to start the loading
                state_1.image.attr("src", state_1.url);
              } else {
                // We have a state for the requested image, so it is either already loaded or currently loading
                var state = this.state[url];
                // We overwrite the callback to make sure that only the callback of the latest call gets executed.
                // Earlier callbacks become invalid once a new load call arrives, and they are not called as long as the image
                // is not loaded.
                state.loadedCallback = loadedCallback;
                // When the image is already loaded, we directly execute the callback instead of waiting for the load event
                if (state.loaded) {
                  this.callLoadedCallback(state);
                }
              }
            };
            ImageLoader.prototype.callLoadedCallback = function (state) {
              state.loadedCallback(state.url, state.width, state.height);
            };
            return ImageLoader;
          })();
          exports.ImageLoader = ImageLoader;
        },
        { "./dom": 84 },
      ],
      91: [
        function (require, module, exports) {
          "use strict";
          var __assign =
            (this && this.__assign) ||
            function () {
              __assign =
                Object.assign ||
                function (t) {
                  for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s)
                      if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
                  }
                  return t;
                };
              return __assign.apply(this, arguments);
            };
          var __importDefault =
            (this && this.__importDefault) ||
            function (mod) {
              return mod && mod.__esModule ? mod : { default: mod };
            };
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.i18n = exports.I18n = exports.defaultVocabularies = void 0;
          var de_json_1 = __importDefault(require("./languages/de.json"));
          var en_json_1 = __importDefault(require("./languages/en.json"));
          var es_json_1 = __importDefault(require("./languages/es.json"));
          var nl_json_1 = __importDefault(require("./languages/nl.json"));
          exports.defaultVocabularies = {
            en: en_json_1.default,
            de: de_json_1.default,
            es: es_json_1.default,
            nl: nl_json_1.default,
          };
          var defaultLocalizationConfig = {
            language: "en",
            vocabularies: exports.defaultVocabularies,
          };
          /**
           * @category Localization
           */
          var I18n = /** @class */ (function () {
            function I18n(config) {
              this.setConfig(config);
            }
            I18n.prototype.setConfig = function (config) {
              var mergedConfig = __assign(
                __assign({}, defaultLocalizationConfig),
                config
              );
              var detectBrowserLanguage = mergedConfig.language === "auto";
              var vocabularies = this.mergeVocabulariesWithDefaultVocabularies(
                mergedConfig.vocabularies
              );
              this.initializeLanguage(
                mergedConfig.language,
                detectBrowserLanguage,
                vocabularies
              );
              this.initializeVocabulary(vocabularies);
            };
            I18n.containsLanguage = function (vocabularies, language) {
              return vocabularies.hasOwnProperty(language);
            };
            I18n.prototype.mergeVocabulariesWithDefaultVocabularies = function (
              vocabularies
            ) {
              if (vocabularies === void 0) {
                vocabularies = {};
              }
              var rawVocabularies = __assign(
                __assign({}, exports.defaultVocabularies),
                vocabularies
              );
              return Object.keys(rawVocabularies).reduce(function (
                mergedVocabularies,
                language
              ) {
                var _a;
                var vocabulary = rawVocabularies[language];
                if (
                  I18n.containsLanguage(
                    exports.defaultVocabularies,
                    language
                  ) &&
                  I18n.containsLanguage(vocabularies, language)
                ) {
                  vocabulary = __assign(
                    __assign({}, exports.defaultVocabularies[language]),
                    vocabularies[language]
                  );
                }
                return __assign(
                  __assign({}, mergedVocabularies),
                  ((_a = {}), (_a[language] = vocabulary), _a)
                );
              },
              {});
            };
            I18n.prototype.initializeLanguage = function (
              language,
              browserLanguageDetectionEnabled,
              vocabularies
            ) {
              if (browserLanguageDetectionEnabled) {
                var userLanguage = window.navigator.language;
                if (I18n.containsLanguage(vocabularies, userLanguage)) {
                  this.language = userLanguage;
                  return;
                }
                var shortenedUserLanguage = userLanguage.slice(0, 2);
                if (
                  I18n.containsLanguage(vocabularies, shortenedUserLanguage)
                ) {
                  this.language = shortenedUserLanguage;
                  return;
                }
              }
              this.language = language;
            };
            I18n.prototype.initializeVocabulary = function (vocabularies) {
              this.vocabulary = ["en", this.language].reduce(function (
                vocab,
                lang
              ) {
                return __assign(__assign({}, vocab), vocabularies[lang] || {});
              },
              {});
            };
            I18n.prototype.replaceVariableWithPlaceholderIfExists = function (
              text,
              config
            ) {
              var matches = text.match(new RegExp("{[a-zA-Z0-9]+}", "g"));
              if (matches.length === 0) {
                return text;
              }
              return (
                matches
                  .map(function (m) {
                    return { match: m, key: m.slice(1, -1) };
                  })
                  // eslint-disable-next-line @typescript-eslint/no-unsafe-call
                  .reduce(function (str, _a) {
                    var key = _a.key,
                      match = _a.match;
                    return config.hasOwnProperty(key)
                      ? str.replace(match, config[key])
                      : str;
                  }, text)
              );
            };
            I18n.prototype.getLocalizer = function (key, config) {
              var _this = this;
              return function () {
                if (key == null) {
                  // because sometimes we call toDomElement() without configuring the component or setting text...
                  return undefined;
                }
                var vocabularyString = _this.vocabulary[key];
                if (vocabularyString == null) {
                  vocabularyString = key;
                }
                if (config != null) {
                  vocabularyString =
                    _this.replaceVariableWithPlaceholderIfExists(
                      vocabularyString,
                      config
                    );
                }
                return vocabularyString;
              };
            };
            I18n.prototype.performLocalization = function (text) {
              return typeof text === "function" ? text() : text;
            };
            return I18n;
          })();
          exports.I18n = I18n;
          /**
           * @category Localization
           */
          exports.i18n = new I18n(defaultLocalizationConfig);
        },
        {
          "./languages/de.json": 92,
          "./languages/en.json": 93,
          "./languages/es.json": 94,
          "./languages/nl.json": 95,
        },
      ],
      92: [
        function (require, module, exports) {
          module.exports = {
            "settings.video.quality": "Videoqualität",
            "settings.audio.quality": "Audioqualität",
            "settings.audio.track": "Audiospur",
            speed: "Geschwindigkeit",
            play: "Abspielen",
            pause: "Pause",
            playPause: "Abspielen/Pause",
            open: "öffnen",
            close: "Schließen",
            "settings.audio.mute": "Stummschaltung",
            "settings.audio.volume": "Lautstärke",
            pictureInPicture: "Bild im Bild",
            appleAirplay: "Apple AirPlay",
            googleCast: "Google Cast",
            vr: "VR",
            settings: "Einstellungen",
            fullscreen: "Vollbild",
            off: "aus",
            "settings.subtitles": "Untertitel",
            "settings.subtitles.font.size": "Größe",
            "settings.subtitles.font.style": "Schriftstil",
            "settings.subtitles.font.style.bold": "Fett",
            "settings.subtitles.font.style.italic": "Kursiv",
            "settings.subtitles.font.family": "Schriftart",
            "settings.subtitles.font.color": "Farbe",
            "settings.subtitles.font.opacity": "Deckkraft",
            "settings.subtitles.characterEdge": "Ränder",
            "settings.subtitles.characterEdge.color": "Buchstabenrandfarbe",
            "settings.subtitles.background.color": "Hintergrundfarbe",
            "settings.subtitles.background.opacity": "Hintergrunddeckkraft",
            "settings.subtitles.window.color": "Hintergrundfarbe",
            "settings.subtitles.window.opacity": "Hintergrunddeckkraft",
            "settings.time.hours": "Stunden",
            "settings.time.minutes": "Minuten",
            "settings.time.seconds": "Sekunden",
            back: "Zurück",
            reset: "Zurücksetzen",
            replay: "Wiederholen",
            "ads.remainingTime":
              "Diese Anzeige endet in {remainingTime} Sekunden",
            default: "standard",
            "colors.white": "weiß",
            "colors.black": "schwarz",
            "colors.red": "rot",
            "colors.green": "grün",
            "colors.blue": "blau",
            "colors.yellow": "gelb",
            "subtitle.example": "Beispiel Untertitel",
            "subtitle.select": "Untertitel auswählen",
            playingOn: "Spielt auf <strong>{castDeviceName}</strong>",
            connectingTo:
              "Verbindung mit <strong>{castDeviceName}</strong> wird hergestellt...",
            watermarkLink: "Link zum Homepage",
            controlBar: "Videoplayer Kontrollen",
            player: "Video player",
            seekBar: "Video-Timeline",
            "seekBar.value": "Wert",
            "seekBar.timeshift": "Timeshift",
            "seekBar.durationText": "aus",
            "quickseek.forward": "Vor",
            "quickseek.rewind": "Zurück",
            ecoMode: "ecoMode",
            "ecoMode.title": "Eco Mode",
          };
        },
        {},
      ],
      93: [
        function (require, module, exports) {
          module.exports = {
            "settings.video.quality": "Video Quality",
            "settings.audio.quality": "Audio Quality",
            "settings.audio.track": "Audio Track",
            "settings.audio.mute": "Mute",
            "settings.audio.volume": "Volume",
            "settings.subtitles.window.color": "Window color",
            "settings.subtitles.window.opacity": "Window opacity",
            "settings.subtitles": "Subtitles",
            "settings.subtitles.font.color": "Font color",
            "settings.subtitles.font.opacity": "Font opacity",
            "settings.subtitles.background.color": "Background color",
            "settings.subtitles.background.opacity": "Background opacity",
            "colors.white": "white",
            "colors.black": "black",
            "colors.red": "red",
            "colors.green": "green",
            "colors.blue": "blue",
            "colors.cyan": "cyan",
            "colors.yellow": "yellow",
            "colors.magenta": "magenta",
            percent: "{value}%",
            "settings.subtitles.font.size": "Font size",
            "settings.subtitles.font.style": "Font style",
            "settings.subtitles.font.style.bold": "bold",
            "settings.subtitles.font.style.italic": "italic",
            "settings.subtitles.characterEdge": "Character edge",
            "settings.subtitles.characterEdge.raised": "raised",
            "settings.subtitles.characterEdge.depressed": "depressed",
            "settings.subtitles.characterEdge.uniform": "uniform",
            "settings.subtitles.characterEdge.dropshadowed": "drop shadowed",
            "settings.subtitles.characterEdge.color": "Character edge color",
            "settings.subtitles.font.family": "Font family",
            "settings.subtitles.font.family.monospacedserif":
              "monospaced serif",
            "settings.subtitles.font.family.proportionalserif":
              "proportional serif",
            "settings.subtitles.font.family.monospacedsansserif":
              "monospaced sans serif",
            "settings.subtitles.font.family.proportionalsansserif":
              "proportional sans serif",
            "settings.subtitles.font.family.casual": "casual",
            "settings.subtitles.font.family.cursive": "cursive",
            "settings.subtitles.font.family.smallcapital": "small capital",
            "settings.time.hours": "Hours",
            "settings.time.minutes": "Minutes",
            "settings.time.seconds": "Seconds",
            "ads.remainingTime": "This ad will end in {remainingTime} seconds.",
            settings: "Settings",
            fullscreen: "Fullscreen",
            speed: "Speed",
            playPause: "Play/Pause",
            play: "Play",
            pause: "Pause",
            open: "open",
            close: "Close",
            pictureInPicture: "Picture-in-Picture",
            appleAirplay: "Apple AirPlay",
            googleCast: "Google Cast",
            vr: "VR",
            off: "off",
            auto: "auto",
            ecoMode: "ecoMode",
            "ecoMode.title": "Eco Mode",
            back: "Back",
            reset: "Reset",
            replay: "Replay",
            normal: "normal",
            default: "default",
            live: "Live",
            "subtitle.example": "example subtitle",
            "subtitle.select": "Select subtitle",
            playingOn: "Playing on <strong>{castDeviceName}</strong>",
            connectingTo: "Connecting to <strong>{castDeviceName}</strong>...",
            watermarkLink: "Link to Homepage",
            controlBar: "Video player controls",
            player: "Video player",
            seekBar: "Video timeline",
            "seekBar.value": "Value",
            "seekBar.timeshift": "Timeshift",
            "seekBar.durationText": "out of",
            "quickseek.forward": "Fast Forward",
            "quickseek.rewind": "Rewind",
          };
        },
        {},
      ],
      94: [
        function (require, module, exports) {
          module.exports = {
            "settings.video.quality": "Calidad de Video",
            "settings.audio.quality": "Calidad de Audio",
            "settings.audio.track": "Pista de Audio",
            "settings.audio.mute": "Silencio",
            "settings.audio.volume": "Volumen",
            "settings.subtitles.window.color": "color de Ventana",
            "settings.subtitles.window.opacity": "opacidad de Ventana",
            "settings.subtitles": "Subtítulos",
            "settings.subtitles.font.color": "color de Fuente",
            "settings.subtitles.font.opacity": "opacidad de Fuente",
            "settings.subtitles.background.color": "color de Fondo",
            "settings.subtitles.background.opacity": "opacidad de Fondo",
            "colors.white": "blanco",
            "colors.black": "negro",
            "colors.red": "rojo",
            "colors.green": "verde",
            "colors.blue": "azul",
            "colors.cyan": "cian",
            "colors.yellow": "amarillo",
            "colors.magenta": "magenta",
            percent: "{value}%",
            "settings.subtitles.font.size": "tamaño de Fuente",
            "settings.subtitles.font.style": "Estilo de Fuente",
            "settings.subtitles.font.style.bold": "negrita",
            "settings.subtitles.font.style.italic": "cursiva",
            "settings.subtitles.characterEdge": "borde del Caracter",
            "settings.subtitles.characterEdge.raised": "alzado",
            "settings.subtitles.characterEdge.depressed": "discreto",
            "settings.subtitles.characterEdge.uniform": "uniforme",
            "settings.subtitles.characterEdge.dropshadowed": "sombreado",
            "settings.subtitles.characterEdge.color":
              "color de contorno de texto",
            "settings.subtitles.font.family": "tipo de Fuente",
            "settings.subtitles.font.family.monospacedserif":
              "monospaced serif",
            "settings.subtitles.font.family.proportionalserif":
              "proportional serif",
            "settings.subtitles.font.family.monospacedsansserif":
              "monospaced sans serif",
            "settings.subtitles.font.family.proportionalsansserif":
              "proportional sans serif",
            "settings.subtitles.font.family.casual": "casual",
            "settings.subtitles.font.family.cursive": "cursiva",
            "settings.subtitles.font.family.smallcapital": "small capital",
            "settings.time.hours": "Horas",
            "settings.time.minutes": "Minutos",
            "settings.time.seconds": "Segundos",
            "ads.remainingTime":
              "Este anuncio acabará en {remainingTime} segundos.",
            settings: "Configuración",
            fullscreen: "Pantalla Completa",
            speed: "Velocidad",
            playPause: "Reproducir/Pausa",
            play: "Reproducir",
            pause: "Pausa",
            open: "Abrir",
            close: "Cerrar",
            pictureInPicture: "Imagen en Imagen",
            appleAirplay: "Apple AirPlay",
            googleCast: "Google Cast",
            vr: "VR",
            off: "off",
            auto: "auto",
            ecoMode: "ecoMode",
            "ecoMode.title": "Eco Mode",
            back: "Atrás",
            reset: "Reiniciar",
            replay: "Rebobinar",
            normal: "normal",
            default: "predeterminado",
            live: "Directo",
            "subtitle.example": "Ejemplo de Subtítulo",
            "subtitle.select": "Seleccionar subtítulo",
            playingOn: "Reproduciendo en <strong>{castDeviceName}</strong>",
            connectingTo: "Conectando a <strong>{castDeviceName}</strong>...",
            watermarkLink: "Enlace al inicio",
            controlBar: "Controles del Reproductor",
            player: "Reproductor de Video",
            seekBar: "Línea de Tiempo",
            "seekBar.value": "posición",
            "seekBar.timeshift": "cambio de posición",
            "seekBar.durationText": "de",
            "quickseek.forward": "Adelantar",
            "quickseek.rewind": "Rebobinar",
          };
        },
        {},
      ],
      95: [
        function (require, module, exports) {
          module.exports = {
            "settings.video.quality": "Videokwaliteit",
            "settings.audio.quality": "Audiokwaliteit",
            "settings.audio.track": "Audiospoor",
            "settings.audio.mute": "Dempen",
            "settings.audio.volume": "Volume",
            "settings.subtitles.window.color": "Vensterkleur",
            "settings.subtitles.window.opacity": "Venster doorzichtigheid",
            "settings.subtitles": "Ondertiteling",
            "settings.subtitles.font.color": "Lettertype kleur",
            "settings.subtitles.font.opacity": "Lettertype doorzichtigheid",
            "settings.subtitles.background.color": "Achtergrondkleur",
            "settings.subtitles.background.opacity":
              "Achtergrond doorzichtigheid",
            "colors.white": "wit",
            "colors.black": "zwart",
            "colors.red": "rood",
            "colors.green": "groen",
            "colors.blue": "blauw",
            "colors.cyan": "cyaan",
            "colors.yellow": "geel",
            "colors.magenta": "magenta",
            percent: "{value}%",
            "settings.subtitles.font.size": "Lettertype grootte",
            "settings.subtitles.characterEdge": "Lettertype rand",
            "settings.subtitles.characterEdge.raised": "verhoogd",
            "settings.subtitles.characterEdge.depressed": "verlaagd",
            "settings.subtitles.characterEdge.uniform": "uniform",
            "settings.subtitles.characterEdge.dropshadowed": "schaduw",
            "settings.subtitles.font.family": "Standaard lettertype",
            "settings.subtitles.font.family.monospacedserif": "monospace serif",
            "settings.subtitles.font.family.proportionalserif":
              "proportioneel serif",
            "settings.subtitles.font.family.monospacedsansserif":
              "monospace sans-serif",
            "settings.subtitles.font.family.proportionalsansserif":
              "proportioneel sans-serif",
            "settings.subtitles.font.family.casual": "casual",
            "settings.subtitles.font.family.cursive": "cursief",
            "settings.subtitles.font.family.smallcapital":
              "kleine hoofdletters",
            "settings.time.hours": "Uren",
            "settings.time.minutes": "Minuten",
            "settings.time.seconds": "Seconden",
            "ads.remainingTime":
              "Deze advertentie eindigt in {remainingTime} seconden.",
            settings: "Instellingen",
            fullscreen: "Volledig scherm",
            speed: "Snelheid",
            playPause: "Afspelen/Pauzeren",
            play: "Afspelen",
            pause: "Pauzeren",
            open: "Openen",
            close: "Sluiten",
            pictureInPicture: "Picture-in-Picture",
            appleAirplay: "Apple AirPlay",
            googleCast: "Google Cast",
            vr: "VR",
            off: "uit",
            auto: "automatisch",
            ecoMode: "Eco-modus",
            "ecoMode.title": "Eco-modus",
            back: "Terug",
            reset: "Reset",
            replay: "Opnieuw afspelen",
            normal: "normaal",
            default: "standaard",
            live: "Live",
            "subtitle.example": "voorbeeld ondertiteling",
            "subtitle.select": "Selecteer ondertiteling",
            playingOn: "Speelt af op <strong>{castDeviceName}</strong>",
            connectingTo: "Verbinden met <strong>{castDeviceName}</strong>...",
            watermarkLink: "Link naar homepage",
            controlBar: "Videospeler bediening",
            player: "Videospeler",
            seekBar: "Video tijdlijn",
            "seekBar.value": "Waarde",
            "seekBar.timeshift": "Tijdverschuiving",
            "seekBar.durationText": "van",
            "quickseek.forward": "Vooruitspoelen",
            "quickseek.rewind": "Terugspoelen",
          };
        },
        {},
      ],
      96: [
        function (require, module, exports) {
          "use strict";
          var __createBinding =
            (this && this.__createBinding) ||
            (Object.create
              ? function (o, m, k, k2) {
                  if (k2 === undefined) k2 = k;
                  var desc = Object.getOwnPropertyDescriptor(m, k);
                  if (
                    !desc ||
                    ("get" in desc
                      ? !m.__esModule
                      : desc.writable || desc.configurable)
                  ) {
                    desc = {
                      enumerable: true,
                      get: function () {
                        return m[k];
                      },
                    };
                  }
                  Object.defineProperty(o, k2, desc);
                }
              : function (o, m, k, k2) {
                  if (k2 === undefined) k2 = k;
                  o[k2] = m[k];
                });
          var __exportStar =
            (this && this.__exportStar) ||
            function (m, exports) {
              for (var p in m)
                if (
                  p !== "default" &&
                  !Object.prototype.hasOwnProperty.call(exports, p)
                )
                  __createBinding(exports, m, p);
            };
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ClickOverlay =
            exports.VolumeControlButton =
            exports.TitleBar =
            exports.SubtitleSelectBox =
            exports.SubtitleOverlay =
            exports.SeekBarLabel =
            exports.RecommendationOverlay =
            exports.ErrorMessageOverlay =
            exports.Component =
            exports.CastToggleButton =
            exports.CastStatusOverlay =
            exports.AudioTrackSelectBox =
            exports.AudioQualitySelectBox =
            exports.Label =
            exports.Container =
            exports.UIContainer =
            exports.Watermark =
            exports.VRToggleButton =
            exports.VolumeToggleButton =
            exports.VideoQualitySelectBox =
            exports.ToggleButton =
            exports.SettingsToggleButton =
            exports.SettingsPanel =
            exports.ItemSelectionList =
            exports.SelectBox =
            exports.SeekBar =
            exports.PlaybackToggleButton =
            exports.PlaybackTimeLabelMode =
            exports.PlaybackTimeLabel =
            exports.HugePlaybackToggleButton =
            exports.FullscreenToggleButton =
            exports.ControlBar =
            exports.Button =
            exports.ListOrientation =
            exports.ListNavigationGroup =
            exports.RootNavigationGroup =
            exports.NavigationGroup =
            exports.SpatialNavigation =
            exports.I18n =
            exports.i18n =
            exports.ErrorUtils =
            exports.StorageUtils =
            exports.BrowserUtils =
            exports.UIUtils =
            exports.PlayerUtils =
            exports.StringUtils =
            exports.ArrayUtils =
            exports.DemoFactory =
            exports.UIFactory =
            exports.version =
              void 0;
          exports.ListSelector =
            exports.QuickSeekButton =
            exports.ReplayButton =
            exports.SettingsPanelItem =
            exports.SubtitleSettingsPanelPage =
            exports.SettingsPanelPageOpenButton =
            exports.SettingsPanelPageBackButton =
            exports.SettingsPanelPage =
            exports.AudioTrackListBox =
            exports.SubtitleListBox =
            exports.ListBox =
            exports.SubtitleSettingsResetButton =
            exports.WindowOpacitySelectBox =
            exports.WindowColorSelectBox =
            exports.SubtitleSettingsLabel =
            exports.SubtitleSettingSelectBox =
            exports.FontSizeSelectBox =
            exports.FontOpacitySelectBox =
            exports.FontFamilySelectBox =
            exports.FontColorSelectBox =
            exports.CharacterEdgeSelectBox =
            exports.BackgroundOpacitySelectBox =
            exports.BackgroundColorSelectBox =
            exports.Spacer =
            exports.PictureInPictureToggleButton =
            exports.VolumeSlider =
            exports.AirPlayToggleButton =
            exports.MetadataLabelContent =
            exports.MetadataLabel =
            exports.CloseButton =
            exports.PlaybackToggleOverlay =
            exports.CastUIContainer =
            exports.BufferingOverlay =
            exports.HugeReplayButton =
            exports.PlaybackSpeedSelectBox =
            exports.AdClickOverlay =
            exports.AdMessageLabel =
            exports.AdSkipButton =
              void 0;
          exports.version = "3.85.0";
          // Management
          __exportStar(require("./uimanager"), exports);
          __exportStar(require("./uiconfig"), exports);
          // Factories
          var uifactory_1 = require("./uifactory");
          Object.defineProperty(exports, "UIFactory", {
            enumerable: true,
            get: function () {
              return uifactory_1.UIFactory;
            },
          });
          var demofactory_1 = require("./demofactory");
          Object.defineProperty(exports, "DemoFactory", {
            enumerable: true,
            get: function () {
              return demofactory_1.DemoFactory;
            },
          });
          // Utils
          var arrayutils_1 = require("./arrayutils");
          Object.defineProperty(exports, "ArrayUtils", {
            enumerable: true,
            get: function () {
              return arrayutils_1.ArrayUtils;
            },
          });
          var stringutils_1 = require("./stringutils");
          Object.defineProperty(exports, "StringUtils", {
            enumerable: true,
            get: function () {
              return stringutils_1.StringUtils;
            },
          });
          var playerutils_1 = require("./playerutils");
          Object.defineProperty(exports, "PlayerUtils", {
            enumerable: true,
            get: function () {
              return playerutils_1.PlayerUtils;
            },
          });
          var uiutils_1 = require("./uiutils");
          Object.defineProperty(exports, "UIUtils", {
            enumerable: true,
            get: function () {
              return uiutils_1.UIUtils;
            },
          });
          var browserutils_1 = require("./browserutils");
          Object.defineProperty(exports, "BrowserUtils", {
            enumerable: true,
            get: function () {
              return browserutils_1.BrowserUtils;
            },
          });
          var storageutils_1 = require("./storageutils");
          Object.defineProperty(exports, "StorageUtils", {
            enumerable: true,
            get: function () {
              return storageutils_1.StorageUtils;
            },
          });
          var errorutils_1 = require("./errorutils");
          Object.defineProperty(exports, "ErrorUtils", {
            enumerable: true,
            get: function () {
              return errorutils_1.ErrorUtils;
            },
          });
          // Localization
          var i18n_1 = require("./localization/i18n");
          Object.defineProperty(exports, "i18n", {
            enumerable: true,
            get: function () {
              return i18n_1.i18n;
            },
          });
          Object.defineProperty(exports, "I18n", {
            enumerable: true,
            get: function () {
              return i18n_1.I18n;
            },
          });
          // Spatial Navigation
          var spatialnavigation_1 = require("./spatialnavigation/spatialnavigation");
          Object.defineProperty(exports, "SpatialNavigation", {
            enumerable: true,
            get: function () {
              return spatialnavigation_1.SpatialNavigation;
            },
          });
          var navigationgroup_1 = require("./spatialnavigation/navigationgroup");
          Object.defineProperty(exports, "NavigationGroup", {
            enumerable: true,
            get: function () {
              return navigationgroup_1.NavigationGroup;
            },
          });
          var rootnavigationgroup_1 = require("./spatialnavigation/rootnavigationgroup");
          Object.defineProperty(exports, "RootNavigationGroup", {
            enumerable: true,
            get: function () {
              return rootnavigationgroup_1.RootNavigationGroup;
            },
          });
          var ListNavigationGroup_1 = require("./spatialnavigation/ListNavigationGroup");
          Object.defineProperty(exports, "ListNavigationGroup", {
            enumerable: true,
            get: function () {
              return ListNavigationGroup_1.ListNavigationGroup;
            },
          });
          Object.defineProperty(exports, "ListOrientation", {
            enumerable: true,
            get: function () {
              return ListNavigationGroup_1.ListOrientation;
            },
          });
          // Components
          var button_1 = require("./components/button");
          Object.defineProperty(exports, "Button", {
            enumerable: true,
            get: function () {
              return button_1.Button;
            },
          });
          var controlbar_1 = require("./components/controlbar");
          Object.defineProperty(exports, "ControlBar", {
            enumerable: true,
            get: function () {
              return controlbar_1.ControlBar;
            },
          });
          var fullscreentogglebutton_1 = require("./components/fullscreentogglebutton");
          Object.defineProperty(exports, "FullscreenToggleButton", {
            enumerable: true,
            get: function () {
              return fullscreentogglebutton_1.FullscreenToggleButton;
            },
          });
          var hugeplaybacktogglebutton_1 = require("./components/hugeplaybacktogglebutton");
          Object.defineProperty(exports, "HugePlaybackToggleButton", {
            enumerable: true,
            get: function () {
              return hugeplaybacktogglebutton_1.HugePlaybackToggleButton;
            },
          });
          var playbacktimelabel_1 = require("./components/playbacktimelabel");
          Object.defineProperty(exports, "PlaybackTimeLabel", {
            enumerable: true,
            get: function () {
              return playbacktimelabel_1.PlaybackTimeLabel;
            },
          });
          Object.defineProperty(exports, "PlaybackTimeLabelMode", {
            enumerable: true,
            get: function () {
              return playbacktimelabel_1.PlaybackTimeLabelMode;
            },
          });
          var playbacktogglebutton_1 = require("./components/playbacktogglebutton");
          Object.defineProperty(exports, "PlaybackToggleButton", {
            enumerable: true,
            get: function () {
              return playbacktogglebutton_1.PlaybackToggleButton;
            },
          });
          var seekbar_1 = require("./components/seekbar");
          Object.defineProperty(exports, "SeekBar", {
            enumerable: true,
            get: function () {
              return seekbar_1.SeekBar;
            },
          });
          var selectbox_1 = require("./components/selectbox");
          Object.defineProperty(exports, "SelectBox", {
            enumerable: true,
            get: function () {
              return selectbox_1.SelectBox;
            },
          });
          var itemselectionlist_1 = require("./components/itemselectionlist");
          Object.defineProperty(exports, "ItemSelectionList", {
            enumerable: true,
            get: function () {
              return itemselectionlist_1.ItemSelectionList;
            },
          });
          var settingspanel_1 = require("./components/settingspanel");
          Object.defineProperty(exports, "SettingsPanel", {
            enumerable: true,
            get: function () {
              return settingspanel_1.SettingsPanel;
            },
          });
          var settingstogglebutton_1 = require("./components/settingstogglebutton");
          Object.defineProperty(exports, "SettingsToggleButton", {
            enumerable: true,
            get: function () {
              return settingstogglebutton_1.SettingsToggleButton;
            },
          });
          var togglebutton_1 = require("./components/togglebutton");
          Object.defineProperty(exports, "ToggleButton", {
            enumerable: true,
            get: function () {
              return togglebutton_1.ToggleButton;
            },
          });
          var videoqualityselectbox_1 = require("./components/videoqualityselectbox");
          Object.defineProperty(exports, "VideoQualitySelectBox", {
            enumerable: true,
            get: function () {
              return videoqualityselectbox_1.VideoQualitySelectBox;
            },
          });
          var volumetogglebutton_1 = require("./components/volumetogglebutton");
          Object.defineProperty(exports, "VolumeToggleButton", {
            enumerable: true,
            get: function () {
              return volumetogglebutton_1.VolumeToggleButton;
            },
          });
          var vrtogglebutton_1 = require("./components/vrtogglebutton");
          Object.defineProperty(exports, "VRToggleButton", {
            enumerable: true,
            get: function () {
              return vrtogglebutton_1.VRToggleButton;
            },
          });
          var watermark_1 = require("./components/watermark");
          Object.defineProperty(exports, "Watermark", {
            enumerable: true,
            get: function () {
              return watermark_1.Watermark;
            },
          });
          var uicontainer_1 = require("./components/uicontainer");
          Object.defineProperty(exports, "UIContainer", {
            enumerable: true,
            get: function () {
              return uicontainer_1.UIContainer;
            },
          });
          var container_1 = require("./components/container");
          Object.defineProperty(exports, "Container", {
            enumerable: true,
            get: function () {
              return container_1.Container;
            },
          });
          var label_1 = require("./components/label");
          Object.defineProperty(exports, "Label", {
            enumerable: true,
            get: function () {
              return label_1.Label;
            },
          });
          var audioqualityselectbox_1 = require("./components/audioqualityselectbox");
          Object.defineProperty(exports, "AudioQualitySelectBox", {
            enumerable: true,
            get: function () {
              return audioqualityselectbox_1.AudioQualitySelectBox;
            },
          });
          var audiotrackselectbox_1 = require("./components/audiotrackselectbox");
          Object.defineProperty(exports, "AudioTrackSelectBox", {
            enumerable: true,
            get: function () {
              return audiotrackselectbox_1.AudioTrackSelectBox;
            },
          });
          var caststatusoverlay_1 = require("./components/caststatusoverlay");
          Object.defineProperty(exports, "CastStatusOverlay", {
            enumerable: true,
            get: function () {
              return caststatusoverlay_1.CastStatusOverlay;
            },
          });
          var casttogglebutton_1 = require("./components/casttogglebutton");
          Object.defineProperty(exports, "CastToggleButton", {
            enumerable: true,
            get: function () {
              return casttogglebutton_1.CastToggleButton;
            },
          });
          var component_1 = require("./components/component");
          Object.defineProperty(exports, "Component", {
            enumerable: true,
            get: function () {
              return component_1.Component;
            },
          });
          var errormessageoverlay_1 = require("./components/errormessageoverlay");
          Object.defineProperty(exports, "ErrorMessageOverlay", {
            enumerable: true,
            get: function () {
              return errormessageoverlay_1.ErrorMessageOverlay;
            },
          });
          var recommendationoverlay_1 = require("./components/recommendationoverlay");
          Object.defineProperty(exports, "RecommendationOverlay", {
            enumerable: true,
            get: function () {
              return recommendationoverlay_1.RecommendationOverlay;
            },
          });
          var seekbarlabel_1 = require("./components/seekbarlabel");
          Object.defineProperty(exports, "SeekBarLabel", {
            enumerable: true,
            get: function () {
              return seekbarlabel_1.SeekBarLabel;
            },
          });
          var subtitleoverlay_1 = require("./components/subtitleoverlay");
          Object.defineProperty(exports, "SubtitleOverlay", {
            enumerable: true,
            get: function () {
              return subtitleoverlay_1.SubtitleOverlay;
            },
          });
          var subtitleselectbox_1 = require("./components/subtitleselectbox");
          Object.defineProperty(exports, "SubtitleSelectBox", {
            enumerable: true,
            get: function () {
              return subtitleselectbox_1.SubtitleSelectBox;
            },
          });
          var titlebar_1 = require("./components/titlebar");
          Object.defineProperty(exports, "TitleBar", {
            enumerable: true,
            get: function () {
              return titlebar_1.TitleBar;
            },
          });
          var volumecontrolbutton_1 = require("./components/volumecontrolbutton");
          Object.defineProperty(exports, "VolumeControlButton", {
            enumerable: true,
            get: function () {
              return volumecontrolbutton_1.VolumeControlButton;
            },
          });
          var clickoverlay_1 = require("./components/clickoverlay");
          Object.defineProperty(exports, "ClickOverlay", {
            enumerable: true,
            get: function () {
              return clickoverlay_1.ClickOverlay;
            },
          });
          var adskipbutton_1 = require("./components/adskipbutton");
          Object.defineProperty(exports, "AdSkipButton", {
            enumerable: true,
            get: function () {
              return adskipbutton_1.AdSkipButton;
            },
          });
          var admessagelabel_1 = require("./components/admessagelabel");
          Object.defineProperty(exports, "AdMessageLabel", {
            enumerable: true,
            get: function () {
              return admessagelabel_1.AdMessageLabel;
            },
          });
          var adclickoverlay_1 = require("./components/adclickoverlay");
          Object.defineProperty(exports, "AdClickOverlay", {
            enumerable: true,
            get: function () {
              return adclickoverlay_1.AdClickOverlay;
            },
          });
          var playbackspeedselectbox_1 = require("./components/playbackspeedselectbox");
          Object.defineProperty(exports, "PlaybackSpeedSelectBox", {
            enumerable: true,
            get: function () {
              return playbackspeedselectbox_1.PlaybackSpeedSelectBox;
            },
          });
          var hugereplaybutton_1 = require("./components/hugereplaybutton");
          Object.defineProperty(exports, "HugeReplayButton", {
            enumerable: true,
            get: function () {
              return hugereplaybutton_1.HugeReplayButton;
            },
          });
          var bufferingoverlay_1 = require("./components/bufferingoverlay");
          Object.defineProperty(exports, "BufferingOverlay", {
            enumerable: true,
            get: function () {
              return bufferingoverlay_1.BufferingOverlay;
            },
          });
          var castuicontainer_1 = require("./components/castuicontainer");
          Object.defineProperty(exports, "CastUIContainer", {
            enumerable: true,
            get: function () {
              return castuicontainer_1.CastUIContainer;
            },
          });
          var playbacktoggleoverlay_1 = require("./components/playbacktoggleoverlay");
          Object.defineProperty(exports, "PlaybackToggleOverlay", {
            enumerable: true,
            get: function () {
              return playbacktoggleoverlay_1.PlaybackToggleOverlay;
            },
          });
          var closebutton_1 = require("./components/closebutton");
          Object.defineProperty(exports, "CloseButton", {
            enumerable: true,
            get: function () {
              return closebutton_1.CloseButton;
            },
          });
          var metadatalabel_1 = require("./components/metadatalabel");
          Object.defineProperty(exports, "MetadataLabel", {
            enumerable: true,
            get: function () {
              return metadatalabel_1.MetadataLabel;
            },
          });
          Object.defineProperty(exports, "MetadataLabelContent", {
            enumerable: true,
            get: function () {
              return metadatalabel_1.MetadataLabelContent;
            },
          });
          var airplaytogglebutton_1 = require("./components/airplaytogglebutton");
          Object.defineProperty(exports, "AirPlayToggleButton", {
            enumerable: true,
            get: function () {
              return airplaytogglebutton_1.AirPlayToggleButton;
            },
          });
          var volumeslider_1 = require("./components/volumeslider");
          Object.defineProperty(exports, "VolumeSlider", {
            enumerable: true,
            get: function () {
              return volumeslider_1.VolumeSlider;
            },
          });
          var pictureinpicturetogglebutton_1 = require("./components/pictureinpicturetogglebutton");
          Object.defineProperty(exports, "PictureInPictureToggleButton", {
            enumerable: true,
            get: function () {
              return pictureinpicturetogglebutton_1.PictureInPictureToggleButton;
            },
          });
          var spacer_1 = require("./components/spacer");
          Object.defineProperty(exports, "Spacer", {
            enumerable: true,
            get: function () {
              return spacer_1.Spacer;
            },
          });
          var backgroundcolorselectbox_1 = require("./components/subtitlesettings/backgroundcolorselectbox");
          Object.defineProperty(exports, "BackgroundColorSelectBox", {
            enumerable: true,
            get: function () {
              return backgroundcolorselectbox_1.BackgroundColorSelectBox;
            },
          });
          var backgroundopacityselectbox_1 = require("./components/subtitlesettings/backgroundopacityselectbox");
          Object.defineProperty(exports, "BackgroundOpacitySelectBox", {
            enumerable: true,
            get: function () {
              return backgroundopacityselectbox_1.BackgroundOpacitySelectBox;
            },
          });
          var characteredgeselectbox_1 = require("./components/subtitlesettings/characteredgeselectbox");
          Object.defineProperty(exports, "CharacterEdgeSelectBox", {
            enumerable: true,
            get: function () {
              return characteredgeselectbox_1.CharacterEdgeSelectBox;
            },
          });
          var fontcolorselectbox_1 = require("./components/subtitlesettings/fontcolorselectbox");
          Object.defineProperty(exports, "FontColorSelectBox", {
            enumerable: true,
            get: function () {
              return fontcolorselectbox_1.FontColorSelectBox;
            },
          });
          var fontfamilyselectbox_1 = require("./components/subtitlesettings/fontfamilyselectbox");
          Object.defineProperty(exports, "FontFamilySelectBox", {
            enumerable: true,
            get: function () {
              return fontfamilyselectbox_1.FontFamilySelectBox;
            },
          });
          var fontopacityselectbox_1 = require("./components/subtitlesettings/fontopacityselectbox");
          Object.defineProperty(exports, "FontOpacitySelectBox", {
            enumerable: true,
            get: function () {
              return fontopacityselectbox_1.FontOpacitySelectBox;
            },
          });
          var fontsizeselectbox_1 = require("./components/subtitlesettings/fontsizeselectbox");
          Object.defineProperty(exports, "FontSizeSelectBox", {
            enumerable: true,
            get: function () {
              return fontsizeselectbox_1.FontSizeSelectBox;
            },
          });
          var subtitlesettingselectbox_1 = require("./components/subtitlesettings/subtitlesettingselectbox");
          Object.defineProperty(exports, "SubtitleSettingSelectBox", {
            enumerable: true,
            get: function () {
              return subtitlesettingselectbox_1.SubtitleSettingSelectBox;
            },
          });
          var subtitlesettingslabel_1 = require("./components/subtitlesettings/subtitlesettingslabel");
          Object.defineProperty(exports, "SubtitleSettingsLabel", {
            enumerable: true,
            get: function () {
              return subtitlesettingslabel_1.SubtitleSettingsLabel;
            },
          });
          var windowcolorselectbox_1 = require("./components/subtitlesettings/windowcolorselectbox");
          Object.defineProperty(exports, "WindowColorSelectBox", {
            enumerable: true,
            get: function () {
              return windowcolorselectbox_1.WindowColorSelectBox;
            },
          });
          var windowopacityselectbox_1 = require("./components/subtitlesettings/windowopacityselectbox");
          Object.defineProperty(exports, "WindowOpacitySelectBox", {
            enumerable: true,
            get: function () {
              return windowopacityselectbox_1.WindowOpacitySelectBox;
            },
          });
          var subtitlesettingsresetbutton_1 = require("./components/subtitlesettings/subtitlesettingsresetbutton");
          Object.defineProperty(exports, "SubtitleSettingsResetButton", {
            enumerable: true,
            get: function () {
              return subtitlesettingsresetbutton_1.SubtitleSettingsResetButton;
            },
          });
          var listbox_1 = require("./components/listbox");
          Object.defineProperty(exports, "ListBox", {
            enumerable: true,
            get: function () {
              return listbox_1.ListBox;
            },
          });
          var subtitlelistbox_1 = require("./components/subtitlelistbox");
          Object.defineProperty(exports, "SubtitleListBox", {
            enumerable: true,
            get: function () {
              return subtitlelistbox_1.SubtitleListBox;
            },
          });
          var audiotracklistbox_1 = require("./components/audiotracklistbox");
          Object.defineProperty(exports, "AudioTrackListBox", {
            enumerable: true,
            get: function () {
              return audiotracklistbox_1.AudioTrackListBox;
            },
          });
          var settingspanelpage_1 = require("./components/settingspanelpage");
          Object.defineProperty(exports, "SettingsPanelPage", {
            enumerable: true,
            get: function () {
              return settingspanelpage_1.SettingsPanelPage;
            },
          });
          var settingspanelpagebackbutton_1 = require("./components/settingspanelpagebackbutton");
          Object.defineProperty(exports, "SettingsPanelPageBackButton", {
            enumerable: true,
            get: function () {
              return settingspanelpagebackbutton_1.SettingsPanelPageBackButton;
            },
          });
          var settingspanelpageopenbutton_1 = require("./components/settingspanelpageopenbutton");
          Object.defineProperty(exports, "SettingsPanelPageOpenButton", {
            enumerable: true,
            get: function () {
              return settingspanelpageopenbutton_1.SettingsPanelPageOpenButton;
            },
          });
          var subtitlesettingspanelpage_1 = require("./components/subtitlesettings/subtitlesettingspanelpage");
          Object.defineProperty(exports, "SubtitleSettingsPanelPage", {
            enumerable: true,
            get: function () {
              return subtitlesettingspanelpage_1.SubtitleSettingsPanelPage;
            },
          });
          var settingspanelitem_1 = require("./components/settingspanelitem");
          Object.defineProperty(exports, "SettingsPanelItem", {
            enumerable: true,
            get: function () {
              return settingspanelitem_1.SettingsPanelItem;
            },
          });
          var replaybutton_1 = require("./components/replaybutton");
          Object.defineProperty(exports, "ReplayButton", {
            enumerable: true,
            get: function () {
              return replaybutton_1.ReplayButton;
            },
          });
          var quickseekbutton_1 = require("./components/quickseekbutton");
          Object.defineProperty(exports, "QuickSeekButton", {
            enumerable: true,
            get: function () {
              return quickseekbutton_1.QuickSeekButton;
            },
          });
          var listselector_1 = require("./components/listselector");
          Object.defineProperty(exports, "ListSelector", {
            enumerable: true,
            get: function () {
              return listselector_1.ListSelector;
            },
          });
          // Object.assign polyfill for ES5/IE9
          // https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
          if (typeof Object.assign !== "function") {
            Object.assign = function (target) {
              "use strict";
              if (target == null) {
                throw new TypeError(
                  "Cannot convert undefined or null to object"
                );
              }
              target = Object(target);
              for (var index = 1; index < arguments.length; index++) {
                var source = arguments[index];
                if (source != null) {
                  for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                      target[key] = source[key];
                    }
                  }
                }
              }
              return target;
            };
          }
        },
        {
          "./arrayutils": 1,
          "./browserutils": 3,
          "./components/adclickoverlay": 4,
          "./components/admessagelabel": 5,
          "./components/adskipbutton": 6,
          "./components/airplaytogglebutton": 7,
          "./components/audioqualityselectbox": 8,
          "./components/audiotracklistbox": 9,
          "./components/audiotrackselectbox": 10,
          "./components/bufferingoverlay": 11,
          "./components/button": 12,
          "./components/caststatusoverlay": 13,
          "./components/casttogglebutton": 14,
          "./components/castuicontainer": 15,
          "./components/clickoverlay": 16,
          "./components/closebutton": 17,
          "./components/component": 18,
          "./components/container": 19,
          "./components/controlbar": 20,
          "./components/errormessageoverlay": 23,
          "./components/fullscreentogglebutton": 24,
          "./components/hugeplaybacktogglebutton": 25,
          "./components/hugereplaybutton": 26,
          "./components/itemselectionlist": 27,
          "./components/label": 28,
          "./components/listbox": 29,
          "./components/listselector": 30,
          "./components/metadatalabel": 31,
          "./components/pictureinpicturetogglebutton": 32,
          "./components/playbackspeedselectbox": 33,
          "./components/playbacktimelabel": 34,
          "./components/playbacktogglebutton": 35,
          "./components/playbacktoggleoverlay": 36,
          "./components/quickseekbutton": 37,
          "./components/recommendationoverlay": 38,
          "./components/replaybutton": 39,
          "./components/seekbar": 40,
          "./components/seekbarlabel": 43,
          "./components/selectbox": 44,
          "./components/settingspanel": 45,
          "./components/settingspanelitem": 46,
          "./components/settingspanelpage": 47,
          "./components/settingspanelpagebackbutton": 48,
          "./components/settingspanelpageopenbutton": 50,
          "./components/settingstogglebutton": 51,
          "./components/spacer": 52,
          "./components/subtitlelistbox": 53,
          "./components/subtitleoverlay": 54,
          "./components/subtitleselectbox": 55,
          "./components/subtitlesettings/backgroundcolorselectbox": 56,
          "./components/subtitlesettings/backgroundopacityselectbox": 57,
          "./components/subtitlesettings/characteredgeselectbox": 59,
          "./components/subtitlesettings/fontcolorselectbox": 60,
          "./components/subtitlesettings/fontfamilyselectbox": 61,
          "./components/subtitlesettings/fontopacityselectbox": 62,
          "./components/subtitlesettings/fontsizeselectbox": 63,
          "./components/subtitlesettings/subtitlesettingselectbox": 65,
          "./components/subtitlesettings/subtitlesettingslabel": 66,
          "./components/subtitlesettings/subtitlesettingspanelpage": 68,
          "./components/subtitlesettings/subtitlesettingsresetbutton": 69,
          "./components/subtitlesettings/windowcolorselectbox": 70,
          "./components/subtitlesettings/windowopacityselectbox": 71,
          "./components/titlebar": 73,
          "./components/togglebutton": 74,
          "./components/uicontainer": 76,
          "./components/videoqualityselectbox": 77,
          "./components/volumecontrolbutton": 78,
          "./components/volumeslider": 79,
          "./components/volumetogglebutton": 80,
          "./components/vrtogglebutton": 81,
          "./components/watermark": 82,
          "./demofactory": 83,
          "./errorutils": 85,
          "./localization/i18n": 91,
          "./playerutils": 98,
          "./spatialnavigation/ListNavigationGroup": 99,
          "./spatialnavigation/navigationgroup": 103,
          "./spatialnavigation/rootnavigationgroup": 105,
          "./spatialnavigation/spatialnavigation": 107,
          "./storageutils": 110,
          "./stringutils": 111,
          "./uiconfig": 114,
          "./uifactory": 115,
          "./uimanager": 116,
          "./uiutils": 117,
        },
      ],
      97: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.MobileV3PlayerEvent = void 0;
          exports.isMobileV3PlayerAPI = isMobileV3PlayerAPI;
          var MobileV3PlayerEvent;
          (function (MobileV3PlayerEvent) {
            MobileV3PlayerEvent["SourceError"] = "sourceerror";
            MobileV3PlayerEvent["PlayerError"] = "playererror";
            MobileV3PlayerEvent["PlaylistTransition"] = "playlisttransition";
          })(
            MobileV3PlayerEvent ||
              (exports.MobileV3PlayerEvent = MobileV3PlayerEvent = {})
          );
          function isMobileV3PlayerAPI(player) {
            for (var key in MobileV3PlayerEvent) {
              if (
                MobileV3PlayerEvent.hasOwnProperty(key) &&
                !player.exports.PlayerEvent.hasOwnProperty(key)
              ) {
                return false;
              }
            }
            return true;
          }
        },
        {},
      ],
      98: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.PlayerUtils = void 0;
          var eventdispatcher_1 = require("./eventdispatcher");
          var browserutils_1 = require("./browserutils");
          /**
           * @category Utils
           */
          var PlayerUtils;
          (function (PlayerUtils) {
            var PlayerState;
            (function (PlayerState) {
              PlayerState[(PlayerState["Idle"] = 0)] = "Idle";
              PlayerState[(PlayerState["Prepared"] = 1)] = "Prepared";
              PlayerState[(PlayerState["Playing"] = 2)] = "Playing";
              PlayerState[(PlayerState["Paused"] = 3)] = "Paused";
              PlayerState[(PlayerState["Finished"] = 4)] = "Finished";
            })(
              (PlayerState =
                PlayerUtils.PlayerState || (PlayerUtils.PlayerState = {}))
            );
            function isTimeShiftAvailable(player) {
              return player.isLive() && player.getMaxTimeShift() !== 0;
            }
            PlayerUtils.isTimeShiftAvailable = isTimeShiftAvailable;
            function getState(player) {
              if (player.hasEnded()) {
                return PlayerState.Finished;
              } else if (player.isPlaying()) {
                return PlayerState.Playing;
              } else if (player.isPaused()) {
                return PlayerState.Paused;
              } else if (player.getSource() != null) {
                return PlayerState.Prepared;
              } else {
                return PlayerState.Idle;
              }
            }
            PlayerUtils.getState = getState;
            /**
             * Returns the currentTime - seekableRange.start. This ensures a user-friendly currentTime after a live stream
             * transitioned to VoD.
             * @param player
             */
            function getCurrentTimeRelativeToSeekableRange(player) {
              var currentTime = player.getCurrentTime();
              if (player.isLive()) {
                return currentTime;
              }
              var seekableRangeStart = PlayerUtils.getSeekableRangeStart(
                player,
                0
              );
              return currentTime - seekableRangeStart;
            }
            PlayerUtils.getCurrentTimeRelativeToSeekableRange =
              getCurrentTimeRelativeToSeekableRange;
            /**
             * Returns the start value of the seekable range or the defaultValue if no seekableRange is present.
             * For now this happens only in combination with Mobile SDKs.
             *
             * TODO: remove this function in next major release
             *
             * @param player
             * @param defaultValue
             */
            function getSeekableRangeStart(player, defaultValue) {
              if (defaultValue === void 0) {
                defaultValue = 0;
              }
              return (
                (player.getSeekableRange() &&
                  player.getSeekableRange().start) ||
                defaultValue
              );
            }
            PlayerUtils.getSeekableRangeStart = getSeekableRangeStart;
            /**
             * Calculates player seekable time range for live.
             * As the player returns `{ start: -1, end: -1 }` for live streams we need to calculate the `seekableRange` based on `maxTimeshift`.
             *
             * @param player
             */
            function getSeekableRangeRespectingLive(player) {
              if (!player.isLive()) {
                return player.getSeekableRange();
              }
              var currentTimeshift = -player.getTimeShift();
              var maxTimeshift = -player.getMaxTimeShift();
              var currentTime = player.getCurrentTime();
              var end = currentTime + currentTimeshift;
              var start = currentTime - (maxTimeshift - currentTimeshift);
              return { start: start, end: end };
            }
            PlayerUtils.getSeekableRangeRespectingLive =
              getSeekableRangeRespectingLive;
            var TimeShiftAvailabilityDetector = /** @class */ (function () {
              function TimeShiftAvailabilityDetector(player) {
                var _this = this;
                this.timeShiftAvailabilityChangedEvent =
                  new eventdispatcher_1.EventDispatcher();
                this.player = player;
                this.timeShiftAvailable = undefined;
                var timeShiftDetector = function () {
                  _this.detect();
                };
                // Try to detect timeshift availability when source is loaded, which works for DASH streams
                player.on(
                  player.exports.PlayerEvent.SourceLoaded,
                  timeShiftDetector
                );
                // With HLS/NativePlayer streams, getMaxTimeShift can be 0 before the buffer fills, so we need to additionally
                // check timeshift availability in TimeChanged
                player.on(
                  player.exports.PlayerEvent.TimeChanged,
                  timeShiftDetector
                );
              }
              TimeShiftAvailabilityDetector.prototype.detect = function () {
                if (this.player.isLive()) {
                  var timeShiftAvailableNow = PlayerUtils.isTimeShiftAvailable(
                    this.player
                  );
                  // When the availability changes, we fire the event
                  if (timeShiftAvailableNow !== this.timeShiftAvailable) {
                    this.timeShiftAvailabilityChangedEvent.dispatch(
                      this.player,
                      { timeShiftAvailable: timeShiftAvailableNow }
                    );
                    this.timeShiftAvailable = timeShiftAvailableNow;
                  }
                }
              };
              Object.defineProperty(
                TimeShiftAvailabilityDetector.prototype,
                "onTimeShiftAvailabilityChanged",
                {
                  get: function () {
                    return this.timeShiftAvailabilityChangedEvent.getEvent();
                  },
                  enumerable: false,
                  configurable: true,
                }
              );
              return TimeShiftAvailabilityDetector;
            })();
            PlayerUtils.TimeShiftAvailabilityDetector =
              TimeShiftAvailabilityDetector;
            /**
             * Detects changes of the stream type, i.e. changes of the return value of the player#isLive method.
             * Normally, a stream cannot change its type during playback, it's either VOD or live. Due to bugs on some
             * platforms or browsers, it can still change. It is therefore unreliable to just check #isLive and this detector
             * should be used as a workaround instead.
             *
             * Additionally starting with player v8.19.0 we have the use-case that a live stream changes into a vod.
             * The DurationChanged event indicates this switch.
             *
             * Known cases:
             *
             * - HLS VOD on Android 4.3
             * Video duration is initially 'Infinity' and only gets available after playback starts, so streams are wrongly
             * reported as 'live' before playback (the live-check in the player checks for infinite duration).
             *
             * @deprecated since UI v3.9.0 in combination with player v8.19.0 use PlayerEvent.DurationChanged instead
             *
             * TODO: remove this class in next major release
             */
            var LiveStreamDetector = /** @class */ (function () {
              function LiveStreamDetector(player, uimanager) {
                var _this = this;
                this.liveChangedEvent = new eventdispatcher_1.EventDispatcher();
                this.player = player;
                this.uimanager = uimanager;
                this.live = undefined;
                var liveDetector = function () {
                  _this.detect();
                };
                this.uimanager
                  .getConfig()
                  .events.onUpdated.subscribe(liveDetector);
                // Re-evaluate when playback starts
                player.on(player.exports.PlayerEvent.Play, liveDetector);
                // HLS live detection workaround for Android:
                // Also re-evaluate during playback, because that is when the live flag might change.
                // (Doing it only in Android Chrome saves unnecessary overhead on other platforms)
                if (
                  browserutils_1.BrowserUtils.isAndroid &&
                  browserutils_1.BrowserUtils.isChrome
                ) {
                  player.on(
                    player.exports.PlayerEvent.TimeChanged,
                    liveDetector
                  );
                }
                // DurationChanged event was introduced with player v8.19.0
                if (player.exports.PlayerEvent.DurationChanged) {
                  player.on(
                    player.exports.PlayerEvent.DurationChanged,
                    liveDetector
                  );
                }
                // Ad video's isLive() might be different than the actual video's isLive().
                player.on(
                  player.exports.PlayerEvent.AdBreakStarted,
                  liveDetector
                );
                player.on(
                  player.exports.PlayerEvent.AdBreakFinished,
                  liveDetector
                );
              }
              LiveStreamDetector.prototype.detect = function () {
                var liveNow = this.player.isLive();
                // Compare current to previous live state flag and fire event when it changes. Since we initialize the flag
                // with undefined, there is always at least an initial event fired that tells listeners the live state.
                if (liveNow !== this.live) {
                  this.liveChangedEvent.dispatch(this.player, {
                    live: liveNow,
                  });
                  this.live = liveNow;
                }
              };
              Object.defineProperty(
                LiveStreamDetector.prototype,
                "onLiveChanged",
                {
                  get: function () {
                    return this.liveChangedEvent.getEvent();
                  },
                  enumerable: false,
                  configurable: true,
                }
              );
              return LiveStreamDetector;
            })();
            PlayerUtils.LiveStreamDetector = LiveStreamDetector;
            function clampValueToRange(value, boundary1, boundary2) {
              var lowerBoundary = Math.min(boundary1, boundary2);
              var upperBoundary = Math.max(boundary1, boundary2);
              return Math.min(Math.max(value, lowerBoundary), upperBoundary);
            }
            PlayerUtils.clampValueToRange = clampValueToRange;
          })(PlayerUtils || (exports.PlayerUtils = PlayerUtils = {}));
        },
        { "./browserutils": 3, "./eventdispatcher": 86 },
      ],
      99: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          var __spreadArray =
            (this && this.__spreadArray) ||
            function (to, from, pack) {
              if (pack || arguments.length === 2)
                for (var i = 0, l = from.length, ar; i < l; i++) {
                  if (ar || !(i in from)) {
                    if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                    ar[i] = from[i];
                  }
                }
              return to.concat(ar || Array.prototype.slice.call(from));
            };
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.ListNavigationGroup = exports.ListOrientation = void 0;
          var navigationgroup_1 = require("./navigationgroup");
          var types_1 = require("./types");
          var ListOrientation;
          (function (ListOrientation) {
            ListOrientation["Horizontal"] = "horizontal";
            ListOrientation["Vertical"] = "vertical";
          })(
            ListOrientation || (exports.ListOrientation = ListOrientation = {})
          );
          /**
           * @category Components
           */
          var ListNavigationGroup = /** @class */ (function (_super) {
            __extends(ListNavigationGroup, _super);
            function ListNavigationGroup(orientation, container) {
              var components = [];
              for (var _i = 2; _i < arguments.length; _i++) {
                components[_i - 2] = arguments[_i];
              }
              var _this =
                _super.apply(
                  this,
                  __spreadArray([container], components, false)
                ) || this;
              switch (orientation) {
                case ListOrientation.Vertical:
                  _this.listNavigationDirections = [
                    types_1.Direction.UP,
                    types_1.Direction.DOWN,
                  ];
                  break;
                case ListOrientation.Horizontal:
                  _this.listNavigationDirections = [
                    types_1.Direction.LEFT,
                    types_1.Direction.RIGHT,
                  ];
                  break;
              }
              return _this;
            }
            ListNavigationGroup.prototype.handleAction = function (action) {
              _super.prototype.handleAction.call(this, action);
              if (action === types_1.Action.SELECT) {
                // close the container when a list entry is selected
                this.handleAction(types_1.Action.BACK);
              }
            };
            ListNavigationGroup.prototype.handleNavigation = function (
              direction
            ) {
              _super.prototype.handleNavigation.call(this, direction);
              if (!this.listNavigationDirections.includes(direction)) {
                // close the container on navigation inputs that don't align
                // with the orientation of the list
                this.handleAction(types_1.Action.BACK);
              }
            };
            return ListNavigationGroup;
          })(navigationgroup_1.NavigationGroup);
          exports.ListNavigationGroup = ListNavigationGroup;
        },
        { "./navigationgroup": 103, "./types": 109 },
      ],
      100: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.getHtmlElementsFromComponents = getHtmlElementsFromComponents;
          var container_1 = require("../components/container");
          var typeguards_1 = require("./typeguards");
          /**
           * Recursively resolves a container and the components contained within them, building a flat list of components.
           *
           * @param container The container to get the contained components from
           */
          function resolveAllComponents(container) {
            var childComponents = [];
            container.getComponents().forEach(function (containerOrComponent) {
              if ((0, typeguards_1.isContainer)(containerOrComponent)) {
                childComponents.push.apply(
                  childComponents,
                  resolveAllComponents(containerOrComponent)
                );
              } else if ((0, typeguards_1.isComponent)(containerOrComponent)) {
                childComponents.push(containerOrComponent);
              }
            });
            return childComponents;
          }
          /**
           * Returns the HTML elements associated to the provided component.
           *
           * @param component The component to get the HTML elements from
           */
          function toHtmlElement(component) {
            if ((0, typeguards_1.isListBox)(component)) {
              return [].slice.call(component.getDomElement().get()[0].children);
            } else {
              return component.getDomElement().get().slice(0, 1);
            }
          }
          /**
           * Takes the provided list of components and flat-maps them to a list of their respective HTML elements. In case a
           * provided component is a container, the children of that container will be resolved recursively. Ignores components
           * that are hidden.
           *
           * @param components The components to map to HTML elements
           */
          function getHtmlElementsFromComponents(components) {
            var htmlElements = [];
            components
              .filter(function (component) {
                return !component.isHidden();
              })
              .forEach(function (component) {
                var elementsToConsider =
                  component instanceof container_1.Container
                    ? resolveAllComponents(component)
                    : [component];
                elementsToConsider.forEach(function (component) {
                  htmlElements.push.apply(
                    htmlElements,
                    toHtmlElement(component)
                  );
                });
              });
            return htmlElements;
          }
        },
        { "../components/container": 19, "./typeguards": 108 },
      ],
      101: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.getKeyMapForPlatform = getKeyMapForPlatform;
          var types_1 = require("./types");
          var browserutils_1 = require("../browserutils");
          var TizenKeyMap = {
            isApplicable: function () {
              return browserutils_1.BrowserUtils.isTizen;
            },
            keyCodes: {
              // D-pad Up
              38: types_1.Direction.UP,
              // D-pad Down
              40: types_1.Direction.DOWN,
              // D-pad Left
              37: types_1.Direction.LEFT,
              // D-pad Right
              39: types_1.Direction.RIGHT,
              // D-pad OK
              13: types_1.Action.SELECT,
              // Back
              10009: types_1.Action.BACK,
            },
          };
          var WebOsKeyMap = {
            isApplicable: function () {
              return browserutils_1.BrowserUtils.isWebOs;
            },
            keyCodes: {
              // D-pad Up
              38: types_1.Direction.UP,
              // D-pad Down
              40: types_1.Direction.DOWN,
              // D-pad Left
              37: types_1.Direction.LEFT,
              // D-pad Right
              39: types_1.Direction.RIGHT,
              // D-pad OK
              13: types_1.Action.SELECT,
              // Back
              461: types_1.Action.BACK,
            },
          };
          var PlayStationKeyMap = {
            isApplicable: function () {
              return browserutils_1.BrowserUtils.isPlayStation;
            },
            keyCodes: {
              // D-pad Up
              38: types_1.Direction.UP,
              // D-pad Down
              40: types_1.Direction.DOWN,
              // D-pad Left
              37: types_1.Direction.LEFT,
              // D-pad Right
              39: types_1.Direction.RIGHT,
              // Cross
              13: types_1.Action.SELECT,
              // Circle
              27: types_1.Action.BACK,
            },
          };
          var AndroidKeyMap = {
            isApplicable: function () {
              return browserutils_1.BrowserUtils.isAndroid;
            },
            keyCodes: {
              // D-pad Up
              38: types_1.Direction.UP,
              // D-pad Down
              40: types_1.Direction.DOWN,
              // D-pad Left
              37: types_1.Direction.LEFT,
              // D-pad Right
              39: types_1.Direction.RIGHT,
              // D-pad OK
              13: types_1.Action.SELECT,
              // Back
              27: types_1.Action.BACK,
            },
          };
          var HisenseKeyMap = {
            isApplicable: function () {
              return browserutils_1.BrowserUtils.isHisense;
            },
            keyCodes: {
              // D-pad Up
              38: types_1.Direction.UP,
              // D-pad Down
              40: types_1.Direction.DOWN,
              // D-pad Left
              37: types_1.Direction.LEFT,
              // D-pad Right
              39: types_1.Direction.RIGHT,
              // OK
              13: types_1.Action.SELECT,
              // Back
              8: types_1.Action.BACK,
            },
          };
          // Default key map used on desktops
          var DefaultKeyMap = {
            // Arrow Up
            38: types_1.Direction.UP,
            // Arrow Down
            40: types_1.Direction.DOWN,
            // Arrow Left
            37: types_1.Direction.LEFT,
            // Arrow Right
            39: types_1.Direction.RIGHT,
            // Enter
            13: types_1.Action.SELECT,
            // Escape
            27: types_1.Action.BACK,
          };
          /**
           * Returns the matching key map for the current platform.
           */
          function getKeyMapForPlatform() {
            var applicableKeyMap = [
              WebOsKeyMap,
              TizenKeyMap,
              PlayStationKeyMap,
              HisenseKeyMap,
              AndroidKeyMap,
            ].find(function (keyMap) {
              return keyMap.isApplicable();
            });
            if (applicableKeyMap) {
              return applicableKeyMap.keyCodes;
            } else {
              return DefaultKeyMap;
            }
          }
        },
        { "../browserutils": 3, "./types": 109 },
      ],
      102: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.getElementInDirection = getElementInDirection;
          exports.getBoundingRectFromElement = getBoundingRectFromElement;
          var types_1 = require("./types");
          /**
           * Calculates the length of a vector.
           *
           * @param vector The vector to calculate the length of
           */
          function length(vector) {
            return Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2));
          }
          /**
           * Normalizes the given vector.
           *
           * @param vector The vector to normalize
           */
          function normalize(vector) {
            var len = length(vector);
            return {
              x: vector.x / len,
              y: vector.y / len,
            };
          }
          /**
           * Calculates the dot product between 2 vectors.
           *
           * @param a The first vector
           * @param b The second vector
           */
          function dotProduct(a, b) {
            return a.x * b.x + a.y * b.y;
          }
          /**
           * Calculates the distance between the 2 points pointed to by the provided vectors.
           *
           * @param a The first vector
           * @param b The second vector
           */
          function distance(a, b) {
            return length({
              x: b.x - a.x,
              y: b.y - a.y,
            });
          }
          /**
           * Returns a vector that corresponds to the center of the provided element.
           *
           * @param element The element to get the center of
           */
          function getElementVector(element) {
            var boundingRect = getBoundingRectFromElement(element);
            return {
              x: boundingRect.x + boundingRect.width / 2,
              y: boundingRect.y + boundingRect.height / 2,
            };
          }
          /**
           * Returns the angle in degrees between the unit vector pointing in the given {Direction} and the unit vector that
           * points from the current element to another element.
           *
           * @param a The vector of the current element
           * @param b The vector of the other element
           * @param direction The direction to move along
           */
          function calculateAngle(a, b, direction) {
            var directionVector = {
              x:
                direction === types_1.Direction.LEFT
                  ? -1
                  : direction === types_1.Direction.RIGHT
                  ? 1
                  : 0,
              y:
                direction === types_1.Direction.UP
                  ? -1
                  : direction === types_1.Direction.DOWN
                  ? 1
                  : 0,
            };
            var elementVector = normalize({
              x: b.x - a.x,
              y: b.y - a.y,
            });
            var angleCos =
              dotProduct(directionVector, elementVector) /
              (length(directionVector) * length(elementVector));
            return (Math.acos(angleCos) * 180) / Math.PI;
          }
          /**
           * Returns the closest element to the current element when trying to navigate in the provided direction. Returns
           * undefined, if there is not element in the given direction.
           *
           * @param activeElement The currently selected element
           * @param elements The list of all elements that can be navigated to
           * @param direction The direction in which to navigate
           */
          function getElementInDirection(activeElement, elements, direction) {
            var _a;
            if (!activeElement) return undefined;
            var cutoffAngle = 45;
            var activeElemVector = getElementVector(activeElement);
            return (_a = elements
              // don't take the current element into account
              .filter(function (elem) {
                return elem !== activeElement;
              })
              // get the angle between, and distance to any other element from the current element
              .map(function (element) {
                var elementVector = getElementVector(element);
                var dist = distance(activeElemVector, elementVector);
                var angle = calculateAngle(
                  activeElemVector,
                  elementVector,
                  direction
                );
                return { angle: angle, dist: dist, element: element };
              })
              // filter out any elements that don't align with the direction we're trying to move in
              .filter(function (_a) {
                var angle = _a.angle;
                return angle <= cutoffAngle;
              })
              // sort the resulting elements based on their distance to the current element in ascending order
              .sort(function (_a, _b) {
                var angleA = _a.angle,
                  distA = _a.dist;
                var angleB = _b.angle,
                  distB = _b.dist;
                return angleA - angleB + (distA - distB);
              })
              // return the element closest to the current element
              .shift()) === null || _a === void 0
              ? void 0
              : _a.element;
          }
          /**
           * Returns DOMRect like object containing horizontal X and vertical Y coordinates from and HTMLElement.
           * Handles use-cases for getBoundingClientRect when the return type can be either
           * a ClientRect or DOMRect object type.
           *
           * @param element The currently selected element
           */
          function getBoundingRectFromElement(element) {
            var boundingRect = element.getBoundingClientRect();
            if (
              typeof boundingRect.x !== "number" &&
              typeof boundingRect.y !== "number"
            ) {
              boundingRect.x = boundingRect.left;
              boundingRect.y = boundingRect.top;
            }
            return boundingRect;
          }
        },
        { "./types": 109 },
      ],
      103: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.NavigationGroup = void 0;
          var navigationalgorithm_1 = require("./navigationalgorithm");
          var gethtmlelementsfromcomponents_1 = require("./gethtmlelementsfromcomponents");
          var nodeeventsubscriber_1 = require("./nodeeventsubscriber");
          var typeguards_1 = require("./typeguards");
          var types_1 = require("./types");
          /**
           * Used as part of spatial navigation. Groups together different components to which you can navigate to, in a single
           * navigation group.
           *
           * Responsible for finding elements in direction on navigation and for tracking active element inside the group.
           * Triggers blur and focus on element when active element is changed, as well as click on element on `Action.SELECT`.
           * Will call `hideUi()` on passed in container if `Action.BACK` is called.
           *
           * @category Components
           */
          var NavigationGroup = /** @class */ (function () {
            function NavigationGroup(container) {
              var components = [];
              for (var _i = 1; _i < arguments.length; _i++) {
                components[_i - 1] = arguments[_i];
              }
              this.container = container;
              this.removeElementHoverEventListeners = function () {};
              this.components = components;
              this.eventSubscriber =
                new nodeeventsubscriber_1.NodeEventSubscriber();
            }
            /**
             * Returns the active HTMLElement.
             */
            NavigationGroup.prototype.getActiveElement = function () {
              return this.activeElement;
            };
            NavigationGroup.prototype.focusElement = function (element) {
              this.blurActiveElement();
              this.activeElement = element;
              this.activeElement.focus();
            };
            NavigationGroup.prototype.blurActiveElement = function () {
              var _a;
              (_a = this.activeElement) === null || _a === void 0
                ? void 0
                : _a.blur();
            };
            NavigationGroup.prototype.focusFirstElement = function () {
              var element = (0,
              gethtmlelementsfromcomponents_1.getHtmlElementsFromComponents)(
                this.components
              )[0];
              if (element) {
                this.focusElement(element);
              }
            };
            NavigationGroup.prototype.defaultNavigationHandler = function (
              direction
            ) {
              var targetElement = (0,
              navigationalgorithm_1.getElementInDirection)(
                this.activeElement,
                (0,
                gethtmlelementsfromcomponents_1.getHtmlElementsFromComponents)(
                  this.components
                ),
                direction
              );
              if (targetElement) {
                this.focusElement(targetElement);
              }
            };
            NavigationGroup.prototype.defaultActionHandler = function (action) {
              switch (action) {
                case types_1.Action.SELECT:
                  this.activeElement.click();
                  break;
                case types_1.Action.BACK:
                  this.container.hide();
                  break;
              }
            };
            NavigationGroup.prototype.handleInput = function (
              data,
              defaultHandler,
              userHandler
            ) {
              var handleDefault = true;
              var preventDefault = function () {
                return (handleDefault = false);
              };
              userHandler === null || userHandler === void 0
                ? void 0
                : userHandler(data, this.activeElement, preventDefault);
              if (handleDefault) {
                defaultHandler.call(this, data);
              }
            };
            /**
             * Handles a navigation event.
             *
             * @param direction The direction of the navigation event
             */
            NavigationGroup.prototype.handleNavigation = function (direction) {
              if (!this.activeElement) {
                // If we do not have an active element, the active element has been disabled by a mouseleave
                // event. We should continue the navigation at the exact place where we left off.
                if (this.activeElementBeforeDisable) {
                  this.focusElement(this.activeElementBeforeDisable);
                } else {
                  this.focusFirstElement();
                }
                return;
              }
              // eslint-disable-next-line @typescript-eslint/unbound-method
              this.handleInput(
                direction,
                this.defaultNavigationHandler,
                this.onNavigation
              );
            };
            /**
             * Handles an action event.
             *
             * @param action The action of the event
             */
            NavigationGroup.prototype.handleAction = function (action) {
              // eslint-disable-next-line @typescript-eslint/unbound-method
              this.handleInput(
                action,
                this.defaultActionHandler,
                this.onAction
              );
            };
            /**
             * Disable navigation group
             *
             * Call blur on active element, set as undefined, and track it as element before disable.
             */
            NavigationGroup.prototype.disable = function () {
              if (this.activeElement) {
                this.activeElementBeforeDisable = this.activeElement;
                this.blurActiveElement();
                this.activeElement = undefined;
              }
            };
            /**
             * Enable navigation group
             *
             * Sets active element to either element that was active before disable, or first element of tracked elements.
             * If it is settings panel, it will always focus first element in the list.
             */
            NavigationGroup.prototype.enable = function () {
              if (
                this.activeElementBeforeDisable &&
                !(0, typeguards_1.isSettingsPanel)(this.container)
              ) {
                this.focusElement(this.activeElementBeforeDisable);
                this.activeElementBeforeDisable = undefined;
              } else {
                this.focusFirstElement();
              }
              this.trackElementHover();
            };
            /**
             * Adds event listener for `mouseenter` on tracked elements to ensure tracking of active element will work together
             * in combination of using mouse and key events.
             */
            NavigationGroup.prototype.trackElementHover = function () {
              var _this = this;
              this.removeElementHoverEventListeners();
              var removeEventListenerFunctions = (0,
              gethtmlelementsfromcomponents_1.getHtmlElementsFromComponents)(
                this.components
              ).map(function (htmlElem) {
                var enterListener = _this.focusElement.bind(_this, htmlElem);
                var exitListener = function () {
                  return _this.disable();
                };
                _this.eventSubscriber.on(htmlElem, "mouseenter", enterListener);
                _this.eventSubscriber.on(htmlElem, "mouseleave", exitListener);
                return function () {
                  _this.eventSubscriber.off(
                    htmlElem,
                    "mouseenter",
                    enterListener
                  );
                  _this.eventSubscriber.off(
                    htmlElem,
                    "mouseleave",
                    exitListener
                  );
                };
              });
              this.removeElementHoverEventListeners = function () {
                return removeEventListenerFunctions.forEach(function (fn) {
                  return fn();
                });
              };
            };
            /**
             * Dispose of navigation group
             */
            NavigationGroup.prototype.release = function () {
              this.eventSubscriber.release();
              this.activeElement = undefined;
              this.components.splice(0, this.components.length);
              this.removeElementHoverEventListeners();
            };
            return NavigationGroup;
          })();
          exports.NavigationGroup = NavigationGroup;
        },
        {
          "./gethtmlelementsfromcomponents": 100,
          "./navigationalgorithm": 102,
          "./nodeeventsubscriber": 104,
          "./typeguards": 108,
          "./types": 109,
        },
      ],
      104: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.NodeEventSubscriber = void 0;
          /**
           * Allows to subscribe to Node events.
           */
          var NodeEventSubscriber = /** @class */ (function () {
            function NodeEventSubscriber() {
              this.attachedListeners = new Map();
            }
            NodeEventSubscriber.prototype.getEventListenersOfType = function (
              type
            ) {
              if (!this.attachedListeners.has(type)) {
                this.attachedListeners.set(type, []);
              }
              return this.attachedListeners.get(type);
            };
            /**
             * Adds the given event listener to the node.
             *
             * @param node The node to remove the event listener from
             * @param type The event to listen to
             * @param listener The listener to remove
             * @param options The event listener options
             */
            NodeEventSubscriber.prototype.on = function (
              node,
              type,
              listener,
              options
            ) {
              node.addEventListener(type, listener, options);
              this.getEventListenersOfType(type).push([
                node,
                listener,
                options,
              ]);
            };
            /**
             * Removes the given event listener from the node.
             *
             * @param node The node to attach the event listener to
             * @param type The event to listen to
             * @param listener The listener to add
             * @param options The event listener options
             */
            NodeEventSubscriber.prototype.off = function (
              node,
              type,
              listener,
              options
            ) {
              var listenersOfType = this.getEventListenersOfType(type);
              var listenerIndex = listenersOfType.findIndex(function (_a) {
                var otherNode = _a[0],
                  otherListener = _a[1],
                  otherOptions = _a[2];
                return (
                  otherNode === node &&
                  otherListener === listener &&
                  otherOptions === options
                );
              });
              node.removeEventListener(type, listener, options);
              if (listenerIndex > -1) {
                listenersOfType.splice(listenerIndex, 1);
              }
            };
            /**
             * Removes all attached event listeners.
             */
            NodeEventSubscriber.prototype.release = function () {
              var _this = this;
              this.attachedListeners.forEach(function (listenersOfType, type) {
                listenersOfType.forEach(function (_a) {
                  var element = _a[0],
                    listener = _a[1],
                    options = _a[2];
                  _this.off(element, type, listener, options);
                });
              });
              this.attachedListeners.clear();
            };
            return NodeEventSubscriber;
          })();
          exports.NodeEventSubscriber = NodeEventSubscriber;
        },
        {},
      ],
      105: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          var __spreadArray =
            (this && this.__spreadArray) ||
            function (to, from, pack) {
              if (pack || arguments.length === 2)
                for (var i = 0, l = from.length, ar; i < l; i++) {
                  if (ar || !(i in from)) {
                    if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                    ar[i] = from[i];
                  }
                }
              return to.concat(ar || Array.prototype.slice.call(from));
            };
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.RootNavigationGroup = void 0;
          var navigationgroup_1 = require("./navigationgroup");
          var types_1 = require("./types");
          /**
           * Extends NavigationGroup and provides additional logic for hiding and showing the UI on the root container.
           *
           * @category Components
           */
          var RootNavigationGroup = /** @class */ (function (_super) {
            __extends(RootNavigationGroup, _super);
            function RootNavigationGroup(container) {
              var elements = [];
              for (var _i = 1; _i < arguments.length; _i++) {
                elements[_i - 1] = arguments[_i];
              }
              var _this =
                _super.apply(
                  this,
                  __spreadArray([container], elements, false)
                ) || this;
              _this.container = container;
              return _this;
            }
            RootNavigationGroup.prototype.handleAction = function (action) {
              this.container.showUi();
              _super.prototype.handleAction.call(this, action);
            };
            RootNavigationGroup.prototype.handleNavigation = function (
              direction
            ) {
              this.container.showUi();
              _super.prototype.handleNavigation.call(this, direction);
            };
            RootNavigationGroup.prototype.defaultActionHandler = function (
              action
            ) {
              if (action === types_1.Action.BACK) {
                this.container.hideUi();
              } else {
                _super.prototype.defaultActionHandler.call(this, action);
              }
            };
            RootNavigationGroup.prototype.release = function () {
              _super.prototype.release.call(this);
            };
            return RootNavigationGroup;
          })(navigationgroup_1.NavigationGroup);
          exports.RootNavigationGroup = RootNavigationGroup;
        },
        { "./navigationgroup": 103, "./types": 109 },
      ],
      106: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SeekBarHandler = void 0;
          var nodeeventsubscriber_1 = require("./nodeeventsubscriber");
          var types_1 = require("./types");
          var navigationalgorithm_1 = require("./navigationalgorithm");
          var DefaultScrubSpeedPercentage = 0.005;
          var ScrubSpeedClearInterval = 100;
          var ScrubSpeedMultiplier = 1.1;
          /**
           * Handles Spatial Navigation interaction with the seek bar. Ensures, that seek operations can be executed and that the
           * scrubbing tooltip is shown as if the user scrubbed using the mouse/touchscreen.
           */
          var SeekBarHandler = /** @class */ (function () {
            function SeekBarHandler(rootNavigationGroup) {
              var _this = this;
              this.rootNavigationGroup = rootNavigationGroup;
              this.cursorPosition = { x: 0, y: 0 };
              this.isScrubbing = false;
              this.scrubSpeedPercentage = DefaultScrubSpeedPercentage;
              this.onNavigation = function (direction, target, preventDefault) {
                if (!isSeekBarWrapper(target)) {
                  return;
                }
                if (
                  direction === types_1.Direction.UP ||
                  direction === types_1.Direction.DOWN
                ) {
                  _this.stopSeeking(getSeekBar(target));
                  return;
                }
                _this.initializeOrUpdateCursorPosition(target, direction);
                _this.dispatchMouseMoveEvent(getSeekBar(target));
                preventDefault();
              };
              this.onAction = function (action, target, preventDefault) {
                if (!isSeekBarWrapper(target)) {
                  return;
                }
                var seekBar = getSeekBar(target);
                if (action === types_1.Action.SELECT && _this.isScrubbing) {
                  _this.dispatchMouseClickEvent(seekBar);
                  preventDefault();
                } else if (action === types_1.Action.BACK) {
                  _this.stopSeeking(seekBar);
                  preventDefault();
                }
              };
              this.rootNavigationGroup.onAction = this.onAction;
              this.eventSubscriber =
                new nodeeventsubscriber_1.NodeEventSubscriber();
              this.rootNavigationGroup.onNavigation = this.onNavigation;
            }
            SeekBarHandler.prototype.updateScrubSpeedPercentage = function () {
              var _this = this;
              clearTimeout(this.scrubSpeedResetTimeout);
              this.scrubSpeedPercentage *= ScrubSpeedMultiplier;
              this.scrubSpeedResetTimeout = window.setTimeout(function () {
                return (_this.scrubSpeedPercentage =
                  DefaultScrubSpeedPercentage);
              }, ScrubSpeedClearInterval);
            };
            SeekBarHandler.prototype.getIncrement = function (
              direction,
              seekBarWrapper
            ) {
              this.updateScrubSpeedPercentage();
              var seekBarWidth = seekBarWrapper.getBoundingClientRect().width;
              var increment = seekBarWidth * this.scrubSpeedPercentage;
              return direction === types_1.Direction.RIGHT
                ? increment
                : -increment;
            };
            SeekBarHandler.prototype.resetCursorPosition = function () {
              this.cursorPosition.x = 0;
              this.cursorPosition.y = 0;
            };
            SeekBarHandler.prototype.updateCursorPosition = function (
              direction,
              seekBarWrapper
            ) {
              this.cursorPosition.x += this.getIncrement(
                direction,
                seekBarWrapper
              );
            };
            SeekBarHandler.prototype.initializeCursorPosition = function (
              seekBarWrapper
            ) {
              var playbackPositionMarker =
                getPlaybackPositionMarker(seekBarWrapper);
              var rect = (0, navigationalgorithm_1.getBoundingRectFromElement)(
                playbackPositionMarker
              );
              var startX = rect.x + rect.width / 2;
              var startY = rect.y;
              this.cursorPosition.x = startX;
              this.cursorPosition.y = startY;
            };
            SeekBarHandler.prototype.initializeOrUpdateCursorPosition =
              function (seekBarWrapper, direction) {
                if (this.isScrubbing) {
                  this.updateCursorPosition(direction, seekBarWrapper);
                } else {
                  this.initializeCursorPosition(seekBarWrapper);
                }
                this.isScrubbing = true;
              };
            SeekBarHandler.prototype.getCursorPositionMouseEventInit =
              function () {
                return {
                  clientX: this.cursorPosition.x,
                  clientY: this.cursorPosition.y,
                };
              };
            SeekBarHandler.prototype.dispatchMouseMoveEvent = function (
              seekBar
            ) {
              seekBar.dispatchEvent(
                new MouseEvent(
                  "mousemove",
                  this.getCursorPositionMouseEventInit()
                )
              );
            };
            SeekBarHandler.prototype.dispatchMouseClickEvent = function (
              seekBar
            ) {
              var _this = this;
              var mouseDownHandler = function () {
                var mouseEventInit = _this.getCursorPositionMouseEventInit();
                document.dispatchEvent(
                  new MouseEvent("mouseup", mouseEventInit)
                );
                _this.eventSubscriber.off(
                  seekBar,
                  "mousedown",
                  mouseDownHandler
                );
                _this.stopSeeking(seekBar);
              };
              this.eventSubscriber.on(seekBar, "mousedown", mouseDownHandler);
              seekBar.dispatchEvent(new MouseEvent("mousedown"));
            };
            SeekBarHandler.prototype.stopSeeking = function (seekBar) {
              this.resetCursorPosition();
              this.isScrubbing = false;
              this.dispatchMouseLeaveEvent(seekBar);
            };
            SeekBarHandler.prototype.dispatchMouseLeaveEvent = function (
              seekBar
            ) {
              seekBar.dispatchEvent(new MouseEvent("mouseleave"));
            };
            /**
             * Releases the SeekBraHandler, making sure all event subscribers are removed.
             */
            SeekBarHandler.prototype.release = function () {
              this.eventSubscriber.release();
              this.rootNavigationGroup.onAction = undefined;
              this.rootNavigationGroup.onNavigation = undefined;
            };
            return SeekBarHandler;
          })();
          exports.SeekBarHandler = SeekBarHandler;
          function isSeekBarWrapper(element) {
            return (
              Array.from(element.classList).findIndex(function (className) {
                return /-ui-seekbar$/.test(className);
              }) > -1
            );
          }
          function getSeekBar(seekBarWrapper) {
            return seekBarWrapper.children.item(0);
          }
          function getPlaybackPositionMarker(seekBarWrapper) {
            return seekBarWrapper.querySelector(
              '[class*="seekbar-playbackposition-marker"]'
            );
          }
        },
        {
          "./navigationalgorithm": 102,
          "./nodeeventsubscriber": 104,
          "./types": 109,
        },
      ],
      107: [
        function (require, module, exports) {
          "use strict";
          var __spreadArray =
            (this && this.__spreadArray) ||
            function (to, from, pack) {
              if (pack || arguments.length === 2)
                for (var i = 0, l = from.length, ar; i < l; i++) {
                  if (ar || !(i in from)) {
                    if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                    ar[i] = from[i];
                  }
                }
              return to.concat(ar || Array.prototype.slice.call(from));
            };
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SpatialNavigation = void 0;
          var nodeeventsubscriber_1 = require("./nodeeventsubscriber");
          var seekbarhandler_1 = require("./seekbarhandler");
          var keymap_1 = require("./keymap");
          var typeguards_1 = require("./typeguards");
          /**
           * SpatialNavigation keeps track of all navigation groups, and updates the active navigation group when visibility
           * changes on group container.
           *
           * It listens to key events, and triggers either handleNavigation or handleAction on the active group.
           * SeekBarHandler will get instantiated with root navigation group and disposed on release of the spatial navigation.
           */
          var SpatialNavigation = /** @class */ (function () {
            function SpatialNavigation(rootNavigationGroup) {
              var navigationGroups = [];
              for (var _i = 1; _i < arguments.length; _i++) {
                navigationGroups[_i - 1] = arguments[_i];
              }
              var _this = this;
              this.navigationGroups = [];
              this.onShow = function (group) {
                _this.activeNavigationGroups.push(group);
                _this.updateEnabledNavigationGroup();
              };
              this.onHide = function (group) {
                var groupIndex = _this.activeNavigationGroups.findIndex(
                  function (other) {
                    return other === group;
                  }
                );
                if (groupIndex > -1) {
                  group.disable();
                  _this.activeNavigationGroups.splice(groupIndex, 1);
                  _this.updateEnabledNavigationGroup();
                }
              };
              /**
               * Checks if keyboard event keycode is tracked either as Direction or Action and calls appropriate handler on active
               * navigation group
               *
               * @param e {KeyboardEvent}
               */
              this.handleKeyEvent = function (e) {
                var event = _this.keyMap[getKeyCode(e)];
                var active = _this.getActiveNavigationGroup();
                if (
                  !active ||
                  !active.container ||
                  active.container.isHidden() ||
                  active.container.isDisabled()
                ) {
                  return;
                }
                if ((0, typeguards_1.isDirection)(event)) {
                  active.handleNavigation(event);
                  e.preventDefault();
                  e.stopPropagation();
                }
                if ((0, typeguards_1.isAction)(event)) {
                  active.handleAction(event);
                  e.preventDefault();
                  e.stopPropagation();
                }
              };
              this.seekBarHandler = new seekbarhandler_1.SeekBarHandler(
                rootNavigationGroup
              );
              this.activeNavigationGroups = [];
              this.unsubscribeVisibilityChangesFns = [];
              this.eventSubscriber =
                new nodeeventsubscriber_1.NodeEventSubscriber();
              this.navigationGroups = __spreadArray(
                [rootNavigationGroup],
                navigationGroups,
                true
              );
              this.keyMap = (0, keymap_1.getKeyMapForPlatform)();
              this.subscribeToNavigationGroupVisibilityChanges();
              this.attachKeyEventHandler();
              this.enableDefaultNavigationGroup();
            }
            SpatialNavigation.prototype.attachKeyEventHandler = function () {
              this.eventSubscriber.on(
                document,
                "keydown",
                this.handleKeyEvent,
                true
              );
            };
            /**
             * Subscribes to onHide and onShow on all navigation groups containers as Spatial navigation tracks active navigation
             * group based on their container visibility.
             */
            SpatialNavigation.prototype.subscribeToNavigationGroupVisibilityChanges =
              function () {
                var _this = this;
                this.navigationGroups.forEach(function (group) {
                  var onShowHandler = function () {
                    return _this.onShow(group);
                  };
                  var onHideHandler = function () {
                    return _this.onHide(group);
                  };
                  group.container.onShow.subscribe(onShowHandler);
                  group.container.onHide.subscribe(onHideHandler);
                  _this.unsubscribeVisibilityChangesFns.push(
                    function () {
                      return group.container.onShow.unsubscribe(onShowHandler);
                    },
                    function () {
                      return group.container.onHide.unsubscribe(onHideHandler);
                    }
                  );
                });
              };
            SpatialNavigation.prototype.unsubscribeFromNavigationGroupVisibilityChanges =
              function () {
                this.unsubscribeVisibilityChangesFns.forEach(function (unsub) {
                  return unsub();
                });
                this.unsubscribeVisibilityChangesFns = [];
              };
            /**
             * It will enable group of which container is currently shown
             * If there are no groups with containers that are currently visible, it will enable root navigation group
             */
            SpatialNavigation.prototype.enableDefaultNavigationGroup =
              function () {
                var _a;
                var isShown = function (group) {
                  return group.container.isShown();
                };
                var groupToEnable =
                  (_a = this.navigationGroups.find(isShown)) !== null &&
                  _a !== void 0
                    ? _a
                    : this.navigationGroups[0];
                if (groupToEnable) {
                  this.activeNavigationGroups.push(groupToEnable);
                  this.updateEnabledNavigationGroup();
                }
              };
            /**
             * Disables navigation groups that are no longer active and calls enable on last pushed navigation group
             */
            SpatialNavigation.prototype.updateEnabledNavigationGroup =
              function () {
                var _this = this;
                this.activeNavigationGroups.forEach(function (group, idx) {
                  if (idx < _this.activeNavigationGroups.length - 1) {
                    group.disable();
                  } else {
                    group.enable();
                  }
                });
              };
            /**
             * Returns currently active navigation group
             */
            SpatialNavigation.prototype.getActiveNavigationGroup = function () {
              return this.activeNavigationGroups[
                this.activeNavigationGroups.length - 1
              ];
            };
            /**
             * Dispose of SpatialNavigation
             *
             * Remove all event handlers, release seekbar handler and release all navigation groups.
             */
            SpatialNavigation.prototype.release = function () {
              this.unsubscribeFromNavigationGroupVisibilityChanges();
              this.eventSubscriber.release();
              this.navigationGroups.forEach(function (group) {
                return group.release();
              });
              this.seekBarHandler.release();
            };
            return SpatialNavigation;
          })();
          exports.SpatialNavigation = SpatialNavigation;
          function getKeyCode(event) {
            return event.keyCode;
          }
        },
        {
          "./keymap": 101,
          "./nodeeventsubscriber": 104,
          "./seekbarhandler": 106,
          "./typeguards": 108,
        },
      ],
      108: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.isSettingsPanel = isSettingsPanel;
          exports.isComponent = isComponent;
          exports.isContainer = isContainer;
          exports.isListBox = isListBox;
          exports.isDirection = isDirection;
          exports.isAction = isAction;
          var component_1 = require("../components/component");
          var settingspanel_1 = require("../components/settingspanel");
          var container_1 = require("../components/container");
          var listbox_1 = require("../components/listbox");
          var types_1 = require("./types");
          function isSettingsPanel(component) {
            return component instanceof settingspanel_1.SettingsPanel;
          }
          function isComponent(obj) {
            return (
              obj !== null &&
              obj !== undefined &&
              obj instanceof component_1.Component
            );
          }
          function isContainer(obj) {
            return (
              obj !== null &&
              obj !== undefined &&
              obj instanceof container_1.Container
            );
          }
          function isListBox(obj) {
            return obj instanceof listbox_1.ListBox;
          }
          function isDirection(direction) {
            return (
              typeof direction === "string" &&
              Object.values(types_1.Direction).includes(direction)
            );
          }
          function isAction(action) {
            return (
              typeof action === "string" &&
              Object.values(types_1.Action).includes(action)
            );
          }
        },
        {
          "../components/component": 18,
          "../components/container": 19,
          "../components/listbox": 29,
          "../components/settingspanel": 45,
          "./types": 109,
        },
      ],
      109: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.Action = exports.Direction = void 0;
          var Direction;
          (function (Direction) {
            Direction["UP"] = "up";
            Direction["DOWN"] = "down";
            Direction["LEFT"] = "left";
            Direction["RIGHT"] = "right";
          })(Direction || (exports.Direction = Direction = {}));
          var Action;
          (function (Action) {
            Action["SELECT"] = "select";
            Action["BACK"] = "back";
          })(Action || (exports.Action = Action = {}));
        },
        {},
      ],
      110: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.StorageUtils = void 0;
          /**
           * @category Utils
           */
          var StorageUtils;
          (function (StorageUtils) {
            var disableStorageApi;
            function setStorageApiDisabled(uiConfig) {
              disableStorageApi = uiConfig.disableStorageApi;
            }
            StorageUtils.setStorageApiDisabled = setStorageApiDisabled;
            function shouldUseLocalStorage() {
              try {
                return (
                  !disableStorageApi &&
                  window.localStorage &&
                  typeof localStorage.getItem === "function" &&
                  typeof localStorage.setItem === "function"
                );
              } catch (e) {
                return false;
              }
            }
            /**
             * Stores a string item into localStorage.
             * @param key the item's key
             * @param data the item's data
             */
            function setItem(key, data) {
              if (shouldUseLocalStorage()) {
                try {
                  window.localStorage.setItem(key, data);
                } catch (e) {
                  console.debug("Failed to set storage item ".concat(key), e);
                }
              }
            }
            StorageUtils.setItem = setItem;
            /**
             * Gets an item's string value from the localStorage.
             * @param key the key to look up its associated value
             * @return {string | null} Returns the string if found, null if there is no data stored for the key
             */
            function getItem(key) {
              if (shouldUseLocalStorage()) {
                try {
                  return window.localStorage.getItem(key);
                } catch (e) {
                  console.debug("Failed to get storage item ".concat(key), e);
                }
              }
              return null;
            }
            StorageUtils.getItem = getItem;
            /**
             * Stores an object into localStorage. The object will be serialized to JSON. The following types are supported
             * in addition to the default types:
             *  - ColorUtils.Color
             *
             * @param key the key to store the data to
             * @param data the object to store
             */
            function setObject(key, data) {
              var json = JSON.stringify(data);
              setItem(key, json);
            }
            StorageUtils.setObject = setObject;
            /**
             * Gets an object for the given key from localStorage. The object will be deserialized from JSON. Beside the
             * default types, the following types are supported:
             *  - ColorUtils.Color
             *
             * @param key the key to look up its associated object
             * @return {any} Returns the object if found, null otherwise
             */
            function getObject(key) {
              var json = getItem(key);
              if (json) {
                var object = JSON.parse(json);
                return object;
              }
              return null;
            }
            StorageUtils.getObject = getObject;
          })(StorageUtils || (exports.StorageUtils = StorageUtils = {}));
        },
        {},
      ],
      111: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.StringUtils = void 0;
          var i18n_1 = require("./localization/i18n");
          /**
           * @category Utils
           */
          var StringUtils;
          (function (StringUtils) {
            StringUtils.FORMAT_HHMMSS = "hh:mm:ss";
            StringUtils.FORMAT_MMSS = "mm:ss";
            /**
             * Formats a number of seconds into a time string with the pattern hh:mm:ss.
             *
             * @param totalSeconds the total number of seconds to format to string
             * @param format the time format to output (default: hh:mm:ss)
             * @returns {string} the formatted time string
             */
            function secondsToTime(totalSeconds, format) {
              if (format === void 0) {
                format = StringUtils.FORMAT_HHMMSS;
              }
              var isNegative = totalSeconds < 0;
              if (isNegative) {
                // If the time is negative, we make it positive for the calculation below
                // (else we'd get all negative numbers) and reattach the negative sign later.
                totalSeconds = -totalSeconds;
              }
              // Split into separate time parts
              var hours = Math.floor(totalSeconds / 3600);
              var minutes = Math.floor(totalSeconds / 60) - hours * 60;
              var seconds = Math.floor(totalSeconds) % 60;
              return (
                (isNegative ? "-" : "") +
                format
                  .replace("hh", leftPadWithZeros(hours, 2))
                  .replace("mm", leftPadWithZeros(minutes, 2))
                  .replace("ss", leftPadWithZeros(seconds, 2))
              );
            }
            StringUtils.secondsToTime = secondsToTime;
            function secondsToText(totalSeconds) {
              var isNegative = totalSeconds < 0;
              if (isNegative) {
                // If the time is negative, we make it positive for the calculation below
                // (else we'd get all negative numbers) and reattach the negative sign later.
                totalSeconds = -totalSeconds;
              }
              // Split into separate time parts
              var hours = Math.floor(totalSeconds / 3600);
              var minutes = Math.floor(totalSeconds / 60) - hours * 60;
              var seconds = Math.floor(totalSeconds) % 60;
              return (
                (isNegative ? "-" : "") +
                (hours !== 0
                  ? ""
                      .concat(leftPadWithZeros(hours, 2), " ")
                      .concat(
                        i18n_1.i18n.performLocalization(
                          i18n_1.i18n.getLocalizer("settings.time.hours")
                        ),
                        " "
                      )
                  : "") +
                (minutes !== 0
                  ? ""
                      .concat(leftPadWithZeros(minutes, 2), " ")
                      .concat(
                        i18n_1.i18n.performLocalization(
                          i18n_1.i18n.getLocalizer("settings.time.minutes")
                        ),
                        " "
                      )
                  : "") +
                ""
                  .concat(leftPadWithZeros(seconds, 2), " ")
                  .concat(
                    i18n_1.i18n.performLocalization(
                      i18n_1.i18n.getLocalizer("settings.time.seconds")
                    )
                  )
              );
            }
            StringUtils.secondsToText = secondsToText;
            /**
             * Converts a number to a string and left-pads it with zeros to the specified length.
             * Example: leftPadWithZeros(123, 5) => '00123'
             *
             * @param num the number to convert to string and pad with zeros
             * @param length the desired length of the padded string
             * @returns {string} the padded number as string
             */
            function leftPadWithZeros(num, length) {
              var text = num + "";
              var padding = "0000000000".substr(0, length - text.length);
              return padding + text;
            }
            /**
             * Fills out placeholders in an ad message.
             *
             * Has the placeholders '{remainingTime[formatString]}', '{playedTime[formatString]}',
             * '{adDuration[formatString]}' and {adBreakRemainingTime[formatString]}, which are replaced by the remaining time until the ad can be skipped, the current
             * time or the ad duration. The format string is optional. If not specified, the placeholder is replaced by the time
             * in seconds. If specified, it must be of the following format:
             * - %d - Inserts the time as an integer.
             * - %0Nd - Inserts the time as an integer with leading zeroes, if the length of the time string is smaller than N.
             * - %f - Inserts the time as a float.
             * - %0Nf - Inserts the time as a float with leading zeroes.
             * - %.Mf - Inserts the time as a float with M decimal places. Can be combined with %0Nf, e.g. %04.2f (the time
             * 10.123 would be printed as 0010.12).
             * - %hh:mm:ss
             * - %mm:ss
             *
             * Examples:
             * - { text: 'Ad: {remainingTime%mm:ss} secs' }
             * An input value of 100 would be displayed as: 'Ad: 01:40 secs'
             * - { text: 'Ad: {remainingTime%f} secs' }
             * An input value of 100 would be displayed as: 'Ad: 100.0 secs'
             * - { text: 'Adbreak: {adBreakRemainingTime%f} secs' }
             * Adbreak with 2 ads each 50 seconds would be displayed as: 'Ad: 100.0 secs'
             *
             * @param adMessage an ad message with optional placeholders to fill
             * @param skipOffset if specified, {remainingTime} will be filled with the remaining time until the ad can be skipped
             * @param player the player to get the time data from
             * @returns {string} the ad message with filled placeholders
             */
            function replaceAdMessagePlaceholders(
              adMessage,
              skipOffset,
              player
            ) {
              var adMessagePlaceholderRegex = new RegExp(
                "\\{(remainingTime|playedTime|adDuration|adBreakRemainingTime)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})",
                "g"
              );
              return adMessage.replace(
                adMessagePlaceholderRegex,
                function (formatString) {
                  var time = 0;
                  if (formatString.indexOf("remainingTime") > -1) {
                    if (skipOffset) {
                      time = Math.ceil(skipOffset - player.getCurrentTime());
                    } else {
                      time = player.getDuration() - player.getCurrentTime();
                    }
                  } else if (formatString.indexOf("playedTime") > -1) {
                    time = player.getCurrentTime();
                  } else if (formatString.indexOf("adDuration") > -1) {
                    time = player.getDuration();
                  } else if (
                    formatString.indexOf("adBreakRemainingTime") > -1
                  ) {
                    // To display the remaining time in the ad break as opposed to in the ad
                    time = 0;
                    // compute list of ads and calculate duration of remaining ads based on index of active ad
                    if (player.ads.isLinearAdActive()) {
                      var isActiveAd = function (ad) {
                        return player.ads.getActiveAd().id === ad.id;
                      };
                      var indexOfActiveAd = player.ads
                        .getActiveAdBreak()
                        .ads.findIndex(isActiveAd);
                      var duration = player.ads
                        .getActiveAdBreak()
                        .ads.slice(indexOfActiveAd)
                        .reduce(function (total, ad) {
                          return total + (ad.isLinear ? ad.duration : 0);
                        }, 0);
                      // And remaning ads duration minus time played
                      time = duration - player.getCurrentTime();
                    }
                  }
                  return formatNumber(Math.round(time), formatString);
                }
              );
            }
            StringUtils.replaceAdMessagePlaceholders =
              replaceAdMessagePlaceholders;
            function formatNumber(time, format) {
              var formatStringValidationRegex =
                /%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/;
              var leadingZeroesRegex = /(%0[1-9]\d*)(?=(\.\d+f|f|d))/;
              var decimalPlacesRegex = /\.\d*(?=f)/;
              if (!formatStringValidationRegex.test(format)) {
                // If the format is invalid, we set a default fallback format
                format = "%d";
              }
              // Determine the number of leading zeros
              var leadingZeroes = 0;
              var leadingZeroesMatches = format.match(leadingZeroesRegex);
              if (leadingZeroesMatches) {
                leadingZeroes = parseInt(leadingZeroesMatches[0].substring(2));
              }
              // Determine the number of decimal places
              var numDecimalPlaces = null;
              var decimalPlacesMatches = format.match(decimalPlacesRegex);
              if (
                decimalPlacesMatches &&
                !isNaN(parseInt(decimalPlacesMatches[0].substring(1)))
              ) {
                numDecimalPlaces = parseInt(
                  decimalPlacesMatches[0].substring(1)
                );
                if (numDecimalPlaces > 20) {
                  numDecimalPlaces = 20;
                }
              }
              // Float format
              if (format.indexOf("f") > -1) {
                var timeString = "";
                if (numDecimalPlaces !== null) {
                  // Apply fixed number of decimal places
                  timeString = time.toFixed(numDecimalPlaces);
                } else {
                  timeString = "" + time;
                }
                // Apply leading zeros
                if (timeString.indexOf(".") > -1) {
                  return leftPadWithZeros(
                    timeString,
                    timeString.length +
                      (leadingZeroes - timeString.indexOf("."))
                  );
                } else {
                  return leftPadWithZeros(timeString, leadingZeroes);
                }
              }
              // Time format
              else if (format.indexOf(":") > -1) {
                var totalSeconds = Math.ceil(time);
                // hh:mm:ss format
                if (format.indexOf("hh") > -1) {
                  return secondsToTime(totalSeconds);
                }
                // mm:ss format
                else {
                  var minutes = Math.floor(totalSeconds / 60);
                  var seconds = totalSeconds % 60;
                  return (
                    leftPadWithZeros(minutes, 2) +
                    ":" +
                    leftPadWithZeros(seconds, 2)
                  );
                }
              }
              // Integer format
              else {
                return leftPadWithZeros(Math.ceil(time), leadingZeroes);
              }
            }
          })(StringUtils || (exports.StringUtils = StringUtils = {}));
        },
        { "./localization/i18n": 91 },
      ],
      112: [
        function (require, module, exports) {
          "use strict";
          var __spreadArray =
            (this && this.__spreadArray) ||
            function (to, from, pack) {
              if (pack || arguments.length === 2)
                for (var i = 0, l = from.length, ar; i < l; i++) {
                  if (ar || !(i in from)) {
                    if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                    ar[i] = from[i];
                  }
                }
              return to.concat(ar || Array.prototype.slice.call(from));
            };
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.SubtitleSwitchHandler = void 0;
          var i18n_1 = require("./localization/i18n");
          /**
           * Helper class to handle all subtitle related events
           *
           * This class listens to player events as well as the `ListSelector` event if selection changed
           *
           * @category Utils
           */
          var SubtitleSwitchHandler = /** @class */ (function () {
            function SubtitleSwitchHandler(player, element, uimanager) {
              var _this = this;
              this.addSubtitle = function (event) {
                var subtitle = event.subtitle;
                if (!_this.listElement.hasItem(subtitle.id)) {
                  _this.listElement.addItem(subtitle.id, subtitle.label);
                }
              };
              this.removeSubtitle = function (event) {
                var subtitle = event.subtitle;
                if (_this.listElement.hasItem(subtitle.id)) {
                  _this.listElement.removeItem(subtitle.id);
                }
              };
              this.selectCurrentSubtitle = function () {
                if (!_this.player.subtitles) {
                  // Subtitles API not available (yet)
                  return;
                }
                var currentSubtitle = _this.player.subtitles
                  .list()
                  .filter(function (subtitle) {
                    return subtitle.enabled;
                  })
                  .pop();
                _this.listElement.selectItem(
                  currentSubtitle
                    ? currentSubtitle.id
                    : SubtitleSwitchHandler.SUBTITLES_OFF_KEY
                );
              };
              this.clearSubtitles = function () {
                _this.listElement.clearItems();
              };
              this.refreshSubtitles = function () {
                if (!_this.player.subtitles) {
                  // Subtitles API not available (yet)
                  return;
                }
                var offListItem = {
                  key: SubtitleSwitchHandler.SUBTITLES_OFF_KEY,
                  label: i18n_1.i18n.getLocalizer("off"),
                };
                var subtitles = _this.player.subtitles.list();
                var subtitleToListItem = function (subtitle) {
                  return { key: subtitle.id, label: subtitle.label };
                };
                _this.listElement.synchronizeItems(
                  __spreadArray(
                    [offListItem],
                    subtitles.map(subtitleToListItem),
                    true
                  )
                );
                _this.selectCurrentSubtitle();
              };
              this.player = player;
              this.listElement = element;
              this.uimanager = uimanager;
              this.bindSelectionEvent();
              this.bindPlayerEvents();
              this.refreshSubtitles();
            }
            SubtitleSwitchHandler.prototype.bindSelectionEvent = function () {
              var _this = this;
              this.listElement.onItemSelected.subscribe(function (_, value) {
                // TODO add support for multiple concurrent subtitle selections
                if (value === SubtitleSwitchHandler.SUBTITLES_OFF_KEY) {
                  var currentSubtitle = _this.player.subtitles
                    .list()
                    .filter(function (subtitle) {
                      return subtitle.enabled;
                    })
                    .pop();
                  if (currentSubtitle) {
                    _this.player.subtitles.disable(currentSubtitle.id);
                  }
                } else {
                  _this.player.subtitles.enable(value, true);
                }
              });
            };
            SubtitleSwitchHandler.prototype.bindPlayerEvents = function () {
              this.player.on(
                this.player.exports.PlayerEvent.SubtitleAdded,
                this.addSubtitle
              );
              this.player.on(
                this.player.exports.PlayerEvent.SubtitleEnabled,
                this.selectCurrentSubtitle
              );
              this.player.on(
                this.player.exports.PlayerEvent.SubtitleDisabled,
                this.selectCurrentSubtitle
              );
              this.player.on(
                this.player.exports.PlayerEvent.SubtitleRemoved,
                this.removeSubtitle
              );
              // Update subtitles when source goes away
              this.player.on(
                this.player.exports.PlayerEvent.SourceUnloaded,
                this.clearSubtitles
              );
              // Update subtitles when the period within a source changes
              this.player.on(
                this.player.exports.PlayerEvent.PeriodSwitched,
                this.refreshSubtitles
              );
              this.uimanager
                .getConfig()
                .events.onUpdated.subscribe(this.refreshSubtitles);
            };
            SubtitleSwitchHandler.SUBTITLES_OFF_KEY = "null";
            return SubtitleSwitchHandler;
          })();
          exports.SubtitleSwitchHandler = SubtitleSwitchHandler;
        },
        { "./localization/i18n": 91 },
      ],
      113: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.Timeout = void 0;
          // TODO change to internal (not exported) class, how to use in other files?
          /**
           * Executes a callback after a specified amount of time, optionally repeatedly until stopped.
           */
          var Timeout = /** @class */ (function () {
            /**
             * Creates a new timeout callback handler.
             * @param delay the delay in milliseconds after which the callback should be executed
             * @param callback the callback to execute after the delay time
             * @param repeat if true, call the callback repeatedly in delay intervals
             */
            function Timeout(delay, callback, repeat) {
              if (repeat === void 0) {
                repeat = false;
              }
              this.delay = delay;
              this.callback = callback;
              this.repeat = repeat;
              this.timeoutOrIntervalId = 0;
              this.active = false;
              this.suspended = false;
            }
            /**
             * Starts the timeout and calls the callback when the timeout delay has passed. Has no effect when the timeout is
             * suspended.
             * @returns {Timeout} the current timeout (so the start call can be chained to the constructor)
             */
            Timeout.prototype.start = function () {
              this.reset();
              return this;
            };
            /**
             * Clears the timeout. The callback will not be called if clear is called during the timeout.
             */
            Timeout.prototype.clear = function () {
              this.clearInternal();
            };
            /**
             * Suspends the timeout. The callback will not be called and calls to `start` and `reset` will be ignored until the
             * timeout is resumed.
             */
            Timeout.prototype.suspend = function () {
              this.suspended = true;
              this.clearInternal();
              return this;
            };
            /**
             * Resumes the timeout.
             * @param reset whether to reset the timeout after resuming
             */
            Timeout.prototype.resume = function (reset) {
              this.suspended = false;
              if (reset) {
                this.reset();
              }
              return this;
            };
            /**
             * Resets the passed timeout delay to zero. Can be used to defer the calling of the callback. Has no effect if the
             * timeout is suspended.
             */
            Timeout.prototype.reset = function () {
              var _this = this;
              this.clearInternal();
              if (this.suspended) {
                return;
              }
              if (this.repeat) {
                this.timeoutOrIntervalId = setInterval(
                  this.callback,
                  this.delay
                );
              } else {
                this.timeoutOrIntervalId = setTimeout(function () {
                  _this.active = false;
                  _this.callback();
                }, this.delay);
              }
              this.active = true;
            };
            Timeout.prototype.isActive = function () {
              return this.active;
            };
            Timeout.prototype.clearInternal = function () {
              if (this.repeat) {
                clearInterval(this.timeoutOrIntervalId);
              } else {
                clearTimeout(this.timeoutOrIntervalId);
              }
              this.active = false;
            };
            return Timeout;
          })();
          exports.Timeout = Timeout;
        },
        {},
      ],
      114: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
        },
        {},
      ],
      115: [
        function (require, module, exports) {
          "use strict";
          var __assign =
            (this && this.__assign) ||
            function () {
              __assign =
                Object.assign ||
                function (t) {
                  for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s)
                      if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
                  }
                  return t;
                };
              return __assign.apply(this, arguments);
            };
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.UIFactory = void 0;
          var subtitleoverlay_1 = require("./components/subtitleoverlay");
          var settingspanelpage_1 = require("./components/settingspanelpage");
          var settingspanelitem_1 = require("./components/settingspanelitem");
          var videoqualityselectbox_1 = require("./components/videoqualityselectbox");
          var playbackspeedselectbox_1 = require("./components/playbackspeedselectbox");
          var audiotrackselectbox_1 = require("./components/audiotrackselectbox");
          var audioqualityselectbox_1 = require("./components/audioqualityselectbox");
          var settingspanel_1 = require("./components/settingspanel");
          var subtitlesettingspanelpage_1 = require("./components/subtitlesettings/subtitlesettingspanelpage");
          var settingspanelpageopenbutton_1 = require("./components/settingspanelpageopenbutton");
          var subtitlesettingslabel_1 = require("./components/subtitlesettings/subtitlesettingslabel");
          var subtitleselectbox_1 = require("./components/subtitleselectbox");
          var controlbar_1 = require("./components/controlbar");
          var container_1 = require("./components/container");
          var playbacktimelabel_1 = require("./components/playbacktimelabel");
          var seekbar_1 = require("./components/seekbar");
          var seekbarlabel_1 = require("./components/seekbarlabel");
          var playbacktogglebutton_1 = require("./components/playbacktogglebutton");
          var volumetogglebutton_1 = require("./components/volumetogglebutton");
          var volumeslider_1 = require("./components/volumeslider");
          var spacer_1 = require("./components/spacer");
          var pictureinpicturetogglebutton_1 = require("./components/pictureinpicturetogglebutton");
          var airplaytogglebutton_1 = require("./components/airplaytogglebutton");
          var casttogglebutton_1 = require("./components/casttogglebutton");
          var vrtogglebutton_1 = require("./components/vrtogglebutton");
          var settingstogglebutton_1 = require("./components/settingstogglebutton");
          var fullscreentogglebutton_1 = require("./components/fullscreentogglebutton");
          var uicontainer_1 = require("./components/uicontainer");
          var bufferingoverlay_1 = require("./components/bufferingoverlay");
          var playbacktoggleoverlay_1 = require("./components/playbacktoggleoverlay");
          var caststatusoverlay_1 = require("./components/caststatusoverlay");
          var titlebar_1 = require("./components/titlebar");
          var recommendationoverlay_1 = require("./components/recommendationoverlay");
          var watermark_1 = require("./components/watermark");
          var errormessageoverlay_1 = require("./components/errormessageoverlay");
          var adclickoverlay_1 = require("./components/adclickoverlay");
          var admessagelabel_1 = require("./components/admessagelabel");
          var adskipbutton_1 = require("./components/adskipbutton");
          var closebutton_1 = require("./components/closebutton");
          var metadatalabel_1 = require("./components/metadatalabel");
          var playerutils_1 = require("./playerutils");
          var label_1 = require("./components/label");
          var castuicontainer_1 = require("./components/castuicontainer");
          var uimanager_1 = require("./uimanager");
          var i18n_1 = require("./localization/i18n");
          var subtitlelistbox_1 = require("./components/subtitlelistbox");
          var audiotracklistbox_1 = require("./components/audiotracklistbox");
          var spatialnavigation_1 = require("./spatialnavigation/spatialnavigation");
          var rootnavigationgroup_1 = require("./spatialnavigation/rootnavigationgroup");
          var ListNavigationGroup_1 = require("./spatialnavigation/ListNavigationGroup");
          var ecomodecontainer_1 = require("./components/ecomodecontainer");
          var UIFactory;
          (function (UIFactory) {
            function buildDefaultUI(player, config) {
              if (config === void 0) {
                config = {};
              }
              return UIFactory.buildModernUI(player, config);
            }
            UIFactory.buildDefaultUI = buildDefaultUI;
            function buildDefaultSmallScreenUI(player, config) {
              if (config === void 0) {
                config = {};
              }
              return UIFactory.buildModernSmallScreenUI(player, config);
            }
            UIFactory.buildDefaultSmallScreenUI = buildDefaultSmallScreenUI;
            function buildDefaultCastReceiverUI(player, config) {
              if (config === void 0) {
                config = {};
              }
              return UIFactory.buildModernCastReceiverUI(player, config);
            }
            UIFactory.buildDefaultCastReceiverUI = buildDefaultCastReceiverUI;
            function buildDefaultTvUI(player, config) {
              if (config === void 0) {
                config = {};
              }
              return UIFactory.buildModernTvUI(player, config);
            }
            UIFactory.buildDefaultTvUI = buildDefaultTvUI;
            function modernUI(config) {
              var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
              var mainSettingsPanelPage;
              var components = [
                new settingspanelitem_1.SettingsPanelItem(
                  i18n_1.i18n.getLocalizer("settings.video.quality"),
                  new videoqualityselectbox_1.VideoQualitySelectBox()
                ),
                new settingspanelitem_1.SettingsPanelItem(
                  i18n_1.i18n.getLocalizer("speed"),
                  new playbackspeedselectbox_1.PlaybackSpeedSelectBox()
                ),
                new settingspanelitem_1.SettingsPanelItem(
                  i18n_1.i18n.getLocalizer("settings.audio.track"),
                  new audiotrackselectbox_1.AudioTrackSelectBox()
                ),
                new settingspanelitem_1.SettingsPanelItem(
                  i18n_1.i18n.getLocalizer("settings.audio.quality"),
                  new audioqualityselectbox_1.AudioQualitySelectBox()
                ),
              ];
              if (config.ecoMode) {
                var ecoModeContainer =
                  new ecomodecontainer_1.EcoModeContainer();
                ecoModeContainer.setOnToggleCallback(function () {
                  // forces the browser to re-calculate the height of the settings panel when adding/removing elements
                  settingsPanel.getDomElement().css({ width: "", height: "" });
                });
                components.unshift(ecoModeContainer);
              }
              mainSettingsPanelPage = new settingspanelpage_1.SettingsPanelPage(
                {
                  components: components,
                }
              );
              var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [mainSettingsPanelPage],
                hidden: true,
              });
              var subtitleSettingsPanelPage =
                new subtitlesettingspanelpage_1.SubtitleSettingsPanelPage({
                  settingsPanel: settingsPanel,
                  overlay: subtitleOverlay,
                });
              var subtitleSelectBox =
                new subtitleselectbox_1.SubtitleSelectBox();
              var subtitleSettingsOpenButton =
                new settingspanelpageopenbutton_1.SettingsPanelPageOpenButton({
                  targetPage: subtitleSettingsPanelPage,
                  container: settingsPanel,
                  ariaLabel: i18n_1.i18n.getLocalizer("settings.subtitles"),
                  text: i18n_1.i18n.getLocalizer("open"),
                });
              mainSettingsPanelPage.addComponent(
                new settingspanelitem_1.SettingsPanelItem(
                  new subtitlesettingslabel_1.SubtitleSettingsLabel({
                    text: i18n_1.i18n.getLocalizer("settings.subtitles"),
                    opener: subtitleSettingsOpenButton,
                  }),
                  subtitleSelectBox,
                  {
                    role: "menubar",
                  }
                )
              );
              settingsPanel.addComponent(subtitleSettingsPanelPage);
              var controlBar = new controlbar_1.ControlBar({
                components: [
                  settingsPanel,
                  new container_1.Container({
                    components: [
                      new playbacktimelabel_1.PlaybackTimeLabel({
                        timeLabelMode:
                          playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime,
                        hideInLivePlayback: true,
                      }),
                      new seekbar_1.SeekBar({
                        label: new seekbarlabel_1.SeekBarLabel(),
                      }),
                      new playbacktimelabel_1.PlaybackTimeLabel({
                        timeLabelMode:
                          playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime,
                        cssClasses: ["text-right"],
                      }),
                    ],
                    cssClasses: ["controlbar-top"],
                  }),
                  new container_1.Container({
                    components: [
                      new playbacktogglebutton_1.PlaybackToggleButton(),
                      new volumetogglebutton_1.VolumeToggleButton(),
                      new volumeslider_1.VolumeSlider(),
                      new spacer_1.Spacer(),
                      new pictureinpicturetogglebutton_1.PictureInPictureToggleButton(),
                      new airplaytogglebutton_1.AirPlayToggleButton(),
                      new casttogglebutton_1.CastToggleButton(),
                      new vrtogglebutton_1.VRToggleButton(),
                      new settingstogglebutton_1.SettingsToggleButton({
                        settingsPanel: settingsPanel,
                      }),
                      new fullscreentogglebutton_1.FullscreenToggleButton(),
                    ],
                    cssClasses: ["controlbar-bottom"],
                  }),
                ],
              });
              return new uicontainer_1.UIContainer({
                components: [
                  subtitleOverlay,
                  new bufferingoverlay_1.BufferingOverlay(),
                  new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                  new caststatusoverlay_1.CastStatusOverlay(),
                  controlBar,
                  new titlebar_1.TitleBar(),
                  new recommendationoverlay_1.RecommendationOverlay(),
                  new watermark_1.Watermark(),
                  new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                hideDelay: 2000,
                hidePlayerStateExceptions: [
                  playerutils_1.PlayerUtils.PlayerState.Prepared,
                  playerutils_1.PlayerUtils.PlayerState.Paused,
                  playerutils_1.PlayerUtils.PlayerState.Finished,
                ],
              });
            }
            UIFactory.modernUI = modernUI;
            function modernAdsUI() {
              return new uicontainer_1.UIContainer({
                components: [
                  new bufferingoverlay_1.BufferingOverlay(),
                  new adclickoverlay_1.AdClickOverlay(),
                  new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                  new container_1.Container({
                    components: [
                      new admessagelabel_1.AdMessageLabel({
                        text: i18n_1.i18n.getLocalizer("ads.remainingTime"),
                      }),
                      new adskipbutton_1.AdSkipButton(),
                    ],
                    cssClass: "ui-ads-status",
                  }),
                  new controlbar_1.ControlBar({
                    components: [
                      new container_1.Container({
                        components: [
                          new playbacktogglebutton_1.PlaybackToggleButton(),
                          new volumetogglebutton_1.VolumeToggleButton(),
                          new volumeslider_1.VolumeSlider(),
                          new spacer_1.Spacer(),
                          new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                        cssClasses: ["controlbar-bottom"],
                      }),
                    ],
                  }),
                ],
                cssClasses: ["ui-skin-ads"],
                hideDelay: 2000,
                hidePlayerStateExceptions: [
                  playerutils_1.PlayerUtils.PlayerState.Prepared,
                  playerutils_1.PlayerUtils.PlayerState.Paused,
                  playerutils_1.PlayerUtils.PlayerState.Finished,
                ],
              });
            }
            UIFactory.modernAdsUI = modernAdsUI;
            function modernSmallScreenUI() {
              var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
              var mainSettingsPanelPage =
                new settingspanelpage_1.SettingsPanelPage({
                  components: [
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer("settings.video.quality"),
                      new videoqualityselectbox_1.VideoQualitySelectBox()
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer("speed"),
                      new playbackspeedselectbox_1.PlaybackSpeedSelectBox()
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer("settings.audio.track"),
                      new audiotrackselectbox_1.AudioTrackSelectBox()
                    ),
                    new settingspanelitem_1.SettingsPanelItem(
                      i18n_1.i18n.getLocalizer("settings.audio.quality"),
                      new audioqualityselectbox_1.AudioQualitySelectBox()
                    ),
                  ],
                });
              var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [mainSettingsPanelPage],
                hidden: true,
                pageTransitionAnimation: false,
                hideDelay: -1,
              });
              var subtitleSettingsPanelPage =
                new subtitlesettingspanelpage_1.SubtitleSettingsPanelPage({
                  settingsPanel: settingsPanel,
                  overlay: subtitleOverlay,
                });
              var subtitleSettingsOpenButton =
                new settingspanelpageopenbutton_1.SettingsPanelPageOpenButton({
                  targetPage: subtitleSettingsPanelPage,
                  container: settingsPanel,
                  ariaLabel: i18n_1.i18n.getLocalizer("settings.subtitles"),
                  text: i18n_1.i18n.getLocalizer("open"),
                });
              var subtitleSelectBox =
                new subtitleselectbox_1.SubtitleSelectBox();
              mainSettingsPanelPage.addComponent(
                new settingspanelitem_1.SettingsPanelItem(
                  new subtitlesettingslabel_1.SubtitleSettingsLabel({
                    text: i18n_1.i18n.getLocalizer("settings.subtitles"),
                    opener: subtitleSettingsOpenButton,
                  }),
                  subtitleSelectBox,
                  {
                    role: "menubar",
                  }
                )
              );
              settingsPanel.addComponent(subtitleSettingsPanelPage);
              settingsPanel.addComponent(
                new closebutton_1.CloseButton({ target: settingsPanel })
              );
              subtitleSettingsPanelPage.addComponent(
                new closebutton_1.CloseButton({ target: settingsPanel })
              );
              var controlBar = new controlbar_1.ControlBar({
                components: [
                  new container_1.Container({
                    components: [
                      new playbacktimelabel_1.PlaybackTimeLabel({
                        timeLabelMode:
                          playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime,
                        hideInLivePlayback: true,
                      }),
                      new seekbar_1.SeekBar({
                        label: new seekbarlabel_1.SeekBarLabel(),
                      }),
                      new playbacktimelabel_1.PlaybackTimeLabel({
                        timeLabelMode:
                          playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime,
                        cssClasses: ["text-right"],
                      }),
                    ],
                    cssClasses: ["controlbar-top"],
                  }),
                ],
              });
              return new uicontainer_1.UIContainer({
                components: [
                  subtitleOverlay,
                  new bufferingoverlay_1.BufferingOverlay(),
                  new caststatusoverlay_1.CastStatusOverlay(),
                  new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                  new recommendationoverlay_1.RecommendationOverlay(),
                  controlBar,
                  new titlebar_1.TitleBar({
                    components: [
                      new metadatalabel_1.MetadataLabel({
                        content: metadatalabel_1.MetadataLabelContent.Title,
                      }),
                      new casttogglebutton_1.CastToggleButton(),
                      new vrtogglebutton_1.VRToggleButton(),
                      new pictureinpicturetogglebutton_1.PictureInPictureToggleButton(),
                      new airplaytogglebutton_1.AirPlayToggleButton(),
                      new volumetogglebutton_1.VolumeToggleButton(),
                      new settingstogglebutton_1.SettingsToggleButton({
                        settingsPanel: settingsPanel,
                      }),
                      new fullscreentogglebutton_1.FullscreenToggleButton(),
                    ],
                  }),
                  settingsPanel,
                  new watermark_1.Watermark(),
                  new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ["ui-skin-smallscreen"],
                hideDelay: 2000,
                hidePlayerStateExceptions: [
                  playerutils_1.PlayerUtils.PlayerState.Prepared,
                  playerutils_1.PlayerUtils.PlayerState.Paused,
                  playerutils_1.PlayerUtils.PlayerState.Finished,
                ],
              });
            }
            UIFactory.modernSmallScreenUI = modernSmallScreenUI;
            function modernSmallScreenAdsUI() {
              return new uicontainer_1.UIContainer({
                components: [
                  new bufferingoverlay_1.BufferingOverlay(),
                  new adclickoverlay_1.AdClickOverlay(),
                  new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                  new titlebar_1.TitleBar({
                    components: [
                      // dummy label with no content to move buttons to the right
                      new label_1.Label({ cssClass: "label-metadata-title" }),
                      new fullscreentogglebutton_1.FullscreenToggleButton(),
                    ],
                  }),
                  new container_1.Container({
                    components: [
                      new admessagelabel_1.AdMessageLabel({
                        text: "Ad: {remainingTime} secs",
                      }),
                      new adskipbutton_1.AdSkipButton(),
                    ],
                    cssClass: "ui-ads-status",
                  }),
                ],
                cssClasses: ["ui-skin-ads", "ui-skin-smallscreen"],
                hideDelay: 2000,
                hidePlayerStateExceptions: [
                  playerutils_1.PlayerUtils.PlayerState.Prepared,
                  playerutils_1.PlayerUtils.PlayerState.Paused,
                  playerutils_1.PlayerUtils.PlayerState.Finished,
                ],
              });
            }
            UIFactory.modernSmallScreenAdsUI = modernSmallScreenAdsUI;
            function modernCastReceiverUI() {
              var controlBar = new controlbar_1.ControlBar({
                components: [
                  new container_1.Container({
                    components: [
                      new playbacktimelabel_1.PlaybackTimeLabel({
                        timeLabelMode:
                          playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime,
                        hideInLivePlayback: true,
                      }),
                      new seekbar_1.SeekBar({
                        smoothPlaybackPositionUpdateIntervalMs: -1,
                      }),
                      new playbacktimelabel_1.PlaybackTimeLabel({
                        timeLabelMode:
                          playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime,
                        cssClasses: ["text-right"],
                      }),
                    ],
                    cssClasses: ["controlbar-top"],
                  }),
                ],
              });
              return new castuicontainer_1.CastUIContainer({
                components: [
                  new subtitleoverlay_1.SubtitleOverlay(),
                  new bufferingoverlay_1.BufferingOverlay(),
                  new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                  new watermark_1.Watermark(),
                  controlBar,
                  new titlebar_1.TitleBar({ keepHiddenWithoutMetadata: true }),
                  new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ["ui-skin-cast-receiver"],
                hideDelay: 2000,
                hidePlayerStateExceptions: [
                  playerutils_1.PlayerUtils.PlayerState.Prepared,
                  playerutils_1.PlayerUtils.PlayerState.Paused,
                  playerutils_1.PlayerUtils.PlayerState.Finished,
                ],
              });
            }
            UIFactory.modernCastReceiverUI = modernCastReceiverUI;
            function buildModernUI(player, config) {
              if (config === void 0) {
                config = {};
              }
              // show smallScreen UI only on mobile/handheld devices
              var smallScreenSwitchWidth = 600;
              return new uimanager_1.UIManager(
                player,
                [
                  {
                    ui: modernSmallScreenAdsUI(),
                    condition: function (context) {
                      return (
                        context.isMobile &&
                        context.documentWidth < smallScreenSwitchWidth &&
                        context.isAd &&
                        context.adRequiresUi
                      );
                    },
                  },
                  {
                    ui: modernAdsUI(),
                    condition: function (context) {
                      return context.isAd && context.adRequiresUi;
                    },
                  },
                  {
                    ui: modernSmallScreenUI(),
                    condition: function (context) {
                      return (
                        !context.isAd &&
                        !context.adRequiresUi &&
                        context.isMobile &&
                        context.documentWidth < smallScreenSwitchWidth
                      );
                    },
                  },
                  {
                    ui: modernUI(config),
                    condition: function (context) {
                      return !context.isAd && !context.adRequiresUi;
                    },
                  },
                ],
                config
              );
            }
            UIFactory.buildModernUI = buildModernUI;
            function buildModernSmallScreenUI(player, config) {
              if (config === void 0) {
                config = {};
              }
              return new uimanager_1.UIManager(
                player,
                [
                  {
                    ui: modernSmallScreenAdsUI(),
                    condition: function (context) {
                      return context.isAd && context.adRequiresUi;
                    },
                  },
                  {
                    ui: modernSmallScreenUI(),
                    condition: function (context) {
                      return !context.isAd && !context.adRequiresUi;
                    },
                  },
                ],
                config
              );
            }
            UIFactory.buildModernSmallScreenUI = buildModernSmallScreenUI;
            function buildModernCastReceiverUI(player, config) {
              if (config === void 0) {
                config = {};
              }
              return new uimanager_1.UIManager(
                player,
                modernCastReceiverUI(),
                config
              );
            }
            UIFactory.buildModernCastReceiverUI = buildModernCastReceiverUI;
            function buildModernTvUI(player, config) {
              if (config === void 0) {
                config = {};
              }
              return new uimanager_1.UIManager(
                player,
                [__assign({}, modernTvUI())],
                config
              );
            }
            UIFactory.buildModernTvUI = buildModernTvUI;
            function modernTvUI() {
              var subtitleListBox = new subtitlelistbox_1.SubtitleListBox();
              var subtitleListPanel = new settingspanel_1.SettingsPanel({
                components: [
                  new settingspanelpage_1.SettingsPanelPage({
                    components: [
                      new settingspanelitem_1.SettingsPanelItem(
                        null,
                        subtitleListBox
                      ),
                    ],
                  }),
                ],
                hidden: true,
              });
              var audioTrackListBox =
                new audiotracklistbox_1.AudioTrackListBox();
              var audioTrackListPanel = new settingspanel_1.SettingsPanel({
                components: [
                  new settingspanelpage_1.SettingsPanelPage({
                    components: [
                      new settingspanelitem_1.SettingsPanelItem(
                        null,
                        audioTrackListBox
                      ),
                    ],
                  }),
                ],
                hidden: true,
              });
              var seekBar = new seekbar_1.SeekBar({
                label: new seekbarlabel_1.SeekBarLabel(),
              });
              var playbackToggleOverlay =
                new playbacktoggleoverlay_1.PlaybackToggleOverlay();
              var subtitleToggleButton =
                new settingstogglebutton_1.SettingsToggleButton({
                  settingsPanel: subtitleListPanel,
                  autoHideWhenNoActiveSettings: true,
                  cssClass: "ui-subtitlesettingstogglebutton",
                  text: i18n_1.i18n.getLocalizer("settings.subtitles"),
                });
              var audioToggleButton =
                new settingstogglebutton_1.SettingsToggleButton({
                  settingsPanel: audioTrackListPanel,
                  autoHideWhenNoActiveSettings: true,
                  cssClass: "ui-audiotracksettingstogglebutton",
                  ariaLabel: i18n_1.i18n.getLocalizer("settings.audio.track"),
                  text: i18n_1.i18n.getLocalizer("settings.audio.track"),
                });
              var uiContainer = new uicontainer_1.UIContainer({
                components: [
                  new subtitleoverlay_1.SubtitleOverlay(),
                  new bufferingoverlay_1.BufferingOverlay(),
                  playbackToggleOverlay,
                  new controlbar_1.ControlBar({
                    components: [
                      new container_1.Container({
                        components: [
                          new playbacktimelabel_1.PlaybackTimeLabel({
                            timeLabelMode:
                              playbacktimelabel_1.PlaybackTimeLabelMode
                                .CurrentTime,
                            hideInLivePlayback: true,
                          }),
                          seekBar,
                          new playbacktimelabel_1.PlaybackTimeLabel({
                            timeLabelMode:
                              playbacktimelabel_1.PlaybackTimeLabelMode
                                .RemainingTime,
                            cssClasses: ["text-right"],
                          }),
                        ],
                        cssClasses: ["controlbar-top"],
                      }),
                    ],
                  }),
                  new titlebar_1.TitleBar({
                    components: [
                      new container_1.Container({
                        components: [
                          new metadatalabel_1.MetadataLabel({
                            content: metadatalabel_1.MetadataLabelContent.Title,
                          }),
                          subtitleToggleButton,
                          audioToggleButton,
                        ],
                        cssClasses: ["ui-titlebar-top"],
                      }),
                      new container_1.Container({
                        components: [
                          new metadatalabel_1.MetadataLabel({
                            content:
                              metadatalabel_1.MetadataLabelContent.Description,
                          }),
                          subtitleListPanel,
                          audioTrackListPanel,
                        ],
                        cssClasses: ["ui-titlebar-bottom"],
                      }),
                    ],
                  }),
                  new recommendationoverlay_1.RecommendationOverlay(),
                  new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ["ui-skin-tv"],
                hideDelay: 2000,
                hidePlayerStateExceptions: [
                  playerutils_1.PlayerUtils.PlayerState.Prepared,
                  playerutils_1.PlayerUtils.PlayerState.Paused,
                  playerutils_1.PlayerUtils.PlayerState.Finished,
                ],
              });
              var spatialNavigation = new spatialnavigation_1.SpatialNavigation(
                new rootnavigationgroup_1.RootNavigationGroup(
                  uiContainer,
                  playbackToggleOverlay,
                  seekBar,
                  audioToggleButton,
                  subtitleToggleButton
                ),
                new ListNavigationGroup_1.ListNavigationGroup(
                  ListNavigationGroup_1.ListOrientation.Vertical,
                  subtitleListPanel,
                  subtitleListBox
                ),
                new ListNavigationGroup_1.ListNavigationGroup(
                  ListNavigationGroup_1.ListOrientation.Vertical,
                  audioTrackListPanel,
                  audioTrackListBox
                )
              );
              return {
                ui: uiContainer,
                spatialNavigation: spatialNavigation,
              };
            }
            UIFactory.modernTvUI = modernTvUI;
          })(UIFactory || (exports.UIFactory = UIFactory = {}));
        },
        {
          "./components/adclickoverlay": 4,
          "./components/admessagelabel": 5,
          "./components/adskipbutton": 6,
          "./components/airplaytogglebutton": 7,
          "./components/audioqualityselectbox": 8,
          "./components/audiotracklistbox": 9,
          "./components/audiotrackselectbox": 10,
          "./components/bufferingoverlay": 11,
          "./components/caststatusoverlay": 13,
          "./components/casttogglebutton": 14,
          "./components/castuicontainer": 15,
          "./components/closebutton": 17,
          "./components/container": 19,
          "./components/controlbar": 20,
          "./components/ecomodecontainer": 21,
          "./components/errormessageoverlay": 23,
          "./components/fullscreentogglebutton": 24,
          "./components/label": 28,
          "./components/metadatalabel": 31,
          "./components/pictureinpicturetogglebutton": 32,
          "./components/playbackspeedselectbox": 33,
          "./components/playbacktimelabel": 34,
          "./components/playbacktogglebutton": 35,
          "./components/playbacktoggleoverlay": 36,
          "./components/recommendationoverlay": 38,
          "./components/seekbar": 40,
          "./components/seekbarlabel": 43,
          "./components/settingspanel": 45,
          "./components/settingspanelitem": 46,
          "./components/settingspanelpage": 47,
          "./components/settingspanelpageopenbutton": 50,
          "./components/settingstogglebutton": 51,
          "./components/spacer": 52,
          "./components/subtitlelistbox": 53,
          "./components/subtitleoverlay": 54,
          "./components/subtitleselectbox": 55,
          "./components/subtitlesettings/subtitlesettingslabel": 66,
          "./components/subtitlesettings/subtitlesettingspanelpage": 68,
          "./components/titlebar": 73,
          "./components/uicontainer": 76,
          "./components/videoqualityselectbox": 77,
          "./components/volumeslider": 79,
          "./components/volumetogglebutton": 80,
          "./components/vrtogglebutton": 81,
          "./components/watermark": 82,
          "./localization/i18n": 91,
          "./playerutils": 98,
          "./spatialnavigation/ListNavigationGroup": 99,
          "./spatialnavigation/rootnavigationgroup": 105,
          "./spatialnavigation/spatialnavigation": 107,
          "./uimanager": 116,
        },
      ],
      116: [
        function (require, module, exports) {
          "use strict";
          var __extends =
            (this && this.__extends) ||
            (function () {
              var extendStatics = function (d, b) {
                extendStatics =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (d, b) {
                      d.__proto__ = b;
                    }) ||
                  function (d, b) {
                    for (var p in b)
                      if (Object.prototype.hasOwnProperty.call(b, p))
                        d[p] = b[p];
                  };
                return extendStatics(d, b);
              };
              return function (d, b) {
                if (typeof b !== "function" && b !== null)
                  throw new TypeError(
                    "Class extends value " +
                      String(b) +
                      " is not a constructor or null"
                  );
                extendStatics(d, b);
                function __() {
                  this.constructor = d;
                }
                d.prototype =
                  b === null
                    ? Object.create(b)
                    : ((__.prototype = b.prototype), new __());
              };
            })();
          var __assign =
            (this && this.__assign) ||
            function () {
              __assign =
                Object.assign ||
                function (t) {
                  for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s)
                      if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
                  }
                  return t;
                };
              return __assign.apply(this, arguments);
            };
          var __spreadArray =
            (this && this.__spreadArray) ||
            function (to, from, pack) {
              if (pack || arguments.length === 2)
                for (var i = 0, l = from.length, ar; i < l; i++) {
                  if (ar || !(i in from)) {
                    if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                    ar[i] = from[i];
                  }
                }
              return to.concat(ar || Array.prototype.slice.call(from));
            };
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.PlayerWrapper =
            exports.UIInstanceManager =
            exports.UIManager =
              void 0;
          var uicontainer_1 = require("./components/uicontainer");
          var dom_1 = require("./dom");
          var container_1 = require("./components/container");
          var eventdispatcher_1 = require("./eventdispatcher");
          var uiutils_1 = require("./uiutils");
          var arrayutils_1 = require("./arrayutils");
          var browserutils_1 = require("./browserutils");
          var volumecontroller_1 = require("./volumecontroller");
          var i18n_1 = require("./localization/i18n");
          var focusvisibilitytracker_1 = require("./focusvisibilitytracker");
          var mobilev3playerapi_1 = require("./mobilev3playerapi");
          var subtitlesettingsmanager_1 = require("./components/subtitlesettings/subtitlesettingsmanager");
          var storageutils_1 = require("./storageutils");
          var UIManager = /** @class */ (function () {
            function UIManager(player, playerUiOrUiVariants, uiconfig) {
              if (uiconfig === void 0) {
                uiconfig = {};
              }
              var _this = this;
              this.events = {
                onUiVariantResolve: new eventdispatcher_1.EventDispatcher(),
                onActiveUiChanged: new eventdispatcher_1.EventDispatcher(),
              };
              if (playerUiOrUiVariants instanceof uicontainer_1.UIContainer) {
                // Single-UI constructor has been called, transform arguments to UIVariant[] signature
                var playerUi = playerUiOrUiVariants;
                var uiVariants = [];
                // Add the default player UI
                uiVariants.push({ ui: playerUi });
                this.uiVariants = uiVariants;
              } else {
                // Default constructor (UIVariant[]) has been called
                this.uiVariants = playerUiOrUiVariants;
              }
              this.subtitleSettingsManager =
                new subtitlesettingsmanager_1.SubtitleSettingsManager();
              this.player = player;
              this.managerPlayerWrapper = new PlayerWrapper(player);
              // ensure that at least the metadata object does exist in the uiconfig
              uiconfig.metadata = uiconfig.metadata ? uiconfig.metadata : {};
              this.config = __assign(
                __assign(
                  {
                    playbackSpeedSelectionEnabled: true,
                    autoUiVariantResolve: true,
                    disableAutoHideWhenHovered: false,
                    enableSeekPreview: true,
                  },
                  uiconfig
                ),
                {
                  events: {
                    onUpdated: new eventdispatcher_1.EventDispatcher(),
                  },
                  volumeController: new volumecontroller_1.VolumeController(
                    this.managerPlayerWrapper.getPlayer()
                  ),
                }
              );
              /**
               * Gathers configuration data from the UI config and player source config and creates a merged UI config
               * that is used throughout the UI instance.
               */
              var updateConfig = function () {
                var playerSourceConfig = player.getSource() || {};
                _this.config.metadata = JSON.parse(
                  JSON.stringify(uiconfig.metadata || {})
                );
                // Extract the UI-related config properties from the source config
                var playerSourceUiConfig = {
                  metadata: {
                    // TODO move metadata into source.metadata namespace in player v8
                    title: playerSourceConfig.title,
                    description: playerSourceConfig.description,
                    markers: playerSourceConfig.markers,
                  },
                  recommendations: playerSourceConfig.recommendations,
                };
                // Player source config takes precedence over the UI config, because the config in the source is attached
                // to a source which changes with every player.load, whereas the UI config stays the same for the whole
                // lifetime of the player instance.
                _this.config.metadata.title =
                  playerSourceUiConfig.metadata.title ||
                  uiconfig.metadata.title;
                _this.config.metadata.description =
                  playerSourceUiConfig.metadata.description ||
                  uiconfig.metadata.description;
                _this.config.metadata.markers =
                  playerSourceUiConfig.metadata.markers ||
                  uiconfig.metadata.markers ||
                  [];
                _this.config.recommendations =
                  playerSourceUiConfig.recommendations ||
                  uiconfig.recommendations ||
                  [];
                storageutils_1.StorageUtils.setStorageApiDisabled(uiconfig);
              };
              updateConfig();
              this.subtitleSettingsManager.initialize();
              // Update the source configuration when a new source is loaded and dispatch onUpdated
              var updateSource = function () {
                updateConfig();
                _this.config.events.onUpdated.dispatch(_this);
              };
              var wrappedPlayer = this.managerPlayerWrapper.getPlayer();
              wrappedPlayer.on(
                this.player.exports.PlayerEvent.SourceLoaded,
                updateSource
              );
              // The PlaylistTransition event is only available on Mobile v3 for now.
              // This event is fired when a new source becomes active in the player.
              if ((0, mobilev3playerapi_1.isMobileV3PlayerAPI)(wrappedPlayer)) {
                wrappedPlayer.on(
                  mobilev3playerapi_1.MobileV3PlayerEvent.PlaylistTransition,
                  updateSource
                );
              }
              if (uiconfig.container) {
                // Unfortunately "uiContainerElement = new DOM(config.container)" will not accept the container with
                // string|HTMLElement type directly, although it accepts both types, so we need to spit these two cases up here.
                // TODO check in upcoming TS versions if the container can be passed in directly, or fix the constructor
                this.uiContainerElement =
                  uiconfig.container instanceof HTMLElement
                    ? new dom_1.DOM(uiconfig.container)
                    : new dom_1.DOM(uiconfig.container);
              } else {
                this.uiContainerElement = new dom_1.DOM(player.getContainer());
              }
              // Create UI instance managers for the UI variants
              // The instance managers map to the corresponding UI variants by their array index
              this.uiInstanceManagers = [];
              var uiVariantsWithoutCondition = [];
              for (var _i = 0, _a = this.uiVariants; _i < _a.length; _i++) {
                var uiVariant = _a[_i];
                if (uiVariant.condition == null) {
                  // Collect variants without conditions for error checking
                  uiVariantsWithoutCondition.push(uiVariant);
                }
                // Create the instance manager for a UI variant
                this.uiInstanceManagers.push(
                  new InternalUIInstanceManager(
                    player,
                    uiVariant.ui,
                    this.config,
                    this.subtitleSettingsManager,
                    uiVariant.spatialNavigation
                  )
                );
              }
              // Make sure that there is only one UI variant without a condition
              // It does not make sense to have multiple variants without condition, because only the first one in the list
              // (the one with the lowest index) will ever be selected.
              if (uiVariantsWithoutCondition.length > 1) {
                throw Error(
                  "Too many UIs without a condition: You cannot have more than one default UI"
                );
              }
              // Make sure that the default UI variant, if defined, is at the end of the list (last index)
              // If it comes earlier, the variants with conditions that come afterwards will never be selected because the
              // default variant without a condition always evaluates to 'true'
              if (
                uiVariantsWithoutCondition.length > 0 &&
                uiVariantsWithoutCondition[0] !==
                  this.uiVariants[this.uiVariants.length - 1]
              ) {
                throw Error(
                  "Invalid UI variant order: the default UI (without condition) must be at the end of the list"
                );
              }
              var adStartedEvent = null; // keep the event stored here during ad playback
              // Dynamically select a UI variant that matches the current UI condition.
              var resolveUiVariant = function (event) {
                // Make sure that the AdStarted event data is persisted through ad playback in case other events happen
                // in the meantime, e.g. player resize. We need to store this data because there is no other way to find out
                // ad details while an ad is playing (in v8.0 at least; from v8.1 there will be ads.getActiveAd()).
                // Existing event data signals that an ad is currently active (instead of ads.isLinearAdActive()).
                if (event != null) {
                  switch (event.type) {
                    // The ads UI is shown upon the first AdStarted event. Subsequent AdStarted events within an ad break
                    // will not change the condition context and thus not lead to undesired UI variant resolving.
                    // The ads UI is shown upon AdStarted instead of AdBreakStarted because there can be a loading delay
                    // between these two events in the player, and the AdBreakStarted event does not carry any metadata to
                    // initialize the ads UI, so it would be rendered in an uninitialized state for a certain amount of time.
                    // TODO show ads UI upon AdBreakStarted and display loading overlay between AdBreakStarted and first AdStarted
                    // TODO display loading overlay between AdFinished and next AdStarted
                    case player.exports.PlayerEvent.AdStarted:
                      adStartedEvent = event;
                      break;
                    // The ads UI is hidden only when the ad break is finished, i.e. not on AdFinished events. This way we keep
                    // the ads UI variant active throughout an ad break, as reacting to AdFinished would lead to undesired UI
                    // variant switching between two ads in an ad break, e.g. ads UI -> AdFinished -> content UI ->
                    // AdStarted -> ads UI.
                    case player.exports.PlayerEvent.AdBreakFinished:
                      adStartedEvent = null;
                      // When switching to a variant for the first time, a config.events.onUpdated event is fired to trigger a UI
                      // update of the new variant, because most components subscribe to this event to update themselves. When
                      // switching to the ads UI on the first AdStarted, all UI variants update themselves with the ad data, so
                      // when switching back to the "normal" UI it will carry properties of the ad instead of the main content.
                      // We thus fire this event here to force an UI update with the properties of the main content. This is
                      // basically a hack because the config.events.onUpdated event is abused in many places and not just used
                      // for config updates (e.g. adding a marker to the seekbar).
                      // TODO introduce an event that is fired when the playback content is updated, a switch to/from ads
                      _this.config.events.onUpdated.dispatch(_this);
                      break;
                    // When a new source is loaded during ad playback, there will be no Ad(Break)Finished event
                    case player.exports.PlayerEvent.SourceLoaded:
                    case player.exports.PlayerEvent.SourceUnloaded:
                      adStartedEvent = null;
                      break;
                  }
                }
                // Detect if an ad has started
                var isAd = adStartedEvent != null;
                var adRequiresUi = false;
                if (isAd) {
                  var ad = adStartedEvent.ad;
                  // for now only linear ads can request a UI
                  if (ad.isLinear) {
                    var linearAd = ad;
                    adRequiresUi =
                      (linearAd.uiConfig && linearAd.uiConfig.requestsUi) ||
                      false;
                  }
                }
                if (adRequiresUi) {
                  // we dispatch onUpdated event because if there are multiple adBreaks for same position
                  // `Play` and `Playing` events will not be dispatched which will cause `PlaybackButton` state
                  // to be out of sync
                  _this.config.events.onUpdated.dispatch(_this);
                }
                _this.resolveUiVariant(
                  {
                    isAd: isAd,
                    adRequiresUi: adRequiresUi,
                  },
                  function (context) {
                    // If this is an ad UI, we need to relay the saved ON_AD_STARTED event data so ad components can configure
                    // themselves for the current ad.
                    if (context.isAd) {
                      /* Relay the ON_AD_STARTED event to the ads UI
                       *
                       * Because the ads UI is initialized in the ON_AD_STARTED handler, i.e. when the ON_AD_STARTED event has
                       * already been fired, components in the ads UI that listen for the ON_AD_STARTED event never receive it.
                       * Since this can break functionality of components that rely on this event, we relay the event to the
                       * ads UI components with the following call.
                       */
                      _this.currentUi
                        .getWrappedPlayer()
                        .fireEventInUI(
                          _this.player.exports.PlayerEvent.AdStarted,
                          adStartedEvent
                        );
                    }
                  }
                );
              };
              // Listen to the following events to trigger UI variant resolution
              if (this.config.autoUiVariantResolve) {
                this.managerPlayerWrapper
                  .getPlayer()
                  .on(
                    this.player.exports.PlayerEvent.SourceLoaded,
                    resolveUiVariant
                  );
                this.managerPlayerWrapper
                  .getPlayer()
                  .on(
                    this.player.exports.PlayerEvent.SourceUnloaded,
                    resolveUiVariant
                  );
                this.managerPlayerWrapper
                  .getPlayer()
                  .on(this.player.exports.PlayerEvent.Play, resolveUiVariant);
                this.managerPlayerWrapper
                  .getPlayer()
                  .on(this.player.exports.PlayerEvent.Paused, resolveUiVariant);
                this.managerPlayerWrapper
                  .getPlayer()
                  .on(
                    this.player.exports.PlayerEvent.AdStarted,
                    resolveUiVariant
                  );
                this.managerPlayerWrapper
                  .getPlayer()
                  .on(
                    this.player.exports.PlayerEvent.AdBreakFinished,
                    resolveUiVariant
                  );
                this.managerPlayerWrapper
                  .getPlayer()
                  .on(
                    this.player.exports.PlayerEvent.PlayerResized,
                    resolveUiVariant
                  );
                this.managerPlayerWrapper
                  .getPlayer()
                  .on(
                    this.player.exports.PlayerEvent.ViewModeChanged,
                    resolveUiVariant
                  );
              }
              this.focusVisibilityTracker =
                new focusvisibilitytracker_1.FocusVisibilityTracker("bmpui");
              // Initialize the UI
              resolveUiVariant(null);
            }
            /**
             * Exposes i18n.getLocalizer() function
             * @returns {I18nApi.getLocalizer()}
             */
            UIManager.localize = function (key) {
              return i18n_1.i18n.getLocalizer(key);
            };
            /**
             * Provide configuration to support Custom UI languages
             * default language: 'en'
             */
            UIManager.setLocalizationConfig = function (localizationConfig) {
              i18n_1.i18n.setConfig(localizationConfig);
            };
            UIManager.prototype.getSubtitleSettingsManager = function () {
              return this.subtitleSettingsManager;
            };
            UIManager.prototype.getConfig = function () {
              return this.config;
            };
            /**
             * Returns the list of UI variants as passed into the constructor of {@link UIManager}.
             * @returns {UIVariant[]} the list of available UI variants
             */
            UIManager.prototype.getUiVariants = function () {
              return this.uiVariants;
            };
            /**
             * Switches to a UI variant from the list returned by {@link getUiVariants}.
             * @param {UIVariant} uiVariant the UI variant to switch to
             * @param {() => void} onShow a callback that is executed just before the new UI variant is shown
             */
            UIManager.prototype.switchToUiVariant = function (
              uiVariant,
              onShow
            ) {
              var uiVariantIndex = this.uiVariants.indexOf(uiVariant);
              var previousUi = this.currentUi;
              var nextUi = this.uiInstanceManagers[uiVariantIndex];
              // Determine if the UI variant is changing
              // Only if the UI variant is changing, we need to do some stuff. Else we just leave everything as-is.
              if (nextUi === this.currentUi) {
                return;
                // console.log('switched from ', this.currentUi ? this.currentUi.getUI() : 'none',
                //   ' to ', nextUi ? nextUi.getUI() : 'none');
              }
              // Hide the currently active UI variant
              if (this.currentUi) {
                this.currentUi.getUI().hide();
              }
              // Assign the new UI variant as current UI
              this.currentUi = nextUi;
              // When we switch to a different UI instance, there's some additional stuff to manage. If we do not switch
              // to an instance, we're done here.
              if (this.currentUi == null) {
                return;
              }
              // Add the UI to the DOM (and configure it) the first time it is selected
              if (!this.currentUi.isConfigured()) {
                this.addUi(this.currentUi);
                // ensure that the internal state is ready for the upcoming show call
                if (!this.currentUi.getUI().isHidden()) {
                  this.currentUi.getUI().hide();
                }
              }
              if (onShow) {
                onShow();
              }
              this.currentUi.getUI().show();
              this.events.onActiveUiChanged.dispatch(this, {
                previousUi: previousUi,
                currentUi: nextUi,
              });
            };
            /**
             * Triggers a UI variant switch as triggered by events when automatic switching is enabled. It allows to overwrite
             * properties of the {@link UIConditionContext}.
             * @param {Partial<UIConditionContext>} context an optional set of properties that overwrite properties of the
             *   automatically determined context
             * @param {(context: UIConditionContext) => void} onShow a callback that is executed just before the new UI variant
             *   is shown (if a switch is happening)
             */
            UIManager.prototype.resolveUiVariant = function (context, onShow) {
              if (context === void 0) {
                context = {};
              }
              // Determine the current context for which the UI variant will be resolved
              var defaultContext = {
                isAd: false,
                adRequiresUi: false,
                isFullscreen:
                  this.player.getViewMode() ===
                  this.player.exports.ViewMode.Fullscreen,
                isMobile: browserutils_1.BrowserUtils.isMobile,
                isPlaying: this.player.isPlaying(),
                width: this.uiContainerElement.width(),
                documentWidth: document.body.clientWidth,
              };
              // Overwrite properties of the default context with passed in context properties
              var switchingContext = __assign(
                __assign({}, defaultContext),
                context
              );
              // Fire the event and allow modification of the context before it is used to resolve the UI variant
              this.events.onUiVariantResolve.dispatch(this, switchingContext);
              var nextUiVariant = null;
              // Select new UI variant
              // If no variant condition is fulfilled, we switch to *no* UI
              for (var _i = 0, _a = this.uiVariants; _i < _a.length; _i++) {
                var uiVariant = _a[_i];
                var matchesCondition =
                  uiVariant.condition == null ||
                  uiVariant.condition(switchingContext) === true;
                if (nextUiVariant == null && matchesCondition) {
                  nextUiVariant = uiVariant;
                } else {
                  // hide all UIs besides the one which should be active
                  uiVariant.ui.hide();
                }
              }
              this.switchToUiVariant(nextUiVariant, function () {
                if (onShow) {
                  onShow(switchingContext);
                }
              });
            };
            UIManager.prototype.addUi = function (ui) {
              var dom = ui.getUI().getDomElement();
              var player = ui.getWrappedPlayer();
              ui.configureControls();
              /* Append the UI DOM after configuration to avoid CSS transitions at initialization
               * Example: Components are hidden during configuration and these hides may trigger CSS transitions that are
               * undesirable at this time. */
              this.uiContainerElement.append(dom);
              // When the UI is loaded after a source was loaded, we need to tell the components to initialize themselves
              if (player.getSource()) {
                this.config.events.onUpdated.dispatch(this);
              }
              // Fire onConfigured after UI DOM elements are successfully added. When fired immediately, the DOM elements
              // might not be fully configured and e.g. do not have a size.
              // https://swizec.com/blog/how-to-properly-wait-for-dom-elements-to-show-up-in-modern-browsers/swizec/6663
              if (window.requestAnimationFrame) {
                requestAnimationFrame(function () {
                  ui.onConfigured.dispatch(ui.getUI());
                });
              } else {
                // IE9 fallback
                setTimeout(function () {
                  ui.onConfigured.dispatch(ui.getUI());
                }, 0);
              }
            };
            UIManager.prototype.releaseUi = function (ui) {
              ui.releaseControls();
              var uiContainer = ui.getUI();
              if (uiContainer.hasDomElement()) {
                uiContainer.getDomElement().remove();
              }
              ui.clearEventHandlers();
            };
            UIManager.prototype.release = function () {
              for (
                var _i = 0, _a = this.uiInstanceManagers;
                _i < _a.length;
                _i++
              ) {
                var uiInstanceManager = _a[_i];
                this.releaseUi(uiInstanceManager);
              }
              this.managerPlayerWrapper.clearEventHandlers();
              this.focusVisibilityTracker.release();
            };
            Object.defineProperty(UIManager.prototype, "onUiVariantResolve", {
              /**
               * Fires just before UI variants are about to be resolved and the UI variant is possibly switched. It is fired when
               * the switch is triggered from an automatic switch and when calling {@link resolveUiVariant}.
               * Can be used to modify the {@link UIConditionContext} before resolving is done.
               * @returns {EventDispatcher<UIManager, UIConditionContext>}
               */
              get: function () {
                return this.events.onUiVariantResolve;
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(UIManager.prototype, "onActiveUiChanged", {
              /**
               * Fires after the UIManager has switched to a different UI variant.
               * @returns {EventDispatcher<UIManager, ActiveUiChangedArgs>}
               */
              get: function () {
                return this.events.onActiveUiChanged;
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(UIManager.prototype, "activeUi", {
              /**
               * The current active {@link UIInstanceManager}.
               */
              get: function () {
                return this.currentUi;
              },
              enumerable: false,
              configurable: true,
            });
            /**
             * Returns the list of all added markers in undefined order.
             */
            UIManager.prototype.getTimelineMarkers = function () {
              return this.config.metadata.markers;
            };
            /**
             * Adds a marker to the timeline. Does not check for duplicates/overlaps at the `time`.
             */
            UIManager.prototype.addTimelineMarker = function (timelineMarker) {
              this.config.metadata.markers.push(timelineMarker);
              this.config.events.onUpdated.dispatch(this);
            };
            /**
             * Removes a marker from the timeline (by reference) and returns `true` if the marker has
             * been part of the timeline and successfully removed, or `false` if the marker could not
             * be found and thus not removed.
             */
            UIManager.prototype.removeTimelineMarker = function (
              timelineMarker
            ) {
              if (
                arrayutils_1.ArrayUtils.remove(
                  this.config.metadata.markers,
                  timelineMarker
                ) === timelineMarker
              ) {
                this.config.events.onUpdated.dispatch(this);
                return true;
              }
              return false;
            };
            return UIManager;
          })();
          exports.UIManager = UIManager;
          /**
           * Encapsulates functionality to manage a UI instance. Used by the {@link UIManager} to manage multiple UI instances.
           */
          var UIInstanceManager = /** @class */ (function () {
            function UIInstanceManager(
              player,
              ui,
              config,
              subtitleSettingsManager,
              spatialNavigation
            ) {
              this.events = {
                onConfigured: new eventdispatcher_1.EventDispatcher(),
                onSeek: new eventdispatcher_1.EventDispatcher(),
                onSeekPreview: new eventdispatcher_1.EventDispatcher(),
                onSeeked: new eventdispatcher_1.EventDispatcher(),
                onComponentShow: new eventdispatcher_1.EventDispatcher(),
                onComponentHide: new eventdispatcher_1.EventDispatcher(),
                onComponentViewModeChanged:
                  new eventdispatcher_1.EventDispatcher(),
                onControlsShow: new eventdispatcher_1.EventDispatcher(),
                onPreviewControlsHide: new eventdispatcher_1.EventDispatcher(),
                onControlsHide: new eventdispatcher_1.EventDispatcher(),
                onRelease: new eventdispatcher_1.EventDispatcher(),
              };
              this.playerWrapper = new PlayerWrapper(player);
              this.ui = ui;
              this.config = config;
              this.subtitleSettingsManager = subtitleSettingsManager;
              this.spatialNavigation = spatialNavigation;
            }
            UIInstanceManager.prototype.getSubtitleSettingsManager =
              function () {
                return this.subtitleSettingsManager;
              };
            UIInstanceManager.prototype.getConfig = function () {
              return this.config;
            };
            UIInstanceManager.prototype.getUI = function () {
              return this.ui;
            };
            UIInstanceManager.prototype.getPlayer = function () {
              return this.playerWrapper.getPlayer();
            };
            Object.defineProperty(UIInstanceManager.prototype, "onConfigured", {
              /**
               * Fires when the UI is fully configured and added to the DOM.
               * @returns {EventDispatcher}
               */
              get: function () {
                return this.events.onConfigured;
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(UIInstanceManager.prototype, "onSeek", {
              /**
               * Fires when a seek starts.
               * @returns {EventDispatcher}
               */
              get: function () {
                return this.events.onSeek;
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(
              UIInstanceManager.prototype,
              "onSeekPreview",
              {
                /**
                 * Fires when the seek timeline is scrubbed.
                 * @returns {EventDispatcher}
                 */
                get: function () {
                  return this.events.onSeekPreview;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(UIInstanceManager.prototype, "onSeeked", {
              /**
               * Fires when a seek is finished.
               * @returns {EventDispatcher}
               */
              get: function () {
                return this.events.onSeeked;
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(
              UIInstanceManager.prototype,
              "onComponentShow",
              {
                /**
                 * Fires when a component is showing.
                 * @returns {EventDispatcher}
                 */
                get: function () {
                  return this.events.onComponentShow;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              UIInstanceManager.prototype,
              "onComponentHide",
              {
                /**
                 * Fires when a component is hiding.
                 * @returns {EventDispatcher}
                 */
                get: function () {
                  return this.events.onComponentHide;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              UIInstanceManager.prototype,
              "onControlsShow",
              {
                /**
                 * Fires when the UI controls are showing.
                 * @returns {EventDispatcher}
                 */
                get: function () {
                  return this.events.onControlsShow;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              UIInstanceManager.prototype,
              "onPreviewControlsHide",
              {
                /**
                 * Fires before the UI controls are hiding to check if they are allowed to hide.
                 * @returns {EventDispatcher}
                 */
                get: function () {
                  return this.events.onPreviewControlsHide;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(
              UIInstanceManager.prototype,
              "onControlsHide",
              {
                /**
                 * Fires when the UI controls are hiding.
                 * @returns {EventDispatcher}
                 */
                get: function () {
                  return this.events.onControlsHide;
                },
                enumerable: false,
                configurable: true,
              }
            );
            Object.defineProperty(UIInstanceManager.prototype, "onRelease", {
              /**
               * Fires when the UI controls are released.
               * @returns {EventDispatcher}
               */
              get: function () {
                return this.events.onRelease;
              },
              enumerable: false,
              configurable: true,
            });
            Object.defineProperty(
              UIInstanceManager.prototype,
              "onComponentViewModeChanged",
              {
                get: function () {
                  return this.events.onComponentViewModeChanged;
                },
                enumerable: false,
                configurable: true,
              }
            );
            UIInstanceManager.prototype.clearEventHandlers = function () {
              this.playerWrapper.clearEventHandlers();
              var events = this.events; // avoid TS7017
              for (var event_1 in events) {
                var dispatcher = events[event_1];
                dispatcher.unsubscribeAll();
              }
            };
            return UIInstanceManager;
          })();
          exports.UIInstanceManager = UIInstanceManager;
          /**
           * Extends the {@link UIInstanceManager} for internal use in the {@link UIManager} and provides access to functionality
           * that components receiving a reference to the {@link UIInstanceManager} should not have access to.
           */
          var InternalUIInstanceManager = /** @class */ (function (_super) {
            __extends(InternalUIInstanceManager, _super);
            function InternalUIInstanceManager() {
              return (_super !== null && _super.apply(this, arguments)) || this;
            }
            InternalUIInstanceManager.prototype.getWrappedPlayer = function () {
              // TODO find a non-hacky way to provide the WrappedPlayer to the UIManager without exporting it
              // getPlayer() actually returns the WrappedPlayer but its return type is set to Player so the WrappedPlayer does
              // not need to be exported
              return this.getPlayer();
            };
            InternalUIInstanceManager.prototype.configureControls =
              function () {
                this.configureControlsTree(this.getUI());
                this.configured = true;
              };
            InternalUIInstanceManager.prototype.isConfigured = function () {
              return this.configured;
            };
            InternalUIInstanceManager.prototype.configureControlsTree =
              function (component) {
                var _this = this;
                var configuredComponents = [];
                uiutils_1.UIUtils.traverseTree(component, function (component) {
                  // First, check if we have already configured a component, and throw an error if we did. Multiple configuration
                  // of the same component leads to unexpected UI behavior. Also, a component that is in the UI tree multiple
                  // times hints at a wrong UI structure.
                  // We could just skip configuration in such a case and not throw an exception, but enforcing a clean UI tree
                  // seems like the better choice.
                  for (
                    var _i = 0, configuredComponents_1 = configuredComponents;
                    _i < configuredComponents_1.length;
                    _i++
                  ) {
                    var configuredComponent = configuredComponents_1[_i];
                    if (configuredComponent === component) {
                      // Write the component to the console to simplify identification of the culprit
                      // (e.g. by inspecting the config)
                      if (console) {
                        console.error(
                          "Circular reference in UI tree",
                          component
                        );
                      }
                      // Additionally throw an error, because this case must not happen and leads to unexpected UI behavior.
                      throw Error(
                        "Circular reference in UI tree: " +
                          component.constructor.name
                      );
                    }
                  }
                  component.initialize();
                  component.configure(_this.getPlayer(), _this);
                  configuredComponents.push(component);
                });
              };
            InternalUIInstanceManager.prototype.releaseControls = function () {
              var _a;
              // Do not call release methods if the components have never been configured; this can result in exceptions
              if (this.configured) {
                this.onRelease.dispatch(this.getUI());
                this.releaseControlsTree(this.getUI());
                this.configured = false;
              }
              (_a = this.spatialNavigation) === null || _a === void 0
                ? void 0
                : _a.release();
              this.released = true;
            };
            InternalUIInstanceManager.prototype.isReleased = function () {
              return this.released;
            };
            InternalUIInstanceManager.prototype.releaseControlsTree = function (
              component
            ) {
              component.release();
              if (component instanceof container_1.Container) {
                for (
                  var _i = 0, _a = component.getComponents();
                  _i < _a.length;
                  _i++
                ) {
                  var childComponent = _a[_i];
                  this.releaseControlsTree(childComponent);
                }
              }
            };
            InternalUIInstanceManager.prototype.clearEventHandlers =
              function () {
                _super.prototype.clearEventHandlers.call(this);
              };
            return InternalUIInstanceManager;
          })(UIInstanceManager);
          /**
           * Wraps the player to track event handlers and provide a simple method to remove all registered event
           * handlers from the player.
           *
           * @category Utils
           */
          var PlayerWrapper = /** @class */ (function () {
            function PlayerWrapper(player) {
              var _this = this;
              this.eventHandlers = {};
              this.player = player;
              // Collect all members of the player (public API methods and properties of the player)
              var objectProtoPropertyNames = Object.getOwnPropertyNames(
                Object.getPrototypeOf({})
              );
              var namesToIgnore = __spreadArray(
                ["constructor"],
                objectProtoPropertyNames,
                true
              );
              var members = getAllPropertyNames(player).filter(function (name) {
                return namesToIgnore.indexOf(name) === -1;
              });
              // Split the members into methods and properties
              var methods = [];
              var properties = [];
              for (
                var _i = 0, members_1 = members;
                _i < members_1.length;
                _i++
              ) {
                var member = members_1[_i];
                if (typeof player[member] === "function") {
                  methods.push(member);
                } else {
                  properties.push(member);
                }
              }
              // Create wrapper object
              var wrapper = {};
              var _loop_1 = function (method) {
                wrapper[method] = function () {
                  // console.log('called ' + member); // track method calls on the player
                  // eslint-disable-next-line @typescript-eslint/no-unsafe-call
                  return player[method].apply(player, arguments);
                };
              };
              // Add function wrappers for all API methods that do nothing but calling the base method on the player
              for (
                var _a = 0, methods_1 = methods;
                _a < methods_1.length;
                _a++
              ) {
                var method = methods_1[_a];
                _loop_1(method);
              }
              var _loop_2 = function (property) {
                // Get an eventually existing property descriptor to differentiate between plain properties and properties with
                // getters/setters.
                var propertyDescriptor = (function (target) {
                  while (target) {
                    var propertyDescriptor_1 = Object.getOwnPropertyDescriptor(
                      target,
                      property
                    );
                    if (propertyDescriptor_1) {
                      return propertyDescriptor_1;
                    }
                    // Check if the PropertyDescriptor exists on a child prototype in case we have an inheritance of the player
                    target = Object.getPrototypeOf(target);
                  }
                })(player);
                // If the property has getters/setters, wrap them accordingly...
                if (
                  propertyDescriptor &&
                  (propertyDescriptor.get || propertyDescriptor.set)
                ) {
                  Object.defineProperty(wrapper, property, {
                    get: function () {
                      return propertyDescriptor.get.call(player);
                    },
                    set: function (value) {
                      return propertyDescriptor.set.call(player, value);
                    },
                  });
                }
                // ... else just transfer the property to the wrapper
                else {
                  wrapper[property] = player[property];
                }
              };
              // Add all public properties of the player to the wrapper
              for (
                var _b = 0, properties_1 = properties;
                _b < properties_1.length;
                _b++
              ) {
                var property = properties_1[_b];
                _loop_2(property);
              }
              // Explicitly add a wrapper method for 'on' that adds added event handlers to the event list
              wrapper.on = function (eventType, callback) {
                player.on(eventType, callback);
                if (!_this.eventHandlers[eventType]) {
                  _this.eventHandlers[eventType] = [];
                }
                _this.eventHandlers[eventType].push(callback);
                return wrapper;
              };
              // Explicitly add a wrapper method for 'off' that removes removed event handlers from the event list
              wrapper.off = function (eventType, callback) {
                player.off(eventType, callback);
                if (_this.eventHandlers[eventType]) {
                  arrayutils_1.ArrayUtils.remove(
                    _this.eventHandlers[eventType],
                    callback
                  );
                }
                return wrapper;
              };
              wrapper.fireEventInUI = function (event, data) {
                if (_this.eventHandlers[event]) {
                  // check if there are handlers for this event registered
                  // Extend the data object with default values to convert it to a {@link PlayerEventBase} object.
                  var playerEventData = Object.assign(
                    {},
                    {
                      timestamp: Date.now(),
                      type: event,
                      // Add a marker property so the UI can detect UI-internal player events
                      uiSourced: true,
                    },
                    data
                  );
                  // Execute the registered callbacks
                  for (
                    var _i = 0, _a = _this.eventHandlers[event];
                    _i < _a.length;
                    _i++
                  ) {
                    var callback = _a[_i];
                    callback(playerEventData);
                  }
                }
              };
              this.wrapper = wrapper;
            }
            /**
             * Returns a wrapped player object that can be used on place of the normal player object.
             * @returns {WrappedPlayer} a wrapped player
             */
            PlayerWrapper.prototype.getPlayer = function () {
              return this.wrapper;
            };
            /**
             * Clears all registered event handlers from the player that were added through the wrapped player.
             */
            PlayerWrapper.prototype.clearEventHandlers = function () {
              try {
                // Call the player API to check if the instance is still valid or already destroyed.
                // This can be any call throwing the PlayerAPINotAvailableError when the player instance is destroyed.
                this.player.getSource();
              } catch (error) {
                if (
                  error instanceof
                  this.player.exports.PlayerAPINotAvailableError
                ) {
                  // We have detected that the player instance is already destroyed, so we clear the event handlers to avoid
                  // event handler unsubscription attempts (which would result in PlayerAPINotAvailableError errors).
                  this.eventHandlers = {};
                }
              }
              for (var eventType in this.eventHandlers) {
                for (
                  var _i = 0, _a = this.eventHandlers[eventType];
                  _i < _a.length;
                  _i++
                ) {
                  var callback = _a[_i];
                  this.player.off(eventType, callback);
                }
              }
            };
            return PlayerWrapper;
          })();
          exports.PlayerWrapper = PlayerWrapper;
          function getAllPropertyNames(target) {
            var names = [];
            while (target) {
              var newNames = Object.getOwnPropertyNames(target).filter(
                function (name) {
                  return names.indexOf(name) === -1;
                }
              );
              names = names.concat(newNames);
              // go up prototype chain
              target = Object.getPrototypeOf(target);
            }
            return names;
          }
        },
        {
          "./arrayutils": 1,
          "./browserutils": 3,
          "./components/container": 19,
          "./components/subtitlesettings/subtitlesettingsmanager": 67,
          "./components/uicontainer": 76,
          "./dom": 84,
          "./eventdispatcher": 86,
          "./focusvisibilitytracker": 87,
          "./localization/i18n": 91,
          "./mobilev3playerapi": 97,
          "./storageutils": 110,
          "./uiutils": 117,
          "./volumecontroller": 118,
        },
      ],
      117: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.UIUtils = void 0;
          var container_1 = require("./components/container");
          /**
           * @category Utils
           */
          var UIUtils;
          (function (UIUtils) {
            function traverseTree(component, visit) {
              var recursiveTreeWalker = function (component, parent) {
                visit(component, parent);
                // If the current component is a container, visit it's children
                if (component instanceof container_1.Container) {
                  for (
                    var _i = 0, _a = component.getComponents();
                    _i < _a.length;
                    _i++
                  ) {
                    var childComponent = _a[_i];
                    recursiveTreeWalker(childComponent, component);
                  }
                }
              };
              // Walk and configure the component tree
              recursiveTreeWalker(component);
            }
            UIUtils.traverseTree = traverseTree;
            // From: https://github.com/nfriend/ts-keycode-enum/blob/master/Key.enum.ts
            var KeyCode;
            (function (KeyCode) {
              KeyCode[(KeyCode["LeftArrow"] = 37)] = "LeftArrow";
              KeyCode[(KeyCode["UpArrow"] = 38)] = "UpArrow";
              KeyCode[(KeyCode["RightArrow"] = 39)] = "RightArrow";
              KeyCode[(KeyCode["DownArrow"] = 40)] = "DownArrow";
              KeyCode[(KeyCode["Space"] = 32)] = "Space";
              KeyCode[(KeyCode["End"] = 35)] = "End";
              KeyCode[(KeyCode["Home"] = 36)] = "Home";
            })((KeyCode = UIUtils.KeyCode || (UIUtils.KeyCode = {})));
          })(UIUtils || (exports.UIUtils = UIUtils = {}));
        },
        { "./components/container": 19 },
      ],
      118: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.VolumeTransition = exports.VolumeController = void 0;
          var eventdispatcher_1 = require("./eventdispatcher");
          /**
           * Can be used to centrally manage and control the volume and mute state of the player from multiple components.
           */
          var VolumeController = /** @class */ (function () {
            function VolumeController(player) {
              var _this = this;
              this.player = player;
              this.events = {
                onChanged: new eventdispatcher_1.EventDispatcher(),
              };
              this.storeVolume();
              var handler = function () {
                _this.onChangedEvent();
              };
              player.on(player.exports.PlayerEvent.SourceLoaded, handler);
              player.on(player.exports.PlayerEvent.VolumeChanged, handler);
              player.on(player.exports.PlayerEvent.Muted, handler);
              player.on(player.exports.PlayerEvent.Unmuted, handler);
            }
            VolumeController.prototype.setVolume = function (volume) {
              this.player.setVolume(volume, VolumeController.issuerName);
            };
            VolumeController.prototype.getVolume = function () {
              return this.player.getVolume();
            };
            VolumeController.prototype.setMuted = function (muted) {
              if (muted) {
                this.player.mute(VolumeController.issuerName);
              } else {
                this.player.unmute(VolumeController.issuerName);
              }
            };
            VolumeController.prototype.toggleMuted = function () {
              if (this.isMuted() || this.getVolume() === 0) {
                // Unmuting from the mute or zero-volume state recalls the previously saved volume setting. Setting the
                // volume automatically unmutes the player in v7.
                this.recallVolume();
              } else {
                this.setMuted(true);
              }
            };
            VolumeController.prototype.isMuted = function () {
              return this.player.isMuted();
            };
            /**
             * Stores (saves) the current volume so it can later be restored with {@link recallVolume}.
             */
            VolumeController.prototype.storeVolume = function () {
              this.storedVolume = this.getVolume();
            };
            /**
             * Recalls (sets) the volume previously stored with {@link storeVolume}.
             */
            VolumeController.prototype.recallVolume = function () {
              this.setMuted(this.storedVolume === 0);
              this.setVolume(this.storedVolume);
            };
            VolumeController.prototype.startTransition = function () {
              return new VolumeTransition(this);
            };
            VolumeController.prototype.onChangedEvent = function () {
              var playerMuted = this.isMuted();
              var playerVolume = this.getVolume();
              var uiMuted = playerMuted || playerVolume === 0;
              var uiVolume = playerMuted ? 0 : playerVolume;
              this.storeVolume();
              this.events.onChanged.dispatch(this, {
                volume: uiVolume,
                muted: uiMuted,
              });
            };
            Object.defineProperty(VolumeController.prototype, "onChanged", {
              /**
               * Gets the event that is fired when the volume settings have changed.
               */
              get: function () {
                return this.events.onChanged.getEvent();
              },
              enumerable: false,
              configurable: true,
            });
            VolumeController.issuerName = "ui-volumecontroller";
            return VolumeController;
          })();
          exports.VolumeController = VolumeController;
          var VolumeTransition = /** @class */ (function () {
            function VolumeTransition(controller) {
              this.controller = controller;
              // Store the volume at the beginning of a volume change so we can recall it later in case we set the volume to
              // zero and actually mute the player.
              controller.storeVolume();
            }
            VolumeTransition.prototype.update = function (volume) {
              // Update the volume while transitioning so the user has a "live preview" of the desired target volume
              this.controller.setMuted(false);
              this.controller.setVolume(volume);
            };
            VolumeTransition.prototype.finish = function (volume) {
              if (volume === 0) {
                // When the volume is zero we essentially mute the volume so we recall the volume from the beginning of the
                // transition and mute the player instead. Recalling is necessary to return to the actual audio volume
                // when unmuting.
                // We must first recall the volume and then mute, because recalling sets the volume on the player
                // and setting a player volume > 0 unmutes the player in v7.
                this.controller.recallVolume();
                this.controller.setMuted(true);
              } else {
                this.controller.setMuted(false);
                this.controller.setVolume(volume);
                this.controller.storeVolume();
              }
            };
            return VolumeTransition;
          })();
          exports.VolumeTransition = VolumeTransition;
        },
        { "./eventdispatcher": 86 },
      ],
      119: [
        function (require, module, exports) {
          "use strict";
          Object.defineProperty(exports, "__esModule", { value: true });
          exports.VttUtils = void 0;
          // Our default height of a line
          var lineHeight = 28;
          // Default relative line height
          var lineHeightPercent = 5;
          var lineCount = 1;
          var defaultLineNumber = 21; // Our default amount of lines
          var Direction;
          (function (Direction) {
            Direction["Top"] = "top";
            Direction["Bottom"] = "bottom";
            Direction["Left"] = "left";
            Direction["Right"] = "right";
          })(Direction || (Direction = {}));
          var VttVerticalWriting;
          (function (VttVerticalWriting) {
            VttVerticalWriting["GrowingRight"] = "lr";
            VttVerticalWriting["GrowingLeft"] = "rl";
          })(VttVerticalWriting || (VttVerticalWriting = {}));
          var DirectionPair = new Map([
            [Direction.Top, Direction.Bottom],
            [Direction.Bottom, Direction.Top],
            [Direction.Left, Direction.Right],
            [Direction.Right, Direction.Left],
          ]);
          /**
           * Sets the default standardized styles for the Cue Box
           * https://w3.org/TR/webvtt1/#applying-css-properties
           */
          var setDefaultVttStyles = function (cueContainerDom, vtt) {
            if (vtt.region) {
              cueContainerDom.css("position", "relative");
              cueContainerDom.css("unicode-bidi", "plaintext");
            } else {
              cueContainerDom.css("position", "absolute");
              cueContainerDom.css("overflow-wrap", "break-word");
              cueContainerDom.css("overflow", "hidden");
              cueContainerDom.css("flex-flow", "column");
            }
            cueContainerDom.css("display", "inline-flex");
          };
          /**
           * Align the Cue Box's line
           * https://w3.org/TR/webvtt1/#webvtt-cue-line-alignment
           */
          var setVttLineAlign = function (
            cueContainerDom,
            _a,
            direction,
            relativeCueBoxPosition
          ) {
            var lineAlign = _a.lineAlign;
            switch (lineAlign) {
              case "center":
                setCssForCenterLineAlign(
                  cueContainerDom,
                  direction,
                  relativeCueBoxPosition
                );
                break;
              case "end":
                setCssForEndLineAlign(
                  cueContainerDom,
                  direction,
                  relativeCueBoxPosition
                );
            }
          };
          /**
           * Defines the line positioning of the Cue Box
           * https://w3.org/TR/webvtt1/#webvtt-cue-line
           */
          var setVttLine = function (
            cueContainerDom,
            vtt,
            direction,
            subtitleOverLaySize
          ) {
            var overlayReferenceEdge = DirectionPair.get(direction);
            if (vtt.line === "auto" && vtt.vertical) {
              cueContainerDom.css(overlayReferenceEdge, "0");
              return;
            }
            if (vtt.line === "auto" && !vtt.vertical) {
              return;
            }
            var relativeLinePosition = parseFloat(vtt.line);
            if (vtt.snapToLines) {
              var targetLine = Number(vtt.line);
              if (targetLine < 0) {
                targetLine = defaultLineNumber + targetLine;
              }
              var lineHeight_1 = subtitleOverLaySize.height / defaultLineNumber;
              var absoluteLinePosition = lineHeight_1 * targetLine;
              relativeLinePosition =
                (100 * absoluteLinePosition) / subtitleOverLaySize.height;
            }
            if (vtt.lineAlign !== "end")
              cueContainerDom.css(
                overlayReferenceEdge,
                "".concat(relativeLinePosition, "%")
              );
            setVttLineAlign(
              cueContainerDom,
              vtt,
              direction,
              relativeLinePosition
            );
          };
          /**
           * Defines the writing direction of the Cue Box
           * https://w3.org/TR/webvtt1/#webvtt-cue-writing-direction
           */
          var setVttWritingDirectionAndCueBoxPositioning = function (
            cueContainerDom,
            vtt,
            subtitleOverlaySize
          ) {
            switch (vtt.vertical) {
              case "":
                cueContainerDom.css("writing-mode", "horizontal-tb");
                cueContainerDom.css(Direction.Bottom, "0");
                setVttLine(
                  cueContainerDom,
                  vtt,
                  Direction.Bottom,
                  subtitleOverlaySize
                );
                break;
              case VttVerticalWriting.GrowingRight:
                setCueBoxPositionForVerticalWriting(
                  cueContainerDom,
                  Direction.Right,
                  vtt,
                  subtitleOverlaySize
                );
                break;
              case VttVerticalWriting.GrowingLeft:
                setCueBoxPositionForVerticalWriting(
                  cueContainerDom,
                  Direction.Left,
                  vtt,
                  subtitleOverlaySize
                );
                break;
            }
          };
          var setCueBoxPositionForVerticalWriting = function (
            cueContainerDom,
            direction,
            vtt,
            subtitleOverlaySize
          ) {
            var writingMode =
              direction === Direction.Right ? "vertical-lr" : "vertical-rl";
            cueContainerDom.css("writing-mode", writingMode);
            cueContainerDom.css(Direction.Top, "0");
            setVttLine(cueContainerDom, vtt, direction, subtitleOverlaySize);
          };
          /**
           * Defines the Cue position alignment
           * https://w3.org/TR/webvtt1/#webvtt-cue-position-alignment
           */
          var setVttPositionAlign = function (cueContainerDom, vtt, direction) {
            // https://www.w3.org/TR/webvtt1/#webvtt-cue-position
            if (vtt.position === "auto") {
              cueContainerDom.css(direction, "0");
            } else {
              switch (vtt.positionAlign) {
                case "line-left":
                  cueContainerDom.css(direction, "".concat(vtt.position, "%"));
                  cueContainerDom.css(DirectionPair.get(direction), "auto");
                  cueContainerDom.css("justify-content", "flex-start");
                  break;
                case "center":
                  cueContainerDom.css(
                    direction,
                    "".concat(vtt.position - vtt.size / 2, "%")
                  );
                  cueContainerDom.css(DirectionPair.get(direction), "auto");
                  cueContainerDom.css("justify-content", "center");
                  break;
                case "line-right":
                  cueContainerDom.css(direction, "auto");
                  cueContainerDom.css(
                    DirectionPair.get(direction),
                    "".concat(100 - vtt.position, "%")
                  );
                  cueContainerDom.css("justify-content", "flex-end");
                  break;
                default:
                  cueContainerDom.css(direction, "".concat(vtt.position, "%"));
                  cueContainerDom.css("justify-content", "flex-start");
              }
            }
          };
          var countLines = function (innerHtml) {
            return innerHtml.split("<br />").length;
          };
          var setCssForCenterLineAlign = function (
            cueContainerDom,
            direction,
            relativeCueBoxPosition
          ) {
            switch (direction) {
              case Direction.Bottom:
                cueContainerDom.css("transform", "translateY(-50%)");
                break;
              case Direction.Left:
                cueContainerDom.css("transform", "translateX(50%)");
                break;
              case Direction.Right:
                cueContainerDom.css("transform", "translateX(-50%)");
                break;
            }
          };
          var setCssForEndLineAlign = function (
            cueContainerDom,
            direction,
            offset
          ) {
            var opositeToOverlayReferenceEdge = direction;
            cueContainerDom.css(
              opositeToOverlayReferenceEdge,
              "".concat(100 - offset, "%")
            );
          };
          /**
           * @category Utils
           */
          var VttUtils;
          (function (VttUtils) {
            VttUtils.setVttCueBoxStyles = function (
              cueContainer,
              subtitleOverlaySize
            ) {
              var vtt = cueContainer.vtt;
              var cueContainerDom = cueContainer.getDomElement();
              setDefaultVttStyles(cueContainerDom, vtt);
              lineCount = countLines(cueContainer.getText());
              setVttWritingDirectionAndCueBoxPositioning(
                cueContainerDom,
                vtt,
                subtitleOverlaySize
              );
              // https://w3.org/TR/webvtt1/#webvtt-cue-text-alignment
              var textAlign = vtt.align === "middle" ? "center" : vtt.align;
              cueContainerDom.css("text-align", textAlign);
              // https://w3.org/TR/webvtt1/#webvtt-cue-size
              var containerSize = vtt.size;
              if (vtt.vertical === "") {
                cueContainerDom.css("width", "".concat(containerSize, "%"));
                setVttPositionAlign(cueContainerDom, vtt, Direction.Left);
              } else {
                cueContainerDom.css("height", "".concat(containerSize, "%"));
                setVttPositionAlign(cueContainerDom, vtt, Direction.Top);
              }
            };
            /** https://www.w3.org/TR/webvtt1/#regions
             *  https://www.speechpad.com/captions/webvtt#toc_16
             */
            VttUtils.setVttRegionStyles = function (
              regionContainer,
              region,
              overlaySize
            ) {
              var regionContainerDom = regionContainer.getDomElement();
              var regionPositionX =
                (overlaySize.width * region.viewportAnchorX) / 100 -
                (((overlaySize.width * region.width) / 100) *
                  region.regionAnchorX) /
                  100;
              var regionPositionY =
                (overlaySize.height * region.viewportAnchorY) / 100 -
                (region.lines * lineHeight * region.regionAnchorY) / 100;
              regionContainerDom.css("position", "absolute");
              regionContainerDom.css("overflow", "hidden");
              regionContainerDom.css("width", "".concat(region.width, "%"));
              regionContainerDom.css(
                Direction.Left,
                "".concat(regionPositionX, "px")
              );
              regionContainerDom.css(Direction.Right, "unset");
              regionContainerDom.css(
                Direction.Top,
                "".concat(regionPositionY, "px")
              );
              regionContainerDom.css(Direction.Bottom, "unset");
              regionContainerDom.css(
                "height",
                "".concat(region.lines * lineHeight, "px")
              );
            };
          })(VttUtils || (exports.VttUtils = VttUtils = {}));
        },
        {},
      ],
    },
    {},
    [96]
  )(96);
});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdHMvYXJyYXl1dGlscy50cyIsInNyYy90cy9hdWRpb3RyYWNrdXRpbHMudHMiLCJzcmMvdHMvYnJvd3NlcnV0aWxzLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvYWRjbGlja292ZXJsYXkudHMiLCJzcmMvdHMvY29tcG9uZW50cy9hZG1lc3NhZ2VsYWJlbC50cyIsInNyYy90cy9jb21wb25lbnRzL2Fkc2tpcGJ1dHRvbi50cyIsInNyYy90cy9jb21wb25lbnRzL2FpcnBsYXl0b2dnbGVidXR0b24udHMiLCJzcmMvdHMvY29tcG9uZW50cy9hdWRpb3F1YWxpdHlzZWxlY3Rib3gudHMiLCJzcmMvdHMvY29tcG9uZW50cy9hdWRpb3RyYWNrbGlzdGJveC50cyIsInNyYy90cy9jb21wb25lbnRzL2F1ZGlvdHJhY2tzZWxlY3Rib3gudHMiLCJzcmMvdHMvY29tcG9uZW50cy9idWZmZXJpbmdvdmVybGF5LnRzIiwic3JjL3RzL2NvbXBvbmVudHMvYnV0dG9uLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvY2FzdHN0YXR1c292ZXJsYXkudHMiLCJzcmMvdHMvY29tcG9uZW50cy9jYXN0dG9nZ2xlYnV0dG9uLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvY2FzdHVpY29udGFpbmVyLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvY2xpY2tvdmVybGF5LnRzIiwic3JjL3RzL2NvbXBvbmVudHMvY2xvc2VidXR0b24udHMiLCJzcmMvdHMvY29tcG9uZW50cy9jb21wb25lbnQudHMiLCJzcmMvdHMvY29tcG9uZW50cy9jb250YWluZXIudHMiLCJzcmMvdHMvY29tcG9uZW50cy9jb250cm9sYmFyLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvZWNvbW9kZWNvbnRhaW5lci50cyIsInNyYy90cy9jb21wb25lbnRzL2Vjb21vZGV0b2dnbGVidXR0b24udHMiLCJzcmMvdHMvY29tcG9uZW50cy9lcnJvcm1lc3NhZ2VvdmVybGF5LnRzIiwic3JjL3RzL2NvbXBvbmVudHMvZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbi50cyIsInNyYy90cy9jb21wb25lbnRzL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbi50cyIsInNyYy90cy9jb21wb25lbnRzL2h1Z2VyZXBsYXlidXR0b24udHMiLCJzcmMvdHMvY29tcG9uZW50cy9pdGVtc2VsZWN0aW9ubGlzdC50cyIsInNyYy90cy9jb21wb25lbnRzL2xhYmVsLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvbGlzdGJveC50cyIsInNyYy90cy9jb21wb25lbnRzL2xpc3RzZWxlY3Rvci50cyIsInNyYy90cy9jb21wb25lbnRzL21ldGFkYXRhbGFiZWwudHMiLCJzcmMvdHMvY29tcG9uZW50cy9waWN0dXJlaW5waWN0dXJldG9nZ2xlYnV0dG9uLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvcGxheWJhY2tzcGVlZHNlbGVjdGJveC50cyIsInNyYy90cy9jb21wb25lbnRzL3BsYXliYWNrdGltZWxhYmVsLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b24udHMiLCJzcmMvdHMvY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZW92ZXJsYXkudHMiLCJzcmMvdHMvY29tcG9uZW50cy9xdWlja3NlZWtidXR0b24udHMiLCJzcmMvdHMvY29tcG9uZW50cy9yZWNvbW1lbmRhdGlvbm92ZXJsYXkudHMiLCJzcmMvdHMvY29tcG9uZW50cy9yZXBsYXlidXR0b24udHMiLCJzcmMvdHMvY29tcG9uZW50cy9zZWVrYmFyLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvc2Vla2JhcmJ1ZmZlcmxldmVsLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvc2Vla2JhcmNvbnRyb2xsZXIudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zZWVrYmFybGFiZWwudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zZWxlY3Rib3gudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zZXR0aW5nc3BhbmVsLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvc2V0dGluZ3NwYW5lbGl0ZW0udHMiLCJzcmMvdHMvY29tcG9uZW50cy9zZXR0aW5nc3BhbmVscGFnZS50cyIsInNyYy90cy9jb21wb25lbnRzL3NldHRpbmdzcGFuZWxwYWdlYmFja2J1dHRvbi50cyIsInNyYy90cy9jb21wb25lbnRzL3NldHRpbmdzcGFuZWxwYWdlbmF2aWdhdG9yYnV0dG9uLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvc2V0dGluZ3NwYW5lbHBhZ2VvcGVuYnV0dG9uLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvc2V0dGluZ3N0b2dnbGVidXR0b24udHMiLCJzcmMvdHMvY29tcG9uZW50cy9zcGFjZXIudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zdWJ0aXRsZWxpc3Rib3gudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zdWJ0aXRsZW92ZXJsYXkudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zdWJ0aXRsZXNlbGVjdGJveC50cyIsInNyYy90cy9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvYmFja2dyb3VuZGNvbG9yc2VsZWN0Ym94LnRzIiwic3JjL3RzL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9iYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveC50cyIsInNyYy90cy9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvY2hhcmFjdGVyZWRnZWNvbG9yc2VsZWN0Ym94LnRzIiwic3JjL3RzL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9jaGFyYWN0ZXJlZGdlc2VsZWN0Ym94LnRzIiwic3JjL3RzL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250Y29sb3JzZWxlY3Rib3gudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRmYW1pbHlzZWxlY3Rib3gudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRvcGFjaXR5c2VsZWN0Ym94LnRzIiwic3JjL3RzL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250c2l6ZXNlbGVjdGJveC50cyIsInNyYy90cy9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvZm9udHN0eWxlc2VsZWN0Ym94LnRzIiwic3JjL3RzL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3gudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NsYWJlbC50cyIsInNyYy90cy9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc21hbmFnZXIudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NwYW5lbHBhZ2UudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbi50cyIsInNyYy90cy9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93Y29sb3JzZWxlY3Rib3gudHMiLCJzcmMvdHMvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3dpbmRvd29wYWNpdHlzZWxlY3Rib3gudHMiLCJzcmMvdHMvY29tcG9uZW50cy90aW1lbGluZW1hcmtlcnNoYW5kbGVyLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvdGl0bGViYXIudHMiLCJzcmMvdHMvY29tcG9uZW50cy90b2dnbGVidXR0b24udHMiLCJzcmMvdHMvY29tcG9uZW50cy90dm5vaXNlY2FudmFzLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvdWljb250YWluZXIudHMiLCJzcmMvdHMvY29tcG9uZW50cy92aWRlb3F1YWxpdHlzZWxlY3Rib3gudHMiLCJzcmMvdHMvY29tcG9uZW50cy92b2x1bWVjb250cm9sYnV0dG9uLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvdm9sdW1lc2xpZGVyLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvdm9sdW1ldG9nZ2xlYnV0dG9uLnRzIiwic3JjL3RzL2NvbXBvbmVudHMvdnJ0b2dnbGVidXR0b24udHMiLCJzcmMvdHMvY29tcG9uZW50cy93YXRlcm1hcmsudHMiLCJzcmMvdHMvZGVtb2ZhY3RvcnkudHMiLCJzcmMvdHMvZG9tLnRzIiwic3JjL3RzL2Vycm9ydXRpbHMudHMiLCJzcmMvdHMvZXZlbnRkaXNwYXRjaGVyLnRzIiwic3JjL3RzL2ZvY3VzdmlzaWJpbGl0eXRyYWNrZXIudHMiLCJzcmMvdHMvZ3JvdXBwbGF5YmFja2FwaS50cyIsInNyYy90cy9ndWlkLnRzIiwic3JjL3RzL2ltYWdlbG9hZGVyLnRzIiwic3JjL3RzL2xvY2FsaXphdGlvbi9pMThuLnRzIiwic3JjL3RzL2xvY2FsaXphdGlvbi9sYW5ndWFnZXMvZGUuanNvbiIsInNyYy90cy9sb2NhbGl6YXRpb24vbGFuZ3VhZ2VzL2VuLmpzb24iLCJzcmMvdHMvbG9jYWxpemF0aW9uL2xhbmd1YWdlcy9lcy5qc29uIiwic3JjL3RzL2xvY2FsaXphdGlvbi9sYW5ndWFnZXMvbmwuanNvbiIsInNyYy90cy9tYWluLnRzIiwic3JjL3RzL21vYmlsZXYzcGxheWVyYXBpLnRzIiwic3JjL3RzL3BsYXllcnV0aWxzLnRzIiwic3JjL3RzL3NwYXRpYWxuYXZpZ2F0aW9uL0xpc3ROYXZpZ2F0aW9uR3JvdXAudHMiLCJzcmMvdHMvc3BhdGlhbG5hdmlnYXRpb24vZ2V0aHRtbGVsZW1lbnRzZnJvbWNvbXBvbmVudHMudHMiLCJzcmMvdHMvc3BhdGlhbG5hdmlnYXRpb24va2V5bWFwLnRzIiwic3JjL3RzL3NwYXRpYWxuYXZpZ2F0aW9uL25hdmlnYXRpb25hbGdvcml0aG0udHMiLCJzcmMvdHMvc3BhdGlhbG5hdmlnYXRpb24vbmF2aWdhdGlvbmdyb3VwLnRzIiwic3JjL3RzL3NwYXRpYWxuYXZpZ2F0aW9uL25vZGVldmVudHN1YnNjcmliZXIudHMiLCJzcmMvdHMvc3BhdGlhbG5hdmlnYXRpb24vcm9vdG5hdmlnYXRpb25ncm91cC50cyIsInNyYy90cy9zcGF0aWFsbmF2aWdhdGlvbi9zZWVrYmFyaGFuZGxlci50cyIsInNyYy90cy9zcGF0aWFsbmF2aWdhdGlvbi9zcGF0aWFsbmF2aWdhdGlvbi50cyIsInNyYy90cy9zcGF0aWFsbmF2aWdhdGlvbi90eXBlZ3VhcmRzLnRzIiwic3JjL3RzL3NwYXRpYWxuYXZpZ2F0aW9uL3R5cGVzLnRzIiwic3JjL3RzL3N0b3JhZ2V1dGlscy50cyIsInNyYy90cy9zdHJpbmd1dGlscy50cyIsInNyYy90cy9zdWJ0aXRsZXV0aWxzLnRzIiwic3JjL3RzL3RpbWVvdXQudHMiLCJzcmMvdHMvdWlmYWN0b3J5LnRzIiwic3JjL3RzL3VpbWFuYWdlci50cyIsInNyYy90cy91aXV0aWxzLnRzIiwic3JjL3RzL3ZvbHVtZWNvbnRyb2xsZXIudHMiLCJzcmMvdHMvdnR0dXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUNBQTs7R0FFRztBQUNILElBQWlCLFVBQVUsQ0FnQjFCO0FBaEJELFdBQWlCLFVBQVU7SUFDekI7Ozs7O09BS0c7SUFDSCxTQUFnQixNQUFNLENBQUksS0FBVSxFQUFFLElBQU87UUFDM0MsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVoQyxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ2YsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQyxDQUFDO2FBQU0sQ0FBQztZQUNOLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztJQUNILENBQUM7SUFSZSxpQkFBTSxTQVFyQixDQUFBO0FBQ0gsQ0FBQyxFQWhCZ0IsVUFBVSwwQkFBVixVQUFVLFFBZ0IxQjs7Ozs7O0FDaEJELDRDQUEyQztBQUUzQzs7Ozs7O0dBTUc7QUFDSDtJQU1FLGlDQUFZLE1BQWlCLEVBQUUsT0FBeUMsRUFBRSxTQUE0QjtRQUF0RyxpQkFRQztRQXFCTyxrQkFBYSxHQUFHLFVBQUMsS0FBc0I7WUFDN0MsSUFBTSxVQUFVLEdBQUcsS0FBSyxD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QUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDbkYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDNUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUMxRixDQUFDO0lBY0QsaUNBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDcEYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDN0UsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUN6RixJQUFJ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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUMsYUFBYSxDQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUM7Z0JBQzdHLENBQUM7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQztRQUVGLGtFQUFrRTtRQUNsRSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztZQUNyQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUN6RyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUMzRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUNqRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUNuRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUN0RyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUsZ0JBQWdCLENBQUMs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LE1BQU0sQ0FBQyxhQUFhLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDdkksa0JBQWtCLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzdDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsVUFBRyxNQUFNLENBQUMsS0FBSyxNQUFHLENBQUMsQ0FBQztRQUNwRCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxVQUFHLGVBQWUsT0FBSSxDQUFDLENBQUM7UUFDL0Qsa0JBQWtCLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDakQsa0JBQWtCLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsVUFBRyxlQUFlLE9BQUksQ0FBQyxDQUFDO1FBQzlELGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ2xELGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsVUFBRyxNQUFNLENBQUMsS0FBSyxHQUFHLFVBQVUsT0FBSSxDQUFDLENBQUM7SUFDckUsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxFQWpEZ0IsUUFBUSx3QkFBUixRQUFRLFFBaUR4QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlxuICogQGNhdGVnb3J5IFV0aWxzXG4gKi9cbmV4cG9ydCBuYW1lc3BhY2UgQXJyYXlVdGlscyB7XG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSBhbiBhcnJheS5cbiAgICogQHBhcmFtIGFycmF5IHRoZSBhcnJheSB0aGF0IG1heSBjb250YWluIHRoZSBpdGVtIHRvIHJlbW92ZVxuICAgKiBAcGFyYW0gaXRlbSB0aGUgaXRlbSB0byByZW1vdmUgZnJvbSB0aGUgYXJyYXlcbiAgICogQHJldHVybnMge2FueX0gdGhlIHJlbW92ZWQgaXRlbSBvciBudWxsIGlmIGl0IHdhc24ndCBwYXJ0IG9mIHRoZSBhcnJheVxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZTxUPihhcnJheTogVFtdLCBpdGVtOiBUKTogVCB8IG51bGwge1xuICAgIGxldCBpbmRleCA9IGFycmF5LmluZGV4T2YoaXRlbSk7XG5cbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgcmV0dXJuIGFycmF5LnNwbGljZShpbmRleCwgMSlbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgTGlzdEl0ZW0sIExpc3RTZWxlY3RvciwgTGlzdFNlbGVjdG9yQ29uZmlnIH0gZnJvbSAnLi9jb21wb25lbnRzL2xpc3RzZWxlY3Rvcic7XG5pbXBvcnQgeyBVSUluc3RhbmNlTWFuYWdlciB9IGZyb20gJy4vdWltYW5hZ2VyJztcbmltcG9ydCB7IEF1ZGlvVHJhY2tFdmVudCwgUGxheWVyQVBJLCBBdWRpb1RyYWNrIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gaGFuZGxlIGFsbCBhdWRpbyB0cmFja3MgcmVsYXRlZCBldmVudHNcbiAqXG4gKiBUaGlzIGNsYXNzIGxpc3RlbnMgdG8gcGxheWVyIGV2ZW50cyBhcyB3ZWxsIGFzIHRoZSBgTGlzdFNlbGVjdG9yYCBldmVudCBpZiBzZWxlY3Rpb24gY2hhbmdlZFxuICpcbiAqIEBjYXRlZ29yeSBVdGlsc1xuICovXG5leHBvcnQgY2xhc3MgQXVkaW9UcmFja1N3aXRjaEhhbmRsZXIge1xuXG4gIHByaXZhdGUgcGxheWVyOiBQbGF5ZXJBUEk7XG4gIHByaXZhdGUgbGlzdEVsZW1lbnQ6IExpc3RTZWxlY3RvcjxMaXN0U2VsZWN0b3JDb25maWc+O1xuICBwcml2YXRlIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXI7XG5cbiAgY29uc3RydWN0b3IocGxheWVyOiBQbGF5ZXJBUEksIGVsZW1lbnQ6IExpc3RTZWxlY3RvcjxMaXN0U2VsZWN0b3JDb25maWc+LCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKSB7XG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgdGhpcy5saXN0RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy51aW1hbmFnZXIgPSB1aW1hbmFnZXI7XG5cbiAgICB0aGlzLmJpbmRTZWxlY3Rpb25FdmVudCgpO1xuICAgIHRoaXMuYmluZFBsYXllckV2ZW50cygpO1xuICAgIHRoaXMucmVmcmVzaEF1ZGlvVHJhY2tzKCk7XG4gIH1cblxuICBwcml2YXRlIGJpbmRTZWxlY3Rpb25FdmVudCgpOiB2b2lkIHtcbiAgICB0aGlzLmxpc3RFbGVtZW50Lm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZSgoXywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXIuc2V0QXVkaW8odmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBiaW5kUGxheWVyRXZlbnRzKCk6IHZvaWQge1xuICAgIC8vIFVwZGF0ZSBzZWxlY3Rpb24gd2hlbiBzZWxlY3RlZCB0cmFjayBoYXMgY2hhbmdlZFxuICAgIHRoaXMucGxheWVyLm9uKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQXVkaW9DaGFuZ2VkLCB0aGlzLnNlbGVjdEN1cnJlbnRBdWRpb1RyYWNrKTtcbiAgICAvLyBVcGRhdGUgdHJhY2tzIHdoZW4gc291cmNlIGdvZXMgYXdheVxuICAgIHRoaXMucGxheWVyLm9uKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU291cmNlVW5sb2FkZWQsIHRoaXMucmVmcmVzaEF1ZGlvVHJhY2tzKTtcbiAgICAvLyBVcGRhdGUgdHJhY2tzIHdoZW4gdGhlIHBlcmlvZCB3aXRoaW4gYSBzb3VyY2UgY2hhbmdlc1xuICAgIHRoaXMucGxheWVyLm9uKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGVyaW9kU3dpdGNoZWQsIHRoaXMucmVmcmVzaEF1ZGlvVHJhY2tzKTtcbiAgICAvLyBVcGRhdGUgdHJhY2tzIHdoZW4gYSB0cmFjayBpcyBhZGRlZCBvciByZW1vdmVkXG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5BdWRpb0FkZGVkLCB0aGlzLmFkZEF1ZGlvVHJhY2spO1xuICAgIHRoaXMucGxheWVyLm9uKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQXVkaW9SZW1vdmVkLCB0aGlzLnJlbW92ZUF1ZGlvVHJhY2spO1xuICAgIHRoaXMudWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQuc3Vic2NyaWJlKHRoaXMucmVmcmVzaEF1ZGlvVHJhY2tzKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkQXVkaW9UcmFjayA9IChldmVudDogQXVkaW9UcmFja0V2ZW50KSA9PiB7XG4gICAgY29uc3QgYXVkaW9UcmFjayA9IGV2ZW50LnRyYWNrO1xuICAgIGlmICghdGhpcy5saXN0RWxlbWVudC5oYXNJdGVtKGF1ZGlvVHJhY2suaWQpKSB7XG4gICAgICB0aGlzLmxpc3RFbGVtZW50LmFkZEl0ZW0oYXVkaW9UcmFjay5pZCwgaTE4bi5nZXRMb2NhbGl6ZXIoYXVkaW9UcmFjay5sYWJlbCksIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIHJlbW92ZUF1ZGlvVHJhY2sgPSAoZXZlbnQ6IEF1ZGlvVHJhY2tFdmVudCkgPT4ge1xuICAgIGNvbnN0IGF1ZGlvVHJhY2sgPSBldmVudC50cmFjaztcbiAgICBpZiAodGhpcy5saXN0RWxlbWVudC5oYXNJdGVtKGF1ZGlvVHJhY2suaWQpKSB7XG4gICAgICB0aGlzLmxpc3RFbGVtZW50LnJlbW92ZUl0ZW0oYXVkaW9UcmFjay5pZCk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgc2VsZWN0Q3VycmVudEF1ZGlvVHJhY2sgPSAoKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRBdWRpb1RyYWNrID0gdGhpcy5wbGF5ZXIuZ2V0QXVkaW8oKTtcblxuICAgIC8vIEhMUyBzdHJlYW1zIGRvbid0IGFsd2F5cyBwcm92aWRlIHRoaXMsIHNvIHdlIGhhdmUgdG8gY2hlY2tcbiAgICBpZiAoY3VycmVudEF1ZGlvVHJhY2spIHtcbiAgICAgIHRoaXMubGlzdEVsZW1lbnQuc2VsZWN0SXRlbShjdXJyZW50QXVkaW9UcmFjay5pZCk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgcmVmcmVzaEF1ZGlvVHJhY2tzID0gKCkgPT4ge1xuICAgIGNvbnN0IGF1ZGlvVHJhY2tzID0gdGhpcy5wbGF5ZXIuZ2V0QXZhaWxhYmxlQXVkaW8oKTtcbiAgICBjb25zdCBhdWRpb1RyYWNrVG9MaXN0SXRlbSA9IChhdWRpb1RyYWNrOiBBdWRpb1RyYWNrKTogTGlzdEl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIHsga2V5OiBhdWRpb1RyYWNrLmlkLCBsYWJlbDogYXVkaW9UcmFjay5sYWJlbCB9O1xuICAgIH07XG5cbiAgICB0aGlzLmxpc3RFbGVtZW50LnN5bmNocm9uaXplSXRlbXMoYXVkaW9UcmFja3MubWFwKGF1ZGlvVHJhY2tUb0xpc3RJdGVtKSk7XG4gICAgdGhpcy5zZWxlY3RDdXJyZW50QXVkaW9UcmFjaygpO1xuICB9O1xufVxuIiwiZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgTmF2aWdhdG9yIHtcbiAgICBtc01heFRvdWNoUG9pbnRzPzogbnVtYmVyO1xuICB9XG59XG5cbi8qKlxuICogQGNhdGVnb3J5IFV0aWxzXG4gKi9cbmV4cG9ydCBjbGFzcyBCcm93c2VyVXRpbHMge1xuICAvLyBpc01vYmlsZSBvbmx5IG5lZWRzIHRvIGJlIGV2YWx1YXRlZCBvbmNlIChpdCBjYW5ub3QgY2hhbmdlIGR1cmluZyBhIGJyb3dzZXIgc2Vzc2lvbilcbiAgLy8gTW9iaWxlIGRldGVjdGlvbiBhY2NvcmRpbmcgdG8gTW96aWxsYSByZWNvbW1lbmRhdGlvbjogXCJJbiBzdW1tYXJ5LCB3ZSByZWNvbW1lbmQgbG9va2luZyBmb3IgdGhlIHN0cmluZyDigJxNb2Jp4oCdXG4gIC8vIGFueXdoZXJlIGluIHRoZSBVc2VyIEFnZW50IHRvIGRldGVjdCBhIG1vYmlsZSBkZXZpY2UuXCJcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9Ccm93c2VyX2RldGVjdGlvbl91c2luZ190aGVfdXNlcl9hZ2VudFxuICBzdGF0aWMgZ2V0IGlzTW9iaWxlKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy53aW5kb3dFeGlzdHMoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgL01vYmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGlzQ2hyb21lKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy53aW5kb3dFeGlzdHMoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgL0Nocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgaXNBbmRyb2lkKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy53aW5kb3dFeGlzdHMoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgL0FuZHJvaWQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIXRoaXMuaXNIaXNlbnNlO1xuICB9XG5cbiAgc3RhdGljIGdldCBpc0lPUygpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMud2luZG93RXhpc3RzKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICB9XG5cbiAgc3RhdGljIGdldCBpc01hY0ludGVsKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy53aW5kb3dFeGlzdHMoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnBsYXRmb3JtID09PSAnTWFjSW50ZWwnO1xuICB9XG5cbiAgc3RhdGljIGdldCBpc0hpc2Vuc2UoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLndpbmRvd0V4aXN0cygpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAvSGlzZW5zZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgaXNQbGF5U3RhdGlvbigpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMud2luZG93RXhpc3RzKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIC9QbGF5U3RhdGlvbi9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGlzV2ViT3MoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLndpbmRvd0V4aXN0cygpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBuYXZpZ2F0b3IgJiZcbiAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQgJiZcbiAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdXZWIwUycpIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ05ldENhc3QnKSlcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIGdldCBpc1RpemVuKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy53aW5kb3dFeGlzdHMoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgL1RpemVuLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICB9XG5cbiAgLy8gaHR0cHM6Ly9oYWNrcy5tb3ppbGxhLm9yZy8yMDEzLzA0L2RldGVjdGluZy10b3VjaC1pdHMtdGhlLXdoeS1ub3QtdGhlLWhvdy9cbiAgc3RhdGljIGdldCBpc1RvdWNoU3VwcG9ydGVkKCkge1xuICAgIGlmICghdGhpcy53aW5kb3dFeGlzdHMoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIChuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwIHx8IG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMCk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyB3aW5kb3dFeGlzdHMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDbGlja092ZXJsYXksIENsaWNrT3ZlcmxheUNvbmZpZyB9IGZyb20gJy4vY2xpY2tvdmVybGF5JztcbmltcG9ydCB7IFVJSW5zdGFuY2VNYW5hZ2VyIH0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IEFkLCBBZEV2ZW50LCBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuXG4vKipcbiAqIEEgc2ltcGxlIGNsaWNrIGNhcHR1cmUgb3ZlcmxheSBmb3IgY2xpY2tUaHJvdWdoVXJscyBvZiBhZHMuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIEFkQ2xpY2tPdmVybGF5IGV4dGVuZHMgQ2xpY2tPdmVybGF5IHtcbiAgY29uc3RydWN0b3IoY29uZmlnOiBDbGlja092ZXJsYXlDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBhY2NlcHRzVG91Y2hXaXRoVWlIaWRkZW46IHRydWUsXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIGxldCBjbGlja1Rocm91Z2hDYWxsYmFjazogKCkgPT4gdm9pZCA9IG51bGw7XG5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRTdGFydGVkLCAoZXZlbnQ6IEFkRXZlbnQpID0+IHtcbiAgICAgIGxldCBhZCA9IGV2ZW50LmFkO1xuICAgICAgdGhpcy5zZXRVcmwoYWQuY2xpY2tUaHJvdWdoVXJsKTtcbiAgICAgIGNsaWNrVGhyb3VnaENhbGxiYWNrID0gYWQuY2xpY2tUaHJvdWdoVXJsT3BlbmVkO1xuICAgIH0pO1xuXG4gICAgLy8gQ2xlYXIgY2xpY2stdGhyb3VnaCBVUkwgd2hlbiBhZCBoYXMgZmluaXNoZWRcbiAgICBsZXQgYWRGaW5pc2hlZEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLnNldFVybChudWxsKTtcbiAgICB9O1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkFkRmluaXNoZWQsIGFkRmluaXNoZWRIYW5kbGVyKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRTa2lwcGVkLCBhZEZpbmlzaGVkSGFuZGxlcik7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkFkRXJyb3IsIGFkRmluaXNoZWRIYW5kbGVyKTtcblxuICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgLy8gUGF1c2UgdGhlIGFkIHdoZW4gb3ZlcmxheSBpcyBjbGlja2VkXG4gICAgICBwbGF5ZXIucGF1c2UoJ3VpLWFkLWNsaWNrLW92ZXJsYXknKTtcblxuICAgICAgaWYgKGNsaWNrVGhyb3VnaENhbGxiYWNrKSB7XG4gICAgICAgIGNsaWNrVGhyb3VnaENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7TGFiZWwsIExhYmVsQ29uZmlnfSBmcm9tICcuL2xhYmVsJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge1N0cmluZ1V0aWxzfSBmcm9tICcuLi9zdHJpbmd1dGlscyc7XG5pbXBvcnQgeyBBZEV2ZW50LCBMaW5lYXJBZCwgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQSBsYWJlbCB0aGF0IGRpc3BsYXlzIGEgbWVzc2FnZSBhYm91dCBhIHJ1bm5pbmcgYWQsIG9wdGlvbmFsbHkgd2l0aCBhIGNvdW50ZG93bi5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgQWRNZXNzYWdlTGFiZWwgZXh0ZW5kcyBMYWJlbDxMYWJlbENvbmZpZz4ge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogTGFiZWxDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLWxhYmVsLWFkLW1lc3NhZ2UnLFxuICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ2Fkcy5yZW1haW5pbmdUaW1lJykgLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICBsZXQgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcbiAgICBsZXQgdGV4dCA9IGNvbmZpZy50ZXh0O1xuXG4gICAgbGV0IHVwZGF0ZU1lc3NhZ2VIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZXRUZXh0KFN0cmluZ1V0aWxzLnJlcGxhY2VBZE1lc3NhZ2VQbGFjZWhvbGRlcnMoaTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKHRleHQpLCBudWxsLCBwbGF5ZXIpKTtcbiAgICB9O1xuXG4gICAgbGV0IGFkU3RhcnRIYW5kbGVyID0gKGV2ZW50OiBBZEV2ZW50KSA9PiB7XG4gICAgICBsZXQgdWlDb25maWcgPSAoZXZlbnQuYWQgYXMgTGluZWFyQWQpLnVpQ29uZmlnO1xuICAgICAgdGV4dCA9IHVpQ29uZmlnICYmIHVpQ29uZmlnLm1lc3NhZ2UgfHwgY29uZmlnLnRleHQ7XG5cbiAgICAgIHVwZGF0ZU1lc3NhZ2VIYW5kbGVyKCk7XG5cbiAgICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5UaW1lQ2hhbmdlZCwgdXBkYXRlTWVzc2FnZUhhbmRsZXIpO1xuICAgIH07XG5cbiAgICBsZXQgYWRFbmRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgcGxheWVyLm9mZihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5UaW1lQ2hhbmdlZCwgdXBkYXRlTWVzc2FnZUhhbmRsZXIpO1xuICAgIH07XG5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRTdGFydGVkLCBhZFN0YXJ0SGFuZGxlcik7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkFkU2tpcHBlZCwgYWRFbmRIYW5kbGVyKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRFcnJvciwgYWRFbmRIYW5kbGVyKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRGaW5pc2hlZCwgYWRFbmRIYW5kbGVyKTtcbiAgfVxufSIsImltcG9ydCB7IEJ1dHRvbkNvbmZpZywgQnV0dG9uIH0gZnJvbSAnLi9idXR0b24nO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tICcuLi9zdHJpbmd1dGlscyc7XG5pbXBvcnQgeyBBZEV2ZW50LCBMaW5lYXJBZCwgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgdGhlIHtAbGluayBBZFNraXBCdXR0b259LlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWRTa2lwQnV0dG9uQ29uZmlnIGV4dGVuZHMgQnV0dG9uQ29uZmlnIHtcbiAgLyoqXG4gICAqIE1lc3NhZ2Ugd2hpY2ggZ2V0cyBkaXNwbGF5ZWQgZHVyaW5nIHRoZSBjb3VudGRvd24gaXMgYWN0aXZlLlxuICAgKiBTdXBwb3J0ZWQgcGxhY2Vob2xkZXJzOiBsb29rIGF0IHtAbGluayBTdHJpbmdVdGlscy5yZXBsYWNlQWRNZXNzYWdlUGxhY2Vob2xkZXJzfVxuICAgKi9cbiAgdW50aWxTa2lwcGFibGVNZXNzYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogTWVzc2FnZSBkaXNwbGF5ZWQgd2hlbiB0aGUgYWQgaXMgc2tpcHBhYmxlLlxuICAgKiBTdXBwb3J0ZWQgcGxhY2Vob2xkZXJzOiBsb29rIGF0IHtAbGluayBTdHJpbmdVdGlscy5yZXBsYWNlQWRNZXNzYWdlUGxhY2Vob2xkZXJzfVxuICAgKi9cbiAgc2tpcHBhYmxlTWVzc2FnZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBIGJ1dHRvbiB0aGF0IGlzIGRpc3BsYXllZCBkdXJpbmcgYWRzIGFuZCBjYW4gYmUgdXNlZCB0byBza2lwIHRoZSBhZC5cbiAqXG4gKiBAY2F0ZWdvcnkgQnV0dG9uc1xuICovXG5leHBvcnQgY2xhc3MgQWRTa2lwQnV0dG9uIGV4dGVuZHMgQnV0dG9uPEFkU2tpcEJ1dHRvbkNvbmZpZz4ge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQWRTa2lwQnV0dG9uQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywgPEFkU2tpcEJ1dHRvbkNvbmZpZz57XG4gICAgICBjc3NDbGFzczogJ3VpLWJ1dHRvbi1hZC1za2lwJyxcbiAgICAgIHVudGlsU2tpcHBhYmxlTWVzc2FnZTogJ1NraXAgYWQgaW4ge3JlbWFpbmluZ1RpbWV9JyxcbiAgICAgIHNraXBwYWJsZU1lc3NhZ2U6ICdTa2lwIGFkJyxcbiAgICAgIGFjY2VwdHNUb3VjaFdpdGhVaUhpZGRlbjogdHJ1ZSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgbGV0IGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XG4gICAgbGV0IHVudGlsU2tpcHBhYmxlTWVzc2FnZSA9IGNvbmZpZy51bnRpbFNraXBwYWJsZU1lc3NhZ2U7XG4gICAgbGV0IHNraXBwYWJsZU1lc3NhZ2UgPSBjb25maWcuc2tpcHBhYmxlTWVzc2FnZTtcbiAgICBsZXQgc2tpcE9mZnNldCA9IC0xO1xuXG4gICAgbGV0IHVwZGF0ZVNraXBNZXNzYWdlSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2hvdygpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHNraXAgbWVzc2FnZSBvbiB0aGUgYnV0dG9uXG4gICAgICBpZiAocGxheWVyLmdldEN1cnJlbnRUaW1lKCkgPCBza2lwT2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuc2V0VGV4dChTdHJpbmdVdGlscy5yZXBsYWNlQWRNZXNzYWdlUGxhY2Vob2xkZXJzKHVudGlsU2tpcHBhYmxlTWVzc2FnZSwgc2tpcE9mZnNldCwgcGxheWVyKSk7XG4gICAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRUZXh0KHNraXBwYWJsZU1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgYWRTdGFydEhhbmRsZXIgPSAoZXZlbnQ6IEFkRXZlbnQpID0+IHtcbiAgICAgIGxldCBhZCA9IGV2ZW50LmFkIGFzIExpbmVhckFkO1xuICAgICAgc2tpcE9mZnNldCA9IGFkLnNraXBwYWJsZUFmdGVyO1xuICAgICAgdW50aWxTa2lwcGFibGVNZXNzYWdlID0gYWQudWlDb25maWcgJiYgYWQudWlDb25maWcudW50aWxTa2lwcGFibGVNZXNzYWdlIHx8IGNvbmZpZy51bnRpbFNraXBwYWJsZU1lc3NhZ2U7XG4gICAgICBza2lwcGFibGVNZXNzYWdlID0gYWQudWlDb25maWcgJiYgYWQudWlDb25maWcuc2tpcHBhYmxlTWVzc2FnZSB8fCBjb25maWcuc2tpcHBhYmxlTWVzc2FnZTtcblxuICAgICAgLy8gRGlzcGxheSB0aGlzIGJ1dHRvbiBvbmx5IGlmIGFkIGlzIHNraXBwYWJsZS5cbiAgICAgIC8vIE5vbi1za2lwcGFibGUgYWRzIHdpbGwgcmV0dXJuIC0xIGZvciBza2lwcGFibGVBZnRlciBmb3IgcGxheWVyIHZlcnNpb24gPCB2OC4zLjAuXG4gICAgICBpZiAodHlwZW9mIHNraXBPZmZzZXQgPT09ICdudW1iZXInICYmIHNraXBPZmZzZXQgPj0gMCkge1xuICAgICAgICB1cGRhdGVTa2lwTWVzc2FnZUhhbmRsZXIoKTtcbiAgICAgICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlRpbWVDaGFuZ2VkLCB1cGRhdGVTa2lwTWVzc2FnZUhhbmRsZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxldCBhZEVuZEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBwbGF5ZXIub2ZmKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlRpbWVDaGFuZ2VkLCB1cGRhdGVTa2lwTWVzc2FnZUhhbmRsZXIpO1xuICAgIH07XG5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRTdGFydGVkLCBhZFN0YXJ0SGFuZGxlcik7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkFkU2tpcHBlZCwgYWRFbmRIYW5kbGVyKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRFcnJvciwgYWRFbmRIYW5kbGVyKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRGaW5pc2hlZCwgYWRFbmRIYW5kbGVyKTtcblxuICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgLy8gVHJ5IHRvIHNraXAgdGhlIGFkICh0aGlzIG9ubHkgd29ya3MgaWYgaXQgaXMgc2tpcHBhYmxlIHNvIHdlIGRvbid0IG5lZWQgdG8gdGFrZSBleHRyYSBjYXJlIG9mIHRoYXQgaGVyZSlcbiAgICAgIHBsYXllci5hZHMuc2tpcCgpO1xuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHtUb2dnbGVCdXR0b24sIFRvZ2dsZUJ1dHRvbkNvbmZpZ30gZnJvbSAnLi90b2dnbGVidXR0b24nO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyBBcHBsZSBBaXJQbGF5LlxuICpcbiAqIEBjYXRlZ29yeSBCdXR0b25zXG4gKi9cbmV4cG9ydCBjbGFzcyBBaXJQbGF5VG9nZ2xlQnV0dG9uIGV4dGVuZHMgVG9nZ2xlQnV0dG9uPFRvZ2dsZUJ1dHRvbkNvbmZpZz4ge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogVG9nZ2xlQnV0dG9uQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS1haXJwbGF5dG9nZ2xlYnV0dG9uJyxcbiAgICAgIHRleHQ6IGkxOG4uZ2V0TG9jYWxpemVyKCdhcHBsZUFpcnBsYXknKSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgaWYgKCFwbGF5ZXIuaXNBaXJwbGF5QXZhaWxhYmxlKSB7XG4gICAgICAvLyBJZiB0aGUgcGxheWVyIGRvZXMgbm90IHN1cHBvcnQgQWlycGxheSAocGxheWVyIDcuMCksIHdlIGp1c3QgaGlkZSB0aGlzIGNvbXBvbmVudCBhbmQgc2tpcCBjb25maWd1cmF0aW9uXG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIGlmIChwbGF5ZXIuaXNBaXJwbGF5QXZhaWxhYmxlKCkpIHtcbiAgICAgICAgcGxheWVyLnNob3dBaXJwbGF5VGFyZ2V0UGlja2VyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY29uc29sZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdBaXJQbGF5IHVuYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGFpclBsYXlBdmFpbGFibGVIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgaWYgKHBsYXllci5pc0FpcnBsYXlBdmFpbGFibGUoKSkge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhaXJQbGF5Q2hhbmdlZEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBpZiAocGxheWVyLmlzQWlycGxheUFjdGl2ZSgpKSB7XG4gICAgICAgIHRoaXMub24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub2ZmKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5BaXJwbGF5QXZhaWxhYmxlLCBhaXJQbGF5QXZhaWxhYmxlSGFuZGxlcik7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkFpcnBsYXlDaGFuZ2VkLCBhaXJQbGF5Q2hhbmdlZEhhbmRsZXIpO1xuXG4gICAgLy8gU3RhcnR1cCBpbml0XG4gICAgYWlyUGxheUF2YWlsYWJsZUhhbmRsZXIoKTsgLy8gSGlkZSBidXR0b24gaWYgQWlyUGxheSBpcyBub3QgYXZhaWxhYmxlXG4gICAgYWlyUGxheUNoYW5nZWRIYW5kbGVyKCk7XG4gIH1cbn0iLCJpbXBvcnQge1NlbGVjdEJveH0gZnJvbSAnLi9zZWxlY3Rib3gnO1xuaW1wb3J0IHtMaXN0U2VsZWN0b3JDb25maWd9IGZyb20gJy4vbGlzdHNlbGVjdG9yJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIGJldHdlZW4gJ2F1dG8nIGFuZCB0aGUgYXZhaWxhYmxlIGF1ZGlvIHF1YWxpdGllcy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgQXVkaW9RdWFsaXR5U2VsZWN0Qm94IGV4dGVuZHMgU2VsZWN0Qm94IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IExpc3RTZWxlY3RvckNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzZXM6IFsndWktYXVkaW9xdWFsaXR5c2VsZWN0Ym94J10sXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIGxldCBzZWxlY3RDdXJyZW50QXVkaW9RdWFsaXR5ID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZWxlY3RJdGVtKHBsYXllci5nZXRBdWRpb1F1YWxpdHkoKS5pZCk7XG4gICAgfTtcblxuICAgIGxldCB1cGRhdGVBdWRpb1F1YWxpdGllcyA9ICgpID0+IHtcbiAgICAgIGxldCBhdWRpb1F1YWxpdGllcyA9IHBsYXllci5nZXRBdmFpbGFibGVBdWRpb1F1YWxpdGllcygpO1xuXG4gICAgICB0aGlzLmNsZWFySXRlbXMoKTtcblxuICAgICAgLy8gQWRkIGVudHJ5IGZvciBhdXRvbWF0aWMgcXVhbGl0eSBzd2l0Y2hpbmcgKGRlZmF1bHQgc2V0dGluZylcbiAgICAgIHRoaXMuYWRkSXRlbSgnYXV0bycsIGkxOG4uZ2V0TG9jYWxpemVyKCdhdXRvJykpO1xuXG4gICAgICAvLyBBZGQgYXVkaW8gcXVhbGl0aWVzXG4gICAgICBmb3IgKGxldCBhdWRpb1F1YWxpdHkgb2YgYXVkaW9RdWFsaXRpZXMpIHtcbiAgICAgICAgdGhpcy5hZGRJdGVtKGF1ZGlvUXVhbGl0eS5pZCwgYXVkaW9RdWFsaXR5LmxhYmVsKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2VsZWN0IGluaXRpYWwgcXVhbGl0eVxuICAgICAgc2VsZWN0Q3VycmVudEF1ZGlvUXVhbGl0eSgpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZSgoc2VuZGVyOiBBdWRpb1F1YWxpdHlTZWxlY3RCb3gsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgIHBsYXllci5zZXRBdWRpb1F1YWxpdHkodmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIGF1ZGlvIHRyYWNrIGhhcyBjaGFuZ2VkXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkF1ZGlvQ2hhbmdlZCwgdXBkYXRlQXVkaW9RdWFsaXRpZXMpO1xuICAgIC8vIFVwZGF0ZSBxdWFsaXRpZXMgd2hlbiBzb3VyY2UgZ29lcyBhd2F5XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNvdXJjZVVubG9hZGVkLCB1cGRhdGVBdWRpb1F1YWxpdGllcyk7XG4gICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIHRoZSBwZXJpb2Qgd2l0aGluIGEgc291cmNlIGNoYW5nZXNcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGVyaW9kU3dpdGNoZWQsIHVwZGF0ZUF1ZGlvUXVhbGl0aWVzKTtcbiAgICAvLyBVcGRhdGUgcXVhbGl0eSBzZWxlY3Rpb24gd2hlbiBxdWFsaXR5IGlzIGNoYW5nZWQgKGZyb20gb3V0c2lkZSlcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQXVkaW9RdWFsaXR5Q2hhbmdlZCwgc2VsZWN0Q3VycmVudEF1ZGlvUXVhbGl0eSk7XG4gICAgaWYgKChwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudCBhcyBhbnkpLkF1ZGlvUXVhbGl0eUFkZGVkKSB7XG4gICAgICAvLyBVcGRhdGUgcXVhbGl0aWVzIHdoZW4gdGhlaXIgYXZhaWxhYmlsaXR5IGNoYW5nZWRcbiAgICAgIC8vIFRPRE86IHJlbW92ZSBhbnkgY2FzdCBhZnRlciBuZXh0IHBsYXllciByZWxlYXNlXG4gICAgICBwbGF5ZXIub24oKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50IGFzIGFueSkuQXVkaW9RdWFsaXR5QWRkZWQsIHVwZGF0ZUF1ZGlvUXVhbGl0aWVzKTtcbiAgICAgIHBsYXllci5vbigocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQgYXMgYW55KS5BdWRpb1F1YWxpdHlSZW1vdmVkLCB1cGRhdGVBdWRpb1F1YWxpdGllcyk7XG4gICAgfVxuXG4gICAgdWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQuc3Vic2NyaWJlKHVwZGF0ZUF1ZGlvUXVhbGl0aWVzKTtcbiAgfVxufSIsImltcG9ydCB7TGlzdEJveH0gZnJvbSAnLi9saXN0Ym94JztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge0F1ZGlvVHJhY2tTd2l0Y2hIYW5kbGVyfSBmcm9tICcuLi9hdWRpb3RyYWNrdXRpbHMnO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcblxuLyoqXG4gKiBBIGVsZW1lbnQgdGhhdCBpcyBzaW1pbGFyIHRvIGEgc2VsZWN0IGJveCB3aGVyZSB0aGUgdXNlciBjYW4gc2VsZWN0IGEgc3VidGl0bGVcbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgQXVkaW9UcmFja0xpc3RCb3ggZXh0ZW5kcyBMaXN0Qm94IHtcblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuICAgIG5ldyBBdWRpb1RyYWNrU3dpdGNoSGFuZGxlcihwbGF5ZXIsIHRoaXMsIHVpbWFuYWdlcik7XG4gIH1cbn1cbiIsImltcG9ydCB7U2VsZWN0Qm94fSBmcm9tICcuL3NlbGVjdGJveCc7XG5pbXBvcnQge0xpc3RTZWxlY3RvckNvbmZpZ30gZnJvbSAnLi9saXN0c2VsZWN0b3InO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7QXVkaW9UcmFja1N3aXRjaEhhbmRsZXJ9IGZyb20gJy4uL2F1ZGlvdHJhY2t1dGlscyc7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuXG4vKipcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gYmV0d2VlbiBhdmFpbGFibGUgYXVkaW8gdHJhY2tzIChlLmcuIGRpZmZlcmVudCBsYW5ndWFnZXMpLlxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBBdWRpb1RyYWNrU2VsZWN0Qm94IGV4dGVuZHMgU2VsZWN0Qm94IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IExpc3RTZWxlY3RvckNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzZXM6IFsndWktYXVkaW90cmFja3NlbGVjdGJveCddLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICBuZXcgQXVkaW9UcmFja1N3aXRjaEhhbmRsZXIocGxheWVyLCB0aGlzLCB1aW1hbmFnZXIpO1xuICB9XG59IiwiaW1wb3J0IHtDb250YWluZXJDb25maWcsIENvbnRhaW5lcn0gZnJvbSAnLi9jb250YWluZXInO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7Q29tcG9uZW50LCBDb21wb25lbnRDb25maWd9IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7VGltZW91dH0gZnJvbSAnLi4vdGltZW91dCc7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gaW50ZXJmYWNlIGZvciB0aGUge0BsaW5rIEJ1ZmZlcmluZ092ZXJsYXl9IGNvbXBvbmVudC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29uZmlnc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEJ1ZmZlcmluZ092ZXJsYXlDb25maWcgZXh0ZW5kcyBDb250YWluZXJDb25maWcge1xuICAvKipcbiAgICogRGVsYXkgaW4gbWlsbGlzZWNvbmRzIGFmdGVyIHdoaWNoIHRoZSBidWZmZXJpbmcgb3ZlcmxheSB3aWxsIGJlIGRpc3BsYXllZC4gVXNlZnVsIHRvIGJ5cGFzcyBzaG9ydCBzdGFsbHMgd2l0aG91dFxuICAgKiBkaXNwbGF5aW5nIHRoZSBvdmVybGF5LiBTZXQgdG8gMCB0byBkaXNwbGF5IHRoZSBvdmVybGF5IGluc3RhbnRseS5cbiAgICogRGVmYXVsdDogMTAwMG1zICgxIHNlY29uZClcbiAgICovXG4gIHNob3dEZWxheU1zPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIGEgYnVmZmVyaW5nIGluZGljYXRvci5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgQnVmZmVyaW5nT3ZlcmxheSBleHRlbmRzIENvbnRhaW5lcjxCdWZmZXJpbmdPdmVybGF5Q29uZmlnPiB7XG5cbiAgcHJpdmF0ZSBpbmRpY2F0b3JzOiBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPltdO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQnVmZmVyaW5nT3ZlcmxheUNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuaW5kaWNhdG9ycyA9IFtcbiAgICAgIG5ldyBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPih7IHRhZzogJ2RpdicsIGNzc0NsYXNzOiAndWktYnVmZmVyaW5nLW92ZXJsYXktaW5kaWNhdG9yJywgcm9sZTogJ2ltZycgfSksXG4gICAgICBuZXcgQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz4oeyB0YWc6ICdkaXYnLCBjc3NDbGFzczogJ3VpLWJ1ZmZlcmluZy1vdmVybGF5LWluZGljYXRvcicsIHJvbGU6ICdpbWcnIH0pLFxuICAgICAgbmV3IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheS1pbmRpY2F0b3InLCByb2xlOiAnaW1nJyB9KSxcbiAgICBdO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywgPEJ1ZmZlcmluZ092ZXJsYXlDb25maWc+e1xuICAgICAgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheScsXG4gICAgICBoaWRkZW46IHRydWUsXG4gICAgICBjb21wb25lbnRzOiB0aGlzLmluZGljYXRvcnMsXG4gICAgICBzaG93RGVsYXlNczogMTAwMCxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgbGV0IGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XG5cbiAgICBsZXQgb3ZlcmxheVNob3dUaW1lb3V0ID0gbmV3IFRpbWVvdXQoY29uZmlnLnNob3dEZWxheU1zLCAoKSA9PiB7XG4gICAgICB0aGlzLnNob3coKTtcbiAgICB9KTtcblxuICAgIGxldCBzaG93T3ZlcmxheSA9ICgpID0+IHtcbiAgICAgIG92ZXJsYXlTaG93VGltZW91dC5zdGFydCgpO1xuICAgIH07XG5cbiAgICBsZXQgaGlkZU92ZXJsYXkgPSAoKSA9PiB7XG4gICAgICBvdmVybGF5U2hvd1RpbWVvdXQuY2xlYXIoKTtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH07XG5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU3RhbGxTdGFydGVkLCBzaG93T3ZlcmxheSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlN0YWxsRW5kZWQsIGhpZGVPdmVybGF5KTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheSwgc2hvd092ZXJsYXkpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5aW5nLCBoaWRlT3ZlcmxheSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlBhdXNlZCwgaGlkZU92ZXJsYXkpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TZWVrLCBzaG93T3ZlcmxheSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNlZWtlZCwgaGlkZU92ZXJsYXkpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5UaW1lU2hpZnQsIHNob3dPdmVybGF5KTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuVGltZVNoaWZ0ZWQsIGhpZGVPdmVybGF5KTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU291cmNlVW5sb2FkZWQsIGhpZGVPdmVybGF5KTtcblxuICAgIC8vIFNob3cgb3ZlcmxheSBpZiBwbGF5ZXIgaXMgYWxyZWFkeSBzdGFsbGVkIGF0IGluaXRcbiAgICBpZiAocGxheWVyLmlzU3RhbGxlZCgpKSB7XG4gICAgICB0aGlzLnNob3coKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50Q29uZmlnLCBDb21wb25lbnR9IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7RE9NfSBmcm9tICcuLi9kb20nO1xuaW1wb3J0IHtFdmVudERpc3BhdGNoZXIsIE5vQXJncywgRXZlbnR9IGZyb20gJy4uL2V2ZW50ZGlzcGF0Y2hlcic7XG5pbXBvcnQgeyBMb2NhbGl6YWJsZVRleHQgLCBpMThuIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gaW50ZXJmYWNlIGZvciBhIHtAbGluayBCdXR0b259IGNvbXBvbmVudC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29uZmlnc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEJ1dHRvbkNvbmZpZyBleHRlbmRzIENvbXBvbmVudENvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCBhcyBzdHJpbmcgb3IgbG9jYWxpemUgY2FsbGJhY2sgb24gdGhlIGJ1dHRvbi5cbiAgICovXG4gIHRleHQ/OiBMb2NhbGl6YWJsZVRleHQ7XG4gIC8qKlxuICAgKiBXQ0FHMjAgc3RhbmRhcmQgZm9yIGRlZmluaW5nIGluZm8gYWJvdXQgdGhlIGNvbXBvbmVudCAodXN1YWxseSB0aGUgbmFtZSlcbiAgICovXG4gIGFyaWFMYWJlbD86IExvY2FsaXphYmxlVGV4dDtcblxuICAvKipcbiAgICogU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGZpcnN0IHRvdWNoIGV2ZW50IHJlY2VpdmVkIGJ5IHRoZSB7QGxpbmsgVUlDb250YWluZXJ9IHNob3VsZCBiZSBwcmV2ZW50ZWQgb3Igbm90LlxuICAgKlxuICAgKiBEZWZhdWx0OiBmYWxzZVxuICAgKi9cbiAgYWNjZXB0c1RvdWNoV2l0aFVpSGlkZGVuPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBBIHNpbXBsZSBjbGlja2FibGUgYnV0dG9uLlxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBCdXR0b248Q29uZmlnIGV4dGVuZHMgQnV0dG9uQ29uZmlnPiBleHRlbmRzIENvbXBvbmVudDxDb25maWc+IHtcblxuICBwcml2YXRlIGJ1dHRvbkV2ZW50cyA9IHtcbiAgICBvbkNsaWNrOiBuZXcgRXZlbnREaXNwYXRjaGVyPEJ1dHRvbjxDb25maWc+LCBOb0FyZ3M+KCksXG4gIH07XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWcpIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS1idXR0b24nLFxuICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICB0YWJJbmRleDogMCxcbiAgICAgIGFjY2VwdHNUb3VjaFdpdGhVaUhpZGRlbjogZmFsc2UsXG4gICAgfSBhcyBDb25maWcsIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCB0b0RvbUVsZW1lbnQoKTogRE9NIHtcbiAgICBjb25zdCBidXR0b25FbGVtZW50QXR0cmlidXRlczogeyBbbmFtZTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcbiAgICAgICdhcmlhLWxhYmVsJzogaTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKHRoaXMuY29uZmlnLmFyaWFMYWJlbCB8fCB0aGlzLmNvbmZpZy50ZXh0KSxcbiAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxuICAgICAgJ3R5cGUnIDogJ2J1dHRvbicsXG4gICAgICAvKipcbiAgICAgICogV0NBRzIwIHN0YW5kYXJkIHRvIGRpc3BsYXkgaWYgYSBidXR0b24gaXMgcHJlc3NlZCBvciBub3RcbiAgICAgICovXG4gICAgICAnYXJpYS1wcmVzc2VkJzogJ2ZhbHNlJyxcbiAgICAgICd0YWJpbmRleCc6IHRoaXMuY29uZmlnLnRhYkluZGV4LnRvU3RyaW5nKCksXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5yb2xlICE9IG51bGwpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnRBdHRyaWJ1dGVzWydyb2xlJ10gPSB0aGlzLmNvbmZpZy5yb2xlO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgYnV0dG9uIGVsZW1lbnQgd2l0aCB0aGUgdGV4dCBsYWJlbFxuICAgIGxldCBidXR0b25FbGVtZW50ID0gbmV3IERPTSgnYnV0dG9uJywgYnV0dG9uRWxlbWVudEF0dHJpYnV0ZXMsIHRoaXMpLmFwcGVuZChuZXcgRE9NKCdzcGFuJywge1xuICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2xhYmVsJyksXG4gICAgfSkuaHRtbChpMThuLnBlcmZvcm1Mb2NhbGl6YXRpb24odGhpcy5jb25maWcudGV4dCkpKTtcblxuICAgIC8vIExpc3RlbiBmb3IgdGhlIGNsaWNrIGV2ZW50IG9uIHRoZSBidXR0b24gZWxlbWVudCBhbmQgdHJpZ2dlciB0aGUgY29ycmVzcG9uZGluZyBldmVudCBvbiB0aGUgYnV0dG9uIGNvbXBvbmVudFxuICAgIGJ1dHRvbkVsZW1lbnQub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5vbkNsaWNrRXZlbnQoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBidXR0b25FbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGV4dCBvbiB0aGUgbGFiZWwgb2YgdGhlIGJ1dHRvbi5cbiAgICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gcHV0IGludG8gdGhlIGxhYmVsIG9mIHRoZSBidXR0b25cbiAgICovXG4gIHNldFRleHQodGV4dDogTG9jYWxpemFibGVUZXh0KTogdm9pZCB7XG4gICAgdGhpcy5nZXREb21FbGVtZW50KCkuZmluZCgnLicgKyB0aGlzLnByZWZpeENzcygnbGFiZWwnKSkuaHRtbChpMThuLnBlcmZvcm1Mb2NhbGl6YXRpb24odGV4dCkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uQ2xpY2tFdmVudCgpIHtcbiAgICB0aGlzLmJ1dHRvbkV2ZW50cy5vbkNsaWNrLmRpc3BhdGNoKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqIEByZXR1cm5zIHtFdmVudDxCdXR0b248Q29uZmlnPiwgTm9BcmdzPn1cbiAgICovXG4gIGdldCBvbkNsaWNrKCk6IEV2ZW50PEJ1dHRvbjxDb25maWc+LCBOb0FyZ3M+IHtcbiAgICByZXR1cm4gdGhpcy5idXR0b25FdmVudHMub25DbGljay5nZXRFdmVudCgpO1xuICB9XG59XG4iLCJpbXBvcnQge0NvbnRhaW5lckNvbmZpZywgQ29udGFpbmVyfSBmcm9tICcuL2NvbnRhaW5lcic7XG5pbXBvcnQge0xhYmVsLCBMYWJlbENvbmZpZ30gZnJvbSAnLi9sYWJlbCc7XG5pbXBvcnQge1VJSW5zdGFuY2VNYW5hZ2VyfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgQ2FzdFN0YXJ0ZWRFdmVudCwgQ2FzdFdhaXRpbmdGb3JEZXZpY2VFdmVudCwgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogT3ZlcmxheXMgdGhlIHBsYXllciBhbmQgZGlzcGxheXMgdGhlIHN0YXR1cyBvZiBhIENhc3Qgc2Vzc2lvbi5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgQ2FzdFN0YXR1c092ZXJsYXkgZXh0ZW5kcyBDb250YWluZXI8Q29udGFpbmVyQ29uZmlnPiB7XG5cbiAgcHJpdmF0ZSBzdGF0dXNMYWJlbDogTGFiZWw8TGFiZWxDb25maWc+O1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29udGFpbmVyQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5zdGF0dXNMYWJlbCA9IG5ldyBMYWJlbDxMYWJlbENvbmZpZz4oeyBjc3NDbGFzczogJ3VpLWNhc3Qtc3RhdHVzLWxhYmVsJyB9KTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktY2FzdC1zdGF0dXMtb3ZlcmxheScsXG4gICAgICBjb21wb25lbnRzOiBbdGhpcy5zdGF0dXNMYWJlbF0sXG4gICAgICBoaWRkZW46IHRydWUsXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5DYXN0V2FpdGluZ0ZvckRldmljZSxcbiAgICAgIChldmVudDogQ2FzdFdhaXRpbmdGb3JEZXZpY2VFdmVudCkgPT4ge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgLy8gR2V0IGRldmljZSBuYW1lIGFuZCB1cGRhdGUgc3RhdHVzIHRleHQgd2hpbGUgY29ubmVjdGluZ1xuICAgICAgICBsZXQgY2FzdERldmljZU5hbWUgPSBldmVudC5jYXN0UGF5bG9hZC5kZXZpY2VOYW1lO1xuICAgICAgICB0aGlzLnN0YXR1c0xhYmVsLnNldFRleHQoaTE4bi5nZXRMb2NhbGl6ZXIoJ2Nvbm5lY3RpbmdUbycsIHsgY2FzdERldmljZU5hbWUgfSkpO1xuICAgICAgfSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkNhc3RTdGFydGVkLCAoZXZlbnQ6IENhc3RTdGFydGVkRXZlbnQpID0+IHtcbiAgICAgIC8vIFNlc3Npb24gaXMgc3RhcnRlZCBvciByZXN1bWVkXG4gICAgICAvLyBGb3IgY2FzZXMgd2hlbiBhIHNlc3Npb24gaXMgcmVzdW1lZCwgd2UgZG8gbm90IHJlY2VpdmUgdGhlIHByZXZpb3VzIGV2ZW50cyBhbmQgdGhlcmVmb3JlIHNob3cgdGhlIHN0YXR1cyBwYW5lbFxuICAgICAgLy8gaGVyZSB0b29cbiAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgbGV0IGNhc3REZXZpY2VOYW1lID0gZXZlbnQuZGV2aWNlTmFtZTtcbiAgICAgIHRoaXMuc3RhdHVzTGFiZWwuc2V0VGV4dChpMThuLmdldExvY2FsaXplcigncGxheWluZ09uJywgeyBjYXN0RGV2aWNlTmFtZSB9KSk7XG4gICAgfSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkNhc3RTdG9wcGVkLCAoZXZlbnQpID0+IHtcbiAgICAgIC8vIENhc3Qgc2Vzc2lvbiBnb25lLCBoaWRlIHRoZSBzdGF0dXMgcGFuZWxcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHtUb2dnbGVCdXR0b24sIFRvZ2dsZUJ1dHRvbkNvbmZpZ30gZnJvbSAnLi90b2dnbGVidXR0b24nO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyBjYXN0aW5nIHRvIGEgQ2FzdCByZWNlaXZlci5cbiAqXG4gKiBAY2F0ZWdvcnkgQnV0dG9uc1xuICovXG5leHBvcnQgY2xhc3MgQ2FzdFRvZ2dsZUJ1dHRvbiBleHRlbmRzIFRvZ2dsZUJ1dHRvbjxUb2dnbGVCdXR0b25Db25maWc+IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFRvZ2dsZUJ1dHRvbkNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktY2FzdHRvZ2dsZWJ1dHRvbicsXG4gICAgICB0ZXh0OiBpMThuLmdldExvY2FsaXplcignZ29vZ2xlQ2FzdCcpLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIGlmIChwbGF5ZXIuaXNDYXN0QXZhaWxhYmxlKCkpIHtcbiAgICAgICAgaWYgKHBsYXllci5pc0Nhc3RpbmcoKSkge1xuICAgICAgICAgIHBsYXllci5jYXN0U3RvcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBsYXllci5jYXN0VmlkZW8oKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNvbnNvbGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ2FzdCB1bmF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgY2FzdEF2YWlsYWJsZUhhbmRlciA9ICgpID0+IHtcbiAgICAgIGlmIChwbGF5ZXIuaXNDYXN0QXZhaWxhYmxlKCkpIHtcbiAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkNhc3RBdmFpbGFibGUsIGNhc3RBdmFpbGFibGVIYW5kZXIpO1xuXG4gICAgLy8gVG9nZ2xlIGJ1dHRvbiAnb24nIHN0YXRlXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkNhc3RXYWl0aW5nRm9yRGV2aWNlLCAoKSA9PiB7XG4gICAgICB0aGlzLm9uKCk7XG4gICAgfSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkNhc3RTdGFydGVkLCAoKSA9PiB7XG4gICAgICAvLyBXaGVuIGEgc2Vzc2lvbiBpcyByZXN1bWVkLCB0aGVyZSBpcyBubyBDYXN0U3RhcnQgZXZlbnQsIHNvIHdlIGFsc28gbmVlZCB0byB0b2dnbGUgaGVyZSBmb3Igc3VjaCBjYXNlc1xuICAgICAgdGhpcy5vbigpO1xuICAgIH0pO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5DYXN0U3RvcHBlZCwgKCkgPT4ge1xuICAgICAgdGhpcy5vZmYoKTtcbiAgICB9KTtcblxuICAgIC8vIFN0YXJ0dXAgaW5pdFxuICAgIGNhc3RBdmFpbGFibGVIYW5kZXIoKTsgLy8gSGlkZSBidXR0b24gaWYgQ2FzdCBub3QgYXZhaWxhYmxlXG4gICAgaWYgKHBsYXllci5pc0Nhc3RpbmcoKSkge1xuICAgICAgdGhpcy5vbigpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7VUlDb250YWluZXIsIFVJQ29udGFpbmVyQ29uZmlnfSBmcm9tICcuL3VpY29udGFpbmVyJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge1RpbWVvdXR9IGZyb20gJy4uL3RpbWVvdXQnO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcblxuLyoqXG4gKiBUaGUgYmFzZSBjb250YWluZXIgZm9yIENhc3QgcmVjZWl2ZXJzIHRoYXQgY29udGFpbnMgYWxsIG9mIHRoZSBVSSBhbmQgdGFrZXMgY2FyZSB0aGF0IHRoZSBVSSBpcyBzaG93biBvblxuICogY2VydGFpbiBwbGF5YmFjayBldmVudHMuXG4gKlxuICogQGNhdGVnb3J5IENvbnRhaW5lcnNcbiAqL1xuZXhwb3J0IGNsYXNzIENhc3RVSUNvbnRhaW5lciBleHRlbmRzIFVJQ29udGFpbmVyIHtcblxuICBwcml2YXRlIGNhc3RVaUhpZGVUaW1lb3V0OiBUaW1lb3V0O1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogVUlDb250YWluZXJDb25maWcpIHtcbiAgICBzdXBlcihjb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIGxldCBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xuXG4gICAgLypcbiAgICAgKiBTaG93IFVJIG9uIENhc3QgZGV2aWNlcyBhdCBjZXJ0YWluIHBsYXliYWNrIGV2ZW50c1xuICAgICAqXG4gICAgICogU2luY2UgYSBDYXN0IHJlY2VpdmVyIGRvZXMgbm90IGhhdmUgYSBkaXJlY3QgSENJLCB3ZSBzaG93IHRoZSBVSSBvbiBjZXJ0YWluIHBsYXliYWNrIGV2ZW50cyB0byBnaXZlIHRoZSB1c2VyXG4gICAgICogYSBjaGFuY2UgdG8gc2VlIG9uIHRoZSBzY3JlZW4gd2hhdCdzIGdvaW5nIG9uLCBlLmcuIG9uIHBsYXkvcGF1c2Ugb3IgYSBzZWVrIHRoZSBVSSBpcyBzaG93biBhbmQgdGhlIHVzZXIgY2FuXG4gICAgICogc2VlIHRoZSBjdXJyZW50IHRpbWUgYW5kIHBvc2l0aW9uIG9uIHRoZSBzZWVrIGJhci5cbiAgICAgKiBUaGUgVUkgaXMgc2hvd24gcGVybWFuZW50bHkgd2hpbGUgcGxheWJhY2sgaXMgcGF1c2VkLCBvdGhlcndpc2UgaGlkZXMgYXV0b21hdGljYWxseSBhZnRlciB0aGUgY29uZmlndXJlZFxuICAgICAqIGhpZGUgZGVsYXkgdGltZS5cbiAgICAgKi9cblxuICAgIGxldCBpc1VpU2hvd24gPSBmYWxzZTtcblxuICAgIGxldCBoaWRlVWkgPSAoKSA9PiB7XG4gICAgICB1aW1hbmFnZXIub25Db250cm9sc0hpZGUuZGlzcGF0Y2godGhpcyk7XG4gICAgICBpc1VpU2hvd24gPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgdGhpcy5jYXN0VWlIaWRlVGltZW91dCA9IG5ldyBUaW1lb3V0KGNvbmZpZy5oaWRlRGVsYXksIGhpZGVVaSk7XG5cbiAgICBsZXQgc2hvd1VpID0gKCkgPT4ge1xuICAgICAgaWYgKCFpc1VpU2hvd24pIHtcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LmRpc3BhdGNoKHRoaXMpO1xuICAgICAgICBpc1VpU2hvd24gPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgc2hvd1VpUGVybWFuZW50bHkgPSAoKSA9PiB7XG4gICAgICBzaG93VWkoKTtcbiAgICAgIHRoaXMuY2FzdFVpSGlkZVRpbWVvdXQuY2xlYXIoKTtcbiAgICB9O1xuXG4gICAgbGV0IHNob3dVaVdpdGhUaW1lb3V0ID0gKCkgPT4ge1xuICAgICAgc2hvd1VpKCk7XG4gICAgICB0aGlzLmNhc3RVaUhpZGVUaW1lb3V0LnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIGxldCBzaG93VWlBZnRlclNlZWsgPSAoKSA9PiB7XG4gICAgICBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XG4gICAgICAgIHNob3dVaVdpdGhUaW1lb3V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaG93VWlQZXJtYW5lbnRseSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheSwgc2hvd1VpV2l0aFRpbWVvdXQpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QYXVzZWQsIHNob3dVaVBlcm1hbmVudGx5KTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU2Vlaywgc2hvd1VpUGVybWFuZW50bHkpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TZWVrZWQsIHNob3dVaUFmdGVyU2Vlayk7XG5cbiAgICB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZXZlbnRzLm9uVXBkYXRlZC5zdWJzY3JpYmUoc2hvd1VpV2l0aFRpbWVvdXQpO1xuICB9XG5cbiAgcmVsZWFzZSgpOiB2b2lkIHtcbiAgICBzdXBlci5yZWxlYXNlKCk7XG4gICAgdGhpcy5jYXN0VWlIaWRlVGltZW91dC5jbGVhcigpO1xuICB9XG59IiwiaW1wb3J0IHtCdXR0b24sIEJ1dHRvbkNvbmZpZ30gZnJvbSAnLi9idXR0b24nO1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gaW50ZXJmYWNlIGZvciBhIHtAbGluayBDbGlja092ZXJsYXl9LlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpY2tPdmVybGF5Q29uZmlnIGV4dGVuZHMgQnV0dG9uQ29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSB1cmwgdG8gb3BlbiB3aGVuIHRoZSBvdmVybGF5IGlzIGNsaWNrZWQuIFNldCB0byBudWxsIHRvIGRpc2FibGUgdGhlIGNsaWNrIGhhbmRsZXIuXG4gICAqL1xuICB1cmw/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQSBjbGljayBvdmVybGF5IHRoYXQgb3BlbnMgYW4gdXJsIGluIGEgbmV3IHRhYiBpZiBjbGlja2VkLlxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBDbGlja092ZXJsYXkgZXh0ZW5kcyBCdXR0b248Q2xpY2tPdmVybGF5Q29uZmlnPiB7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBDbGlja092ZXJsYXlDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLWNsaWNrb3ZlcmxheScsXG4gICAgICByb2xlOiB0aGlzLmNvbmZpZy5yb2xlLFxuICAgIH0sIDxDbGlja092ZXJsYXlDb25maWc+dGhpcy5jb25maWcpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG5cbiAgICB0aGlzLnNldFVybCgoPENsaWNrT3ZlcmxheUNvbmZpZz50aGlzLmNvbmZpZykudXJsKTtcbiAgICBsZXQgZWxlbWVudCA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpO1xuICAgIGVsZW1lbnQub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuZGF0YSgndXJsJykpIHtcbiAgICAgICAgd2luZG93Lm9wZW4oZWxlbWVudC5kYXRhKCd1cmwnKSwgJ19ibGFuaycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIFVSTCB0aGF0IHNob3VsZCBiZSBmb2xsb3dlZCB3aGVuIHRoZSB3YXRlcm1hcmsgaXMgY2xpY2tlZC5cbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIHdhdGVybWFyayBVUkxcbiAgICovXG4gIGdldFVybCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmdldERvbUVsZW1lbnQoKS5kYXRhKCd1cmwnKTtcbiAgfVxuXG4gIHNldFVybCh1cmw6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCB8fCB1cmwgPT0gbnVsbCkge1xuICAgICAgdXJsID0gJyc7XG4gICAgfVxuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmRhdGEoJ3VybCcsIHVybCk7XG4gIH1cbn0iLCJpbXBvcnQge0J1dHRvbkNvbmZpZywgQnV0dG9ufSBmcm9tICcuL2J1dHRvbic7XG5pbXBvcnQge1VJSW5zdGFuY2VNYW5hZ2VyfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHtDb21wb25lbnQsIENvbXBvbmVudENvbmZpZ30gZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBpbnRlcmZhY2UgZm9yIHRoZSB7QGxpbmsgQ2xvc2VCdXR0b259LlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvc2VCdXR0b25Db25maWcgZXh0ZW5kcyBCdXR0b25Db25maWcge1xuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCB0aGF0IHNob3VsZCBiZSBjbG9zZWQgd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqL1xuICB0YXJnZXQ6IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+O1xufVxuXG4vKipcbiAqIEEgYnV0dG9uIHRoYXQgY2xvc2VzIChoaWRlcykgYSBjb25maWd1cmVkIGNvbXBvbmVudC5cbiAqXG4gKiBAY2F0ZWdvcnkgQnV0dG9uc1xuICovXG5leHBvcnQgY2xhc3MgQ2xvc2VCdXR0b24gZXh0ZW5kcyBCdXR0b248Q2xvc2VCdXR0b25Db25maWc+IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IENsb3NlQnV0dG9uQ29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktY2xvc2VidXR0b24nLFxuICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ2Nsb3NlJyksXG4gICAgfSBhcyBDbG9zZUJ1dHRvbkNvbmZpZywgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIGxldCBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xuXG4gICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICBjb25maWcudGFyZ2V0LmhpZGUoKTtcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCB7R3VpZH0gZnJvbSAnLi4vZ3VpZCc7XG5pbXBvcnQge0RPTX0gZnJvbSAnLi4vZG9tJztcbmltcG9ydCB7RXZlbnREaXNwYXRjaGVyLCBOb0FyZ3MsIEV2ZW50fSBmcm9tICcuLi9ldmVudGRpc3BhdGNoZXInO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuLCBMb2NhbGl6YWJsZVRleHQgfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQmFzZSBjb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgYSBjb21wb25lbnQuXG4gKiBTaG91bGQgYmUgZXh0ZW5kZWQgYnkgY29tcG9uZW50cyB0aGF0IHdhbnQgdG8gYWRkIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBIVE1MIHRhZyBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAqIERlZmF1bHQ6ICdkaXYnXG4gICAqL1xuICB0YWc/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgSFRNTCBJRCBvZiB0aGUgY29tcG9uZW50LlxuICAgKiBEZWZhdWx0OiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCB3aXRoIHBhdHRlcm4gJ3VpLWlkLXtndWlkfScuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICAvKipcbiAgICogQSBwcmVmaXggdG8gcHJlcGVuZCBhbGwgQ1NTIGNsYXNzZXMgd2l0aC5cbiAgICovXG4gIGNzc1ByZWZpeD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIENTUyBjbGFzc2VzIG9mIHRoZSBjb21wb25lbnQuIFRoaXMgaXMgdXN1YWxseSB0aGUgY2xhc3MgZnJvbSB3aGVyZSB0aGUgY29tcG9uZW50IHRha2VzIGl0cyBzdHlsaW5nLlxuICAgKi9cbiAgY3NzQ2xhc3M/OiBzdHJpbmc7IC8vICdjbGFzcycgaXMgYSByZXNlcnZlZCBrZXl3b3JkLCBzbyB3ZSBuZWVkIHRvIG1ha2UgdGhlIG5hbWUgbW9yZSBjb21wbGljYXRlZFxuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIENTUyBjbGFzc2VzIG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjc3NDbGFzc2VzPzogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyBpZiB0aGUgY29tcG9uZW50IHNob3VsZCBiZSBoaWRkZW4gYXQgc3RhcnR1cC5cbiAgICogRGVmYXVsdDogZmFsc2VcbiAgICovXG4gIGhpZGRlbj86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyBpZiB0aGUgY29tcG9uZW50IGlzIGVuYWJsZWQgKGludGVyYWN0aXZlKSBvciBub3QuXG4gICAqIERlZmF1bHQ6IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgY29tcG9uZW50IHJvbGUgZm9yIFdDQUcyMCBzdGFuZGFyZFxuICAgKi9cbiAgcm9sZT86IHN0cmluZztcblxuICAvKipcbiAgICogV0NBRzIwIHJlcXVpcmVtZW50IGZvciBzY3JlZW4gcmVhZGVyIG5hdmlnYXRpb25cbiAgICovXG4gIHRhYkluZGV4PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBXQ0FHMjAgc3RhbmRhcmQgZm9yIGRlZmluaW5nIGluZm8gYWJvdXQgdGhlIGNvbXBvbmVudCAodXN1YWxseSB0aGUgbmFtZSlcbiAgICovXG4gIGFyaWFMYWJlbD86IExvY2FsaXphYmxlVGV4dDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRIb3ZlckNoYW5nZWRFdmVudEFyZ3MgZXh0ZW5kcyBOb0FyZ3Mge1xuICAvKipcbiAgICogVHJ1ZSBpcyB0aGUgY29tcG9uZW50IGlzIGhvdmVyZWQsIGVsc2UgZmFsc2UuXG4gICAqL1xuICBob3ZlcmVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgZW51bSBWaWV3TW9kZSB7XG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgY29tcG9uZW50IGhhcyBlbnRlcmVkIGEgdmlldyBtb2RlIHdoZXJlIGl0IG11c3Qgc3RheSB2aXNpYmxlLiBBdXRvLWhpZGluZyBvZiB0aGlzIGNvbXBvbmVudFxuICAgKiBtdXN0IGJlIGRpc2FibGVkIGFzIGxvbmcgYXMgaXQgcmVzaWRlcyBpbiB0aGlzIHN0YXRlLlxuICAgKi9cbiAgUGVyc2lzdGVudCA9ICdwZXJzaXN0ZW50JyxcblxuICAvKipcbiAgICogVGhlIGNvbnRyb2wgY2FuIGJlIGhpZGRlbiBhdCBhbnkgdGltZS5cbiAgICovXG4gIFRlbXBvcmFyeSA9ICd0ZW1wb3JhcnknLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpZXdNb2RlQ2hhbmdlZEV2ZW50QXJncyBleHRlbmRzIE5vQXJncyB7XG4gIC8qKlxuICAgKiBUaGUgYFZpZXdNb2RlYCB0aGUgY29udHJvbCBpcyBjdXJyZW50bHkgaW4uXG4gICAqL1xuICBtb2RlOiBWaWV3TW9kZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBvZiB0aGUgVUkgZnJhbWV3b3JrLlxuICogRWFjaCBjb21wb25lbnQgbXVzdCBleHRlbmQgdGhpcyBjbGFzcyBhbmQgb3B0aW9uYWxseSB0aGUgY29uZmlnIGludGVyZmFjZS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50PENvbmZpZyBleHRlbmRzIENvbXBvbmVudENvbmZpZz4ge1xuXG4gIC8qKlxuICAgKiBUaGUgY2xhc3NuYW1lIHRoYXQgaXMgYXR0YWNoZWQgdG8gdGhlIGVsZW1lbnQgd2hlbiBpdCBpcyBpbiB0aGUgaGlkZGVuIHN0YXRlLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQ0xBU1NfSElEREVOID0gJ2hpZGRlbic7XG5cbiAgLyoqXG4gICAqIFRoZSBjbGFzc25hbWUgdGhhdCBpcyBhdHRhY2hlZCB0byB0aGUgZWxlbWVudCB3aGVuIGl0IGlzIGluIHRoZSBkaXNhYmxlZCBzdGF0ZS5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENMQVNTX0RJU0FCTEVEID0gJ2Rpc2FibGVkJztcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBvYmplY3Qgb2YgdGhpcyBjb21wb25lbnQuXG4gICAqL1xuICBwcm90ZWN0ZWQgY29uZmlnOiBDb25maWc7XG5cbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQncyBET00gZWxlbWVudC5cbiAgICovXG4gIHByaXZhdGUgZWxlbWVudDogRE9NO1xuXG4gIC8qKlxuICAgKiBGbGFnIHRoYXQga2VlcHMgdHJhY2sgb2YgdGhlIGhpZGRlbiBzdGF0ZS5cbiAgICovXG4gIHByaXZhdGUgaGlkZGVuOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBGbGF0IHRoYXQga2VlcHMgdHJhY2sgb2YgdGhlIGRpc2FibGVkIHN0YXRlLlxuICAgKi9cbiAgcHJpdmF0ZSBkaXNhYmxlZDogYm9vbGVhbjtcblxuICAvKipcbiAgICogRmxhZyB0aGF0IGtlZXBzIHRyYWNrIG9mIHRoZSBob3ZlciBzdGF0ZS5cbiAgICovXG4gIHByaXZhdGUgaG92ZXJlZDogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgdmlldyBtb2RlIG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBwcml2YXRlIHZpZXdNb2RlOiBWaWV3TW9kZTtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgZXZlbnRzIHRoYXQgdGhpcyBjb21wb25lbnQgb2ZmZXJzLiBUaGVzZSBldmVudHMgc2hvdWxkIGFsd2F5cyBiZSBwcml2YXRlIGFuZCBvbmx5IGRpcmVjdGx5XG4gICAqIGFjY2Vzc2VkIGZyb20gd2l0aGluIHRoZSBpbXBsZW1lbnRpbmcgY29tcG9uZW50LlxuICAgKlxuICAgKiBCZWNhdXNlIFR5cGVTY3JpcHQgZG9lcyBub3Qgc3VwcG9ydCBwcml2YXRlIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBuYW1lIG9uIGRpZmZlcmVudCBjbGFzcyBoaWVyYXJjaHkgbGV2ZWxzXG4gICAqIChpLmUuIHN1cGVyY2xhc3MgYW5kIHN1YmNsYXNzIGNhbm5vdCBjb250YWluIGEgcHJpdmF0ZSBwcm9wZXJ0eSB3aXRoIHRoZSBzYW1lIG5hbWUpLCB0aGUgZGVmYXVsdCBuYW1pbmdcbiAgICogY29udmVudGlvbiBmb3IgdGhlIGV2ZW50IGxpc3Qgb2YgYSBjb21wb25lbnQgdGhhdCBzaG91bGQgYmUgZm9sbG93ZWQgYnkgc3ViY2xhc3NlcyBpcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGVcbiAgICogY2FtZWwtY2FzZWQgY2xhc3MgbmFtZSArICdFdmVudHMnIChlLmcuIFN1YkNsYXNzIGV4dGVuZHMgQ29tcG9uZW50ID0+IHN1YkNsYXNzRXZlbnRzKS5cbiAgICogU2VlIHtAbGluayAjY29tcG9uZW50RXZlbnRzfSBmb3IgYW4gZXhhbXBsZS5cbiAgICpcbiAgICogRXZlbnQgcHJvcGVydGllcyBzaG91bGQgYmUgbmFtZWQgaW4gY2FtZWwgY2FzZSB3aXRoIGFuICdvbicgcHJlZml4IGFuZCBpbiB0aGUgcHJlc2VudCB0ZW5zZS4gQXN5bmMgZXZlbnRzIG1heVxuICAgKiBoYXZlIGEgc3RhcnQgZXZlbnQgKHdoZW4gdGhlIG9wZXJhdGlvbiBzdGFydHMpIGluIHRoZSBwcmVzZW50IHRlbnNlLCBhbmQgbXVzdCBoYXZlIGFuIGVuZCBldmVudCAod2hlbiB0aGVcbiAgICogb3BlcmF0aW9uIGVuZHMpIGluIHRoZSBwYXN0IHRlbnNlIChvciBwcmVzZW50IHRlbnNlIGluIHNwZWNpYWwgY2FzZXMgKGUuZy4gb25TdGFydC9vblN0YXJ0ZWQgb3Igb25QbGF5L29uUGxheWluZykuXG4gICAqIFNlZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyNvblNob3d9IGZvciBhbiBleGFtcGxlLlxuICAgKlxuICAgKiBFYWNoIGV2ZW50IHNob3VsZCBiZSBhY2NvbXBhbmllZCB3aXRoIGEgcHJvdGVjdGVkIG1ldGhvZCBuYW1lZCBieSB0aGUgY29udmVudGlvbiBldmVudE5hbWUgKyAnRXZlbnQnXG4gICAqIChlLmcuIG9uU3RhcnRFdmVudCksIHRoYXQgYWN0dWFsbHkgdHJpZ2dlcnMgdGhlIGV2ZW50IGJ5IGNhbGxpbmcge0BsaW5rIEV2ZW50RGlzcGF0Y2hlciNkaXNwYXRjaCBkaXNwYXRjaH0gYW5kXG4gICAqIHBhc3NpbmcgYSByZWZlcmVuY2UgdG8gdGhlIGNvbXBvbmVudCBhcyBmaXJzdCBwYXJhbWV0ZXIuIENvbXBvbmVudHMgc2hvdWxkIGFsd2F5cyB0cmlnZ2VyIHRoZWlyIGV2ZW50cyB3aXRoIHRoZXNlXG4gICAqIG1ldGhvZHMuIEltcGxlbWVudGluZyB0aGlzIHBhdHRlcm4gZ2l2ZXMgc3ViY2xhc3NlcyBtZWFucyB0byBkaXJlY3RseSBsaXN0ZW4gdG8gdGhlIGV2ZW50cyBieSBvdmVycmlkaW5nIHRoZVxuICAgKiBtZXRob2QgKGFuZCBzYXZpbmcgdGhlIG92ZXJoZWFkIG9mIHBhc3NpbmcgYSBoYW5kbGVyIHRvIHRoZSBldmVudCBkaXNwYXRjaGVyKSBhbmQgbW9yZSBpbXBvcnRhbnRseSB0byB0cmlnZ2VyXG4gICAqIHRoZXNlIGV2ZW50cyB3aXRob3V0IGhhdmluZyBhY2Nlc3MgdG8gdGhlIHByaXZhdGUgZXZlbnQgbGlzdC5cbiAgICogU2VlIHtAbGluayAjb25TaG93fSBmb3IgYW4gZXhhbXBsZS5cbiAgICpcbiAgICogVG8gcHJvdmlkZSBleHRlcm5hbCBjb2RlIHRoZSBwb3NzaWJpbGl0eSB0byBsaXN0ZW4gdG8gdGhpcyBjb21wb25lbnQncyBldmVudHMgKHN1YnNjcmliZSwgdW5zdWJzY3JpYmUsIGV0Yy4pLFxuICAgKiBlYWNoIGV2ZW50IHNob3VsZCBhbHNvIGJlIGFjY29tcGFuaWVkIGJ5IGEgcHVibGljIGdldHRlciBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50J3MgcHJvcGVydHksXG4gICAqIHRoYXQgcmV0dXJucyB0aGUge0BsaW5rIEV2ZW50fSBvYnRhaW5lZCBmcm9tIHRoZSBldmVudCBkaXNwYXRjaGVyIGJ5IGNhbGxpbmcge0BsaW5rIEV2ZW50RGlzcGF0Y2hlciNnZXRFdmVudH0uXG4gICAqIFNlZSB7QGxpbmsgI29uU2hvd30gZm9yIGFuIGV4YW1wbGUuXG4gICAqXG4gICAqIEZ1bGwgZXhhbXBsZSBmb3IgYW4gZXZlbnQgcmVwcmVzZW50aW5nIGFuIGV4YW1wbGUgYWN0aW9uIGluIGEgZXhhbXBsZSBjb21wb25lbnQ6XG4gICAqXG4gICAqIDxjb2RlPlxuICAgKiAvLyBEZWZpbmUgYW4gZXhhbXBsZSBjb21wb25lbnQgY2xhc3Mgd2l0aCBhbiBleGFtcGxlIGV2ZW50XG4gICAqIGNsYXNzIEV4YW1wbGVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPiB7XG4gICAgICpcbiAgICAgKiAgICAgcHJpdmF0ZSBleGFtcGxlQ29tcG9uZW50RXZlbnRzID0ge1xuICAgICAqICAgICAgICAgb25FeGFtcGxlQWN0aW9uOiBuZXcgRXZlbnREaXNwYXRjaGVyPEV4YW1wbGVDb21wb25lbnQsIE5vQXJncz4oKVxuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiAgICAgLy8gY29uc3RydWN0b3IgYW5kIG90aGVyIHN0dWZmLi4uXG4gICAgICpcbiAgICAgKiAgICAgcHJvdGVjdGVkIG9uRXhhbXBsZUFjdGlvbkV2ZW50KCkge1xuICAgICAqICAgICAgICB0aGlzLmV4YW1wbGVDb21wb25lbnRFdmVudHMub25FeGFtcGxlQWN0aW9uLmRpc3BhdGNoKHRoaXMpO1xuICAgICAqICAgIH1cbiAgICAgKlxuICAgICAqICAgIGdldCBvbkV4YW1wbGVBY3Rpb24oKTogRXZlbnQ8RXhhbXBsZUNvbXBvbmVudCwgTm9BcmdzPiB7XG4gICAgICogICAgICAgIHJldHVybiB0aGlzLmV4YW1wbGVDb21wb25lbnRFdmVudHMub25FeGFtcGxlQWN0aW9uLmdldEV2ZW50KCk7XG4gICAgICogICAgfVxuICAgICAqIH1cbiAgICpcbiAgICogLy8gQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBjb21wb25lbnQgc29tZXdoZXJlXG4gICAqIHZhciBleGFtcGxlQ29tcG9uZW50SW5zdGFuY2UgPSBuZXcgRXhhbXBsZUNvbXBvbmVudCgpO1xuICAgKlxuICAgKiAvLyBTdWJzY3JpYmUgdG8gdGhlIGV4YW1wbGUgZXZlbnQgb24gdGhlIGNvbXBvbmVudFxuICAgKiBleGFtcGxlQ29tcG9uZW50SW5zdGFuY2Uub25FeGFtcGxlQWN0aW9uLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyOiBFeGFtcGxlQ29tcG9uZW50KSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdvbkV4YW1wbGVBY3Rpb24gb2YgJyArIHNlbmRlciArICcgaGFzIGZpcmVkIScpO1xuICAgICAqIH0pO1xuICAgKiA8L2NvZGU+XG4gICAqL1xuICBwcml2YXRlIGNvbXBvbmVudEV2ZW50cyA9IHtcbiAgICBvblNob3c6IG5ldyBFdmVudERpc3BhdGNoZXI8Q29tcG9uZW50PENvbmZpZz4sIE5vQXJncz4oKSxcbiAgICBvbkhpZGU6IG5ldyBFdmVudERpc3BhdGNoZXI8Q29tcG9uZW50PENvbmZpZz4sIE5vQXJncz4oKSxcbiAgICBvblZpZXdNb2RlQ2hhbmdlZDogbmV3IEV2ZW50RGlzcGF0Y2hlcjxDb21wb25lbnQ8Q29uZmlnPiwgVmlld01vZGVDaGFuZ2VkRXZlbnRBcmdzPigpLFxuICAgIG9uSG92ZXJDaGFuZ2VkOiBuZXcgRXZlbnREaXNwYXRjaGVyPENvbXBvbmVudDxDb25maWc+LCBDb21wb25lbnRIb3ZlckNoYW5nZWRFdmVudEFyZ3M+KCksXG4gICAgb25FbmFibGVkOiBuZXcgRXZlbnREaXNwYXRjaGVyPENvbXBvbmVudDxDb25maWc+LCBOb0FyZ3M+KCksXG4gICAgb25EaXNhYmxlZDogbmV3IEV2ZW50RGlzcGF0Y2hlcjxDb21wb25lbnQ8Q29uZmlnPiwgTm9BcmdzPigpLFxuICB9O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgY29tcG9uZW50IHdpdGggYW4gb3B0aW9uYWxseSBzdXBwbGllZCBjb25maWcuIEFsbCBzdWJjbGFzc2VzIG11c3QgY2FsbCB0aGUgY29uc3RydWN0b3Igb2YgdGhlaXJcbiAgICogc3VwZXJjbGFzcyBhbmQgdGhlbiBtZXJnZSB0aGVpciBjb25maWd1cmF0aW9uIGludG8gdGhlIGNvbXBvbmVudCdzIGNvbmZpZ3VyYXRpb24uXG4gICAqIEBwYXJhbSBjb25maWcgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBjb21wb25lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29tcG9uZW50Q29uZmlnID0ge30pIHtcbiAgICAvLyBDcmVhdGUgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgY29tcG9uZW50XG4gICAgdGhpcy5jb25maWcgPSA8Q29uZmlnPnRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgaWQ6ICd7e1BSRUZJWH19LWlkLScgKyBHdWlkLm5leHQoKSxcbiAgICAgIGNzc1ByZWZpeDogJ3t7UFJFRklYfX0nLFxuICAgICAgY3NzQ2xhc3M6ICd1aS1jb21wb25lbnQnLFxuICAgICAgY3NzQ2xhc3NlczogW10sXG4gICAgICBoaWRkZW46IGZhbHNlLFxuICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIH0sIHt9KTtcbiAgICB0aGlzLnZpZXdNb2RlID0gVmlld01vZGUuVGVtcG9yYXJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBjb21wb25lbnQsIGUuZy4gYnkgYXBwbHlpbmcgY29uZmlnIHNldHRpbmdzLlxuICAgKiBUaGlzIG1ldGhvZCBtdXN0IG5vdCBiZSBjYWxsZWQgZnJvbSBvdXRzaWRlIHRoZSBVSSBmcmFtZXdvcmsuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIGJ5IHRoZSB7QGxpbmsgVUlJbnN0YW5jZU1hbmFnZXJ9LiBJZiB0aGUgY29tcG9uZW50IGlzIGFuIGlubmVyIGNvbXBvbmVudCBvZlxuICAgKiBzb21lIGNvbXBvbmVudCwgYW5kIHRodXMgZW5jYXBzdWxhdGVkIGFiZCBtYW5hZ2VkIGludGVybmFsbHkgYW5kIG5ldmVyIGRpcmVjdGx5IGV4cG9zZWQgdG8gdGhlIFVJTWFuYWdlcixcbiAgICogdGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWQgZnJvbSB0aGUgbWFuYWdpbmcgY29tcG9uZW50J3Mge0BsaW5rICNpbml0aWFsaXplfSBtZXRob2QuXG4gICAqL1xuICBpbml0aWFsaXplKCk6IHZvaWQge1xuICAgIHRoaXMuaGlkZGVuID0gdGhpcy5jb25maWcuaGlkZGVuO1xuICAgIHRoaXMuZGlzYWJsZWQgPSB0aGlzLmNvbmZpZy5kaXNhYmxlZDtcblxuICAgIC8vIEhpZGUgdGhlIGNvbXBvbmVudCBhdCBpbml0aWFsaXphdGlvbiBpZiBpdCBpcyBjb25maWd1cmVkIHRvIGJlIGhpZGRlblxuICAgIGlmICh0aGlzLmlzSGlkZGVuKCkpIHtcbiAgICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7IC8vIFNldCBmbGFnIHRvIGZhbHNlIGZvciB0aGUgZm9sbG93aW5nIGhpZGUoKSBjYWxsIHRvIHdvcmsgKGhpZGUoKSBjaGVja3MgdGhlIGZsYWcpXG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9XG5cbiAgICAvLyBEaXNhYmxlIHRoZSBjb21wb25lbnQgYXQgaW5pdGlhbGl6YXRpb24gaWYgaXQgaXMgY29uZmlndXJlZCB0byBiZSBkaXNhYmxlZFxuICAgIGlmICh0aGlzLmlzRGlzYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlOyAvLyBTZXQgZmxhZyB0byBmYWxzZSBmb3IgdGhlIGZvbGxvd2luZyBkaXNhYmxlKCkgY2FsbCB0byB3b3JrIChkaXNhYmxlKCkgY2hlY2tzIHRoZSBmbGFnKVxuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyZXMgdGhlIGNvbXBvbmVudCBmb3IgdGhlIHN1cHBsaWVkIFBsYXllciBhbmQgVUlJbnN0YW5jZU1hbmFnZXIuIFRoaXMgaXMgdGhlIHBsYWNlIHdoZXJlIGFsbCB0aGUgbWFnaWNcbiAgICogaGFwcGVucywgd2hlcmUgY29tcG9uZW50cyB0eXBpY2FsbHkgc3Vic2NyaWJlIGFuZCByZWFjdCB0byBldmVudHMgKG9uIHRoZWlyIERPTSBlbGVtZW50LCB0aGUgUGxheWVyLCBvciB0aGVcbiAgICogVUlJbnN0YW5jZU1hbmFnZXIpLCBhbmQgYmFzaWNhbGx5IGV2ZXJ5dGhpbmcgdGhhdCBtYWtlcyB0aGVtIGludGVyYWN0aXZlLlxuICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgb25seSBvbmNlLCB3aGVuIHRoZSBVSU1hbmFnZXIgaW5pdGlhbGl6ZXMgdGhlIFVJLlxuICAgKlxuICAgKiBTdWJjbGFzc2VzIHVzdWFsbHkgb3ZlcndyaXRlIHRoaXMgbWV0aG9kIHRvIGFkZCB0aGVpciBvd24gZnVuY3Rpb25hbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIHBsYXllciB0aGUgcGxheWVyIHdoaWNoIHRoaXMgY29tcG9uZW50IGNvbnRyb2xzXG4gICAqIEBwYXJhbSB1aW1hbmFnZXIgdGhlIFVJSW5zdGFuY2VNYW5hZ2VyIHRoYXQgbWFuYWdlcyB0aGlzIGNvbXBvbmVudFxuICAgKi9cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgdGhpcy5vblNob3cuc3Vic2NyaWJlKCgpID0+IHVpbWFuYWdlci5vbkNvbXBvbmVudFNob3cuZGlzcGF0Y2godGhpcykpO1xuICAgIHRoaXMub25IaWRlLnN1YnNjcmliZSgoKSA9PiB1aW1hbmFnZXIub25Db21wb25lbnRIaWRlLmRpc3BhdGNoKHRoaXMpKTtcbiAgICB0aGlzLm9uVmlld01vZGVDaGFuZ2VkLnN1YnNjcmliZSgoXywgYXJncykgPT4gdWltYW5hZ2VyLm9uQ29tcG9uZW50Vmlld01vZGVDaGFuZ2VkLmRpc3BhdGNoKHRoaXMsIGFyZ3MpKTtcblxuICAgIC8vIFRyYWNrIHRoZSBob3ZlcmVkIHN0YXRlIG9mIHRoZSBlbGVtZW50XG4gICAgdGhpcy5nZXREb21FbGVtZW50KCkub24oJ21vdXNlZW50ZXInLCAoKSA9PiB0aGlzLm9uSG92ZXJDaGFuZ2VkRXZlbnQodHJ1ZSkpO1xuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWxlYXZlJywgKCkgPT4gdGhpcy5vbkhvdmVyQ2hhbmdlZEV2ZW50KGZhbHNlKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZXMgYWxsIHJlc291cmNlcyBhbmQgZGVwZW5kZW5jaWVzIHRoYXQgdGhlIGNvbXBvbmVudCBob2xkcy4gUGxheWVyLCBET00sIGFuZCBVSU1hbmFnZXIgZXZlbnRzIGFyZVxuICAgKiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgZHVyaW5nIHJlbGVhc2UgYW5kIGRvIG5vdCBleHBsaWNpdGx5IG5lZWQgdG8gYmUgcmVtb3ZlZCBoZXJlLlxuICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgdGhlIFVJTWFuYWdlciB3aGVuIGl0IHJlbGVhc2VzIHRoZSBVSS5cbiAgICpcbiAgICogU3ViY2xhc3NlcyB0aGF0IG5lZWQgdG8gcmVsZWFzZSByZXNvdXJjZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIGFuZCBjYWxsIHN1cGVyLnJlbGVhc2UoKS5cbiAgICovXG4gIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgLy8gTm90aGluZyB0byBkbyBoZXJlLCBvdmVycmlkZSB3aGVyZSBuZWNlc3NhcnlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSB0aGUgRE9NIGVsZW1lbnQgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgKlxuICAgKiBTdWJjbGFzc2VzIHVzdWFsbHkgb3ZlcndyaXRlIHRoaXMgbWV0aG9kIHRvIGV4dGVuZCBvciByZXBsYWNlIHRoZSBET00gZWxlbWVudCB3aXRoIHRoZWlyIG93biBkZXNpZ24uXG4gICAqL1xuICBwcm90ZWN0ZWQgdG9Eb21FbGVtZW50KCk6IERPTSB7XG4gICAgbGV0IGVsZW1lbnQgPSBuZXcgRE9NKHRoaXMuY29uZmlnLnRhZywge1xuICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXG4gICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcbiAgICAgICdyb2xlJzogdGhpcy5jb25maWcucm9sZSxcbiAgICB9LCB0aGlzKTtcblxuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIERPTSBlbGVtZW50IG9mIHRoaXMgY29tcG9uZW50LiBDcmVhdGVzIHRoZSBET00gZWxlbWVudCBpZiBpdCBkb2VzIG5vdCB5ZXQgZXhpc3QuXG4gICAqXG4gICAqIFNob3VsZCBub3QgYmUgb3ZlcndyaXR0ZW4gYnkgc3ViY2xhc3Nlcy5cbiAgICpcbiAgICogQHJldHVybnMge0RPTX1cbiAgICovXG4gIGdldERvbUVsZW1lbnQoKTogRE9NIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xuICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy50b0RvbUVsZW1lbnQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGlzIGNvbXBvbmVudCBoYXMgYSBET00gZWxlbWVudC5cbiAgICovXG4gIGhhc0RvbUVsZW1lbnQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5lbGVtZW50KTtcbiAgfVxuXG4gIHNldEFyaWFMYWJlbChsYWJlbDogTG9jYWxpemFibGVUZXh0KTogdm9pZCB7XG4gICAgdGhpcy5zZXRBcmlhQXR0cignbGFiZWwnLCBpMThuLnBlcmZvcm1Mb2NhbGl6YXRpb24obGFiZWwpKTtcbiAgfVxuXG4gIHNldEFyaWFBdHRyKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmF0dHIoYGFyaWEtJHtuYW1lfWAsIHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXJnZXMgYSBjb25maWd1cmF0aW9uIHdpdGggYSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gYW5kIGEgYmFzZSBjb25maWd1cmF0aW9uIGZyb20gdGhlIHN1cGVyY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWcgdGhlIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnRzLCBhcyB1c3VhbGx5IHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIGRlZmF1bHRzIGEgZGVmYXVsdCBjb25maWd1cmF0aW9uIGZvciBzZXR0aW5ncyB0aGF0IGFyZSBub3QgcGFzc2VkIHdpdGggdGhlIGNvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIGJhc2UgY29uZmlndXJhdGlvbiBpbmhlcml0ZWQgZnJvbSBhIHN1cGVyY2xhc3NcbiAgICogQHJldHVybnMge0NvbmZpZ31cbiAgICovXG4gIHByb3RlY3RlZCBtZXJnZUNvbmZpZzxDb25maWc+KGNvbmZpZzogQ29uZmlnLCBkZWZhdWx0czogQ29uZmlnLCBiYXNlOiBDb25maWcpOiBDb25maWcge1xuICAgIC8vIEV4dGVuZCBkZWZhdWx0IGNvbmZpZyB3aXRoIHN1cHBsaWVkIGNvbmZpZ1xuICAgIGxldCBtZXJnZWQgPSBPYmplY3QuYXNzaWduKHt9LCBiYXNlLCBkZWZhdWx0cywgY29uZmlnKTtcblxuICAgIC8vIFJldHVybiB0aGUgZXh0ZW5kZWQgY29uZmlnXG4gICAgcmV0dXJuIG1lcmdlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIHRoYXQgcmV0dXJucyBhIHN0cmluZyBvZiBhbGwgQ1NTIGNsYXNzZXMgb2YgdGhlIGNvbXBvbmVudC5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHByb3RlY3RlZCBnZXRDc3NDbGFzc2VzKCk6IHN0cmluZyB7XG4gICAgLy8gTWVyZ2UgYWxsIENTUyBjbGFzc2VzIGludG8gc2luZ2xlIGFycmF5XG4gICAgbGV0IGZsYXR0ZW5lZEFycmF5ID0gW3RoaXMuY29uZmlnLmNzc0NsYXNzXS5jb25jYXQodGhpcy5jb25maWcuY3NzQ2xhc3Nlcyk7XG4gICAgLy8gUHJlZml4IGNsYXNzZXNcbiAgICBmbGF0dGVuZWRBcnJheSA9IGZsYXR0ZW5lZEFycmF5Lm1hcCgoY3NzKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5wcmVmaXhDc3MoY3NzKTtcbiAgICB9KTtcbiAgICAvLyBKb2luIGFycmF5IHZhbHVlcyBpbnRvIGEgc3RyaW5nXG4gICAgbGV0IGZsYXR0ZW5lZFN0cmluZyA9IGZsYXR0ZW5lZEFycmF5LmpvaW4oJyAnKTtcbiAgICAvLyBSZXR1cm4gdHJpbW1lZCBzdHJpbmcgdG8gcHJldmVudCB3aGl0ZXNwYWNlIGF0IHRoZSBlbmQgZnJvbSB0aGUgam9pbiBvcGVyYXRpb25cbiAgICByZXR1cm4gZmxhdHRlbmVkU3RyaW5nLnRyaW0oKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwcmVmaXhDc3MoY3NzQ2xhc3NPcklkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5jc3NQcmVmaXggKyAnLScgKyBjc3NDbGFzc09ySWQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29uZmlndXJhdGlvbiBvYmplY3Qgb2YgdGhlIGNvbXBvbmVudC5cbiAgICogQHJldHVybnMge0NvbmZpZ31cbiAgICovXG4gIHB1YmxpYyBnZXRDb25maWcoKTogQ29uZmlnIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWc7XG4gIH1cblxuICAvKipcbiAgICogSGlkZXMgdGhlIGNvbXBvbmVudCBpZiBzaG93bi5cbiAgICogVGhpcyBtZXRob2QgYmFzaWNhbGx5IHRyYW5zZmVycyB0aGUgY29tcG9uZW50IGludG8gdGhlIGhpZGRlbiBzdGF0ZS4gQWN0dWFsIGhpZGluZyBpcyBkb25lIHZpYSBDU1MuXG4gICAqL1xuICBoaWRlKCkge1xuICAgIGlmICghdGhpcy5oaWRkZW4pIHtcbiAgICAgIHRoaXMuaGlkZGVuID0gdHJ1ZTtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKENvbXBvbmVudC5DTEFTU19ISURERU4pKTtcbiAgICAgIHRoaXMub25IaWRlRXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvd3MgdGhlIGNvbXBvbmVudCBpZiBoaWRkZW4uXG4gICAqL1xuICBzaG93KCkge1xuICAgIGlmICh0aGlzLmhpZGRlbikge1xuICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoQ29tcG9uZW50LkNMQVNTX0hJRERFTikpO1xuICAgICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMub25TaG93RXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY29tcG9uZW50IGlzIGhpZGRlbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIGNvbXBvbmVudCBpcyBoaWRkZW4sIGVsc2UgZmFsc2VcbiAgICovXG4gIGlzSGlkZGVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmhpZGRlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjb21wb25lbnQgaXMgc2hvd24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgdmlzaWJsZSwgZWxzZSBmYWxzZVxuICAgKi9cbiAgaXNTaG93bigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMuaXNIaWRkZW4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSBoaWRkZW4gc3RhdGUgYnkgaGlkaW5nIHRoZSBjb21wb25lbnQgaWYgaXQgaXMgc2hvd24sIG9yIHNob3dpbmcgaXQgaWYgaGlkZGVuLlxuICAgKi9cbiAgdG9nZ2xlSGlkZGVuKCkge1xuICAgIGlmICh0aGlzLmlzSGlkZGVuKCkpIHtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIGNvbXBvbmVudC5cbiAgICogVGhpcyBtZXRob2QgYmFzaWNhbGx5IHRyYW5zZmVycyB0aGUgY29tcG9uZW50IGludG8gdGhlIGRpc2FibGVkIHN0YXRlLiBBY3R1YWwgZGlzYWJsaW5nIGlzIGRvbmUgdmlhIENTUyBvciBjaGlsZFxuICAgKiBjb21wb25lbnRzLiAoZS5nLiBCdXR0b24gbmVlZHMgdG8gdW5zdWJzY3JpYmUgY2xpY2sgbGlzdGVuZXJzKVxuICAgKi9cbiAgZGlzYWJsZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoQ29tcG9uZW50LkNMQVNTX0RJU0FCTEVEKSk7XG4gICAgICB0aGlzLm9uRGlzYWJsZWRFdmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRoZSBjb21wb25lbnQuXG4gICAqIFRoaXMgbWV0aG9kIGJhc2ljYWxseSB0cmFuc2ZlcnMgdGhlIGNvbXBvbmVudCBpbnRvIHRoZSBlbmFibGVkIHN0YXRlLiBBY3R1YWwgZW5hYmxpbmcgaXMgZG9uZSB2aWEgQ1NTIG9yIGNoaWxkXG4gICAqIGNvbXBvbmVudHMuIChlLmcuIEJ1dHRvbiBuZWVkcyB0byBzdWJzY3JpYmUgY2xpY2sgbGlzdGVuZXJzKVxuICAgKi9cbiAgZW5hYmxlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcyhDb21wb25lbnQuQ0xBU1NfRElTQUJMRUQpKTtcbiAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMub25FbmFibGVkRXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgY29tcG9uZW50IGlzIGRpc2FibGVkLCBlbHNlIGZhbHNlXG4gICAqL1xuICBpc0Rpc2FibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRpc2FibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIGNvbXBvbmVudCBpcyBlbmFibGVkLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgY29tcG9uZW50IGlzIGVuYWJsZWQsIGVsc2UgZmFsc2VcbiAgICovXG4gIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMuaXNEaXNhYmxlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIGNvbXBvbmVudCBpcyBjdXJyZW50bHkgaG92ZXJlZC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIGNvbXBvbmVudCBpcyBob3ZlcmVkLCBlbHNlIGZhbHNlXG4gICAqL1xuICBpc0hvdmVyZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaG92ZXJlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyB0aGUgb25TaG93IGV2ZW50LlxuICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxuICAgKi9cbiAgcHJvdGVjdGVkIG9uU2hvd0V2ZW50KCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uU2hvdy5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyB0aGUgb25IaWRlIGV2ZW50LlxuICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxuICAgKi9cbiAgcHJvdGVjdGVkIG9uSGlkZUV2ZW50KCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSGlkZS5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyB0aGUgb25FbmFibGVkIGV2ZW50LlxuICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxuICAgKi9cbiAgcHJvdGVjdGVkIG9uRW5hYmxlZEV2ZW50KCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uRW5hYmxlZC5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyB0aGUgb25EaXNhYmxlZCBldmVudC5cbiAgICogU2VlIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvbiBldmVudCBhcmNoaXRlY3R1cmUgb24gdGhlIHtAbGluayAjY29tcG9uZW50RXZlbnRzIGV2ZW50cyBsaXN0fS5cbiAgICovXG4gIHByb3RlY3RlZCBvbkRpc2FibGVkRXZlbnQoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnRFdmVudHMub25EaXNhYmxlZC5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyB0aGUgb25WaWV3TW9kZUNoYW5nZWQgZXZlbnQuXG4gICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXG4gICAqL1xuICBwcm90ZWN0ZWQgb25WaWV3TW9kZUNoYW5nZWRFdmVudChtb2RlOiBWaWV3TW9kZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZpZXdNb2RlID09PSBtb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy52aWV3TW9kZSA9IG1vZGU7XG4gICAgdGhpcy5jb21wb25lbnRFdmVudHMub25WaWV3TW9kZUNoYW5nZWQuZGlzcGF0Y2godGhpcywgeyBtb2RlIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIHRoZSBvbkhvdmVyQ2hhbmdlZCBldmVudC5cbiAgICogU2VlIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvbiBldmVudCBhcmNoaXRlY3R1cmUgb24gdGhlIHtAbGluayAjY29tcG9uZW50RXZlbnRzIGV2ZW50cyBsaXN0fS5cbiAgICovXG4gIHByb3RlY3RlZCBvbkhvdmVyQ2hhbmdlZEV2ZW50KGhvdmVyZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmhvdmVyZWQgPSBob3ZlcmVkO1xuICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSG92ZXJDaGFuZ2VkLmRpc3BhdGNoKHRoaXMsIHsgaG92ZXJlZDogaG92ZXJlZCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBzaG93aW5nLlxuICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxuICAgKiBAcmV0dXJucyB7RXZlbnQ8Q29tcG9uZW50PENvbmZpZz4sIE5vQXJncz59XG4gICAqL1xuICBnZXQgb25TaG93KCk6IEV2ZW50PENvbXBvbmVudDxDb25maWc+LCBOb0FyZ3M+IHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRFdmVudHMub25TaG93LmdldEV2ZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgaGlkaW5nLlxuICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxuICAgKiBAcmV0dXJucyB7RXZlbnQ8Q29tcG9uZW50PENvbmZpZz4sIE5vQXJncz59XG4gICAqL1xuICBnZXQgb25IaWRlKCk6IEV2ZW50PENvbXBvbmVudDxDb25maWc+LCBOb0FyZ3M+IHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRFdmVudHMub25IaWRlLmdldEV2ZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgZW5hYmxpbmcuXG4gICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXG4gICAqIEByZXR1cm5zIHtFdmVudDxDb21wb25lbnQ8Q29uZmlnPiwgTm9BcmdzPn1cbiAgICovXG4gIGdldCBvbkVuYWJsZWQoKTogRXZlbnQ8Q29tcG9uZW50PENvbmZpZz4sIE5vQXJncz4ge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudEV2ZW50cy5vbkVuYWJsZWQuZ2V0RXZlbnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBkaXNhYmxpbmcuXG4gICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXG4gICAqIEByZXR1cm5zIHtFdmVudDxDb21wb25lbnQ8Q29uZmlnPiwgTm9BcmdzPn1cbiAgICovXG4gIGdldCBvbkRpc2FibGVkKCk6IEV2ZW50PENvbXBvbmVudDxDb25maWc+LCBOb0FyZ3M+IHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRFdmVudHMub25EaXNhYmxlZC5nZXRFdmVudCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY29tcG9uZW50J3MgaG92ZXItc3RhdGUgaXMgY2hhbmdpbmcuXG4gICAqIEByZXR1cm5zIHtFdmVudDxDb21wb25lbnQ8Q29uZmlnPiwgQ29tcG9uZW50SG92ZXJDaGFuZ2VkRXZlbnRBcmdzPn1cbiAgICovXG4gIGdldCBvbkhvdmVyQ2hhbmdlZCgpOiBFdmVudDxDb21wb25lbnQ8Q29uZmlnPiwgQ29tcG9uZW50SG92ZXJDaGFuZ2VkRXZlbnRBcmdzPiB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSG92ZXJDaGFuZ2VkLmdldEV2ZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBgVmlld01vZGVgIG9mIHRoaXMgY29tcG9uZW50IGhhcyBjaGFuZ2VkLlxuICAgKiBAcmV0dXJucyB7RXZlbnQ8Q29tcG9uZW50PENvbmZpZz4sIFZpZXdNb2RlQ2hhbmdlZEV2ZW50QXJncz59XG4gICAqL1xuICBnZXQgb25WaWV3TW9kZUNoYW5nZWQoKTogRXZlbnQ8Q29tcG9uZW50PENvbmZpZz4sIFZpZXdNb2RlQ2hhbmdlZEV2ZW50QXJncz4ge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudEV2ZW50cy5vblZpZXdNb2RlQ2hhbmdlZC5nZXRFdmVudCgpO1xuICB9XG59IiwiaW1wb3J0IHsgQ29tcG9uZW50Q29uZmlnLCBDb21wb25lbnQsIFZpZXdNb2RlQ2hhbmdlZEV2ZW50QXJncywgVmlld01vZGUgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQge0RPTX0gZnJvbSAnLi4vZG9tJztcbmltcG9ydCB7QXJyYXlVdGlsc30gZnJvbSAnLi4vYXJyYXl1dGlscyc7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gaW50ZXJmYWNlIGZvciBhIHtAbGluayBDb250YWluZXJ9LlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGFpbmVyQ29uZmlnIGV4dGVuZHMgQ29tcG9uZW50Q29uZmlnIHtcbiAgLyoqXG4gICAqIENoaWxkIGNvbXBvbmVudHMgb2YgdGhlIGNvbnRhaW5lci5cbiAgICovXG4gIGNvbXBvbmVudHM/OiBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPltdO1xufVxuXG4vKipcbiAqIEEgY29udGFpbmVyIGNvbXBvbmVudCB0aGF0IGNhbiBjb250YWluIGEgY29sbGVjdGlvbiBvZiBjaGlsZCBjb21wb25lbnRzLlxuICogQ29tcG9uZW50cyBjYW4gYmUgYWRkZWQgYXQgY29uc3RydWN0aW9uIHRpbWUgdGhyb3VnaCB0aGUge0BsaW5rIENvbnRhaW5lckNvbmZpZyNjb21wb25lbnRzfSBzZXR0aW5nLCBvciBsYXRlclxuICogdGhyb3VnaCB0aGUge0BsaW5rIENvbnRhaW5lciNhZGRDb21wb25lbnR9IG1ldGhvZC4gVGhlIFVJTWFuYWdlciBhdXRvbWF0aWNhbGx5IHRha2VzIGNhcmUgb2YgYWxsIGNvbXBvbmVudHMsIGkuZS4gaXRcbiAqIGluaXRpYWxpemVzIGFuZCBjb25maWd1cmVzIHRoZW0gYXV0b21hdGljYWxseS5cbiAqXG4gKiBJbiB0aGUgRE9NLCB0aGUgY29udGFpbmVyIGNvbnNpc3RzIG9mIGFuIG91dGVyIDxkaXY+ICh0aGF0IGNhbiBiZSBjb25maWd1cmVkIGJ5IHRoZSBjb25maWcpIGFuZCBhbiBpbm5lciB3cmFwcGVyXG4gKiA8ZGl2PiB0aGF0IGNvbnRhaW5zIHRoZSBjb21wb25lbnRzLiBUaGlzIGRvdWJsZS08ZGl2Pi1zdHJ1Y3R1cmUgaXMgb2Z0ZW4gcmVxdWlyZWQgdG8gYWNoaWV2ZSBtYW55IGFkdmFuY2VkIGVmZmVjdHNcbiAqIGluIENTUyBhbmQvb3IgSlMsIGUuZy4gYW5pbWF0aW9ucyBhbmQgY2VydGFpbiBmb3JtYXR0aW5nIHdpdGggYWJzb2x1dGUgcG9zaXRpb25pbmcuXG4gKlxuICogRE9NIGV4YW1wbGU6XG4gKiA8Y29kZT5cbiAqICAgICA8ZGl2IGNsYXNzPSd1aS1jb250YWluZXInPlxuICogICAgICAgICA8ZGl2IGNsYXNzPSdjb250YWluZXItd3JhcHBlcic+XG4gKiAgICAgICAgICAgICAuLi4gY2hpbGQgY29tcG9uZW50cyAuLi5cbiAqICAgICAgICAgPC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiA8L2NvZGU+XG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRhaW5lcjxDb25maWcgZXh0ZW5kcyBDb250YWluZXJDb25maWc+IGV4dGVuZHMgQ29tcG9uZW50PENvbmZpZz4ge1xuXG4gIC8qKlxuICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgaW5uZXIgZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBjb21wb25lbnRzIG9mIHRoZSBjb250YWluZXIuXG4gICAqL1xuICBwcml2YXRlIGlubmVyQ29udGFpbmVyRWxlbWVudDogRE9NO1xuICBwcml2YXRlIGNvbXBvbmVudHNUb0FkZDogQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz5bXTtcbiAgcHJpdmF0ZSBjb21wb25lbnRzVG9SZW1vdmU6IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+W107XG4gIHByaXZhdGUgY29tcG9uZW50c0luUGVyc2lzdGVudFZpZXdNb2RlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWcpIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS1jb250YWluZXInLFxuICAgICAgY29tcG9uZW50czogW10sXG4gICAgfSBhcyBDb25maWcsIHRoaXMuY29uZmlnKTtcblxuICAgIHRoaXMuY29tcG9uZW50c1RvQWRkID0gW107XG4gICAgdGhpcy5jb21wb25lbnRzVG9SZW1vdmUgPSBbXTtcbiAgICB0aGlzLmNvbXBvbmVudHNJblBlcnNpc3RlbnRWaWV3TW9kZSA9IDA7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNoaWxkIGNvbXBvbmVudCB0byB0aGUgY29udGFpbmVyLlxuICAgKiBAcGFyYW0gY29tcG9uZW50IHRoZSBjb21wb25lbnQgdG8gYWRkXG4gICAqL1xuICBhZGRDb21wb25lbnQoY29tcG9uZW50OiBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPikge1xuICAgIHRoaXMuY29uZmlnLmNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgIHRoaXMuY29tcG9uZW50c1RvQWRkLnB1c2goY29tcG9uZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgY2hpbGQgY29tcG9uZW50IGZyb20gdGhlIGNvbnRhaW5lci5cbiAgICogQHBhcmFtIGNvbXBvbmVudCB0aGUgY29tcG9uZW50IHRvIHJlbW92ZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgY29tcG9uZW50IGhhcyBiZWVuIHJlbW92ZWQsIGZhbHNlIGlmIGl0IGlzIG5vdCBjb250YWluZWQgaW4gdGhpcyBjb250YWluZXJcbiAgICovXG4gIHJlbW92ZUNvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+KTogYm9vbGVhbiB7XG4gICAgaWYgKEFycmF5VXRpbHMucmVtb3ZlKHRoaXMuY29uZmlnLmNvbXBvbmVudHMsIGNvbXBvbmVudCkgIT0gbnVsbCkge1xuICAgICAgdGhpcy5jb21wb25lbnRzVG9SZW1vdmUucHVzaChjb21wb25lbnQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbiBhcnJheSBvZiBhbGwgY2hpbGQgY29tcG9uZW50cyBpbiB0aGlzIGNvbnRhaW5lci5cbiAgICogQHJldHVybnMge0NvbXBvbmVudDxDb21wb25lbnRDb25maWc+W119XG4gICAqL1xuICBnZXRDb21wb25lbnRzKCk6IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+W10ge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5jb21wb25lbnRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGNoaWxkIGNvbXBvbmVudHMgZnJvbSB0aGUgY29udGFpbmVyLlxuICAgKi9cbiAgcmVtb3ZlQ29tcG9uZW50cygpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgdGhpcy5nZXRDb21wb25lbnRzKCkuc2xpY2UoKSkge1xuICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoY29tcG9uZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgRE9NIG9mIHRoZSBjb250YWluZXIgd2l0aCB0aGUgY3VycmVudCBjb21wb25lbnRzLlxuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZUNvbXBvbmVudHMoKTogdm9pZCB7XG4gICAgLyogV2UgY2Fubm90IGp1c3QgY2xlYXIgdGhlIGNvbnRhaW5lciB0byByZW1vdmUgYWxsIGVsZW1lbnRzIGFuZCB0aGVuIHJlLWFkZCB0aG9zZSB0aGF0IHNob3VsZCBzdGF5LCBiZWNhdXNlXG4gICAgICogSUUgbG9vc2VzIHRoZSBpbm5lckhUTUwgb2YgdW5hdHRhY2hlZCBlbGVtZW50cywgbGVhZGluZyB0byBlbXB0eSBlbGVtZW50cyB3aXRoaW4gdGhlIGNvbnRhaW5lciAoZS5nLiBtaXNzaW5nXG4gICAgICogc3VidGl0bGUgdGV4dCBpbiBTdWJ0aXRsZUxhYmVsKS5cbiAgICAgKiBJbnN0ZWFkLCB3ZSBrZWVwIGEgbGlzdCBvZiBlbGVtZW50cyB0byBhZGQgYW5kIHJlbW92ZSwgbGVhdmluZyByZW1haW5pbmcgZWxlbWVudHMgYWxvbmUuIEJ5IGtlZXBpbmcgdGhlbSBpblxuICAgICAqIHRoZSBET00sIHRoZWlyIGNvbnRlbnQgZ2V0cyBwcmVzZXJ2ZWQgaW4gYWxsIGJyb3dzZXJzLlxuICAgICAqL1xuICAgIGxldCBjb21wb25lbnQ7XG5cbiAgICB3aGlsZSAoKGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50c1RvUmVtb3ZlLnNoaWZ0KCkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbXBvbmVudC5nZXREb21FbGVtZW50KCkucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKChjb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudHNUb0FkZC5zaGlmdCgpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmlubmVyQ29udGFpbmVyRWxlbWVudC5hcHBlbmQoY29tcG9uZW50LmdldERvbUVsZW1lbnQoKSk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIHRvRG9tRWxlbWVudCgpOiBET00ge1xuICAgIC8vIENyZWF0ZSB0aGUgY29udGFpbmVyIGVsZW1lbnQgKHRoZSBvdXRlciA8ZGl2PilcbiAgICBsZXQgY29udGFpbmVyRWxlbWVudCA9IG5ldyBET00odGhpcy5jb25maWcudGFnLCB7XG4gICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcbiAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxuICAgICAgJ3JvbGUnOiB0aGlzLmNvbmZpZy5yb2xlLFxuICAgICAgJ2FyaWEtbGFiZWwnOiBpMThuLnBlcmZvcm1Mb2NhbGl6YXRpb24odGhpcy5jb25maWcuYXJpYUxhYmVsKSxcbiAgICB9LCB0aGlzKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgaW5uZXIgY29udGFpbmVyIGVsZW1lbnQgKHRoZSBpbm5lciA8ZGl2PikgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIGNvbXBvbmVudHNcbiAgICBsZXQgaW5uZXJDb250YWluZXIgPSBuZXcgRE9NKHRoaXMuY29uZmlnLnRhZywge1xuICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2NvbnRhaW5lci13cmFwcGVyJyksXG4gICAgfSk7XG4gICAgdGhpcy5pbm5lckNvbnRhaW5lckVsZW1lbnQgPSBpbm5lckNvbnRhaW5lcjtcblxuICAgIGZvciAobGV0IGluaXRpYWxDb21wb25lbnQgb2YgdGhpcy5jb25maWcuY29tcG9uZW50cykge1xuICAgICAgdGhpcy5jb21wb25lbnRzVG9BZGQucHVzaChpbml0aWFsQ29tcG9uZW50KTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XG5cbiAgICBjb250YWluZXJFbGVtZW50LmFwcGVuZChpbm5lckNvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gY29udGFpbmVyRWxlbWVudDtcbiAgfVxuXG4gIHByb3RlY3RlZCBzdXNwZW5kSGlkZVRpbWVvdXQoKTogdm9pZCB7XG4gICAgLy8gdG8gYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3NcbiAgfVxuXG4gIHByb3RlY3RlZCByZXN1bWVIaWRlVGltZW91dCgpOiB2b2lkIHtcbiAgICAvLyB0byBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzc1xuICB9XG5cbiAgcHJvdGVjdGVkIHRyYWNrQ29tcG9uZW50Vmlld01vZGUobW9kZTogVmlld01vZGUpIHtcbiAgICBpZiAobW9kZSA9PT0gVmlld01vZGUuUGVyc2lzdGVudCkge1xuICAgICAgdGhpcy5jb21wb25lbnRzSW5QZXJzaXN0ZW50Vmlld01vZGUrKztcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFZpZXdNb2RlLlRlbXBvcmFyeSkge1xuICAgICAgdGhpcy5jb21wb25lbnRzSW5QZXJzaXN0ZW50Vmlld01vZGUgPSBNYXRoLm1heCh0aGlzLmNvbXBvbmVudHNJblBlcnNpc3RlbnRWaWV3TW9kZSAtIDEsIDApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbXBvbmVudHNJblBlcnNpc3RlbnRWaWV3TW9kZSA+IDApIHtcbiAgICAgIC8vIFRoZXJlIGlzIGF0IGxlYXN0IG9uZSBjb21wb25lbnQgdGhhdCBtdXN0IG5vdCBiZSBoaWRkZW4sXG4gICAgICAvLyB0aGVyZWZvcmUgdGhlIGhpZGUgdGltZW91dCBtdXN0IGJlIHN1c3BlbmRlZFxuICAgICAgdGhpcy5zdXNwZW5kSGlkZVRpbWVvdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXN1bWVIaWRlVGltZW91dCgpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7Q29udGFpbmVyQ29uZmlnLCBDb250YWluZXJ9IGZyb20gJy4vY29udGFpbmVyJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge1VJVXRpbHN9IGZyb20gJy4uL3VpdXRpbHMnO1xuaW1wb3J0IHtTcGFjZXJ9IGZyb20gJy4vc3BhY2VyJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuaW1wb3J0IHsgQnJvd3NlclV0aWxzIH0gZnJvbSAnLi4vYnJvd3NlcnV0aWxzJztcbmltcG9ydCB7Q29tcG9uZW50LCBDb21wb25lbnRDb25maWd9IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7U2V0dGluZ3NQYW5lbH0gZnJvbSAnLi9zZXR0aW5nc3BhbmVsJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgdGhlIHtAbGluayBDb250cm9sQmFyfS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29uZmlnc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbnRyb2xCYXJDb25maWcgZXh0ZW5kcyBDb250YWluZXJDb25maWcge1xuICAvLyBub3RoaW5nIHlldFxufVxuXG4vKipcbiAqIEEgY29udGFpbmVyIGZvciBtYWluIHBsYXllciBjb250cm9sIGNvbXBvbmVudHMsIGUuZy4gcGxheSB0b2dnbGUgYnV0dG9uLCBzZWVrIGJhciwgdm9sdW1lIGNvbnRyb2wsIGZ1bGxzY3JlZW4gdG9nZ2xlXG4gKiBidXR0b24uXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRyb2xCYXIgZXh0ZW5kcyBDb250YWluZXI8Q29udHJvbEJhckNvbmZpZz4ge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29udHJvbEJhckNvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLWNvbnRyb2xiYXInLFxuICAgICAgaGlkZGVuOiB0cnVlLFxuICAgICAgcm9sZTogJ3JlZ2lvbicsXG4gICAgICBhcmlhTGFiZWw6IGkxOG4uZ2V0TG9jYWxpemVyKCdjb250cm9sQmFyJyksXG4gICAgfSwgPENvbnRyb2xCYXJDb25maWc+dGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIC8vIENvdW50cyBob3cgbWFueSBjb21wb25lbnRzIGFyZSBob3ZlcmVkIGFuZCBibG9jayBoaWRpbmcgb2YgdGhlIGNvbnRyb2wgYmFyXG4gICAgbGV0IGhvdmVyU3RhY2tDb3VudCA9IDA7XG4gICAgbGV0IGlzU2V0dGluZ3NQYW5lbFNob3duID0gZmFsc2U7XG5cbiAgICAvLyBPbmx5IGVuYWJsaW5nIHRoaXMgZm9yIHBsYXRmb3JtcyB3aXRob3V0IHRvdWNoIGlucHV0LlxuICAgIC8vIEVuYWJsaW5nIHRoaXMgZm9yIHRvdWNoIGRldmljZXMgY2F1c2VzIHRoZSBVSSB0byBub3QgZGlzYXBwZWFyIGFmdGVyIGhpZGVEZWxheSBzZWNvbmRzLFxuICAgIC8vIGJlY2F1c2UgYG1vdXNlbGVhdmVgIGV2ZW50IGlzIG5vdCBlbWl0dGVkLlxuICAgIC8vIEluc3RlYWQsIGl0IHdpbGwgc3RheSB2aXNpYmxlIHVudGlsIGFub3RoZXIgbWFudWFsIGludGVyYWN0aW9uIGlzIHBlcmZvcm1lZC5cbiAgICBpZiAodWltYW5hZ2VyLmdldENvbmZpZygpLmRpc2FibGVBdXRvSGlkZVdoZW5Ib3ZlcmVkICYmICFCcm93c2VyVXRpbHMuaXNUb3VjaFN1cHBvcnRlZCkge1xuICAgICAgLy8gVHJhY2sgaG92ZXIgc3RhdHVzIG9mIGNoaWxkIGNvbXBvbmVudHNcbiAgICAgIFVJVXRpbHMudHJhdmVyc2VUcmVlKHRoaXMsIChjb21wb25lbnQpID0+IHtcbiAgICAgICAgLy8gRG8gbm90IHRyYWNrIGhvdmVyIHN0YXR1cyBvZiBjaGlsZCBjb250YWluZXJzIG9yIHNwYWNlcnMsIG9ubHkgb2YgJ3JlYWwnIGNvbnRyb2xzXG4gICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBDb250YWluZXIgfHwgY29tcG9uZW50IGluc3RhbmNlb2YgU3BhY2VyKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3Vic2NyaWJlIGhvdmVyIGV2ZW50IGFuZCBrZWVwIGEgY291bnQgb2YgdGhlIG51bWJlciBvZiBob3ZlcmVkIGNoaWxkcmVuXG4gICAgICAgIGNvbXBvbmVudC5vbkhvdmVyQ2hhbmdlZC5zdWJzY3JpYmUoKF8sIGFyZ3MpID0+IHtcbiAgICAgICAgICBpZiAoYXJncy5ob3ZlcmVkKSB7XG4gICAgICAgICAgICBob3ZlclN0YWNrQ291bnQrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaG92ZXJTdGFja0NvdW50LS07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChCcm93c2VyVXRpbHMuaXNNb2JpbGUpIHtcbiAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudFNob3cuc3Vic2NyaWJlKChjb21wb25lbnQ6IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+KSA9PiB7XG4gICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBTZXR0aW5nc1BhbmVsKSB7XG4gICAgICAgICAgaXNTZXR0aW5nc1BhbmVsU2hvd24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdWltYW5hZ2VyLm9uQ29tcG9uZW50SGlkZS5zdWJzY3JpYmUoKGNvbXBvbmVudDogQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz4pID0+IHtcbiAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIFNldHRpbmdzUGFuZWwpIHtcbiAgICAgICAgICBpc1NldHRpbmdzUGFuZWxTaG93biA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB1aW1hbmFnZXIub25Db250cm9sc1Nob3cuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgIH0pO1xuXG4gICAgdWltYW5hZ2VyLm9uUHJldmlld0NvbnRyb2xzSGlkZS5zdWJzY3JpYmUoKHNlbmRlciwgYXJncykgPT4ge1xuICAgICAgLy8gQ2FuY2VsIHRoZSBoaWRlIGV2ZW50IGlmIGhvdmVyZWQgY2hpbGQgY29tcG9uZW50cyBibG9jayBoaWRpbmcgb3IgaWYgdGhlIHNldHRpbmdzIHBhbmVsIGlzIGFjdGl2ZSBvbiBtb2JpbGUuXG4gICAgICBhcmdzLmNhbmNlbCA9IGFyZ3MuY2FuY2VsIHx8IChob3ZlclN0YWNrQ291bnQgPiAwIHx8IGlzU2V0dGluZ3NQYW5lbFNob3duKTtcbiAgICB9KTtcblxuICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzSGlkZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBsYXllckFQSSwgU2VnbWVudFBsYXliYWNrRXZlbnQsIFZpZGVvUXVhbGl0eSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XHJcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XHJcbmltcG9ydCB7IENvbnRhaW5lciwgQ29udGFpbmVyQ29uZmlnIH0gZnJvbSAnLi9jb250YWluZXInO1xyXG5pbXBvcnQgeyBFY29Nb2RlVG9nZ2xlQnV0dG9uIH0gZnJvbSAnLi9lY29tb2RldG9nZ2xlYnV0dG9uJztcclxuaW1wb3J0IHsgTGFiZWwsIExhYmVsQ29uZmlnIH0gZnJvbSAnLi9sYWJlbCc7XHJcbmltcG9ydCB7IFNldHRpbmdzUGFuZWxJdGVtIH0gZnJvbSAnLi9zZXR0aW5nc3BhbmVsaXRlbSc7XHJcblxyXG4vKipcclxuICogQGNhdGVnb3J5IENvbnRhaW5lcnNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFY29Nb2RlQ29udGFpbmVyIGV4dGVuZHMgQ29udGFpbmVyPENvbnRhaW5lckNvbmZpZz4ge1xyXG4gIHByaXZhdGUgZWNvTW9kZVNhdmVkRW1pc3Npb25zSXRlbTogU2V0dGluZ3NQYW5lbEl0ZW07XHJcbiAgcHJpdmF0ZSBlY29Nb2RlVG9nZ2xlQnV0dG9uSXRlbTogU2V0dGluZ3NQYW5lbEl0ZW07XHJcbiAgcHJpdmF0ZSBlbWlzc2lvbnNTYXZlZExhYmVsOiBMYWJlbDxMYWJlbENvbmZpZz47XHJcbiAgcHJpdmF0ZSBzYXZlZEVtaXNzb25zID0gMDtcclxuICBwcml2YXRlIGN1cnJlbnRFbmVyZ3lFbWlzc2lvbjogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihjb25maWc6IENvbnRhaW5lckNvbmZpZyA9IHt9KSB7XHJcbiAgICBzdXBlcihjb25maWcpO1xyXG5cclxuICAgIGNvbnN0IGVjb01vZGVUb2dnbGVCdXR0b24gPSBuZXcgRWNvTW9kZVRvZ2dsZUJ1dHRvbigpO1xyXG4gICAgY29uc3QgbGFiZWxFY29Nb2RlID0gbmV3IExhYmVsKHtcclxuICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ2Vjb01vZGUudGl0bGUnKSxcclxuICAgICAgZm9yOiBlY29Nb2RlVG9nZ2xlQnV0dG9uLmdldENvbmZpZygpLmlkLFxyXG4gICAgICBpZDogJ2Vjb21vZGVsYWJlbCcsXHJcbiAgICB9KTtcclxuICAgIHRoaXMuZW1pc3Npb25zU2F2ZWRMYWJlbCA9IG5ldyBMYWJlbCh7XHJcbiAgICAgIHRleHQ6IGAke3RoaXMuc2F2ZWRFbWlzc29ucy50b0ZpeGVkKDQpfSBnQ08yYCxcclxuICAgICAgY3NzQ2xhc3M6ICd1aS1sYWJlbC1zYXZlZEVuZXJneScsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmVjb01vZGVUb2dnbGVCdXR0b25JdGVtID0gbmV3IFNldHRpbmdzUGFuZWxJdGVtKGxhYmVsRWNvTW9kZSwgZWNvTW9kZVRvZ2dsZUJ1dHRvbik7XHJcbiAgICB0aGlzLmVjb01vZGVTYXZlZEVtaXNzaW9uc0l0ZW0gPSBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oJ1NhdmVkIEVtaXNzaW9ucycsIHRoaXMuZW1pc3Npb25zU2F2ZWRMYWJlbCwge1xyXG4gICAgICBoaWRkZW46IHRydWUsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmFkZENvbXBvbmVudCh0aGlzLmVjb01vZGVUb2dnbGVCdXR0b25JdGVtKTtcclxuICAgIHRoaXMuYWRkQ29tcG9uZW50KHRoaXMuZWNvTW9kZVNhdmVkRW1pc3Npb25zSXRlbSk7XHJcblxyXG4gICAgZWNvTW9kZVRvZ2dsZUJ1dHRvbi5vblRvZ2dsZU9uLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZWNvTW9kZVNhdmVkRW1pc3Npb25zSXRlbS5zaG93KCk7XHJcbiAgICAgIHRoaXMub25Ub2dnbGVDYWxsYmFjaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZWNvTW9kZVRvZ2dsZUJ1dHRvbi5vblRvZ2dsZU9mZi5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICB0aGlzLmVjb01vZGVTYXZlZEVtaXNzaW9uc0l0ZW0uaGlkZSgpO1xyXG4gICAgICB0aGlzLm9uVG9nZ2xlQ2FsbGJhY2soKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblRvZ2dsZUNhbGxiYWNrOiAoKSA9PiB2b2lkO1xyXG5cclxuICBwdWJsaWMgc2V0T25Ub2dnbGVDYWxsYmFjayhjYWxsYmFjazogKCkgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5vblRvZ2dsZUNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEkpOiB2b2lkIHtcclxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TZWdtZW50UGxheWJhY2ssIChzZWdtZW50OiBTZWdtZW50UGxheWJhY2tFdmVudCkgPT4ge1xyXG4gICAgICBpZiAoIXNlZ21lbnQubWltZVR5cGUuaW5jbHVkZXMoJ3ZpZGVvJykpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCwgYml0cmF0ZSwgZnJhbWVSYXRlIH0gPSBzZWdtZW50Lm1lZGlhSW5mbztcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGhlaWdodDogbWF4SGVpZ2h0LFxyXG4gICAgICAgIGJpdHJhdGU6IG1heEJpdHJhdGUsXHJcbiAgICAgICAgd2lkdGg6IG1heFdpZHRoLFxyXG4gICAgICB9ID0gdGhpcy5nZXRNYXhRdWFsaXR5QXZhaWxhYmxlKHBsYXllci5nZXRBdmFpbGFibGVWaWRlb1F1YWxpdGllcygpKTtcclxuXHJcbiAgICAgIGNvbnN0IGN1cnJlbnRFbmVyZ3lLd2ggPSB0aGlzLmNhbGN1bGF0ZUVuZXJneUNvbnN1bXB0aW9uKGZyYW1lUmF0ZSwgaGVpZ2h0LCB3aWR0aCwgYml0cmF0ZSwgc2VnbWVudC5kdXJhdGlvbik7XHJcblxyXG4gICAgICBjb25zdCBtYXhFbmVyZ3lLd2ggPSB0aGlzLmNhbGN1bGF0ZUVuZXJneUNvbnN1bXB0aW9uKFxyXG4gICAgICAgIGZyYW1lUmF0ZSxcclxuICAgICAgICBtYXhIZWlnaHQsXHJcbiAgICAgICAgbWF4V2lkdGgsXHJcbiAgICAgICAgbWF4Qml0cmF0ZSxcclxuICAgICAgICBzZWdtZW50LmR1cmF0aW9uLFxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKHRoaXMuZWNvTW9kZVNhdmVkRW1pc3Npb25zSXRlbS5pc1Nob3duKCkpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVNhdmVkRW1pc3Npb25zKGN1cnJlbnRFbmVyZ3lLd2gsIG1heEVuZXJneUt3aCwgdGhpcy5lbWlzc2lvbnNTYXZlZExhYmVsKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTYXZlZEVtaXNzaW9ucyhcclxuICAgIGN1cnJlbnRFbmVyZ3lDb25zdXB0aW9uOiBudW1iZXIsXHJcbiAgICBtYXhFbmVyZ3lDb25zdXB0aW9uOiBudW1iZXIsXHJcbiAgICBlbWlzc2lvbnNTYXZlZExhYmVsOiBMYWJlbDxMYWJlbENvbmZpZz4sXHJcbiAgKSB7XHJcbiAgICAvLyA0NzUgaXMgdGhlIGF2ZXJhZ2UgY2FyYm9uIGludGVuc2l0eSBvZiBhbGwgY291bnRyaWVzIGluIGdDTzIva1doXHJcbiAgICBjb25zdCBhdmVyYWdlQ2FyYm9uSW50ZW5zaXR5ID0gNDc1O1xyXG5cclxuICAgIHRoaXMuY3VycmVudEVuZXJneUVtaXNzaW9uID0gY3VycmVudEVuZXJneUNvbnN1cHRpb24gKiBhdmVyYWdlQ2FyYm9uSW50ZW5zaXR5O1xyXG4gICAgY29uc3QgbWF4RW5lcmd5RW1pc3NvbiA9IG1heEVuZXJneUNvbnN1cHRpb24gKiBhdmVyYWdlQ2FyYm9uSW50ZW5zaXR5O1xyXG4gICAgdGhpcy5zYXZlZEVtaXNzb25zICs9IG1heEVuZXJneUVtaXNzb24gLSB0aGlzLmN1cnJlbnRFbmVyZ3lFbWlzc2lvbjtcclxuICAgIGVtaXNzaW9uc1NhdmVkTGFiZWwuc2V0VGV4dCh0aGlzLnNhdmVkRW1pc3NvbnMudG9GaXhlZCg0KSArICcgZ0NPMicpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGNhbGN1bGF0aW9ucyBhcmUgYmFzZWQgb24gdGhlIGZvbGxvd2luZyBwYXBlcjogaHR0cHM6Ly9hcnhpdi5vcmcvcGRmLzIyMTAuMDU0NDQucGRmXHJcbiAgICovXHJcbiAgY2FsY3VsYXRlRW5lcmd5Q29uc3VtcHRpb24oZnBzOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBiaXRyYXRlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgZnBzV2VpZ2h0ID0gMC4wMzU7XHJcbiAgICBjb25zdCBwaXhlbGRXZWlnaHQgPSA1Ljc2ZS05O1xyXG4gICAgY29uc3QgYmlyYXRlV2VpZ2h0ID0gNi45N2UtNjtcclxuICAgIGNvbnN0IGNvbnN0YW50T2Zmc2V0ID0gOC41MjtcclxuICAgIGNvbnN0IGJpdHJhdGVJbnRlcm5ldFdlaWdodCA9IDMuMjRlLTU7XHJcbiAgICBjb25zdCBpbnRlcm5ldENvbm5lY3Rpb25PZmZzZXQgPSAxLjE1O1xyXG4gICAgY29uc3QgdmlkZW9Db2RlYyA9IDQuMTY7XHJcblxyXG4gICAgY29uc3QgZW5lcmd5Q29uc3VtcHRpb25XID1cclxuICAgICAgZnBzV2VpZ2h0ICogZnBzICtcclxuICAgICAgcGl4ZWxkV2VpZ2h0ICogaGVpZ2h0ICogd2lkdGggK1xyXG4gICAgICAoYmlyYXRlV2VpZ2h0ICsgYml0cmF0ZUludGVybmV0V2VpZ2h0KSAqIChiaXRyYXRlIC8gMTAwMCkgK1xyXG4gICAgICB2aWRlb0NvZGVjICtcclxuICAgICAgY29uc3RhbnRPZmZzZXQgK1xyXG4gICAgICBpbnRlcm5ldENvbm5lY3Rpb25PZmZzZXQ7XHJcblxyXG4gICAgLy8gQ29udmVydCBlbmVyZ3kgY29uc3VtcHRpb24gZnJvbSBXYXR0cyAoVykgdG8gS2lsb3dhdHQtaG91cnMgKGtXaCkgZm9yIHRoZSBnaXZlbiB0aW1lIGR1cmF0aW9uIG9mIHRoZSBzZWdtZW50XHJcbiAgICBjb25zdCBlbmVyZ3lDb25zdW1wdGlvbkt3aCA9IChlbmVyZ3lDb25zdW1wdGlvblcgKiBkdXJhdGlvbikgLyAzLjZlNjtcclxuXHJcbiAgICByZXR1cm4gZW5lcmd5Q29uc3VtcHRpb25Ld2g7XHJcbiAgfVxyXG4gIGdldE1heFF1YWxpdHlBdmFpbGFibGUoYXZhaWxhYmxlVmlkZW9RdWFsaXRpZXM6IFZpZGVvUXVhbGl0eVtdKSB7XHJcbiAgICBjb25zdCBzb3J0ZWRRdWFsaXRpZXMgPSBhdmFpbGFibGVWaWRlb1F1YWxpdGllcy5zb3J0KChhLCBiKSA9PiBhLmJpdHJhdGUgLSBiLmJpdHJhdGUpO1xyXG4gICAgcmV0dXJuIHNvcnRlZFF1YWxpdGllc1tzb3J0ZWRRdWFsaXRpZXMubGVuZ3RoIC0gMV07XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRvZ2dsZUJ1dHRvbiwgVG9nZ2xlQnV0dG9uQ29uZmlnIH0gZnJvbSAnLi90b2dnbGVidXR0b24nO1xyXG5pbXBvcnQgeyBVSUluc3RhbmNlTWFuYWdlciB9IGZyb20gJy4uL3VpbWFuYWdlcic7XHJcbmltcG9ydCB7IER5bmFtaWNBZGFwdGF0aW9uQ29uZmlnLCBQbGF5ZXJBUEksIFZpZGVvUXVhbGl0eUNoYW5nZWRFdmVudCB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XHJcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XHJcblxyXG4vKipcclxuICogQGNhdGVnb3J5IEJ1dHRvbnNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFY29Nb2RlVG9nZ2xlQnV0dG9uIGV4dGVuZHMgVG9nZ2xlQnV0dG9uPFRvZ2dsZUJ1dHRvbkNvbmZpZz4ge1xyXG4gIHByaXZhdGUgYWRhcHRhdGlvbkNvbmZpZzogRHluYW1pY0FkYXB0YXRpb25Db25maWc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogVG9nZ2xlQnV0dG9uQ29uZmlnID0ge30pIHtcclxuICAgIHN1cGVyKGNvbmZpZyk7XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdENvbmZpZzogVG9nZ2xlQnV0dG9uQ29uZmlnID0ge1xyXG4gICAgICB0ZXh0OiBpMThuLmdldExvY2FsaXplcignZWNvTW9kZScpLFxyXG4gICAgICBjc3NDbGFzczogJ3VpLWVjb21vZGV0b2dnbGVidXR0b24nLFxyXG4gICAgICBvbkNsYXNzOiAnb24nLFxyXG4gICAgICBvZmZDbGFzczogJ29mZicsXHJcbiAgICAgIGFyaWFMYWJlbDogaTE4bi5nZXRMb2NhbGl6ZXIoJ2Vjb01vZGUnKSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywgZGVmYXVsdENvbmZpZywgdGhpcy5jb25maWcpO1xyXG4gIH1cclxuXHJcbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XHJcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xyXG5cclxuICAgIGlmICh0aGlzLmFyZUFkYXB0YXRpb25BcGlzQXZhaWxhYmxlKHBsYXllcikpIHtcclxuICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50b2dnbGUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLm9uVG9nZ2xlT24uc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLmVuYWJsZUVjb01vZGUocGxheWVyKTtcclxuICAgICAgICBwbGF5ZXIuc2V0VmlkZW9RdWFsaXR5KCdhdXRvJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5vblRvZ2dsZU9mZi5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZUVjb01vZGUocGxheWVyKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuVmlkZW9RdWFsaXR5Q2hhbmdlZCwgKHF1YWxpdHk6IFZpZGVvUXVhbGl0eUNoYW5nZWRFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChxdWFsaXR5LnRhcmdldFF1YWxpdHkuaWQgIT09ICdhdXRvJykge1xyXG4gICAgICAgICAgdGhpcy5vZmYoKTtcclxuICAgICAgICAgIHRoaXMuZGlzYWJsZUVjb01vZGUocGxheWVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3VwZXIuZGlzYWJsZSgpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXJlQWRhcHRhdGlvbkFwaXNBdmFpbGFibGUocGxheWVyOiBQbGF5ZXJBUEkpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGlzR2V0Q29uZmlnQXZhaWxhYmxlID0gQm9vbGVhbihwbGF5ZXIuYWRhcHRhdGlvbi5nZXRDb25maWcgJiYgdHlwZW9mIHBsYXllci5hZGFwdGF0aW9uLmdldENvbmZpZyA9PT0gJ2Z1bmN0aW9uJyk7XHJcbiAgICBjb25zdCBpc1NldENvbmZpZ0F2YWlsYWJsZSA9IEJvb2xlYW4ocGxheWVyLmFkYXB0YXRpb24uc2V0Q29uZmlnICYmIHR5cGVvZiBwbGF5ZXIuYWRhcHRhdGlvbi5zZXRDb25maWcgPT09ICdmdW5jdGlvbicpO1xyXG5cclxuICAgIHJldHVybiBCb29sZWFuKHBsYXllci5hZGFwdGF0aW9uICYmIGlzR2V0Q29uZmlnQXZhaWxhYmxlICYmIGlzU2V0Q29uZmlnQXZhaWxhYmxlKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZUVjb01vZGUocGxheWVyOiBQbGF5ZXJBUEkpOiB2b2lkIHtcclxuICAgIHRoaXMuYWRhcHRhdGlvbkNvbmZpZyA9IHBsYXllci5hZGFwdGF0aW9uLmdldENvbmZpZygpO1xyXG4gICAgY29uc3QgY29kZWMgPSBwbGF5ZXIuZ2V0QXZhaWxhYmxlVmlkZW9RdWFsaXRpZXMoKVswXS5jb2RlYztcclxuXHJcbiAgICBpZiAoY29kZWMuaW5jbHVkZXMoJ2F2YycpKSB7XHJcbiAgICAgIHBsYXllci5hZGFwdGF0aW9uLnNldENvbmZpZyh7XHJcbiAgICAgICAgcmVzb2x1dGlvbjogeyBtYXhTZWxlY3RhYmxlVmlkZW9IZWlnaHQ6IDcyMCB9LFxyXG4gICAgICAgIGxpbWl0VG9QbGF5ZXJTaXplOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChjb2RlYy5pbmNsdWRlcygnaHZjJykgfHwgY29kZWMuaW5jbHVkZXMoJ2hldicpKSB7XHJcbiAgICAgIHBsYXllci5hZGFwdGF0aW9uLnNldENvbmZpZyh7XHJcbiAgICAgICAgcmVzb2x1dGlvbjogeyBtYXhTZWxlY3RhYmxlVmlkZW9IZWlnaHQ6IDEwODAgfSxcclxuICAgICAgICBsaW1pdFRvUGxheWVyU2l6ZTogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY29kZWMuaW5jbHVkZXMoJ2F2MScpIHx8IGNvZGVjLmluY2x1ZGVzKCdhdjAxJykpIHtcclxuICAgICAgcGxheWVyLmFkYXB0YXRpb24uc2V0Q29uZmlnKHtcclxuICAgICAgICByZXNvbHV0aW9uOiB7IG1heFNlbGVjdGFibGVWaWRlb0hlaWdodDogMTQ0MCB9LFxyXG4gICAgICAgIGxpbWl0VG9QbGF5ZXJTaXplOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRpc2FibGVFY29Nb2RlKHBsYXllcjogUGxheWVyQVBJKTogdm9pZCB7XHJcbiAgICBwbGF5ZXIuYWRhcHRhdGlvbi5zZXRDb25maWcodGhpcy5hZGFwdGF0aW9uQ29uZmlnKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtDb250YWluZXJDb25maWcsIENvbnRhaW5lcn0gZnJvbSAnLi9jb250YWluZXInO1xuaW1wb3J0IHtMYWJlbCwgTGFiZWxDb25maWd9IGZyb20gJy4vbGFiZWwnO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7VHZOb2lzZUNhbnZhc30gZnJvbSAnLi90dm5vaXNlY2FudmFzJztcbmltcG9ydCB7IEVycm9yVXRpbHMgfSBmcm9tICcuLi9lcnJvcnV0aWxzJztcbmltcG9ydCB7IEVycm9yRXZlbnQsIFBsYXllckFQSSwgUGxheWVyRXZlbnRCYXNlIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7XG4gIGlzTW9iaWxlVjNQbGF5ZXJBUEksXG4gIE1vYmlsZVYzUGxheWVyQVBJLCBNb2JpbGVWM1BsYXllckVycm9yRXZlbnQsIE1vYmlsZVYzUGxheWVyRXZlbnQsIE1vYmlsZVYzU291cmNlRXJyb3JFdmVudCxcbn0gZnJvbSAnLi4vbW9iaWxldjNwbGF5ZXJhcGknO1xuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yTWVzc2FnZVRyYW5zbGF0b3Ige1xuICAoZXJyb3I6IEVycm9yRXZlbnQgfCBNb2JpbGVWM1BsYXllckVycm9yRXZlbnQpOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JNZXNzYWdlTWFwIHtcbiAgW2NvZGU6IG51bWJlcl06IHN0cmluZyB8IEVycm9yTWVzc2FnZVRyYW5zbGF0b3I7XG59XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBpbnRlcmZhY2UgZm9yIHRoZSB7QGxpbmsgRXJyb3JNZXNzYWdlT3ZlcmxheX0uXG4gKlxuICogQGNhdGVnb3J5IENvbmZpZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFcnJvck1lc3NhZ2VPdmVybGF5Q29uZmlnIGV4dGVuZHMgQ29udGFpbmVyQ29uZmlnIHtcbiAgLyoqXG4gICAqIEFsbG93cyBvdmVyd3JpdGluZyBvZiB0aGUgZXJyb3IgbWVzc2FnZXMgZGlzcGxheWVkIGluIHRoZSBvdmVybGF5IGZvciBjdXN0b21pemF0aW9uIGFuZCBsb2NhbGl6YXRpb24uXG4gICAqIFRoaXMgaXMgZWl0aGVyIGEgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhbnkge0BsaW5rIEVycm9yRXZlbnR9IGFzIHBhcmFtZXRlciBhbmQgdHJhbnNsYXRlcyBlcnJvciBtZXNzYWdlcyxcbiAgICogb3IgYSBtYXAgb2YgZXJyb3IgY29kZXMgdGhhdCBvdmVyd3JpdGVzIHNwZWNpZmljIGVycm9yIG1lc3NhZ2VzIHdpdGggYSBwbGFpbiBzdHJpbmcgb3IgYSBmdW5jdGlvbiB0aGF0XG4gICAqIHJlY2VpdmVzIHRoZSB7QGxpbmsgRXJyb3JFdmVudH0gYXMgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGEgY3VzdG9taXplZCBzdHJpbmcuXG4gICAqIFRoZSB0cmFuc2xhdGlvbiBmdW5jdGlvbnMgY2FuIGJlIHVzZWQgdG8gZXh0cmFjdCBkYXRhIChlLmcuIHBhcmFtZXRlcnMpIGZyb20gdGhlIG9yaWdpbmFsIGVycm9yIG1lc3NhZ2UuXG4gICAqXG4gICAqIEV4YW1wbGUgMSAoY2F0Y2gtYWxsIHRyYW5zbGF0aW9uIGZ1bmN0aW9uKTpcbiAgICogPGNvZGU+XG4gICAqIGVycm9yTWVzc2FnZU92ZXJsYXlDb25maWcgPSB7XG4gICAqICAgbWVzc2FnZXM6IGZ1bmN0aW9uKGVycm9yKSB7XG4gICAqICAgICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcbiAgICogICAgICAgLy8gT3ZlcndyaXRlIGVycm9yIDEwMDAgJ1Vua25vd24gZXJyb3InXG4gICAqICAgICAgIGNhc2UgMTAwMDpcbiAgICogICAgICAgICByZXR1cm4gJ0hvdXN0b24sIHdlIGhhdmUgYSBwcm9ibGVtJ1xuICAgKlxuICAgKiAgICAgICAvLyBUcmFuc2Zvcm0gZXJyb3IgMTIwMSAnVGhlIGRvd25sb2FkZWQgbWFuaWZlc3QgaXMgaW52YWxpZCcgdG8gdXBwZXJjYXNlXG4gICAqICAgICAgIGNhc2UgMTIwMTpcbiAgICogICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBFcnJvclV0aWxzLmRlZmF1bHRFcnJvck1lc3NhZ2VzW2Vycm9yLmNvZGVdO1xuICAgKiAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbi50b1VwcGVyQ2FzZSgpO1xuICAgKlxuICAgKiAgICAgICAvLyBDdXN0b21pemUgZXJyb3IgMTIwNyAnVGhlIG1hbmlmZXN0IGNvdWxkIG5vdCBiZSBsb2FkZWQnXG4gICAqICAgICAgIGNhc2UgMTIwNzpcbiAgICogICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IGVycm9yLmRhdGEuc3RhdHVzQ29kZTtcbiAgICogICAgICAgICByZXR1cm4gJ01hbmlmZXN0IGxvYWRpbmcgZmFpbGVkIHdpdGggSFRUUCBlcnJvciAnICsgc3RhdHVzQ29kZTtcbiAgICogICAgIH1cbiAgICogICAgIC8vIFJldHVybiB1bm1vZGlmaWVkIGVycm9yIG1lc3NhZ2UgZm9yIGFsbCBvdGhlciBlcnJvcnNcbiAgICogICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgKiAgIH1cbiAgICogfTtcbiAgICogPC9jb2RlPlxuICAgKlxuICAgKiBFeGFtcGxlIDIgKHRyYW5zbGF0aW5nIHNwZWNpZmljIGVycm9ycyk6XG4gICAqIDxjb2RlPlxuICAgKiBlcnJvck1lc3NhZ2VPdmVybGF5Q29uZmlnID0ge1xuICAgKiAgIG1lc3NhZ2VzOiB7XG4gICAqICAgICAvLyBPdmVyd3JpdGUgZXJyb3IgMTAwMCAnVW5rbm93biBlcnJvcidcbiAgICogICAgIDEwMDA6ICdIb3VzdG9uLCB3ZSBoYXZlIGEgcHJvYmxlbScsXG4gICAqXG4gICAqICAgICAvLyBUcmFuc2Zvcm0gZXJyb3IgMTIwMSAnVW5zdXBwb3J0ZWQgbWFuaWZlc3QgZm9ybWF0JyB0byB1cHBlcmNhc2VcbiAgICogICAgIDEyMDE6IGZ1bmN0aW9uKGVycm9yKSB7XG4gICAqICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IEVycm9yVXRpbHMuZGVmYXVsdEVycm9yTWVzc2FnZXNbZXJyb3IuY29kZV07XG4gICAqICAgICAgIHJldHVybiBkZXNjcmlwdGlvbi50b1VwcGVyQ2FzZSgpO1xuICAgKiAgICAgfSxcbiAgICpcbiAgICogICAgIC8vIEN1c3RvbWl6ZSBlcnJvciAxMjA3ICdUaGUgbWFuaWZlc3QgY291bGQgbm90IGJlIGxvYWRlZCdcbiAgICogICAgIDEyMDc6IGZ1bmN0aW9uKGVycm9yKSB7XG4gICAqICAgICAgIHZhciBzdGF0dXNDb2RlID0gZXJyb3IuZGF0YS5zdGF0dXNDb2RlO1xuICAgKiAgICAgICByZXR1cm4gJ01hbmlmZXN0IGxvYWRpbmcgZmFpbGVkIHdpdGggSFRUUCBlcnJvciAnICsgc3RhdHVzQ29kZTtcbiAgICogICAgIH1cbiAgICogICB9XG4gICAqIH07XG4gICAqIDwvY29kZT5cbiAgICovXG4gIG1lc3NhZ2VzPzogRXJyb3JNZXNzYWdlTWFwIHwgRXJyb3JNZXNzYWdlVHJhbnNsYXRvcjtcbn1cblxuLyoqXG4gKiBPdmVybGF5cyB0aGUgcGxheWVyIGFuZCBkaXNwbGF5cyBlcnJvciBtZXNzYWdlcy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgRXJyb3JNZXNzYWdlT3ZlcmxheSBleHRlbmRzIENvbnRhaW5lcjxFcnJvck1lc3NhZ2VPdmVybGF5Q29uZmlnPiB7XG5cbiAgcHJpdmF0ZSBlcnJvckxhYmVsOiBMYWJlbDxMYWJlbENvbmZpZz47XG4gIHByaXZhdGUgdHZOb2lzZUJhY2tncm91bmQ6IFR2Tm9pc2VDYW52YXM7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBFcnJvck1lc3NhZ2VPdmVybGF5Q29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5lcnJvckxhYmVsID0gbmV3IExhYmVsPExhYmVsQ29uZmlnPih7IGNzc0NsYXNzOiAndWktZXJyb3JtZXNzYWdlLWxhYmVsJyB9KTtcbiAgICB0aGlzLnR2Tm9pc2VCYWNrZ3JvdW5kID0gbmV3IFR2Tm9pc2VDYW52YXMoKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktZXJyb3JtZXNzYWdlLW92ZXJsYXknLFxuICAgICAgY29tcG9uZW50czogW3RoaXMudHZOb2lzZUJhY2tncm91bmQsIHRoaXMuZXJyb3JMYWJlbF0sXG4gICAgICBoaWRkZW46IHRydWUsXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJIHwgTW9iaWxlVjNQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgbGV0IGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XG5cbiAgICBjb25zdCBoYW5kbGVFcnJvck1lc3NhZ2UgPSAoXG4gICAgICBldmVudDogRXJyb3JFdmVudCB8IE1vYmlsZVYzU291cmNlRXJyb3JFdmVudCB8IE1vYmlsZVYzUGxheWVyRXJyb3JFdmVudCxcbiAgICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICApID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbWl6ZWRNZXNzYWdlID0gY3VzdG9taXplRXJyb3JNZXNzYWdlKHVpbWFuYWdlci5nZXRDb25maWcoKS5lcnJvck1lc3NhZ2VzIHx8IGNvbmZpZy5tZXNzYWdlcywgZXZlbnQpO1xuICAgICAgaWYgKGN1c3RvbWl6ZWRNZXNzYWdlKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBjdXN0b21pemVkTWVzc2FnZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kaXNwbGF5KG1lc3NhZ2UpO1xuICAgIH07XG5cbiAgICBpZiAoaXNNb2JpbGVWM1BsYXllckFQSShwbGF5ZXIpKSB7XG4gICAgICBjb25zdCBlcnJvckV2ZW50SGFuZGxlciA9IChldmVudDogTW9iaWxlVjNTb3VyY2VFcnJvckV2ZW50IHwgTW9iaWxlVjNQbGF5ZXJFcnJvckV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBFcnJvclV0aWxzLmRlZmF1bHRNb2JpbGVWM0Vycm9yTWVzc2FnZVRyYW5zbGF0b3IoZXZlbnQpO1xuICAgICAgICBoYW5kbGVFcnJvck1lc3NhZ2UoZXZlbnQsIG1lc3NhZ2UpO1xuICAgICAgfTtcblxuICAgICAgcGxheWVyLm9uKE1vYmlsZVYzUGxheWVyRXZlbnQuUGxheWVyRXJyb3IsIGVycm9yRXZlbnRIYW5kbGVyKTtcbiAgICAgIHBsYXllci5vbihNb2JpbGVWM1BsYXllckV2ZW50LlNvdXJjZUVycm9yLCBlcnJvckV2ZW50SGFuZGxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5FcnJvciwgKGV2ZW50OiBFcnJvckV2ZW50KSA9PiB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gRXJyb3JVdGlscy5kZWZhdWx0V2ViRXJyb3JNZXNzYWdlVHJhbnNsYXRvcihldmVudCk7XG4gICAgICAgIGhhbmRsZUVycm9yTWVzc2FnZShldmVudCwgbWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU291cmNlTG9hZGVkLCAoZXZlbnQ6IFBsYXllckV2ZW50QmFzZSkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNTaG93bigpKSB7XG4gICAgICAgIHRoaXMudHZOb2lzZUJhY2tncm91bmQuc3RvcCgpO1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGRpc3BsYXkoZXJyb3JNZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmVycm9yTGFiZWwuc2V0VGV4dChlcnJvck1lc3NhZ2UpO1xuICAgIHRoaXMudHZOb2lzZUJhY2tncm91bmQuc3RhcnQoKTtcbiAgICB0aGlzLnNob3coKTtcbiAgfVxuXG4gIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgc3VwZXIucmVsZWFzZSgpO1xuXG4gICAgLy8gQ2FudmFzIHJlbmRlcmluZyBtdXN0IGJlIGV4cGxpY2l0bHkgc3RvcHBlZCwgZWxzZSBpdCBqdXN0IGNvbnRpbnVlcyBmb3JldmVyIGFuZCBob2dzIHJlc291cmNlc1xuICAgIHRoaXMudHZOb2lzZUJhY2tncm91bmQuc3RvcCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGN1c3RvbWl6ZUVycm9yTWVzc2FnZShcbiAgZXJyb3JNZXNzYWdlczogRXJyb3JNZXNzYWdlVHJhbnNsYXRvciB8IEVycm9yTWVzc2FnZU1hcCxcbiAgZXZlbnQ6IEVycm9yRXZlbnQgfCBNb2JpbGVWM1BsYXllckVycm9yRXZlbnQgfCBNb2JpbGVWM1NvdXJjZUVycm9yRXZlbnQsXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAoIWVycm9yTWVzc2FnZXMpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLy8gUHJvY2VzcyBtZXNzYWdlIHZvY2FidWxhcmllc1xuICBpZiAodHlwZW9mIGVycm9yTWVzc2FnZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBUcmFuc2xhdGlvbiBmdW5jdGlvbiBmb3IgYWxsIGVycm9yc1xuICAgIHJldHVybiBlcnJvck1lc3NhZ2VzKGV2ZW50KTtcbiAgfVxuICBpZiAoZXJyb3JNZXNzYWdlc1tldmVudC5jb2RlXSkge1xuICAgIC8vIEl0J3Mgbm90IGEgdHJhbnNsYXRpb24gZnVuY3Rpb24sIHNvIGl0IG11c3QgYmUgYSBtYXAgb2Ygc3RyaW5ncyBvciB0cmFuc2xhdGlvbiBmdW5jdGlvbnNcbiAgICBjb25zdCBjdXN0b21NZXNzYWdlID0gZXJyb3JNZXNzYWdlc1tldmVudC5jb2RlXTtcblxuICAgIHJldHVybiB0eXBlb2YgY3VzdG9tTWVzc2FnZSA9PT0gJ3N0cmluZycgPyBjdXN0b21NZXNzYWdlIDogY3VzdG9tTWVzc2FnZShldmVudCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFRvZ2dsZUJ1dHRvbiwgVG9nZ2xlQnV0dG9uQ29uZmlnIH0gZnJvbSAnLi90b2dnbGVidXR0b24nO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSBwbGF5ZXIgYmV0d2VlbiB3aW5kb3dlZCBhbmQgZnVsbHNjcmVlbiB2aWV3LlxuICpcbiAqIEBjYXRlZ29yeSBCdXR0b25zXG4gKi9cbmV4cG9ydCBjbGFzcyBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uIGV4dGVuZHMgVG9nZ2xlQnV0dG9uPFRvZ2dsZUJ1dHRvbkNvbmZpZz4ge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogVG9nZ2xlQnV0dG9uQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS1mdWxsc2NyZWVudG9nZ2xlYnV0dG9uJyxcbiAgICAgIHRleHQ6IGkxOG4uZ2V0TG9jYWxpemVyKCdmdWxsc2NyZWVuJyksXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIGNvbnN0IGlzRnVsbFNjcmVlbkF2YWlsYWJsZSA9ICgpID0+IHtcbiAgICAgIHJldHVybiBwbGF5ZXIuaXNWaWV3TW9kZUF2YWlsYWJsZShwbGF5ZXIuZXhwb3J0cy5WaWV3TW9kZS5GdWxsc2NyZWVuKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZnVsbHNjcmVlblN0YXRlSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHBsYXllci5nZXRWaWV3TW9kZSgpID09PSBwbGF5ZXIuZXhwb3J0cy5WaWV3TW9kZS5GdWxsc2NyZWVuID8gdGhpcy5vbigpIDogdGhpcy5vZmYoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZnVsbHNjcmVlbkF2YWlsYWJpbGl0eUNoYW5nZWRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgaXNGdWxsU2NyZWVuQXZhaWxhYmxlKCkgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuICAgIH07XG5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuVmlld01vZGVDaGFuZ2VkLCBmdWxsc2NyZWVuU3RhdGVIYW5kbGVyKTtcblxuICAgIC8vIEF2YWlsYWJsZSBvbmx5IGluIG91ciBuYXRpdmUgU0RLcyBmb3Igbm93XG4gICAgaWYgKChwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudCBhcyBhbnkpLlZpZXdNb2RlQXZhaWxhYmlsaXR5Q2hhbmdlZCkge1xuICAgICAgcGxheWVyLm9uKFxuICAgICAgICAocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQgYXMgYW55KS5WaWV3TW9kZUF2YWlsYWJpbGl0eUNoYW5nZWQsXG4gICAgICAgIGZ1bGxzY3JlZW5BdmFpbGFiaWxpdHlDaGFuZ2VkSGFuZGxlcixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQuc3Vic2NyaWJlKGZ1bGxzY3JlZW5BdmFpbGFiaWxpdHlDaGFuZ2VkSGFuZGxlcik7XG5cbiAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIGlmICghaXNGdWxsU2NyZWVuQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgaWYgKGNvbnNvbGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRnVsbHNjcmVlbiB1bmF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGFyZ2V0Vmlld01vZGUgPVxuICAgICAgICBwbGF5ZXIuZ2V0Vmlld01vZGUoKSA9PT0gcGxheWVyLmV4cG9ydHMuVmlld01vZGUuRnVsbHNjcmVlblxuICAgICAgICAgID8gcGxheWVyLmV4cG9ydHMuVmlld01vZGUuSW5saW5lXG4gICAgICAgICAgOiBwbGF5ZXIuZXhwb3J0cy5WaWV3TW9kZS5GdWxsc2NyZWVuO1xuXG4gICAgICBwbGF5ZXIuc2V0Vmlld01vZGUodGFyZ2V0Vmlld01vZGUpO1xuICAgIH0pO1xuXG4gICAgLy8gU3RhcnR1cCBpbml0XG4gICAgZnVsbHNjcmVlbkF2YWlsYWJpbGl0eUNoYW5nZWRIYW5kbGVyKCk7XG4gICAgZnVsbHNjcmVlblN0YXRlSGFuZGxlcigpO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBQbGF5YmFja1RvZ2dsZUJ1dHRvbixcbiAgUGxheWJhY2tUb2dnbGVCdXR0b25Db25maWcsXG59IGZyb20gXCIuL3BsYXliYWNrdG9nZ2xlYnV0dG9uXCI7XG5pbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tXCI7XG5pbXBvcnQgeyBVSUluc3RhbmNlTWFuYWdlciB9IGZyb20gXCIuLi91aW1hbmFnZXJcIjtcbmltcG9ydCB7IFBsYXllckFQSSwgUGxheWVyRXZlbnRCYXNlLCBXYXJuaW5nRXZlbnQgfSBmcm9tIFwiYml0bW92aW4tcGxheWVyXCI7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9pMThuXCI7XG5cbi8qKlxuICogQSBidXR0b24gdGhhdCBvdmVybGF5cyB0aGUgdmlkZW8gYW5kIHRvZ2dsZXMgYmV0d2VlbiBwbGF5YmFjayBhbmQgcGF1c2UuXG4gKlxuICogQGNhdGVnb3J5IEJ1dHRvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbiBleHRlbmRzIFBsYXliYWNrVG9nZ2xlQnV0dG9uIHtcbiAgY29uc3RydWN0b3IoY29uZmlnOiBQbGF5YmFja1RvZ2dsZUJ1dHRvbkNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhcbiAgICAgIGNvbmZpZyxcbiAgICAgIHtcbiAgICAgICAgY3NzQ2xhc3M6IFwidWktaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXCIsXG4gICAgICAgIHRleHQ6IGkxOG4uZ2V0TG9jYWxpemVyKFwicGxheVBhdXNlXCIpLFxuICAgICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgfSxcbiAgICAgIHRoaXMuY29uZmlnXG4gICAgKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIC8vIFVwZGF0ZSBidXR0b24gc3RhdGUgdGhyb3VnaCBBUEkgZXZlbnRzXG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyLCBmYWxzZSk7XG5cbiAgICAvLyBTZXQgZW50ZXJGdWxsc2NyZWVuT25Jbml0aWFsUGxheWJhY2sgaWYgc2V0IGluIHRoZSB1aW1hbmFnZXIgY29uZmlnXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHVpbWFuYWdlci5nZXRDb25maWcoKS5lbnRlckZ1bGxzY3JlZW5PbkluaXRpYWxQbGF5YmFjayA9PT1cbiAgICAgIFwiYm9vbGVhblwiXG4gICAgKSB7XG4gICAgICB0aGlzLmNvbmZpZy5lbnRlckZ1bGxzY3JlZW5PbkluaXRpYWxQbGF5YmFjayA9XG4gICAgICAgIHVpbWFuYWdlci5nZXRDb25maWcoKS5lbnRlckZ1bGxzY3JlZW5PbkluaXRpYWxQbGF5YmFjaztcbiAgICB9XG5cbiAgICBsZXQgdG9nZ2xlUGxheWJhY2sgPSAoKSA9PiB7XG4gICAgICBpZiAocGxheWVyLmlzUGxheWluZygpIHx8IHRoaXMuaXNQbGF5SW5pdGlhdGVkKSB7XG4gICAgICAgIHBsYXllci5wYXVzZShcInVpXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGxheWVyLnBsYXkoXCJ1aVwiKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKHBsYXllcik7XG5cbiAgICBsZXQgdG9nZ2xlRnVsbHNjcmVlbiA9ICgpID0+IHtcbiAgICAgIGlmIChwbGF5ZXIuZ2V0Vmlld01vZGUoKSA9PT0gcGxheWVyLmV4cG9ydHMuVmlld01vZGUuRnVsbHNjcmVlbikge1xuICAgICAgICBwbGF5ZXIuc2V0Vmlld01vZGUocGxheWVyLmV4cG9ydHMuVmlld01vZGUuSW5saW5lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBsYXllci5zZXRWaWV3TW9kZShwbGF5ZXIuZXhwb3J0cy5WaWV3TW9kZS5GdWxsc2NyZWVuKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IGZpcnN0UGxheSA9IHRydWU7XG4gICAgbGV0IGNsaWNrVGltZSA9IDA7XG4gICAgbGV0IGRvdWJsZUNsaWNrVGltZSA9IDA7XG5cbiAgICAvKlxuICAgICAqIFlvdVR1YmUtc3R5bGUgdG9nZ2xlIGJ1dHRvbiBoYW5kbGluZ1xuICAgICAqXG4gICAgICogVGhlIGdvYWwgaXMgdG8gcHJldmVudCBhIHNob3J0IHBhdXNlIG9yIHBsYXliYWNrIGludGVydmFsIGJldHdlZW4gYSBjbGljaywgdGhhdCB0b2dnbGVzIHBsYXliYWNrLCBhbmQgYVxuICAgICAqIGRvdWJsZSBjbGljaywgdGhhdCB0b2dnbGVzIGZ1bGxzY3JlZW4uIEluIHRoaXMgbmFpdmUgYXBwcm9hY2gsIHRoZSBmaXJzdCBjbGljayB3b3VsZCBlLmcuIHN0YXJ0IHBsYXliYWNrLFxuICAgICAqIHRoZSBzZWNvbmQgY2xpY2sgd291bGQgYmUgZGV0ZWN0ZWQgYXMgZG91YmxlIGNsaWNrIGFuZCB0b2dnbGUgdG8gZnVsbHNjcmVlbiwgYW5kIGFzIHNlY29uZCBub3JtYWwgY2xpY2sgc3RvcFxuICAgICAqIHBsYXliYWNrLCB3aGljaCByZXN1bHRzIGlzIGEgc2hvcnQgcGxheWJhY2sgaW50ZXJ2YWwgd2l0aCBtYXggbGVuZ3RoIG9mIHRoZSBkb3VibGUgY2xpY2sgZGV0ZWN0aW9uXG4gICAgICogcGVyaW9kICh1c3VhbGx5IDUwMG1zKS5cbiAgICAgKlxuICAgICAqIFRvIHNvbHZlIHRoaXMgaXNzdWUsIHdlIGRlZmVyIGhhbmRsaW5nIG9mIHRoZSBmaXJzdCBjbGljayBmb3IgMjAwbXMsIHdoaWNoIGlzIGFsbW9zdCB1bm5vdGljZWFibGUgdG8gdGhlIHVzZXIsXG4gICAgICogYW5kIGp1c3QgdG9nZ2xlIHBsYXliYWNrIGlmIG5vIHNlY29uZCBjbGljayAoZG91YmxlIGNsaWNrKSBoYXMgYmVlbiByZWdpc3RlcmVkIGR1cmluZyB0aGlzIHBlcmlvZC4gSWYgYSBkb3VibGVcbiAgICAgKiBjbGljayBpcyByZWdpc3RlcmVkLCB3ZSBqdXN0IHRvZ2dsZSB0aGUgZnVsbHNjcmVlbi4gSW4gdGhlIGZpcnN0IDIwMG1zLCB1bmRlc2lyZWQgcGxheWJhY2sgY2hhbmdlcyB0aHVzIGNhbm5vdFxuICAgICAqIGhhcHBlbi4gSWYgYSBkb3VibGUgY2xpY2sgaXMgcmVnaXN0ZXJlZCB3aXRoaW4gNTAwbXMsIHdlIHVuZG8gdGhlIHBsYXliYWNrIGNoYW5nZSBhbmQgc3dpdGNoIGZ1bGxzY3JlZW4gbW9kZS5cbiAgICAgKiBJbiB0aGUgZW5kLCB0aGlzIG1ldGhvZCBiYXNpY2FsbHkgaW50cm9kdWNlcyBhIDIwMG1zIG9ic2VydmluZyBpbnRlcnZhbCBpbiB3aGljaCBwbGF5YmFjayBjaGFuZ2VzIGFyZSBwcmV2ZW50ZWRcbiAgICAgKiBpZiBhIGRvdWJsZSBjbGljayBoYXBwZW5zLlxuICAgICAqL1xuICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgLy8gRGlyZWN0bHkgc3RhcnQgcGxheWJhY2sgb24gZmlyc3QgY2xpY2sgb2YgdGhlIGJ1dHRvbi5cbiAgICAgIC8vIFRoaXMgaXMgYSByZXF1aXJlZCB3b3JrYXJvdW5kIGZvciBtb2JpbGUgYnJvd3NlcnMgd2hlcmUgdmlkZW8gcGxheWJhY2sgbmVlZHMgdG8gYmUgdHJpZ2dlcmVkIGRpcmVjdGx5XG4gICAgICAvLyBieSB0aGUgdXNlci4gQSBkZWZlcnJlZCBwbGF5YmFjayBzdGFydCB0aHJvdWdoIHRoZSB0aW1lb3V0IGJlbG93IGlzIG5vdCBjb25zaWRlcmVkIGFzIHVzZXIgYWN0aW9uIGFuZFxuICAgICAgLy8gdGhlcmVmb3JlIGlnbm9yZWQgYnkgbW9iaWxlIGJyb3dzZXJzLlxuICAgICAgaWYgKGZpcnN0UGxheSkge1xuICAgICAgICAvLyBUcnkgdG8gc3RhcnQgcGxheWJhY2suIFRoZW4gd2Ugd2FpdCBmb3IgUGxheSBhbmQgb25seSB3aGVuIGl0IGFycml2ZXMsIHdlIGRpc2FibGUgdGhlIGZpcnN0UGxheSBmbGFnLlxuICAgICAgICAvLyBJZiB3ZSBkaXNhYmxlIHRoZSBmbGFnIGhlcmUsIG9uQ2xpY2sgd2FzIHRyaWdnZXJlZCBwcm9ncmFtbWF0aWNhbGx5IGluc3RlYWQgb2YgYnkgYSB1c2VyIGludGVyYWN0aW9uLCBhbmRcbiAgICAgICAgLy8gcGxheWJhY2sgaXMgYmxvY2tlZCAoZS5nLiBvbiBtb2JpbGUgZGV2aWNlcyBkdWUgdG8gdGhlIHByb2dyYW1tYXRpYyBwbGF5KCkgY2FsbCksIHdlIGxvb3NlIHRoZSBjaGFuY2UgdG9cbiAgICAgICAgLy8gZXZlciBzdGFydCBwbGF5YmFjayB0aHJvdWdoIGEgdXNlciBpbnRlcmFjdGlvbiBhZ2FpbiB3aXRoIHRoaXMgYnV0dG9uLlxuICAgICAgICB0b2dnbGVQbGF5YmFjaygpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5lbnRlckZ1bGxzY3JlZW5PbkluaXRpYWxQbGF5YmFjaykge1xuICAgICAgICAgIHBsYXllci5zZXRWaWV3TW9kZShwbGF5ZXIuZXhwb3J0cy5WaWV3TW9kZS5GdWxsc2NyZWVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICAgIGlmIChub3cgLSBjbGlja1RpbWUgPCAyMDApIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBhIGRvdWJsZSBjbGljayBpbnNpZGUgdGhlIDIwMG1zIGludGVydmFsLCBqdXN0IHRvZ2dsZSBmdWxsc2NyZWVuIG1vZGVcbiAgICAgICAgdG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgICAgICBkb3VibGVDbGlja1RpbWUgPSBub3c7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAobm93IC0gY2xpY2tUaW1lIDwgNTAwKSB7XG4gICAgICAgIC8vIFdlIGhhdmUgYSBkb3VibGUgY2xpY2sgaW5zaWRlIHRoZSA1MDBtcyBpbnRlcnZhbCwgdW5kbyBwbGF5YmFjayB0b2dnbGUgYW5kIHRvZ2dsZSBmdWxsc2NyZWVuIG1vZGVcbiAgICAgICAgdG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgICAgICB0b2dnbGVQbGF5YmFjaygpO1xuICAgICAgICBkb3VibGVDbGlja1RpbWUgPSBub3c7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xpY2tUaW1lID0gbm93O1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSBkb3VibGVDbGlja1RpbWUgPiAyMDApIHtcbiAgICAgICAgICAvLyBObyBkb3VibGUgY2xpY2sgZGV0ZWN0ZWQsIHNvIHdlIHRvZ2dsZSBwbGF5YmFjayBhbmQgd2FpdCB3aGF0IGhhcHBlbnMgbmV4dFxuICAgICAgICAgIHRvZ2dsZVBsYXliYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDIwMCk7XG4gICAgfSk7XG5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheSwgKCkgPT4ge1xuICAgICAgLy8gUGxheWJhY2sgaGFzIHJlYWxseSBzdGFydGVkLCB3ZSBjYW4gZGlzYWJsZSB0aGUgZmxhZyB0byBzd2l0Y2ggdG8gbm9ybWFsIHRvZ2dsZSBidXR0b24gaGFuZGxpbmdcbiAgICAgIGZpcnN0UGxheSA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50Lldhcm5pbmcsIChldmVudDogV2FybmluZ0V2ZW50KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2ZW50LmNvZGUgPT09IHBsYXllci5leHBvcnRzLldhcm5pbmdDb2RlLlBMQVlCQUNLX0NPVUxEX05PVF9CRV9TVEFSVEVEXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgcGxheWJhY2sgY291bGQgbm90IGJlIHN0YXJ0ZWQsIHJlc2V0IHRoZSBmaXJzdCBwbGF5IGZsYWcgYXMgd2UgbmVlZCB0aGUgdXNlciBpbnRlcmFjdGlvbiB0byBzdGFydFxuICAgICAgICBmaXJzdFBsYXkgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3VwcHJlc3NQbGF5QnV0dG9uVHJhbnNpdGlvbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICAgIC8vIERpc2FibGUgdGhlIGN1cnJlbnQgYW5pbWF0aW9uXG4gICAgICB0aGlzLnNldFRyYW5zaXRpb25BbmltYXRpb25zRW5hYmxlZChmYWxzZSk7XG5cbiAgICAgIC8vIEVuYWJsZSB0aGUgdHJhbnNpdGlvbiBhbmltYXRpb25zIGZvciB0aGUgbmV4dCBzdGF0ZSBjaGFuZ2VcbiAgICAgIHRoaXMub25Ub2dnbGUuc3Vic2NyaWJlT25jZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvbkFuaW1hdGlvbnNFbmFibGVkKHRydWUpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIEhpZGUgdGhlIHBsYXkgYnV0dG9uIGFuaW1hdGlvbiB3aGVuIHRoZSBVSSBpcyBsb2FkZWQgKGl0IHNob3VsZCBvbmx5IGJlIGFuaW1hdGVkIG9uIHN0YXRlIGNoYW5nZXMpXG4gICAgc3VwcHJlc3NQbGF5QnV0dG9uVHJhbnNpdGlvbkFuaW1hdGlvbigpO1xuXG4gICAgY29uc3QgaXNBdXRvcGxheUVuYWJsZWQgPVxuICAgICAgcGxheWVyLmdldENvbmZpZygpLnBsYXliYWNrICYmXG4gICAgICBCb29sZWFuKHBsYXllci5nZXRDb25maWcoKS5wbGF5YmFjay5hdXRvcGxheSk7XG4gICAgLy8gV2Ugb25seSBrbm93IGlmIGFuIGF1dG9wbGF5IGF0dGVtcHQgaXMgdXBjb21pbmcgaWYgdGhlIHBsYXllciBpcyBub3QgeWV0IHJlYWR5LiBJdCB0aGUgcGxheWVyIGlzIGFscmVhZHkgcmVhZHksXG4gICAgLy8gdGhlIGF0dGVtcHQgbWlnaHQgYmUgdXBjb21pbmcgb3IgbWlnaHQgaGF2ZSBhbHJlYWR5IGhhcHBlbmVkLCBidXQgd2UgZG9uJ3QgaGF2ZSB0byBoYW5kbGUgdGhhdCBiZWNhdXNlIHdlIGNhblxuICAgIC8vIHNpbXBseSByZWx5IG9uIGlzUGxheWluZyBhbmQgdGhlIHBsYXkgc3RhdGUgZXZlbnRzLlxuICAgIGNvbnN0IGlzQXV0b3BsYXlVcGNvbWluZyA9ICFwbGF5ZXIuZ2V0U291cmNlKCkgJiYgaXNBdXRvcGxheUVuYWJsZWQ7XG5cbiAgICAvLyBIaWRlIHRoZSBwbGF5IGJ1dHRvbiB3aGVuIHRoZSBwbGF5ZXIgaXMgYWxyZWFkeSBwbGF5aW5nIG9yIGF1dG9wbGF5IGlzIHVwY29taW5nXG4gICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSB8fCBpc0F1dG9wbGF5VXBjb21pbmcpIHtcbiAgICAgIC8vIEhpZGUgdGhlIHBsYXkgYnV0dG9uIChzd2l0Y2ggdG8gcGxheWluZyBzdGF0ZSlcbiAgICAgIHRoaXMub24oKTtcbiAgICAgIC8vIERpc2FibGUgdGhlIGFuaW1hdGlvbiBvZiB0aGUgcGxheWluZyBzdGF0ZSBzd2l0Y2hcbiAgICAgIHN1cHByZXNzUGxheUJ1dHRvblRyYW5zaXRpb25BbmltYXRpb24oKTtcblxuICAgICAgLy8gU2hvdyB0aGUgcGxheSBidXR0b24gd2l0aG91dCBhbiBhbmltYXRpb24gaWYgYSBwbGF5IGF0dGVtcHQgaXMgYmxvY2tlZFxuICAgICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50Lldhcm5pbmcsIChldmVudDogV2FybmluZ0V2ZW50KSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBldmVudC5jb2RlID09PVxuICAgICAgICAgIHBsYXllci5leHBvcnRzLldhcm5pbmdDb2RlLlBMQVlCQUNLX0NPVUxEX05PVF9CRV9TVEFSVEVEXG4gICAgICAgICkge1xuICAgICAgICAgIHN1cHByZXNzUGxheUJ1dHRvblRyYW5zaXRpb25BbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIHRvRG9tRWxlbWVudCgpOiBET00ge1xuICAgIGxldCBidXR0b25FbGVtZW50ID0gc3VwZXIudG9Eb21FbGVtZW50KCk7XG5cbiAgICAvLyBBZGQgY2hpbGQgdGhhdCBjb250YWlucyB0aGUgcGxheSBidXR0b24gaW1hZ2VcbiAgICAvLyBTZXR0aW5nIHRoZSBpbWFnZSBkaXJlY3RseSBvbiB0aGUgYnV0dG9uIGRvZXMgbm90IHdvcmsgdG9nZXRoZXIgd2l0aCBzY2FsaW5nIGFuaW1hdGlvbnMsIGJlY2F1c2UgdGhlIGJ1dHRvblxuICAgIC8vIGNhbiBjb3ZlciB0aGUgd2hvbGUgdmlkZW8gcGxheWVyIGFyZSBhbmQgc2NhbGluZyB3b3VsZCBleHRlbmQgaXQgYmV5b25kLiBCeSBhZGRpbmcgYW4gaW5uZXIgZWxlbWVudCwgY29uZmluZWRcbiAgICAvLyB0byB0aGUgc2l6ZSBpZiB0aGUgaW1hZ2UsIGl0IGNhbiBzY2FsZSBpbnNpZGUgdGhlIHBsYXllciB3aXRob3V0IG92ZXJzaG9vdGluZy5cbiAgICBidXR0b25FbGVtZW50LmFwcGVuZChcbiAgICAgIG5ldyBET00oXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogdGhpcy5wcmVmaXhDc3MoXCJpbWFnZVwiKSxcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHJldHVybiBidXR0b25FbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHBsYXkgc3RhdGUgdHJhbnNpdGlvbiBhbmltYXRpb25zIG9mIHRoZSBwbGF5IGJ1dHRvbiBpbWFnZS4gQ2FuIGJlIHVzZWQgdG8gc3VwcHJlc3NcbiAgICogYW5pbWF0aW9ucy5cbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIHRoZSBhbmltYXRpb25zIChkZWZhdWx0KSwgZmFsc2UgdG8gZGlzYWJsZSB0aGVtXG4gICAqL1xuICBwcm90ZWN0ZWQgc2V0VHJhbnNpdGlvbkFuaW1hdGlvbnNFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBjb25zdCBub1RyYW5zaXRpb25BbmltYXRpb25zQ2xhc3MgPSB0aGlzLnByZWZpeENzcyhcbiAgICAgIFwibm8tdHJhbnNpdGlvbi1hbmltYXRpb25zXCJcbiAgICApO1xuXG4gICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKG5vVHJhbnNpdGlvbkFuaW1hdGlvbnNDbGFzcyk7XG4gICAgfSBlbHNlIGlmICghdGhpcy5nZXREb21FbGVtZW50KCkuaGFzQ2xhc3Mobm9UcmFuc2l0aW9uQW5pbWF0aW9uc0NsYXNzKSkge1xuICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3Mobm9UcmFuc2l0aW9uQW5pbWF0aW9uc0NsYXNzKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7QnV0dG9uQ29uZmlnLCBCdXR0b259IGZyb20gJy4vYnV0dG9uJztcbmltcG9ydCB7RE9NfSBmcm9tICcuLi9kb20nO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIEEgYnV0dG9uIHRvIHBsYXkvcmVwbGF5IGEgdmlkZW8uXG4gKlxuICogQGNhdGVnb3J5IEJ1dHRvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIEh1Z2VSZXBsYXlCdXR0b24gZXh0ZW5kcyBCdXR0b248QnV0dG9uQ29uZmlnPiB7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBCdXR0b25Db25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLWh1Z2VyZXBsYXlidXR0b24nLFxuICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ3JlcGxheScpLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHBsYXllci5wbGF5KCd1aScpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIHRvRG9tRWxlbWVudCgpOiBET00ge1xuICAgIGxldCBidXR0b25FbGVtZW50ID0gc3VwZXIudG9Eb21FbGVtZW50KCk7XG5cbiAgICAvLyBBZGQgY2hpbGQgdGhhdCBjb250YWlucyB0aGUgcGxheSBidXR0b24gaW1hZ2VcbiAgICAvLyBTZXR0aW5nIHRoZSBpbWFnZSBkaXJlY3RseSBvbiB0aGUgYnV0dG9uIGRvZXMgbm90IHdvcmsgdG9nZXRoZXIgd2l0aCBzY2FsaW5nIGFuaW1hdGlvbnMsIGJlY2F1c2UgdGhlIGJ1dHRvblxuICAgIC8vIGNhbiBjb3ZlciB0aGUgd2hvbGUgdmlkZW8gcGxheWVyIGFyZSBhbmQgc2NhbGluZyB3b3VsZCBleHRlbmQgaXQgYmV5b25kLiBCeSBhZGRpbmcgYW4gaW5uZXIgZWxlbWVudCwgY29uZmluZWRcbiAgICAvLyB0byB0aGUgc2l6ZSBpZiB0aGUgaW1hZ2UsIGl0IGNhbiBzY2FsZSBpbnNpZGUgdGhlIHBsYXllciB3aXRob3V0IG92ZXJzaG9vdGluZy5cbiAgICBidXR0b25FbGVtZW50LmFwcGVuZChuZXcgRE9NKCdkaXYnLCB7XG4gICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnaW1hZ2UnKSxcbiAgICB9KSk7XG5cbiAgICByZXR1cm4gYnV0dG9uRWxlbWVudDtcbiAgfVxufSIsImltcG9ydCB7TGlzdFNlbGVjdG9yLCBMaXN0U2VsZWN0b3JDb25maWd9IGZyb20gJy4vbGlzdHNlbGVjdG9yJztcbmltcG9ydCB7RE9NfSBmcm9tICcuLi9kb20nO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgSXRlbVNlbGVjdGlvbkxpc3QgZXh0ZW5kcyBMaXN0U2VsZWN0b3I8TGlzdFNlbGVjdG9yQ29uZmlnPiB7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQ0xBU1NfU0VMRUNURUQgPSAnc2VsZWN0ZWQnO1xuXG4gIHByaXZhdGUgbGlzdEVsZW1lbnQ6IERPTTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IExpc3RTZWxlY3RvckNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIHRhZzogJ3VsJyxcbiAgICAgIGNzc0NsYXNzOiAndWktaXRlbXNlbGVjdGlvbmxpc3QnLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGggPiAxO1xuICB9XG5cbiAgcHJvdGVjdGVkIHRvRG9tRWxlbWVudCgpOiBET00ge1xuICAgIGxldCBsaXN0RWxlbWVudCA9IG5ldyBET00oJ3VsJywge1xuICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXG4gICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMubGlzdEVsZW1lbnQgPSBsaXN0RWxlbWVudDtcbiAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKCk7XG5cbiAgICByZXR1cm4gbGlzdEVsZW1lbnQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgdXBkYXRlRG9tSXRlbXMoc2VsZWN0ZWRWYWx1ZTogc3RyaW5nID0gbnVsbCkge1xuICAgIC8vIERlbGV0ZSBhbGwgY2hpbGRyZW5cbiAgICB0aGlzLmxpc3RFbGVtZW50LmVtcHR5KCk7XG5cbiAgICBsZXQgc2VsZWN0ZWRMaXN0SXRlbTogRE9NID0gbnVsbDtcblxuICAgIGNvbnN0IHNlbGVjdEl0ZW0gPSAobGlzdEl0ZW06IERPTSkgPT4ge1xuICAgICAgbGlzdEl0ZW0uYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoSXRlbVNlbGVjdGlvbkxpc3QuQ0xBU1NfU0VMRUNURUQpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVzZWxlY3RJdGVtID0gKGxpc3RJdGVtOiBET00pID0+IHtcbiAgICAgIGxpc3RJdGVtLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKEl0ZW1TZWxlY3Rpb25MaXN0LkNMQVNTX1NFTEVDVEVEKSk7XG4gICAgfTtcblxuICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5pdGVtcykge1xuICAgICAgbGV0IGxpc3RJdGVtID0gbmV3IERPTSgnbGknLCB7XG4gICAgICAgICd0eXBlJzogJ2xpJyxcbiAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3VpLXNlbGVjdGlvbmxpc3RpdGVtJyksXG4gICAgICB9KS5hcHBlbmQobmV3IERPTSgnYScsIHtcbiAgICAgIH0pLmh0bWwoaTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKGl0ZW0ubGFiZWwpKSk7XG5cbiAgICAgIGlmICghc2VsZWN0ZWRMaXN0SXRlbSkge1xuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSA9PSBudWxsKSB7IC8vIElmIHRoZXJlIGlzIG5vIHByZS1zZWxlY3RlZCB2YWx1ZSwgc2VsZWN0IHRoZSBmaXJzdCBvbmVcbiAgICAgICAgICBzZWxlY3RlZExpc3RJdGVtID0gbGlzdEl0ZW07XG4gICAgICAgIH0gZWxzZSBpZiAoU3RyaW5nKHNlbGVjdGVkVmFsdWUpID09PSBpdGVtLmtleSkgeyAvLyBjb252ZXJ0IHNlbGVjdGVkVmFsdWUgdG8gc3RyaW5nIHRvIGNhdGNoICdudWxsJy9udWxsIGNhc2VcbiAgICAgICAgICBzZWxlY3RlZExpc3RJdGVtID0gbGlzdEl0ZW07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIGxpc3QgaXRlbSBzZWxlY3Rpb25zXG4gICAgICBsaXN0SXRlbS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIC8vIERlc2VsZWN0IHRoZSBwcmV2aW91cyBpdGVtIChpZiB0aGVyZSB3YXMgYSBzZWxlY3RlZCBpdGVtKVxuICAgICAgICBpZiAoc2VsZWN0ZWRMaXN0SXRlbSkge1xuICAgICAgICAgIGRlc2VsZWN0SXRlbShzZWxlY3RlZExpc3RJdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlbGVjdCB0aGUgY2xpY2tlZCBpdGVtXG4gICAgICAgIHNlbGVjdGVkTGlzdEl0ZW0gPSBsaXN0SXRlbTtcbiAgICAgICAgc2VsZWN0SXRlbShsaXN0SXRlbSk7XG5cbiAgICAgICAgLy8gRmlyZSB0aGUgZXZlbnRcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZEV2ZW50KGl0ZW0ua2V5LCBmYWxzZSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2VsZWN0IGRlZmF1bHQgaXRlbVxuICAgICAgaWYgKHNlbGVjdGVkTGlzdEl0ZW0pIHtcbiAgICAgICAgc2VsZWN0SXRlbShzZWxlY3RlZExpc3RJdGVtKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5saXN0RWxlbWVudC5hcHBlbmQobGlzdEl0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbkl0ZW1BZGRlZEV2ZW50KHZhbHVlOiBzdHJpbmcpIHtcbiAgICBzdXBlci5vbkl0ZW1BZGRlZEV2ZW50KHZhbHVlKTtcbiAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHRoaXMuc2VsZWN0ZWRJdGVtKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbkl0ZW1SZW1vdmVkRXZlbnQodmFsdWU6IHN0cmluZykge1xuICAgIHN1cGVyLm9uSXRlbVJlbW92ZWRFdmVudCh2YWx1ZSk7XG4gICAgdGhpcy51cGRhdGVEb21JdGVtcyh0aGlzLnNlbGVjdGVkSXRlbSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25JdGVtU2VsZWN0ZWRFdmVudCh2YWx1ZTogc3RyaW5nLCB1cGRhdGVEb21JdGVtczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICBzdXBlci5vbkl0ZW1TZWxlY3RlZEV2ZW50KHZhbHVlKTtcbiAgICBpZiAodXBkYXRlRG9tSXRlbXMpIHtcbiAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModmFsdWUpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtDb21wb25lbnRDb25maWcsIENvbXBvbmVudH0gZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHtET019IGZyb20gJy4uL2RvbSc7XG5pbXBvcnQge0V2ZW50RGlzcGF0Y2hlciwgRXZlbnQsIE5vQXJnc30gZnJvbSAnLi4vZXZlbnRkaXNwYXRjaGVyJztcbmltcG9ydCB7IExvY2FsaXphYmxlVGV4dCwgaTE4biB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgYSB7QGxpbmsgTGFiZWx9IGNvbXBvbmVudC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29uZmlnc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIExhYmVsQ29uZmlnIGV4dGVuZHMgQ29tcG9uZW50Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGFzIHN0cmluZyBvciBsb2NhbGl6ZSBjYWxsYmFjayBvbiB0aGUgbGFiZWwuXG4gICAqL1xuICB0ZXh0PzogTG9jYWxpemFibGVUZXh0O1xuXG4gIC8qKlxuICAgKiBXQ0FHMjAgc3RhbmRhcmQ6IEFzc29jaWF0ZSBsYWJlbCB0byBmb3JtIGNvbnRyb2wuXG4gICAqL1xuICBmb3I/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQSBzaW1wbGUgdGV4dCBsYWJlbC5cbiAqXG4gKiBET00gZXhhbXBsZTpcbiAqIDxjb2RlPlxuICogICAgIDxzcGFuIGNsYXNzPSd1aS1sYWJlbCc+Li4uc29tZSB0ZXh0Li4uPC9zcGFuPlxuICogPC9jb2RlPlxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBMYWJlbDxDb25maWcgZXh0ZW5kcyBMYWJlbENvbmZpZz4gZXh0ZW5kcyBDb21wb25lbnQ8Q29uZmlnPiB7XG5cbiAgcHJpdmF0ZSB0ZXh0OiBMb2NhbGl6YWJsZVRleHQ7XG5cbiAgcHJpdmF0ZSBsYWJlbEV2ZW50cyA9IHtcbiAgICBvbkNsaWNrOiBuZXcgRXZlbnREaXNwYXRjaGVyPExhYmVsPENvbmZpZz4sIE5vQXJncz4oKSxcbiAgICBvblRleHRDaGFuZ2VkOiBuZXcgRXZlbnREaXNwYXRjaGVyPExhYmVsPENvbmZpZz4sIHN0cmluZz4oKSxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IENvbmZpZyA9IHt9IGFzIENvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLWxhYmVsJyxcbiAgICB9IGFzIENvbmZpZywgdGhpcy5jb25maWcpO1xuICAgIHRoaXMudGV4dCA9IHRoaXMuY29uZmlnLnRleHQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgdG9Eb21FbGVtZW50KCk6IERPTSB7XG4gICAgY29uc3QgdGFnTmFtZSA9IHRoaXMuY29uZmlnLmZvciAhPSBudWxsID8gJ2xhYmVsJyA6ICdzcGFuJztcblxuICAgIGxldCBsYWJlbEVsZW1lbnQgPSBuZXcgRE9NKHRhZ05hbWUsIHtcbiAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxuICAgICAgJ2Zvcic6IHRoaXMuY29uZmlnLmZvcixcbiAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxuICAgIH0sIHRoaXMpLmh0bWwoaTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKHRoaXMudGV4dCkpO1xuXG4gICAgbGFiZWxFbGVtZW50Lm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMub25DbGlja0V2ZW50KCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbGFiZWxFbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGV4dCBvbiB0aGlzIGxhYmVsLlxuICAgKiBAcGFyYW0gdGV4dFxuICAgKi9cbiAgc2V0VGV4dCh0ZXh0OiBMb2NhbGl6YWJsZVRleHQpIHtcbiAgICBpZiAodGV4dCA9PT0gdGhpcy50ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICBjb25zdCBsb2NhbGl6ZWRUZXh0ID0gaTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKHRleHQpO1xuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmh0bWwobG9jYWxpemVkVGV4dCk7XG4gICAgdGhpcy5vblRleHRDaGFuZ2VkRXZlbnQobG9jYWxpemVkVGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdGV4dCBvbiB0aGlzIGxhYmVsLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IG9uIHRoZSBsYWJlbFxuICAgKi9cbiAgZ2V0VGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBpMThuLnBlcmZvcm1Mb2NhbGl6YXRpb24odGhpcy50ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHRleHQgb24gdGhpcyBsYWJlbC5cbiAgICovXG4gIGNsZWFyVGV4dCgpIHtcbiAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5odG1sKCcnKTtcbiAgICB0aGlzLm9uVGV4dENoYW5nZWRFdmVudChudWxsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0cyBpZiB0aGUgbGFiZWwgaXMgZW1wdHkgYW5kIGRvZXMgbm90IGNvbnRhaW4gYW55IHRleHQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGxhYmVsIGlzIGVtcHR5LCBlbHNlIGZhbHNlXG4gICAqL1xuICBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhdGhpcy50ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIHRoZSB7QGxpbmsgI29uQ2xpY2t9IGV2ZW50LlxuICAgKiBDYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIGxpc3RlbiB0byB0aGlzIGV2ZW50IHdpdGhvdXQgc3Vic2NyaWJpbmcgYW4gZXZlbnQgbGlzdGVuZXIgYnkgb3ZlcndyaXRpbmcgdGhlIG1ldGhvZFxuICAgKiBhbmQgY2FsbGluZyB0aGUgc3VwZXIgbWV0aG9kLlxuICAgKi9cbiAgcHJvdGVjdGVkIG9uQ2xpY2tFdmVudCgpIHtcbiAgICB0aGlzLmxhYmVsRXZlbnRzLm9uQ2xpY2suZGlzcGF0Y2godGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgdGhlIHtAbGluayAjb25DbGlja30gZXZlbnQuXG4gICAqIENhbiBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gbGlzdGVuIHRvIHRoaXMgZXZlbnQgd2l0aG91dCBzdWJzY3JpYmluZyBhbiBldmVudCBsaXN0ZW5lciBieSBvdmVyd3JpdGluZyB0aGUgbWV0aG9kXG4gICAqIGFuZCBjYWxsaW5nIHRoZSBzdXBlciBtZXRob2QuXG4gICAqL1xuICBwcm90ZWN0ZWQgb25UZXh0Q2hhbmdlZEV2ZW50KHRleHQ6IHN0cmluZykge1xuICAgIHRoaXMubGFiZWxFdmVudHMub25UZXh0Q2hhbmdlZC5kaXNwYXRjaCh0aGlzLCB0ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGxhYmVsIGlzIGNsaWNrZWQuXG4gICAqIEByZXR1cm5zIHtFdmVudDxMYWJlbDxMYWJlbENvbmZpZz4sIE5vQXJncz59XG4gICAqL1xuICBnZXQgb25DbGljaygpOiBFdmVudDxMYWJlbDxMYWJlbENvbmZpZz4sIE5vQXJncz4ge1xuICAgIHJldHVybiB0aGlzLmxhYmVsRXZlbnRzLm9uQ2xpY2suZ2V0RXZlbnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIHRleHQgb24gdGhlIGxhYmVsIGlzIGNoYW5nZWQuXG4gICAqIEByZXR1cm5zIHtFdmVudDxMYWJlbDxMYWJlbENvbmZpZz4sIHN0cmluZz59XG4gICAqL1xuICBnZXQgb25UZXh0Q2hhbmdlZCgpOiBFdmVudDxMYWJlbDxMYWJlbENvbmZpZz4sIHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmxhYmVsRXZlbnRzLm9uVGV4dENoYW5nZWQuZ2V0RXZlbnQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgVG9nZ2xlQnV0dG9uLCBUb2dnbGVCdXR0b25Db25maWcgfSBmcm9tICcuL3RvZ2dsZWJ1dHRvbic7XG5pbXBvcnQgeyBMaXN0SXRlbSwgTGlzdFNlbGVjdG9yLCBMaXN0U2VsZWN0b3JDb25maWcgfSBmcm9tICcuL2xpc3RzZWxlY3Rvcic7XG5pbXBvcnQge0RPTX0gZnJvbSAnLi4vZG9tJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBVSUluc3RhbmNlTWFuYWdlciB9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBBcnJheVV0aWxzIH0gZnJvbSAnLi4vYXJyYXl1dGlscyc7XG5cbi8qKlxuICogQSBlbGVtZW50IHRvIHNlbGVjdCBhIHNpbmdsZSBpdGVtIG91dCBvZiBhIGxpc3Qgb2YgYXZhaWxhYmxlIGl0ZW1zLlxuICpcbiAqIERPTSBleGFtcGxlOlxuICogPGNvZGU+XG4gKiAgIDxkaXYgY2xhc3M9J3VpLWxpc3Rib3gnPlxuICogICAgIDxidXR0b24gY2xhc3M9J3VpLWxpc3Rib3gtYnV0dG9uJz5sYWJlbDwvYnV0dG9uPlxuICogICAgIC4uLlxuICogICA8L2RpdlxuICogPC9jb2RlPlxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbi8vIFRPRE86IGNoYW5nZSBMaXN0U2VsZWN0b3IgdG8gZXh0ZW5kcyBjb250YWluZXIgaW4gdjQgdG8gaW1wcm92ZSB1c2FnZSBvZiBMaXN0Qm94LlxuLy8gICAgICAgQ3VycmVudGx5IHdlIGFyZSBjcmVhdGluZyB0aGUgZG9tIGVsZW1lbnQgb2YgdGhlIGxpc3QgYm94IHdpdGggY2hpbGQgZWxlbWVudHMgbWFudWFsbHkgaGVyZS5cbi8vICAgICAgIEJ1dCB0aGlzIGZ1bmN0aW9uYWxpdHkgaXMgYWxyZWFkeSBjb3ZlcmVkIHdpdGhpbiB0aGUgQ29udGFpbmVyIGNvbXBvbmVudC5cbmV4cG9ydCBjbGFzcyBMaXN0Qm94IGV4dGVuZHMgTGlzdFNlbGVjdG9yPExpc3RTZWxlY3RvckNvbmZpZz4ge1xuICBwcml2YXRlIGxpc3RCb3hFbGVtZW50OiBET007XG4gIHByaXZhdGUgY29tcG9uZW50czogTGlzdEJveEl0ZW1CdXR0b25bXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogTGlzdFNlbGVjdG9yQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS1saXN0Ym94JyxcbiAgICB9IGFzIExpc3RTZWxlY3RvckNvbmZpZywgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgcHVibGljIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIC8vIFN1YnNjcmliZSBiZWZvcmUgc3VwZXIgY2FsbCB0byByZWNlaXZlIGluaXRpYWwgZXZlbnRzXG4gICAgdGhpcy5vbkl0ZW1BZGRlZC5zdWJzY3JpYmUodGhpcy5hZGRMaXN0Qm94RG9tSXRlbSk7XG4gICAgdGhpcy5vbkl0ZW1SZW1vdmVkLnN1YnNjcmliZSh0aGlzLnJlbW92ZUxpc3RCb3hEb21JdGVtKTtcbiAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZSh0aGlzLnJlZnJlc2hTZWxlY3RlZEl0ZW0pO1xuXG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcbiAgfVxuXG4gIHByb3RlY3RlZCB0b0RvbUVsZW1lbnQoKTogRE9NIHtcbiAgICBsZXQgbGlzdEJveEVsZW1lbnQgPSBuZXcgRE9NKCdkaXYnLCB7XG4gICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcbiAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxuICAgIH0sIHRoaXMpO1xuXG4gICAgdGhpcy5saXN0Qm94RWxlbWVudCA9IGxpc3RCb3hFbGVtZW50O1xuICAgIHRoaXMuY3JlYXRlTGlzdEJveERvbUl0ZW1zKCk7XG4gICAgdGhpcy5yZWZyZXNoU2VsZWN0ZWRJdGVtKCk7XG5cbiAgICByZXR1cm4gbGlzdEJveEVsZW1lbnQ7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUxpc3RCb3hEb21JdGVtcygpIHtcbiAgICAvLyBEZWxldGUgYWxsIGNoaWxkcmVuXG4gICAgdGhpcy5saXN0Qm94RWxlbWVudC5lbXB0eSgpO1xuICAgIHRoaXMuY29tcG9uZW50cyA9IFtdO1xuXG4gICAgLy8gQWRkIHVwZGF0ZWQgY2hpbGRyZW5cbiAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgIHRoaXMuYWRkTGlzdEJveERvbUl0ZW0odGhpcywgaXRlbS5rZXkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlTGlzdEJveERvbUl0ZW0gPSAoXzogTGlzdEJveCwga2V5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudEZvcktleShrZXkpO1xuICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgIGNvbXBvbmVudC5nZXREb21FbGVtZW50KCkucmVtb3ZlKCk7XG4gICAgICBBcnJheVV0aWxzLnJlbW92ZSh0aGlzLmNvbXBvbmVudHMsIGNvbXBvbmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgYWRkTGlzdEJveERvbUl0ZW0gPSAoXzogTGlzdEJveCwga2V5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudEZvcktleShrZXkpO1xuICAgIGNvbnN0IG5ld0l0ZW0gPSB0aGlzLmdldEl0ZW1Gb3JLZXkoa2V5KTtcbiAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgY29tcG9uZW50XG4gICAgICBjb21wb25lbnQuc2V0VGV4dChuZXdJdGVtLmxhYmVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGlzdEJveEl0ZW1CdXR0b24gPSB0aGlzLmJ1aWxkTGlzdEJveEl0ZW1CdXR0b24obmV3SXRlbSk7XG5cbiAgICAgIGxpc3RCb3hJdGVtQnV0dG9uLm9uQ2xpY2suc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3Rpb25DaGFuZ2UobGlzdEJveEl0ZW1CdXR0b24pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKGxpc3RCb3hJdGVtQnV0dG9uKTtcbiAgICAgIHRoaXMubGlzdEJveEVsZW1lbnQuYXBwZW5kKGxpc3RCb3hJdGVtQnV0dG9uLmdldERvbUVsZW1lbnQoKSk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgcmVmcmVzaFNlbGVjdGVkSXRlbSA9ICgpID0+IHtcbiAgICAvLyBUaGlzIGdldHMgY2FsbGVkIHR3aWNlIGJlY2F1c2UgdGhlIGZpcnN0IHRpbWUgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSBMaXN0Qm94SXRlbUJ1dHRvbi4gQW5kIHRoZVxuICAgIC8vIHNlY29uZCBjYWxsIGNvbWVzIGZyb20gdGhlIHBsYXllciBldmVudCB3aGVuIHRoZSBhY3R1YWwgaXRlbSBpcyBzZWxlY3RlZCAoU3VidGl0bGUgLyBBdWRpb1RyYWNrIGluIHRoaXMgY2FzZSkuXG4gICAgLy8gQXMgdGhpcyBpcyBhIGdlbmVyaWMgY29tcG9uZW50IHdlIGNhbid0IHByb2hpYml0IHRoaXMgYmVoYXZpb3VyLiBXZSBuZWVkIHRvIHRyZWF0IHRoaXMgY29tcG9uZW50IGFzIGl0IGFjdHNcbiAgICAvLyBpbmRlcGVuZGVudCBmcm9tIFBsYXllckV2ZW50cyBhbmQgb24gdGhlIG90aGVyIGhhbmQgd2UgbmVlZCB0byByZWFjdCB0byBQbGF5ZXJFdmVudHMgYXMgaXQgY291bGQgYmUgdHJpZ2dlcmVkXG4gICAgLy8gZnJvbSBvdXRzaWRlLlxuXG4gICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLml0ZW1zKSB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudEZvcktleShpdGVtLmtleSk7XG4gICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgIFN0cmluZyhjb21wb25lbnQua2V5KSA9PT0gU3RyaW5nKHRoaXMuc2VsZWN0ZWRJdGVtKSA/IGNvbXBvbmVudC5vbigpIDogY29tcG9uZW50Lm9mZigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGJ1aWxkTGlzdEJveEl0ZW1CdXR0b24obGlzdEl0ZW06IExpc3RJdGVtKTogTGlzdEJveEl0ZW1CdXR0b24ge1xuICAgIHJldHVybiBuZXcgTGlzdEJveEl0ZW1CdXR0b24oe1xuICAgICAga2V5OiBsaXN0SXRlbS5rZXksXG4gICAgICB0ZXh0OiBsaXN0SXRlbS5sYWJlbCxcbiAgICAgIGFyaWFMYWJlbDogbGlzdEl0ZW0uYXJpYUxhYmVsLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDb21wb25lbnRGb3JLZXkoa2V5OiBzdHJpbmcpOiBMaXN0Qm94SXRlbUJ1dHRvbiB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cy5maW5kKChjKSA9PiBrZXkgPT09IGMua2V5KTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlID0gKHNlbmRlcjogTGlzdEJveEl0ZW1CdXR0b24pID0+IHtcbiAgICB0aGlzLm9uSXRlbVNlbGVjdGVkRXZlbnQoc2VuZGVyLmtleSk7XG4gIH07XG59XG5cbmludGVyZmFjZSBMaXN0Qm94SXRlbUJ1dHRvbkNvbmZpZyBleHRlbmRzIFRvZ2dsZUJ1dHRvbkNvbmZpZyB7XG4gIC8qKlxuICAgKiBrZXkgdG8gaWRlbnRpZnkgc2VsZWN0ZWQgaXRlbS4gU2ltaWxhciB0byB0aGUgdmFsdWUgYXR0cmlidXRlIG9mIGFuIHNlbGVjdCBvcHRpb24uXG4gICAqL1xuICBrZXk6IHN0cmluZztcbn1cblxuY2xhc3MgTGlzdEJveEl0ZW1CdXR0b24gZXh0ZW5kcyBUb2dnbGVCdXR0b248TGlzdEJveEl0ZW1CdXR0b25Db25maWc+IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IExpc3RCb3hJdGVtQnV0dG9uQ29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktbGlzdGJveC1idXR0b24nLFxuICAgICAgb25DbGFzczogJ3NlbGVjdGVkJyxcbiAgICAgIG9mZkNsYXNzOiAnJyxcbiAgICB9IGFzIExpc3RCb3hJdGVtQnV0dG9uQ29uZmlnLCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBnZXQga2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICh0aGlzLmNvbmZpZyBhcyBMaXN0Qm94SXRlbUJ1dHRvbkNvbmZpZykua2V5O1xuICB9XG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgQ29tcG9uZW50Q29uZmlnfSBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQge0V2ZW50RGlzcGF0Y2hlciwgRXZlbnR9IGZyb20gJy4uL2V2ZW50ZGlzcGF0Y2hlcic7XG5pbXBvcnQge0FycmF5VXRpbHN9IGZyb20gJy4uL2FycmF5dXRpbHMnO1xuaW1wb3J0IHsgTG9jYWxpemFibGVUZXh0LCBpMThuIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIEEgbWFwIG9mIGl0ZW1zIChrZXkvdmFsdWUgLT4gbGFiZWx9IGZvciBhIHtAbGluayBMaXN0U2VsZWN0b3J9IGluIGEge0BsaW5rIExpc3RTZWxlY3RvckNvbmZpZ30uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdEl0ZW0ge1xuICBrZXk6IHN0cmluZztcbiAgbGFiZWw6IExvY2FsaXphYmxlVGV4dDtcbiAgc29ydGVkSW5zZXJ0PzogYm9vbGVhbjtcbiAgYXJpYUxhYmVsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEZpbHRlciBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGZpbHRlciBvdXQgbGlzdCBpdGVtcyBhZGRlZCB0aHJvdWdoIHtAbGluayBMaXN0U2VsZWN0b3IuYWRkSXRlbX0uXG4gKlxuICogVGhpcyBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggc3ViY2xhc3NlcyB0aGF0IHBvcHVsYXRlIHRoZW1zZWx2ZXMgYXV0b21hdGljYWxseVxuICogdmlhIHRoZSBwbGF5ZXIgQVBJLCBlLmcuIHtAbGluayBTdWJ0aXRsZVNlbGVjdEJveH0uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdEl0ZW1GaWx0ZXIge1xuICAvKipcbiAgICogVGFrZXMgYSBsaXN0IGl0ZW0gYW5kIGRlY2lkZXMgd2hldGhlciBpdCBzaG91bGQgcGFzcyBvciBiZSBkaXNjYXJkZWQuXG4gICAqIEBwYXJhbSB7TGlzdEl0ZW19IGxpc3RJdGVtIHRoZSBpdGVtIHRvIGFwcGx5IHRoZSBmaWx0ZXIgdG9cbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgdG8gbGV0IHRoZSBpdGVtIHBhc3MgdGhyb3VnaCB0aGUgZmlsdGVyLCBmYWxzZSB0byBkaXNjYXJkIHRoZSBpdGVtXG4gICAqL1xuICAobGlzdEl0ZW06IExpc3RJdGVtKTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBUcmFuc2xhdG9yIGZ1bmN0aW9uIHRvIHRyYW5zbGF0ZSBsYWJlbHMgb2YgbGlzdCBpdGVtcyBhZGRlZCB0aHJvdWdoIHtAbGluayBMaXN0U2VsZWN0b3IuYWRkSXRlbX0uXG4gKlxuICogVGhpcyBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggc3ViY2xhc3NlcyB0aGF0IHBvcHVsYXRlIHRoZW1zZWx2ZXMgYXV0b21hdGljYWxseVxuICogdmlhIHRoZSBwbGF5ZXIgQVBJLCBlLmcuIHtAbGluayBTdWJ0aXRsZVNlbGVjdEJveH0uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdEl0ZW1MYWJlbFRyYW5zbGF0b3Ige1xuICAvKipcbiAgICogVGFrZXMgYSBsaXN0IGl0ZW0sIG9wdGlvbmFsbHkgY2hhbmdlcyB0aGUgbGFiZWwsIGFuZCByZXR1cm5zIHRoZSBuZXcgbGFiZWwuXG4gICAqIEBwYXJhbSB7TGlzdEl0ZW19IGxpc3RJdGVtIHRoZSBpdGVtIHRvIHRyYW5zbGF0ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgdHJhbnNsYXRlZCBvciBvcmlnaW5hbCBsYWJlbFxuICAgKi9cbiAgKGxpc3RJdGVtOiBMaXN0SXRlbSk6IHN0cmluZztcbn1cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgYSB7QGxpbmsgTGlzdFNlbGVjdG9yfS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29uZmlnc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIExpc3RTZWxlY3RvckNvbmZpZyBleHRlbmRzIENvbXBvbmVudENvbmZpZyB7XG4gIGl0ZW1zPzogTGlzdEl0ZW1bXTtcbiAgZmlsdGVyPzogTGlzdEl0ZW1GaWx0ZXI7XG4gIHRyYW5zbGF0b3I/OiBMaXN0SXRlbUxhYmVsVHJhbnNsYXRvcjtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIExpc3RTZWxlY3RvcjxDb25maWcgZXh0ZW5kcyBMaXN0U2VsZWN0b3JDb25maWc+IGV4dGVuZHMgQ29tcG9uZW50PExpc3RTZWxlY3RvckNvbmZpZz4ge1xuXG4gIHByb3RlY3RlZCBpdGVtczogTGlzdEl0ZW1bXTtcbiAgcHJvdGVjdGVkIHNlbGVjdGVkSXRlbTogc3RyaW5nO1xuXG4gIHByaXZhdGUgbGlzdFNlbGVjdG9yRXZlbnRzID0ge1xuICAgIG9uSXRlbUFkZGVkOiBuZXcgRXZlbnREaXNwYXRjaGVyPExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+KCksXG4gICAgb25JdGVtUmVtb3ZlZDogbmV3IEV2ZW50RGlzcGF0Y2hlcjxMaXN0U2VsZWN0b3I8Q29uZmlnPiwgc3RyaW5nPigpLFxuICAgIG9uSXRlbVNlbGVjdGVkOiBuZXcgRXZlbnREaXNwYXRjaGVyPExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+KCksXG4gIH07XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBMaXN0U2VsZWN0b3JDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBpdGVtczogW10sXG4gICAgICBjc3NDbGFzczogJ3VpLWxpc3RzZWxlY3RvcicsXG4gICAgfSwgdGhpcy5jb25maWcpO1xuXG4gICAgdGhpcy5pdGVtcyA9IHRoaXMuY29uZmlnLml0ZW1zO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRJdGVtSW5kZXgoa2V5OiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuaXRlbXNbaV0ua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGN1cnJlbnQgaXRlbXMgb2YgdGhpcyBzZWxlY3Rvci5cbiAgICogKiBAcmV0dXJucyB7TGlzdEl0ZW1bXX1cbiAgICovXG4gIGdldEl0ZW1zKCk6IExpc3RJdGVtW10ge1xuICAgIHJldHVybiB0aGlzLml0ZW1zO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgc3BlY2lmaWVkIGl0ZW0gaXMgcGFydCBvZiB0aGlzIHNlbGVjdG9yLlxuICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIGl0ZW0gaXMgcGFydCBvZiB0aGlzIHNlbGVjdG9yLCBlbHNlIGZhbHNlXG4gICAqL1xuICBoYXNJdGVtKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0SXRlbUluZGV4KGtleSkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGl0ZW0gdG8gdGhpcyBzZWxlY3RvciBieSBkb2luZyBhIHNvcnRlZCBpbnNlcnQgb3IgYnkgYXBwZW5kaW5nIHRoZSBlbGVtZW50IHRvIHRoZSBlbmQgb2YgdGhlIGxpc3Qgb2YgaXRlbXMuXG4gICAqIElmIGFuIGl0ZW0gd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBhbHJlYWR5IGV4aXN0cywgaXQgaXMgcmVwbGFjZWQuXG4gICAqIEBwYXJhbSBrZXkgdGhlIGtleSBvZiB0aGUgaXRlbSB0byBhZGRcbiAgICogQHBhcmFtIGxhYmVsIHRoZSAoaHVtYW4tcmVhZGFibGUpIGxhYmVsIG9mIHRoZSBpdGVtIHRvIGFkZFxuICAgKiBAcGFyYW0gc29ydGVkSW5zZXJ0IHdoZXRoZXIgdGhlIGl0ZW0gc2hvdWxkIGJlIGFkZGVkIHJlc3BlY3RpbmcgdGhlIG9yZGVyIG9mIGtleXNcbiAgICogQHBhcmFtIGFyaWFMYWJlbCBjdXN0b20gYXJpYSBsYWJlbCBmb3IgdGhlIGxpc3RJdGVtXG4gICAqL1xuICBhZGRJdGVtKGtleTogc3RyaW5nfG51bGwsIGxhYmVsOiBMb2NhbGl6YWJsZVRleHQsIHNvcnRlZEluc2VydCA9IGZhbHNlLCBhcmlhTGFiZWwgPSAnJykge1xuICAgIGNvbnN0IGxpc3RJdGVtID0geyBrZXk6IGtleSwgbGFiZWw6IGkxOG4ucGVyZm9ybUxvY2FsaXphdGlvbihsYWJlbCksIC4uLihhcmlhTGFiZWwgJiYgeyBhcmlhTGFiZWwgfSl9O1xuXG4gICAgLy8gQXBwbHkgZmlsdGVyIGZ1bmN0aW9uXG4gICAgaWYgKHRoaXMuY29uZmlnLmZpbHRlciAmJiAhdGhpcy5jb25maWcuZmlsdGVyKGxpc3RJdGVtKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFwcGx5IHRyYW5zbGF0b3IgZnVuY3Rpb25cbiAgICBpZiAodGhpcy5jb25maWcudHJhbnNsYXRvcikge1xuICAgICAgbGlzdEl0ZW0ubGFiZWwgPSB0aGlzLmNvbmZpZy50cmFuc2xhdG9yKGxpc3RJdGVtKTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gcmVtb3ZlIGtleSBmaXJzdCB0byBnZXQgb3ZlcndyaXRlIGJlaGF2aW9yIGFuZCBhdm9pZCBkdXBsaWNhdGUga2V5c1xuICAgIHRoaXMucmVtb3ZlSXRlbShrZXkpOyAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhbiBJdGVtUmVtb3ZlZCBhbmQgYW4gSXRlbUFkZGVkIGV2ZW50XG5cbiAgICAvLyBBZGQgdGhlIGl0ZW0gdG8gdGhlIGxpc3RcbiAgICBpZiAoc29ydGVkSW5zZXJ0KSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuaXRlbXMuZmluZEluZGV4KGVudHJ5ID0+IGVudHJ5LmtleSA+IGtleSk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHRoaXMuaXRlbXMucHVzaChsaXN0SXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwgMCwgbGlzdEl0ZW0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLml0ZW1zLnB1c2gobGlzdEl0ZW0pO1xuICAgIH1cbiAgICB0aGlzLm9uSXRlbUFkZGVkRXZlbnQoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSB0aGlzIHNlbGVjdG9yLlxuICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gcmVtb3ZlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHJlbW92YWwgd2FzIHN1Y2Nlc3NmdWwsIGZhbHNlIGlmIHRoZSBpdGVtIGlzIG5vdCBwYXJ0IG9mIHRoaXMgc2VsZWN0b3JcbiAgICovXG4gIHJlbW92ZUl0ZW0oa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleChrZXkpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICBBcnJheVV0aWxzLnJlbW92ZSh0aGlzLml0ZW1zLCB0aGlzLml0ZW1zW2luZGV4XSk7XG4gICAgICB0aGlzLm9uSXRlbVJlbW92ZWRFdmVudChrZXkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdHMgYW4gaXRlbSBmcm9tIHRoZSBpdGVtcyBpbiB0aGlzIHNlbGVjdG9yLlxuICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gc2VsZWN0XG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHRoZSBzZWxlY3Rpb24gd2FzIHN1Y2Nlc3NmdWwsIGZhbHNlIGlmIHRoZSBzZWxlY3RlZCBpdGVtIGlzIG5vdCBwYXJ0IG9mIHRoZSBzZWxlY3RvclxuICAgKi9cbiAgc2VsZWN0SXRlbShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmIChrZXkgPT09IHRoaXMuc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAvLyBpdGVtQ29uZmlnIGlzIGFscmVhZHkgc2VsZWN0ZWQsIHN1cHByZXNzIGFueSBmdXJ0aGVyIGFjdGlvblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgbGV0IGluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoa2V5KTtcblxuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IGtleTtcbiAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWRFdmVudChrZXkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGtleSBvZiB0aGUgc2VsZWN0ZWQgaXRlbS5cbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGtleSBvZiB0aGUgc2VsZWN0ZWQgaXRlbSBvciBudWxsIGlmIG5vIGl0ZW0gaXMgc2VsZWN0ZWRcbiAgICovXG4gIGdldFNlbGVjdGVkSXRlbSgpOiBzdHJpbmcgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEl0ZW07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlbXMgZm9yIHRoZSBnaXZlbiBrZXkgb3IgdW5kZWZpbmVkIGlmIG5vIGl0ZW0gd2l0aCB0aGUgZ2l2ZW4ga2V5IGV4aXN0cy5cbiAgICogQHBhcmFtIGtleSB0aGUga2V5IG9mIHRoZSBpdGVtIHRvIHJldHVyblxuICAgKiBAcmV0dXJucyB7TGlzdEl0ZW19IHRoZSBpdGVtIHdpdGggdGhlIHJlcXVlc3RlZCBrZXkuIFVuZGVmaW5lZCBpZiBubyBpdGVtIHdpdGggdGhlIGdpdmVuIGtleSBleGlzdHMuXG4gICAqL1xuICBnZXRJdGVtRm9yS2V5KGtleTogc3RyaW5nKTogTGlzdEl0ZW0ge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0ua2V5ID09PSBrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmNocm9uaXplIHRoZSBjdXJyZW50IGl0ZW1zIG9mIHRoaXMgc2VsZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gb25lcy4gVGhpcyB3aWxsIHJlbW92ZSBhbmQgYWRkIGl0ZW1zIHNlbGVjdGl2ZWx5LlxuICAgKiBGb3IgZWFjaCByZW1vdmVkIGl0ZW0gdGhlIEl0ZW1SZW1vdmVkRXZlbnQgYW5kIGZvciBlYWNoIGFkZGVkIGl0ZW0gdGhlIEl0ZW1BZGRlZEV2ZW50IHdpbGwgYmUgdHJpZ2dlcmVkLiBGYXZvdXJcbiAgICogdGhpcyBtZXRob2Qgb3ZlciB1c2luZyBjbGVhckl0ZW1zIGFuZCBhZGRpbmcgYWxsIGl0ZW1zIGFnYWluIGFmdGVyd2FyZHMuXG4gICAqIEBwYXJhbSBuZXdJdGVtc1xuICAgKi9cbiAgc3luY2hyb25pemVJdGVtcyhuZXdJdGVtczogTGlzdEl0ZW1bXSk6IHZvaWQge1xuICAgIG5ld0l0ZW1zXG4gICAgICAuZmlsdGVyKChpdGVtKSA9PiAhdGhpcy5oYXNJdGVtKGl0ZW0ua2V5KSlcbiAgICAgIC5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLmFkZEl0ZW0oaXRlbS5rZXksIGl0ZW0ubGFiZWwsIGl0ZW0uc29ydGVkSW5zZXJ0LCBpdGVtLmFyaWFMYWJlbCkpO1xuXG4gICAgdGhpcy5pdGVtc1xuICAgICAgLmZpbHRlcigoaXRlbSkgPT4gbmV3SXRlbXMuZmlsdGVyKChpKSA9PiBpLmtleSA9PT0gaXRlbS5rZXkpLmxlbmd0aCA9PT0gMClcbiAgICAgIC5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLnJlbW92ZUl0ZW0oaXRlbS5rZXkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBpdGVtcyBmcm9tIHRoaXMgc2VsZWN0b3IuXG4gICAqL1xuICBjbGVhckl0ZW1zKCkge1xuICAgIC8vIGxvY2FsIGNvcHkgZm9yIGl0ZXJhdGlvbiBhZnRlciBjbGVhclxuICAgIGxldCBpdGVtcyA9IHRoaXMuaXRlbXM7XG4gICAgLy8gY2xlYXIgaXRlbXNcbiAgICB0aGlzLml0ZW1zID0gW107XG5cbiAgICAvLyBjbGVhciB0aGUgc2VsZWN0aW9uIGFzIHRoZSBzZWxlY3RlZCBpdGVtIGlzIGFsc28gcmVtb3ZlZFxuICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcblxuICAgIC8vIGZpcmUgZXZlbnRzXG4gICAgZm9yIChsZXQgaXRlbSBvZiBpdGVtcykge1xuICAgICAgdGhpcy5vbkl0ZW1SZW1vdmVkRXZlbnQoaXRlbS5rZXkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgaXRlbXMgaW4gdGhpcyBzZWxlY3Rvci5cbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGl0ZW1Db3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLml0ZW1zKS5sZW5ndGg7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25JdGVtQWRkZWRFdmVudChrZXk6IHN0cmluZykge1xuICAgIHRoaXMubGlzdFNlbGVjdG9yRXZlbnRzLm9uSXRlbUFkZGVkLmRpc3BhdGNoKHRoaXMsIGtleSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25JdGVtUmVtb3ZlZEV2ZW50KGtleTogc3RyaW5nKSB7XG4gICAgdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtUmVtb3ZlZC5kaXNwYXRjaCh0aGlzLCBrZXkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uSXRlbVNlbGVjdGVkRXZlbnQoa2V5OiBzdHJpbmcpIHtcbiAgICB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1TZWxlY3RlZC5kaXNwYXRjaCh0aGlzLCBrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhbiBpdGVtIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9mIGl0ZW1zLlxuICAgKiBAcmV0dXJucyB7RXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz59XG4gICAqL1xuICBnZXQgb25JdGVtQWRkZWQoKTogRXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1BZGRlZC5nZXRFdmVudCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvZiBpdGVtcy5cbiAgICogQHJldHVybnMge0V2ZW50PExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+fVxuICAgKi9cbiAgZ2V0IG9uSXRlbVJlbW92ZWQoKTogRXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1SZW1vdmVkLmdldEV2ZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGFuIGl0ZW0gaXMgc2VsZWN0ZWQgZnJvbSB0aGUgbGlzdCBvZiBpdGVtcy5cbiAgICogQHJldHVybnMge0V2ZW50PExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+fVxuICAgKi9cbiAgZ2V0IG9uSXRlbVNlbGVjdGVkKCk6IEV2ZW50PExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtU2VsZWN0ZWQuZ2V0RXZlbnQoKTtcbiAgfVxufSIsImltcG9ydCB7TGFiZWxDb25maWcsIExhYmVsfSBmcm9tICcuL2xhYmVsJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuXG4vKipcbiAqIEVudW1lcmF0ZXMgdGhlIHR5cGVzIG9mIGNvbnRlbnQgdGhhdCB0aGUge0BsaW5rIE1ldGFkYXRhTGFiZWx9IGNhbiBkaXNwbGF5LlxuICovXG5leHBvcnQgZW51bSBNZXRhZGF0YUxhYmVsQ29udGVudCB7XG4gIC8qKlxuICAgKiBUaXRsZSBvZiB0aGUgZGF0YSBzb3VyY2UuXG4gICAqL1xuICBUaXRsZSxcbiAgLyoqXG4gICAqIERlc2NyaXB0aW9uIGZvIHRoZSBkYXRhIHNvdXJjZS5cbiAgICovXG4gIERlc2NyaXB0aW9uLFxufVxuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gaW50ZXJmYWNlIGZvciB7QGxpbmsgTWV0YWRhdGFMYWJlbH0uXG4gKlxuICogQGNhdGVnb3J5IENvbmZpZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXRhZGF0YUxhYmVsQ29uZmlnIGV4dGVuZHMgTGFiZWxDb25maWcge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgY29udGVudCB0aGF0IHNob3VsZCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGxhYmVsLlxuICAgKi9cbiAgY29udGVudDogTWV0YWRhdGFMYWJlbENvbnRlbnQ7XG59XG5cbi8qKlxuICogQSBsYWJlbCB0aGF0IGNhbiBiZSBjb25maWd1cmVkIHRvIGRpc3BsYXkgY2VydGFpbiBtZXRhZGF0YS5cbiAqXG4gKiBAY2F0ZWdvcnkgTGFiZWxzXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXRhZGF0YUxhYmVsIGV4dGVuZHMgTGFiZWw8TWV0YWRhdGFMYWJlbENvbmZpZz4ge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogTWV0YWRhdGFMYWJlbENvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzc2VzOiBbJ2xhYmVsLW1ldGFkYXRhJywgJ2xhYmVsLW1ldGFkYXRhLScgKyBNZXRhZGF0YUxhYmVsQ29udGVudFtjb25maWcuY29udGVudF0udG9Mb3dlckNhc2UoKV0sXG4gICAgfSBhcyBNZXRhZGF0YUxhYmVsQ29uZmlnLCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgbGV0IGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XG4gICAgbGV0IHVpY29uZmlnID0gdWltYW5hZ2VyLmdldENvbmZpZygpO1xuXG4gICAgbGV0IGluaXQgPSAoKSA9PiB7XG4gICAgICBzd2l0Y2ggKGNvbmZpZy5jb250ZW50KSB7XG4gICAgICAgIGNhc2UgTWV0YWRhdGFMYWJlbENvbnRlbnQuVGl0bGU6XG4gICAgICAgICAgdGhpcy5zZXRUZXh0KHVpY29uZmlnLm1ldGFkYXRhLnRpdGxlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBNZXRhZGF0YUxhYmVsQ29udGVudC5EZXNjcmlwdGlvbjpcbiAgICAgICAgICB0aGlzLnNldFRleHQodWljb25maWcubWV0YWRhdGEuZGVzY3JpcHRpb24pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgdW5sb2FkID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZXRUZXh0KG51bGwpO1xuICAgIH07XG5cbiAgICAvLyBJbml0IGxhYmVsXG4gICAgaW5pdCgpO1xuICAgIC8vIENsZWFyIGxhYmVscyB3aGVuIHNvdXJjZSBpcyB1bmxvYWRlZFxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5Tb3VyY2VVbmxvYWRlZCwgdW5sb2FkKTtcblxuICAgIHVpbWFuYWdlci5nZXRDb25maWcoKS5ldmVudHMub25VcGRhdGVkLnN1YnNjcmliZShpbml0KTtcbiAgfVxufSIsImltcG9ydCB7VG9nZ2xlQnV0dG9uLCBUb2dnbGVCdXR0b25Db25maWd9IGZyb20gJy4vdG9nZ2xlYnV0dG9uJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBBIGJ1dHRvbiB0aGF0IHRvZ2dsZXMgQXBwbGUgbWFjT1MgcGljdHVyZS1pbi1waWN0dXJlIG1vZGUuXG4gKlxuICogQGNhdGVnb3J5IEJ1dHRvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIFBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b24gZXh0ZW5kcyBUb2dnbGVCdXR0b248VG9nZ2xlQnV0dG9uQ29uZmlnPiB7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBUb2dnbGVCdXR0b25Db25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLXBpcHRvZ2dsZWJ1dHRvbicsXG4gICAgICB0ZXh0OiBpMThuLmdldExvY2FsaXplcigncGljdHVyZUluUGljdHVyZScpLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICBjb25zdCBpc1BpY3R1cmVJblBpY3R1cmVBdmFpbGFibGUgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gcGxheWVyLmlzVmlld01vZGVBdmFpbGFibGUocGxheWVyLmV4cG9ydHMuVmlld01vZGUuUGljdHVyZUluUGljdHVyZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBpY3R1cmVJblBpY3R1cmVTdGF0ZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBwbGF5ZXIuZ2V0Vmlld01vZGUoKSA9PT0gcGxheWVyLmV4cG9ydHMuVmlld01vZGUuUGljdHVyZUluUGljdHVyZSA/IHRoaXMub24oKSA6IHRoaXMub2ZmKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBpY3R1cmVJblBpY3R1cmVBdmFpbGFiaWxpdHlDaGFuZ2VkSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIGlzUGljdHVyZUluUGljdHVyZUF2YWlsYWJsZSgpID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcbiAgICB9O1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlZpZXdNb2RlQ2hhbmdlZCwgcGljdHVyZUluUGljdHVyZVN0YXRlSGFuZGxlcik7XG5cbiAgICAvLyBBdmFpbGFibGUgb25seSBpbiBvdXIgbmF0aXZlIFNES3MgZm9yIG5vd1xuICAgIGlmICgocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQgYXMgYW55KS5WaWV3TW9kZUF2YWlsYWJpbGl0eUNoYW5nZWQpIHtcbiAgICAgIHBsYXllci5vbihcbiAgICAgICAgKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50IGFzIGFueSkuVmlld01vZGVBdmFpbGFiaWxpdHlDaGFuZ2VkLFxuICAgICAgICBwaWN0dXJlSW5QaWN0dXJlQXZhaWxhYmlsaXR5Q2hhbmdlZEhhbmRsZXIsXG4gICAgICApO1xuICAgIH1cblxuICAgIHVpbWFuYWdlci5nZXRDb25maWcoKS5ldmVudHMub25VcGRhdGVkLnN1YnNjcmliZShwaWN0dXJlSW5QaWN0dXJlQXZhaWxhYmlsaXR5Q2hhbmdlZEhhbmRsZXIpO1xuXG4gICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICBpZiAoIWlzUGljdHVyZUluUGljdHVyZUF2YWlsYWJsZSgpKSB7XG4gICAgICAgIGlmIChjb25zb2xlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1BJUCB1bmF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGFyZ2V0Vmlld01vZGUgPVxuICAgICAgICBwbGF5ZXIuZ2V0Vmlld01vZGUoKSA9PT0gcGxheWVyLmV4cG9ydHMuVmlld01vZGUuUGljdHVyZUluUGljdHVyZVxuICAgICAgICAgID8gcGxheWVyLmV4cG9ydHMuVmlld01vZGUuSW5saW5lXG4gICAgICAgICAgOiBwbGF5ZXIuZXhwb3J0cy5WaWV3TW9kZS5QaWN0dXJlSW5QaWN0dXJlO1xuXG4gICAgICBwbGF5ZXIuc2V0Vmlld01vZGUodGFyZ2V0Vmlld01vZGUpO1xuICAgIH0pO1xuXG4gICAgLy8gU3RhcnR1cCBpbml0XG4gICAgcGljdHVyZUluUGljdHVyZUF2YWlsYWJpbGl0eUNoYW5nZWRIYW5kbGVyKCk7IC8vIEhpZGUgYnV0dG9uIGlmIFBJUCBub3QgYXZhaWxhYmxlXG4gICAgcGljdHVyZUluUGljdHVyZVN0YXRlSGFuZGxlcigpO1xuICB9XG59XG4iLCJpbXBvcnQge1NlbGVjdEJveH0gZnJvbSAnLi9zZWxlY3Rib3gnO1xuaW1wb3J0IHtMaXN0U2VsZWN0b3JDb25maWd9IGZyb20gJy4vbGlzdHNlbGVjdG9yJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBwbGF5YmFjayBzcGVlZHMuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFBsYXliYWNrU3BlZWRTZWxlY3RCb3ggZXh0ZW5kcyBTZWxlY3RCb3gge1xuICBwcm90ZWN0ZWQgZGVmYXVsdFBsYXliYWNrU3BlZWRzOiBudW1iZXJbXTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IExpc3RTZWxlY3RvckNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcbiAgICB0aGlzLmRlZmF1bHRQbGF5YmFja1NwZWVkcyA9IFswLjI1LCAwLjUsIDEsIDEuNSwgMl07XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzc2VzOiBbJ3VpLXBsYXliYWNrc3BlZWRzZWxlY3Rib3gnXSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgdGhpcy5hZGREZWZhdWx0SXRlbXMoKTtcblxuICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKChzZW5kZXI6IFBsYXliYWNrU3BlZWRTZWxlY3RCb3gsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgIHBsYXllci5zZXRQbGF5YmFja1NwZWVkKHBhcnNlRmxvYXQodmFsdWUpKTtcbiAgICAgIHRoaXMuc2VsZWN0SXRlbSh2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzZXREZWZhdWx0VmFsdWUgPSAoKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBwbGF5YmFja1NwZWVkID0gcGxheWVyLmdldFBsYXliYWNrU3BlZWQoKTtcbiAgICAgIHRoaXMuc2V0U3BlZWQocGxheWJhY2tTcGVlZCk7XG4gICAgfTtcblxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5YmFja1NwZWVkQ2hhbmdlZCwgc2V0RGVmYXVsdFZhbHVlKTtcbiAgICB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZXZlbnRzLm9uVXBkYXRlZC5zdWJzY3JpYmUoc2V0RGVmYXVsdFZhbHVlKTtcbiAgfVxuXG4gIHNldFNwZWVkKHNwZWVkOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc2VsZWN0SXRlbShTdHJpbmcoc3BlZWQpKSkge1xuICAgICAgLy8gYSBwbGF5YmFjayBzcGVlZCB3YXMgc2V0IHdoaWNoIGlzIG5vdCBpbiB0aGUgbGlzdCwgYWRkIGl0IHRvIHRoZSBsaXN0IHRvIHNob3cgaXQgdG8gdGhlIHVzZXJcbiAgICAgIHRoaXMuY2xlYXJJdGVtcygpO1xuICAgICAgdGhpcy5hZGREZWZhdWx0SXRlbXMoW3NwZWVkXSk7XG4gICAgICB0aGlzLnNlbGVjdEl0ZW0oU3RyaW5nKHNwZWVkKSk7XG4gICAgfVxuICB9XG5cbiAgYWRkRGVmYXVsdEl0ZW1zKGN1c3RvbUl0ZW1zOiBudW1iZXJbXSA9IFtdKTogdm9pZCB7XG4gICAgY29uc3Qgc29ydGVkU3BlZWRzID0gdGhpcy5kZWZhdWx0UGxheWJhY2tTcGVlZHMuY29uY2F0KGN1c3RvbUl0ZW1zKS5zb3J0KCk7XG5cbiAgICBzb3J0ZWRTcGVlZHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChlbGVtZW50ICE9PSAxKSB7XG4gICAgICAgIHRoaXMuYWRkSXRlbShTdHJpbmcoZWxlbWVudCksIGAke2VsZW1lbnR9eGApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRJdGVtKFN0cmluZyhlbGVtZW50KSwgaTE4bi5nZXRMb2NhbGl6ZXIoJ25vcm1hbCcpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFySXRlbXMoKTogdm9pZCB7XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcbiAgfVxufSIsImltcG9ydCB7TGFiZWxDb25maWcsIExhYmVsfSBmcm9tICcuL2xhYmVsJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgTGl2ZVN0cmVhbURldGVjdG9yRXZlbnRBcmdzID0gUGxheWVyVXRpbHMuTGl2ZVN0cmVhbURldGVjdG9yRXZlbnRBcmdzO1xuaW1wb3J0IHtQbGF5ZXJVdGlsc30gZnJvbSAnLi4vcGxheWVydXRpbHMnO1xuaW1wb3J0IHtTdHJpbmdVdGlsc30gZnJvbSAnLi4vc3RyaW5ndXRpbHMnO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbmV4cG9ydCBlbnVtIFBsYXliYWNrVGltZUxhYmVsTW9kZSB7XG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgY3VycmVudCB0aW1lXG4gICAqL1xuICBDdXJyZW50VGltZSxcbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBkdXJhdGlvbiBvZiB0aGUgY29udGVudFxuICAgKi9cbiAgVG90YWxUaW1lLFxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGN1cnJlbnQgdGltZSBhbmQgdGhlIGR1cmF0aW9uIG9mIHRoZSBjb250ZW50XG4gICAqIEZvcm1hdDogJHtjdXJyZW50VGltZX0gLyAke3RvdGFsVGltZX1cbiAgICovXG4gIEN1cnJlbnRBbmRUb3RhbFRpbWUsXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgcmVtYWluaW5nIHRpbWUgb2YgdGhlIGNvbnRlbnRcbiAgICovXG4gIFJlbWFpbmluZ1RpbWUsXG59XG5cbi8qKlxuICogQGNhdGVnb3J5IENvbmZpZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQbGF5YmFja1RpbWVMYWJlbENvbmZpZyBleHRlbmRzIExhYmVsQ29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHdoaWNoIHRpbWUgc2hvdWxkIGJlIGRpc3BsYXllZCBpbiB0aGUgbGFiZWwuXG4gICAqIERlZmF1bHQ6IFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50QW5kVG90YWxUaW1lXG4gICAqL1xuICB0aW1lTGFiZWxNb2RlPzogUGxheWJhY2tUaW1lTGFiZWxNb2RlO1xuICAvKipcbiAgICogQm9vbGVhbiBpZiB0aGUgbGFiZWwgc2hvdWxkIGJlIGhpZGRlbiBpbiBsaXZlIHBsYXliYWNrXG4gICAqL1xuICBoaWRlSW5MaXZlUGxheWJhY2s/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEEgbGFiZWwgdGhhdCBkaXNwbGF5IHRoZSBjdXJyZW50IHBsYXliYWNrIHRpbWUgYW5kIHRoZSB0b3RhbCB0aW1lIHRocm91Z2gge0BsaW5rIFBsYXliYWNrVGltZUxhYmVsI3NldFRpbWUgc2V0VGltZX1cbiAqIG9yIGFueSBzdHJpbmcgdGhyb3VnaCB7QGxpbmsgUGxheWJhY2tUaW1lTGFiZWwjc2V0VGV4dCBzZXRUZXh0fS5cbiAqXG4gKiBAY2F0ZWdvcnkgTGFiZWxzXG4gKi9cbmV4cG9ydCBjbGFzcyBQbGF5YmFja1RpbWVMYWJlbCBleHRlbmRzIExhYmVsPFBsYXliYWNrVGltZUxhYmVsQ29uZmlnPiB7XG5cbiAgcHJpdmF0ZSB0aW1lRm9ybWF0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBQbGF5YmFja1RpbWVMYWJlbENvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIDxQbGF5YmFja1RpbWVMYWJlbENvbmZpZz57XG4gICAgICBjc3NDbGFzczogJ3VpLXBsYXliYWNrdGltZWxhYmVsJyxcbiAgICAgIHRpbWVMYWJlbE1vZGU6IFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50QW5kVG90YWxUaW1lLFxuICAgICAgaGlkZUluTGl2ZVBsYXliYWNrOiBmYWxzZSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgbGV0IGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XG4gICAgbGV0IGxpdmUgPSBmYWxzZTtcbiAgICBsZXQgbGl2ZUNzc0NsYXNzID0gdGhpcy5wcmVmaXhDc3MoJ3VpLXBsYXliYWNrdGltZWxhYmVsLWxpdmUnKTtcbiAgICBsZXQgbGl2ZUVkZ2VDc3NDbGFzcyA9IHRoaXMucHJlZml4Q3NzKCd1aS1wbGF5YmFja3RpbWVsYWJlbC1saXZlLWVkZ2UnKTtcbiAgICBsZXQgbWluV2lkdGggPSAwO1xuXG4gICAgbGV0IGxpdmVDbGlja0hhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBwbGF5ZXIudGltZVNoaWZ0KDApO1xuICAgIH07XG5cbiAgICBsZXQgdXBkYXRlTGl2ZVN0YXRlID0gKCkgPT4ge1xuICAgICAgLy8gUGxheWVyIGlzIHBsYXlpbmcgYSBsaXZlIHN0cmVhbSB3aGVuIHRoZSBkdXJhdGlvbiBpcyBpbmZpbml0ZVxuICAgICAgbGl2ZSA9IHBsYXllci5pc0xpdmUoKTtcblxuICAgICAgLy8gQXR0YWNoL2RldGFjaCBsaXZlIG1hcmtlciBjbGFzc1xuICAgICAgaWYgKGxpdmUpIHtcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MobGl2ZUNzc0NsYXNzKTtcbiAgICAgICAgdGhpcy5zZXRUZXh0KGkxOG4uZ2V0TG9jYWxpemVyKCdsaXZlJykpO1xuICAgICAgICBpZiAoY29uZmlnLmhpZGVJbkxpdmVQbGF5YmFjaykge1xuICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUobGl2ZUNsaWNrSGFuZGxlcik7XG4gICAgICAgIHVwZGF0ZUxpdmVUaW1lc2hpZnRTdGF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MobGl2ZUNzc0NsYXNzKTtcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MobGl2ZUVkZ2VDc3NDbGFzcyk7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICB0aGlzLm9uQ2xpY2sudW5zdWJzY3JpYmUobGl2ZUNsaWNrSGFuZGxlcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxldCB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWxpdmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgcGxheWVyIGlzIG9ubHkgYXQgdGhlIGxpdmUgZWRnZSBpZmYgdGhlIHN0cmVhbSBpcyBub3Qgc2hpZnRlZCBhbmQgaXQgaXMgYWN0dWFsbHkgcGxheWluZyBvciBwbGF5YmFjayBoYXNcbiAgICAgIC8vIG5ldmVyIGJlZW4gc3RhcnRlZCAobWVhbmluZyBpdCBpc24ndCBwYXVzZWQpLiBBIHBsYXllciB0aGF0IGlzIHBhdXNlZCBpcyBhbHdheXMgYmVoaW5kIHRoZSBsaXZlIGVkZ2UuXG4gICAgICAvLyBBbiBleGNlcHRpb24gaXMgbWFkZSBmb3IgbGl2ZSBzdHJlYW1zIHdpdGhvdXQgYSB0aW1lc2hpZnQgd2luZG93LCBiZWNhdXNlIGhlcmUgd2UgXCJzdG9wXCIgcGxheWJhY2sgaW5zdGVhZFxuICAgICAgLy8gb2YgcGF1c2luZyBpdCAoZnJvbSBhIFVJIHBlcnNwZWN0aXZlKSwgc28gd2Uga2VlcCB0aGUgbGl2ZSBlZGdlIGluZGljYXRvciBvbiBiZWNhdXNlIGEgcGxheSB3b3VsZCBhbHdheXNcbiAgICAgIC8vIHJlc3VtZSBhdCB0aGUgbGl2ZSBlZGdlLlxuICAgICAgY29uc3QgaXNUaW1lc2hpZnRlZCA9IHBsYXllci5nZXRUaW1lU2hpZnQoKSA8IDA7XG4gICAgICBjb25zdCBpc1RpbWVzaGlmdEF2YWlsYWJsZSA9IHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA8IDA7XG4gICAgICBpZiAoIWlzVGltZXNoaWZ0ZWQgJiYgKCFwbGF5ZXIuaXNQYXVzZWQoKSB8fCAhaXNUaW1lc2hpZnRBdmFpbGFibGUpKSB7XG4gICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKGxpdmVFZGdlQ3NzQ2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MobGl2ZUVkZ2VDc3NDbGFzcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxldCBsaXZlU3RyZWFtRGV0ZWN0b3IgPSBuZXcgUGxheWVyVXRpbHMuTGl2ZVN0cmVhbURldGVjdG9yKHBsYXllciwgdWltYW5hZ2VyKTtcbiAgICBsaXZlU3RyZWFtRGV0ZWN0b3Iub25MaXZlQ2hhbmdlZC5zdWJzY3JpYmUoKHNlbmRlciwgYXJnczogTGl2ZVN0cmVhbURldGVjdG9yRXZlbnRBcmdzKSA9PiB7XG4gICAgICBsaXZlID0gYXJncy5saXZlO1xuICAgICAgdXBkYXRlTGl2ZVN0YXRlKCk7XG4gICAgfSk7XG4gICAgbGl2ZVN0cmVhbURldGVjdG9yLmRldGVjdCgpOyAvLyBJbml0aWFsIGRldGVjdGlvblxuXG4gICAgbGV0IHBsYXliYWNrVGltZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWxpdmUgJiYgcGxheWVyLmdldER1cmF0aW9uKCkgIT09IEluZmluaXR5KSB7XG4gICAgICAgIHRoaXMuc2V0VGltZShcbiAgICAgICAgICBQbGF5ZXJVdGlscy5nZXRDdXJyZW50VGltZVJlbGF0aXZlVG9TZWVrYWJsZVJhbmdlKHBsYXllciksXG4gICAgICAgICAgcGxheWVyLmdldER1cmF0aW9uKCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCAnanVtcGluZycgaW4gdGhlIFVJIGJ5IHZhcnlpbmcgbGFiZWwgc2l6ZXMgZHVlIHRvIG5vbi1tb25vc3BhY2VkIGZvbnRzLFxuICAgICAgLy8gd2UgZ3JhZHVhbGx5IGluY3JlYXNlIHRoZSBtaW4td2lkdGggd2l0aCB0aGUgY29udGVudCB0byByZWFjaCBhIHN0YWJsZSBzaXplLlxuICAgICAgbGV0IHdpZHRoID0gdGhpcy5nZXREb21FbGVtZW50KCkud2lkdGgoKTtcbiAgICAgIGlmICh3aWR0aCA+IG1pbldpZHRoKSB7XG4gICAgICAgIG1pbldpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmNzcyh7XG4gICAgICAgICAgJ21pbi13aWR0aCc6IG1pbldpZHRoICsgJ3B4JyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxldCB1cGRhdGVUaW1lRm9ybWF0QmFzZWRPbkR1cmF0aW9uID0gKCkgPT4ge1xuICAgICAgLy8gU2V0IHRpbWUgZm9ybWF0IGRlcGVuZGluZyBvbiBzb3VyY2UgZHVyYXRpb25cbiAgICAgIHRoaXMudGltZUZvcm1hdCA9IE1hdGguYWJzKHBsYXllci5pc0xpdmUoKSA/IHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA6IHBsYXllci5nZXREdXJhdGlvbigpKSA+PSAzNjAwID9cbiAgICAgIFN0cmluZ1V0aWxzLkZPUk1BVF9ISE1NU1MgOiBTdHJpbmdVdGlscy5GT1JNQVRfTU1TUztcbiAgICAgIHBsYXliYWNrVGltZUhhbmRsZXIoKTtcbiAgICB9O1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlRpbWVDaGFuZ2VkLCBwbGF5YmFja1RpbWVIYW5kbGVyKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUmVhZHksIHVwZGF0ZVRpbWVGb3JtYXRCYXNlZE9uRHVyYXRpb24pO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TZWVrZWQsIHBsYXliYWNrVGltZUhhbmRsZXIpO1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlRpbWVTaGlmdCwgdXBkYXRlTGl2ZVRpbWVzaGlmdFN0YXRlKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuVGltZVNoaWZ0ZWQsIHVwZGF0ZUxpdmVUaW1lc2hpZnRTdGF0ZSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlBsYXlpbmcsIHVwZGF0ZUxpdmVUaW1lc2hpZnRTdGF0ZSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlBhdXNlZCwgdXBkYXRlTGl2ZVRpbWVzaGlmdFN0YXRlKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU3RhbGxTdGFydGVkLCB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TdGFsbEVuZGVkLCB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUpO1xuXG4gICAgbGV0IGluaXQgPSAoKSA9PiB7XG4gICAgICAvLyBSZXNldCBtaW4td2lkdGggd2hlbiBhIG5ldyBzb3VyY2UgaXMgcmVhZHkgKGVzcGVjaWFsbHkgZm9yIHN3aXRjaGluZyBWT0QvTGl2ZSBtb2RlcyB3aGVyZSB0aGUgbGFiZWwgY29udGVudFxuICAgICAgLy8gY2hhbmdlcylcbiAgICAgIG1pbldpZHRoID0gMDtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmNzcyh7XG4gICAgICAgICdtaW4td2lkdGgnOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIHVwZGF0ZVRpbWVGb3JtYXRCYXNlZE9uRHVyYXRpb24oKTtcbiAgICB9O1xuICAgIHVpbWFuYWdlci5nZXRDb25maWcoKS5ldmVudHMub25VcGRhdGVkLnN1YnNjcmliZShpbml0KTtcblxuICAgIGluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50IHBsYXliYWNrIHRpbWUgYW5kIHRvdGFsIGR1cmF0aW9uLlxuICAgKiBAcGFyYW0gcGxheWJhY2tTZWNvbmRzIHRoZSBjdXJyZW50IHBsYXliYWNrIHRpbWUgaW4gc2Vjb25kc1xuICAgKiBAcGFyYW0gZHVyYXRpb25TZWNvbmRzIHRoZSB0b3RhbCBkdXJhdGlvbiBpbiBzZWNvbmRzXG4gICAqL1xuICBzZXRUaW1lKHBsYXliYWNrU2Vjb25kczogbnVtYmVyLCBkdXJhdGlvblNlY29uZHM6IG51bWJlcikge1xuICAgIGxldCBjdXJyZW50VGltZSA9IFN0cmluZ1V0aWxzLnNlY29uZHNUb1RpbWUocGxheWJhY2tTZWNvbmRzLCB0aGlzLnRpbWVGb3JtYXQpO1xuICAgIGxldCB0b3RhbFRpbWUgPSBTdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKGR1cmF0aW9uU2Vjb25kcywgdGhpcy50aW1lRm9ybWF0KTtcblxuICAgIHN3aXRjaCAoKDxQbGF5YmFja1RpbWVMYWJlbENvbmZpZz50aGlzLmNvbmZpZykudGltZUxhYmVsTW9kZSkge1xuICAgICAgY2FzZSBQbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudFRpbWU6XG4gICAgICAgIHRoaXMuc2V0VGV4dChgJHtjdXJyZW50VGltZX1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBsYXliYWNrVGltZUxhYmVsTW9kZS5Ub3RhbFRpbWU6XG4gICAgICAgIHRoaXMuc2V0VGV4dChgJHt0b3RhbFRpbWV9YCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudEFuZFRvdGFsVGltZTpcbiAgICAgICAgdGhpcy5zZXRUZXh0KGAke2N1cnJlbnRUaW1lfSAvICR7dG90YWxUaW1lfWApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUGxheWJhY2tUaW1lTGFiZWxNb2RlLlJlbWFpbmluZ1RpbWU6XG4gICAgICAgIHRoaXMuc2V0VGV4dChgJHtTdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKGR1cmF0aW9uU2Vjb25kcyAtIHBsYXliYWNrU2Vjb25kcywgdGhpcy50aW1lRm9ybWF0KX1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGN1cnJlbnQgdGltZSBmb3JtYXRcbiAgICogQHBhcmFtIHRpbWVGb3JtYXQgdGhlIHRpbWUgZm9ybWF0XG4gICAqL1xuICBwcm90ZWN0ZWQgc2V0VGltZUZvcm1hdCh0aW1lRm9ybWF0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnRpbWVGb3JtYXQgPSB0aW1lRm9ybWF0O1xuICB9XG59XG4iLCJpbXBvcnQge1RvZ2dsZUJ1dHRvbiwgVG9nZ2xlQnV0dG9uQ29uZmlnfSBmcm9tICcuL3RvZ2dsZWJ1dHRvbic7XG5pbXBvcnQge1VJSW5zdGFuY2VNYW5hZ2VyfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHtQbGF5ZXJVdGlsc30gZnJvbSAnLi4vcGxheWVydXRpbHMnO1xuaW1wb3J0IHsgUGxheWVyQVBJLCBXYXJuaW5nRXZlbnQgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBAY2F0ZWdvcnkgQ29uZmlnc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFBsYXliYWNrVG9nZ2xlQnV0dG9uQ29uZmlnIGV4dGVuZHMgVG9nZ2xlQnV0dG9uQ29uZmlnIHtcbiAgLyoqXG4gICAqIFNwZWNpZnkgd2hldGhlciB0aGUgcGxheWVyIHNob3VsZCBiZSBzZXQgdG8gZW50ZXIgZnVsbHNjcmVlbiBieSBjbGlja2luZyBvbiB0aGUgcGxheWJhY2sgdG9nZ2xlIGJ1dHRvblxuICAgKiB3aGVuIGluaXRpYXRpbmcgdGhlIGluaXRpYWwgcGxheWJhY2suXG4gICAqIERlZmF1bHQgaXMgZmFsc2UuXG4gICAqL1xuICBlbnRlckZ1bGxzY3JlZW5PbkluaXRpYWxQbGF5YmFjaz86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIGJldHdlZW4gcGxheWJhY2sgYW5kIHBhdXNlLlxuICpcbiAqIEBjYXRlZ29yeSBCdXR0b25zXG4gKi9cbmV4cG9ydCBjbGFzcyBQbGF5YmFja1RvZ2dsZUJ1dHRvbiBleHRlbmRzIFRvZ2dsZUJ1dHRvbjxQbGF5YmFja1RvZ2dsZUJ1dHRvbkNvbmZpZz4ge1xuXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENMQVNTX1NUT1BUT0dHTEUgPSAnc3RvcHRvZ2dsZSc7XG4gIHByb3RlY3RlZCBpc1BsYXlJbml0aWF0ZWQ6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBQbGF5YmFja1RvZ2dsZUJ1dHRvbkNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktcGxheWJhY2t0b2dnbGVidXR0b24nLFxuICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ3BsYXknKSxcbiAgICAgIG9uQXJpYUxhYmVsOiBpMThuLmdldExvY2FsaXplcigncGF1c2UnKSxcbiAgICAgIG9mZkFyaWFMYWJlbDogaTE4bi5nZXRMb2NhbGl6ZXIoJ3BsYXknKSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG5cbiAgICB0aGlzLmlzUGxheUluaXRpYXRlZCA9IGZhbHNlO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyLCBoYW5kbGVDbGlja0V2ZW50OiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICAvLyBTZXQgZW50ZXJGdWxsc2NyZWVuT25Jbml0aWFsUGxheWJhY2sgaWYgc2V0IGluIHRoZSB1aW1hbmFnZXIgY29uZmlnXG4gICAgaWYgKHR5cGVvZiB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZW50ZXJGdWxsc2NyZWVuT25Jbml0aWFsUGxheWJhY2sgPT09ICdib29sZWFuJykge1xuICAgICAgdGhpcy5jb25maWcuZW50ZXJGdWxsc2NyZWVuT25Jbml0aWFsUGxheWJhY2sgPSB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZW50ZXJGdWxsc2NyZWVuT25Jbml0aWFsUGxheWJhY2s7XG4gICAgfVxuXG4gICAgbGV0IGlzU2Vla2luZyA9IGZhbHNlO1xuICAgIGxldCBmaXJzdFBsYXkgPSB0cnVlO1xuXG4gICAgLy8gSGFuZGxlciB0byB1cGRhdGUgYnV0dG9uIHN0YXRlIGJhc2VkIG9uIHBsYXllciBzdGF0ZVxuICAgIGxldCBwbGF5YmFja1N0YXRlSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIC8vIElmIHRoZSBVSSBpcyBjdXJyZW50bHkgc2Vla2luZywgcGxheWJhY2sgaXMgdGVtcG9yYXJpbHkgc3RvcHBlZCBidXQgdGhlIGJ1dHRvbnMgc2hvdWxkXG4gICAgICAvLyBub3QgcmVmbGVjdCB0aGF0IGFuZCBzdGF5IGFzLWlzIChlLmcgaW5kaWNhdGUgcGxheWJhY2sgd2hpbGUgc2Vla2luZykuXG4gICAgICBpZiAoaXNTZWVraW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSB8fCB0aGlzLmlzUGxheUluaXRpYXRlZCkge1xuICAgICAgICB0aGlzLm9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9mZigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDYWxsIGhhbmRsZXIgdXBvbiB0aGVzZSBldmVudHNcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheSwgKGUpID0+IHtcbiAgICAgIHRoaXMuaXNQbGF5SW5pdGlhdGVkID0gdHJ1ZTtcbiAgICAgIGZpcnN0UGxheSA9IGZhbHNlO1xuICAgICAgcGxheWJhY2tTdGF0ZUhhbmRsZXIoKTtcbiAgICB9KTtcblxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QYXVzZWQsIChlKSA9PiB7XG4gICAgICB0aGlzLmlzUGxheUluaXRpYXRlZCA9IGZhbHNlO1xuICAgICAgcGxheWJhY2tTdGF0ZUhhbmRsZXIoKTtcbiAgICB9KTtcblxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5aW5nLCAoZSkgPT4ge1xuICAgICAgdGhpcy5pc1BsYXlJbml0aWF0ZWQgPSBmYWxzZTtcbiAgICAgIHBsYXliYWNrU3RhdGVIYW5kbGVyKCk7XG4gICAgfSk7XG4gICAgLy8gYWZ0ZXIgdW5sb2FkaW5nICsgbG9hZGluZyBhIG5ldyBzb3VyY2UsIHRoZSBwbGF5ZXIgbWlnaHQgYmUgaW4gYSBkaWZmZXJlbnQgcGxheWluZyBzdGF0ZSAoZnJvbSBwbGF5aW5nIGludG8gc3RvcHBlZClcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU291cmNlTG9hZGVkLCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XG4gICAgdWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQuc3Vic2NyaWJlKHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU291cmNlVW5sb2FkZWQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcbiAgICAvLyB3aGVuIHBsYXliYWNrIGZpbmlzaGVzLCBwbGF5ZXIgdHVybnMgdG8gcGF1c2VkIG1vZGVcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheWJhY2tGaW5pc2hlZCwgcGxheWJhY2tTdGF0ZUhhbmRsZXIpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5DYXN0U3RhcnRlZCwgcGxheWJhY2tTdGF0ZUhhbmRsZXIpO1xuXG4gICAgLy8gV2hlbiBhIHBsYXliYWNrIGF0dGVtcHQgaXMgcmVqZWN0ZWQgd2l0aCB3YXJuaW5nIDUwMDgsIHdlIHN3aXRjaCB0aGUgYnV0dG9uIHN0YXRlIGJhY2sgdG8gb2ZmXG4gICAgLy8gVGhpcyBpcyByZXF1aXJlZCBmb3IgYmxvY2tlZCBhdXRvcGxheSwgYmVjYXVzZSB0aGVyZSBpcyBubyBQYXVzZWQgZXZlbnQgaW4gc3VjaCBjYXNlXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50Lldhcm5pbmcsIChldmVudDogV2FybmluZ0V2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuY29kZSA9PT0gcGxheWVyLmV4cG9ydHMuV2FybmluZ0NvZGUuUExBWUJBQ0tfQ09VTERfTk9UX0JFX1NUQVJURUQpIHtcbiAgICAgICAgdGhpcy5pc1BsYXlJbml0aWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgZmlyc3RQbGF5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vZmYoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHVwZGF0ZUxpdmVTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHNob3dTdG9wVG9nZ2xlID0gcGxheWVyLmlzTGl2ZSgpICYmICFQbGF5ZXJVdGlscy5pc1RpbWVTaGlmdEF2YWlsYWJsZShwbGF5ZXIpO1xuXG4gICAgICBpZiAoc2hvd1N0b3BUb2dnbGUpIHtcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoUGxheWJhY2tUb2dnbGVCdXR0b24uQ0xBU1NfU1RPUFRPR0dMRSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoUGxheWJhY2tUb2dnbGVCdXR0b24uQ0xBU1NfU1RPUFRPR0dMRSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBEZXRlY3QgYWJzZW5jZSBvZiB0aW1lc2hpZnRpbmcgb24gbGl2ZSBzdHJlYW1zIGFuZCBhZGQgdGFnZ2luZyBjbGFzcyB0byBjb252ZXJ0IGJ1dHRvbiBpY29ucyB0byBwbGF5L3N0b3BcbiAgICBsZXQgdGltZVNoaWZ0RGV0ZWN0b3IgPSBuZXcgUGxheWVyVXRpbHMuVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IocGxheWVyKTtcbiAgICBsZXQgbGl2ZVN0cmVhbURldGVjdG9yID0gbmV3IFBsYXllclV0aWxzLkxpdmVTdHJlYW1EZXRlY3RvcihwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICB0aW1lU2hpZnREZXRlY3Rvci5vblRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWQuc3Vic2NyaWJlKCgpID0+IHVwZGF0ZUxpdmVTdGF0ZSgpKTtcbiAgICBsaXZlU3RyZWFtRGV0ZWN0b3Iub25MaXZlQ2hhbmdlZC5zdWJzY3JpYmUoKCkgPT4gdXBkYXRlTGl2ZVN0YXRlKCkpO1xuXG4gICAgdGltZVNoaWZ0RGV0ZWN0b3IuZGV0ZWN0KCk7IC8vIEluaXRpYWwgZGV0ZWN0aW9uXG4gICAgbGl2ZVN0cmVhbURldGVjdG9yLmRldGVjdCgpO1xuXG4gICAgaWYgKGhhbmRsZUNsaWNrRXZlbnQpIHtcbiAgICAgIC8vIENvbnRyb2wgcGxheWVyIGJ5IGJ1dHRvbiBldmVudHNcbiAgICAgIC8vIFdoZW4gYSBidXR0b24gZXZlbnQgdHJpZ2dlcnMgYSBwbGF5ZXIgQVBJIGNhbGwsIGV2ZW50cyBhcmUgZmlyZWQgd2hpY2ggaW4gdHVybiBjYWxsIHRoZSBldmVudCBoYW5kbGVyXG4gICAgICAvLyBhYm92ZSB0aGF0IHVwZGF0ZWQgdGhlIGJ1dHRvbiBzdGF0ZS5cbiAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpIHx8IHRoaXMuaXNQbGF5SW5pdGlhdGVkKSB7XG4gICAgICAgICAgcGxheWVyLnBhdXNlKCd1aScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBsYXllci5wbGF5KCd1aScpO1xuXG4gICAgICAgICAgaWYgKGZpcnN0UGxheSAmJiB0aGlzLmNvbmZpZy5lbnRlckZ1bGxzY3JlZW5PbkluaXRpYWxQbGF5YmFjaykge1xuICAgICAgICAgICAgcGxheWVyLnNldFZpZXdNb2RlKHBsYXllci5leHBvcnRzLlZpZXdNb2RlLkZ1bGxzY3JlZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgVUkgc2Vla2luZyBzdGF0dXNcbiAgICB1aW1hbmFnZXIub25TZWVrLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICBpc1NlZWtpbmcgPSB0cnVlO1xuICAgIH0pO1xuICAgIHVpbWFuYWdlci5vblNlZWtlZC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgaXNTZWVraW5nID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBTdGFydHVwIGluaXRcbiAgICBwbGF5YmFja1N0YXRlSGFuZGxlcigpO1xuICB9XG59XG4iLCJpbXBvcnQge0NvbnRhaW5lciwgQ29udGFpbmVyQ29uZmlnfSBmcm9tICcuL2NvbnRhaW5lcic7XG5pbXBvcnQge0h1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbn0gZnJvbSAnLi9odWdlcGxheWJhY2t0b2dnbGVidXR0b24nO1xuXG4vKipcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGxheWJhY2tUb2dnbGVPdmVybGF5Q29uZmlnIGV4dGVuZHMgQ29udGFpbmVyQ29uZmlnIHtcbiAgLyoqXG4gICAqIFNwZWNpZnkgd2hldGhlciB0aGUgcGxheWVyIHNob3VsZCBiZSBzZXQgdG8gZW50ZXIgZnVsbHNjcmVlbiBieSBjbGlja2luZyBvbiB0aGUgcGxheWJhY2sgdG9nZ2xlIGJ1dHRvblxuICAgKiB3aGVuIGluaXRpYXRpbmcgdGhlIGluaXRpYWwgcGxheWJhY2suXG4gICAqIERlZmF1bHQgaXMgZmFsc2UuXG4gICAqL1xuICBlbnRlckZ1bGxzY3JlZW5PbkluaXRpYWxQbGF5YmFjaz86IGJvb2xlYW47XG59XG5cbi8qKlxuICogT3ZlcmxheXMgdGhlIHBsYXllciBhbmQgZGlzcGxheXMgZXJyb3IgbWVzc2FnZXMuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFBsYXliYWNrVG9nZ2xlT3ZlcmxheSBleHRlbmRzIENvbnRhaW5lcjxQbGF5YmFja1RvZ2dsZU92ZXJsYXlDb25maWc+IHtcblxuICBwcml2YXRlIHBsYXliYWNrVG9nZ2xlQnV0dG9uOiBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b247XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBQbGF5YmFja1RvZ2dsZU92ZXJsYXlDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLnBsYXliYWNrVG9nZ2xlQnV0dG9uID0gbmV3IEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbih7XG4gICAgICBlbnRlckZ1bGxzY3JlZW5PbkluaXRpYWxQbGF5YmFjazogQm9vbGVhbihjb25maWcuZW50ZXJGdWxsc2NyZWVuT25Jbml0aWFsUGxheWJhY2spLFxuICAgIH0pO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS1wbGF5YmFja3RvZ2dsZS1vdmVybGF5JyxcbiAgICAgIGNvbXBvbmVudHM6IFt0aGlzLnBsYXliYWNrVG9nZ2xlQnV0dG9uXSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cbn0iLCJpbXBvcnQgeyBCdXR0b24sIEJ1dHRvbkNvbmZpZyB9IGZyb20gJy4vYnV0dG9uJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5pbXBvcnQgeyBQbGF5ZXJBUEksIFNlZWtFdmVudCwgVGltZVNoaWZ0RXZlbnQgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyVXRpbHMgfSBmcm9tICcuLi9wbGF5ZXJ1dGlscyc7XG5cbi8qKlxuICogQGNhdGVnb3J5IENvbmZpZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWlja1NlZWtCdXR0b25Db25maWcgZXh0ZW5kcyBCdXR0b25Db25maWcge1xuICAvKipcbiAgICogU3BlY2lmeSBob3cgbWFueSBzZWNvbmRzIHRoZSBwbGF5ZXIgc2hvdWxkIHNlZWsgZm9yd2FyZC9iYWNrd2FyZHMgaW4gdGhlIHN0cmVhbS5cbiAgICogTmVnYXRpdmUgdmFsdWVzIG1lYW4gYSBiYWNrd2FyZHMgc2VlaywgcG9zaXRpdmUgdmFsdWVzIG1lYW4gYSBmb3J3YXJkIHNlZWsuXG4gICAqIERlZmF1bHQgaXMgLTEwLlxuICAgKi9cbiAgc2Vla1NlY29uZHM/OiBudW1iZXI7XG59XG5cbi8qKlxuICogQGNhdGVnb3J5IEJ1dHRvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIFF1aWNrU2Vla0J1dHRvbiBleHRlbmRzIEJ1dHRvbjxRdWlja1NlZWtCdXR0b25Db25maWc+IHtcbiAgcHJpdmF0ZSBjdXJyZW50U2Vla1RhcmdldDogbnVtYmVyIHwgbnVsbDtcbiAgcHJpdmF0ZSBwbGF5ZXI6IFBsYXllckFQSTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFF1aWNrU2Vla0J1dHRvbkNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcbiAgICB0aGlzLmN1cnJlbnRTZWVrVGFyZ2V0ID0gbnVsbDtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhcbiAgICAgIGNvbmZpZyxcbiAgICAgIHtcbiAgICAgICAgc2Vla1NlY29uZHM6IC0xMCxcbiAgICAgICAgY3NzQ2xhc3M6ICd1aS1xdWlja3NlZWtidXR0b24nLFxuICAgICAgfSxcbiAgICAgIHRoaXMuY29uZmlnLFxuICAgICk7XG5cbiAgICBjb25zdCBzZWVrRGlyZWN0aW9uID0gdGhpcy5jb25maWcuc2Vla1NlY29uZHMgPCAwID8gJ3Jld2luZCcgOiAnZm9yd2FyZCc7XG5cbiAgICB0aGlzLmNvbmZpZy50ZXh0ID0gdGhpcy5jb25maWcudGV4dCB8fCBpMThuLmdldExvY2FsaXplcihgcXVpY2tzZWVrLiR7c2Vla0RpcmVjdGlvbn1gKTtcbiAgICB0aGlzLmNvbmZpZy5hcmlhTGFiZWwgPSB0aGlzLmNvbmZpZy5hcmlhTGFiZWwgfHwgaTE4bi5nZXRMb2NhbGl6ZXIoYHF1aWNrc2Vlay4ke3NlZWtEaXJlY3Rpb259YCk7XG5cbiAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5kYXRhKHRoaXMucHJlZml4Q3NzKCdzZWVrLWRpcmVjdGlvbicpLCBzZWVrRGlyZWN0aW9uKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG5cbiAgICBsZXQgaXNMaXZlOiBib29sZWFuO1xuICAgIGxldCBoYXNUaW1lU2hpZnQ6IGJvb2xlYW47XG5cbiAgICBjb25zdCBzd2l0Y2hWaXNpYmlsaXR5ID0gKGlzTGl2ZTogYm9vbGVhbiwgaGFzVGltZVNoaWZ0OiBib29sZWFuKSA9PiB7XG4gICAgICBpZiAoaXNMaXZlICYmICFoYXNUaW1lU2hpZnQpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdGltZVNoaWZ0RGV0ZWN0b3IgPSBuZXcgUGxheWVyVXRpbHMuVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IocGxheWVyKTtcbiAgICB0aW1lU2hpZnREZXRlY3Rvci5vblRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWQuc3Vic2NyaWJlKFxuICAgICAgKHNlbmRlciwgYXJnczogUGxheWVyVXRpbHMuVGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZEFyZ3MpID0+IHtcbiAgICAgICAgaGFzVGltZVNoaWZ0ID0gYXJncy50aW1lU2hpZnRBdmFpbGFibGU7XG4gICAgICAgIHN3aXRjaFZpc2liaWxpdHkoaXNMaXZlLCBoYXNUaW1lU2hpZnQpO1xuICAgICAgfSxcbiAgICApO1xuXG4gICAgbGV0IGxpdmVTdHJlYW1EZXRlY3RvciA9IG5ldyBQbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3IocGxheWVyLCB1aW1hbmFnZXIpO1xuICAgIGxpdmVTdHJlYW1EZXRlY3Rvci5vbkxpdmVDaGFuZ2VkLnN1YnNjcmliZSgoc2VuZGVyLCBhcmdzOiBQbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3JFdmVudEFyZ3MpID0+IHtcbiAgICAgIGlzTGl2ZSA9IGFyZ3MubGl2ZTtcbiAgICAgIHN3aXRjaFZpc2liaWxpdHkoaXNMaXZlLCBoYXNUaW1lU2hpZnQpO1xuICAgIH0pO1xuXG4gICAgLy8gSW5pdGlhbCBkZXRlY3Rpb25cbiAgICB0aW1lU2hpZnREZXRlY3Rvci5kZXRlY3QoKTtcbiAgICBsaXZlU3RyZWFtRGV0ZWN0b3IuZGV0ZWN0KCk7XG5cbiAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIGlmIChpc0xpdmUgJiYgIWhhc1RpbWVTaGlmdCkge1xuICAgICAgICAvLyBJZiBubyBEVlIgd2luZG93IGlzIGF2YWlsYWJsZSwgdGhlIGJ1dHRvbiBzaG91bGQgYmUgaGlkZGVuIGFueXdheSwgc28gdGhpcyBpcyB0byBiZSBhYnNvbHV0ZWx5IHN1cmVcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNMaXZlICYmIHRoaXMuY29uZmlnLnNlZWtTZWNvbmRzID4gMCAmJiBwbGF5ZXIuZ2V0VGltZVNoaWZ0KCkgPT09IDApIHtcbiAgICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgdGhlIHBsYXllciBpcyBhbHJlYWR5IG9uIHRoZSBsaXZlIGVkZ2VcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPVxuICAgICAgICB0aGlzLmN1cnJlbnRTZWVrVGFyZ2V0ICE9PSBudWxsXG4gICAgICAgICAgPyB0aGlzLmN1cnJlbnRTZWVrVGFyZ2V0XG4gICAgICAgICAgOiBpc0xpdmVcbiAgICAgICAgICAgID8gcGxheWVyLmdldFRpbWVTaGlmdCgpXG4gICAgICAgICAgICA6IHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xuXG4gICAgICBjb25zdCBuZXdTZWVrVGltZSA9IGN1cnJlbnRQb3NpdGlvbiArIHRoaXMuY29uZmlnLnNlZWtTZWNvbmRzO1xuXG4gICAgICBpZiAoaXNMaXZlKSB7XG4gICAgICAgIGNvbnN0IGNsYW1wZWRWYWx1ZSA9IFBsYXllclV0aWxzLmNsYW1wVmFsdWVUb1JhbmdlKG5ld1NlZWtUaW1lLCBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCksIDApO1xuICAgICAgICBwbGF5ZXIudGltZVNoaWZ0KGNsYW1wZWRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjbGFtcGVkVmFsdWUgPSBQbGF5ZXJVdGlscy5jbGFtcFZhbHVlVG9SYW5nZShuZXdTZWVrVGltZSwgMCwgcGxheWVyLmdldER1cmF0aW9uKCkpO1xuICAgICAgICBwbGF5ZXIuc2VlayhjbGFtcGVkVmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TZWVrLCB0aGlzLm9uU2Vlayk7XG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TZWVrZWQsIHRoaXMub25TZWVrZWRPclRpbWVTaGlmdGVkKTtcbiAgICB0aGlzLnBsYXllci5vbih0aGlzLnBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlRpbWVTaGlmdCwgdGhpcy5vblRpbWVTaGlmdCk7XG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5UaW1lU2hpZnRlZCwgdGhpcy5vblNlZWtlZE9yVGltZVNoaWZ0ZWQpO1xuICB9XG5cbiAgcHJpdmF0ZSBvblNlZWsgPSAoZXZlbnQ6IFNlZWtFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuY3VycmVudFNlZWtUYXJnZXQgPSBldmVudC5zZWVrVGFyZ2V0O1xuICB9O1xuXG4gIHByaXZhdGUgb25TZWVrZWRPclRpbWVTaGlmdGVkID0gKCkgPT4ge1xuICAgIHRoaXMuY3VycmVudFNlZWtUYXJnZXQgPSBudWxsO1xuICB9O1xuXG4gIHByaXZhdGUgb25UaW1lU2hpZnQgPSAoZXZlbnQ6IFRpbWVTaGlmdEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5jdXJyZW50U2Vla1RhcmdldCA9IHRoaXMucGxheWVyLmdldFRpbWVTaGlmdCgpICsgKGV2ZW50LnRhcmdldCAtIGV2ZW50LnBvc2l0aW9uKTtcbiAgfVxuXG4gIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgdGhpcy5wbGF5ZXIub2ZmKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU2VlaywgdGhpcy5vblNlZWspO1xuICAgIHRoaXMucGxheWVyLm9mZih0aGlzLnBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNlZWtlZCwgdGhpcy5vblNlZWtlZE9yVGltZVNoaWZ0ZWQpO1xuICAgIHRoaXMucGxheWVyLm9mZih0aGlzLnBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlRpbWVTaGlmdCwgdGhpcy5vblRpbWVTaGlmdCk7XG4gICAgdGhpcy5wbGF5ZXIub2ZmKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuVGltZVNoaWZ0ZWQsIHRoaXMub25TZWVrZWRPclRpbWVTaGlmdGVkKTtcbiAgICB0aGlzLmN1cnJlbnRTZWVrVGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnBsYXllciA9IG51bGw7XG4gIH1cbn1cbiIsImltcG9ydCB7Q29udGFpbmVyQ29uZmlnLCBDb250YWluZXJ9IGZyb20gJy4vY29udGFpbmVyJztcbmltcG9ydCB7Q29tcG9uZW50LCBDb21wb25lbnRDb25maWd9IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7RE9NfSBmcm9tICcuLi9kb20nO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7U3RyaW5nVXRpbHN9IGZyb20gJy4uL3N0cmluZ3V0aWxzJztcbmltcG9ydCB7SHVnZVJlcGxheUJ1dHRvbn0gZnJvbSAnLi9odWdlcmVwbGF5YnV0dG9uJztcbmltcG9ydCB7IFVJUmVjb21tZW5kYXRpb25Db25maWcgfSBmcm9tICcuLi91aWNvbmZpZyc7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuXG4vKipcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIHJlY29tbWVuZGVkIHZpZGVvcy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29udGFpbmVyc1xuICovXG5leHBvcnQgY2xhc3MgUmVjb21tZW5kYXRpb25PdmVybGF5IGV4dGVuZHMgQ29udGFpbmVyPENvbnRhaW5lckNvbmZpZz4ge1xuXG4gIHByaXZhdGUgcmVwbGF5QnV0dG9uOiBIdWdlUmVwbGF5QnV0dG9uO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29udGFpbmVyQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5yZXBsYXlCdXR0b24gPSBuZXcgSHVnZVJlcGxheUJ1dHRvbigpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS1yZWNvbW1lbmRhdGlvbi1vdmVybGF5JyxcbiAgICAgIGhpZGRlbjogdHJ1ZSxcbiAgICAgIGNvbXBvbmVudHM6IFt0aGlzLnJlcGxheUJ1dHRvbl0sXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIGxldCBjbGVhclJlY29tbWVuZGF0aW9ucyA9ICgpID0+IHtcbiAgICAgIGZvciAobGV0IGNvbXBvbmVudCBvZiB0aGlzLmdldENvbXBvbmVudHMoKS5zbGljZSgpKSB7XG4gICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBSZWNvbW1lbmRhdGlvbkl0ZW0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUNvbXBvbmVudChjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKCdyZWNvbW1lbmRhdGlvbnMnKSk7XG4gICAgfTtcblxuICAgIGxldCBzZXR1cFJlY29tbWVuZGF0aW9ucyA9ICgpID0+IHtcbiAgICAgIGNsZWFyUmVjb21tZW5kYXRpb25zKCk7XG5cbiAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IHVpbWFuYWdlci5nZXRDb25maWcoKS5yZWNvbW1lbmRhdGlvbnM7XG5cbiAgICAgIGlmIChyZWNvbW1lbmRhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgaW5kZXggPSAxO1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHJlY29tbWVuZGF0aW9ucykge1xuICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KG5ldyBSZWNvbW1lbmRhdGlvbkl0ZW0oe1xuICAgICAgICAgICAgaXRlbUNvbmZpZzogaXRlbSxcbiAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsncmVjb21tZW5kYXRpb24taXRlbS0nICsgKGluZGV4KyspXSxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7IC8vIGNyZWF0ZSBjb250YWluZXIgRE9NIGVsZW1lbnRzXG5cbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoJ3JlY29tbWVuZGF0aW9ucycpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQuc3Vic2NyaWJlKHNldHVwUmVjb21tZW5kYXRpb25zKTtcbiAgICAvLyBSZW1vdmUgcmVjb21tZW5kYXRpb25zIGFuZCBoaWRlIG92ZXJsYXkgd2hlbiBzb3VyY2UgaXMgdW5sb2FkZWRcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU291cmNlVW5sb2FkZWQsICgpID0+IHtcbiAgICAgIGNsZWFyUmVjb21tZW5kYXRpb25zKCk7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9KTtcbiAgICAvLyBEaXNwbGF5IHJlY29tbWVuZGF0aW9ucyB3aGVuIHBsYXliYWNrIGhhcyBmaW5pc2hlZFxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5YmFja0ZpbmlzaGVkLCAoKSA9PiB7XG4gICAgICB0aGlzLnNob3coKTtcbiAgICB9KTtcbiAgICAvLyBIaWRlIHJlY29tbWVuZGF0aW9ucyB3aGVuIHBsYXliYWNrIHN0YXJ0cywgZS5nLiBhIHJlc3RhcnRcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheSwgKCkgPT4ge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBJbml0IG9uIHN0YXJ0dXBcbiAgICBzZXR1cFJlY29tbWVuZGF0aW9ucygpO1xuICB9XG59XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBpbnRlcmZhY2UgZm9yIHRoZSB7QGxpbmsgUmVjb21tZW5kYXRpb25JdGVtfVxuICovXG5pbnRlcmZhY2UgUmVjb21tZW5kYXRpb25JdGVtQ29uZmlnIGV4dGVuZHMgQ29tcG9uZW50Q29uZmlnIHtcbiAgaXRlbUNvbmZpZzogVUlSZWNvbW1lbmRhdGlvbkNvbmZpZztcbn1cblxuLyoqXG4gKiBBbiBpdGVtIG9mIHRoZSB7QGxpbmsgUmVjb21tZW5kYXRpb25PdmVybGF5fS4gVXNlZCBvbmx5IGludGVybmFsbHkgaW4ge0BsaW5rIFJlY29tbWVuZGF0aW9uT3ZlcmxheX0uXG4gKi9cbmNsYXNzIFJlY29tbWVuZGF0aW9uSXRlbSBleHRlbmRzIENvbXBvbmVudDxSZWNvbW1lbmRhdGlvbkl0ZW1Db25maWc+IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFJlY29tbWVuZGF0aW9uSXRlbUNvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLXJlY29tbWVuZGF0aW9uLWl0ZW0nLFxuICAgICAgaXRlbUNvbmZpZzogbnVsbCwgLy8gdGhpcyBtdXN0IGJlIHBhc3NlZCBpbiBmcm9tIG91dHNpZGVcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgdG9Eb21FbGVtZW50KCk6IERPTSB7XG4gICAgbGV0IGNvbmZpZyA9IHRoaXMuY29uZmlnLml0ZW1Db25maWc7XG5cbiAgICBsZXQgaXRlbUVsZW1lbnQgPSBuZXcgRE9NKCdhJywge1xuICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXG4gICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcbiAgICAgICdocmVmJzogY29uZmlnLnVybCxcbiAgICB9LCB0aGlzKS5jc3MoeyAnYmFja2dyb3VuZC1pbWFnZSc6IGB1cmwoJHtjb25maWcudGh1bWJuYWlsfSlgIH0pO1xuXG4gICAgbGV0IGJnRWxlbWVudCA9IG5ldyBET00oJ2RpdicsIHtcbiAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdiYWNrZ3JvdW5kJyksXG4gICAgfSk7XG4gICAgaXRlbUVsZW1lbnQuYXBwZW5kKGJnRWxlbWVudCk7XG5cbiAgICBsZXQgdGl0bGVFbGVtZW50ID0gbmV3IERPTSgnc3BhbicsIHtcbiAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCd0aXRsZScpLFxuICAgIH0pLmFwcGVuZChuZXcgRE9NKCdzcGFuJywge1xuICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2lubmVydGl0bGUnKSxcbiAgICB9KS5odG1sKGNvbmZpZy50aXRsZSkpO1xuICAgIGl0ZW1FbGVtZW50LmFwcGVuZCh0aXRsZUVsZW1lbnQpO1xuXG4gICAgbGV0IHRpbWVFbGVtZW50ID0gbmV3IERPTSgnc3BhbicsIHtcbiAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdkdXJhdGlvbicpLFxuICAgIH0pLmFwcGVuZChuZXcgRE9NKCdzcGFuJywge1xuICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2lubmVyZHVyYXRpb24nKSxcbiAgICB9KS5odG1sKGNvbmZpZy5kdXJhdGlvbiA/IFN0cmluZ1V0aWxzLnNlY29uZHNUb1RpbWUoY29uZmlnLmR1cmF0aW9uKSA6ICcnKSk7XG4gICAgaXRlbUVsZW1lbnQuYXBwZW5kKHRpbWVFbGVtZW50KTtcblxuICAgIHJldHVybiBpdGVtRWxlbWVudDtcbiAgfVxufSIsImltcG9ydCB7IEJ1dHRvbkNvbmZpZywgQnV0dG9uIH0gZnJvbSAnLi9idXR0b24nO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5pbXBvcnQgeyBQbGF5ZXJVdGlscyB9IGZyb20gJy4uL3BsYXllcnV0aWxzJztcbmltcG9ydCBMaXZlU3RyZWFtRGV0ZWN0b3JFdmVudEFyZ3MgPSBQbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3JFdmVudEFyZ3M7XG5cbi8qKlxuICogQSBidXR0b24gdG8gcGxheS9yZXBsYXkgYSB2aWRlby5cbiAqXG4gKiBAY2F0ZWdvcnkgQnV0dG9uc1xuICovXG5leHBvcnQgY2xhc3MgUmVwbGF5QnV0dG9uIGV4dGVuZHMgQnV0dG9uPEJ1dHRvbkNvbmZpZz4ge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQnV0dG9uQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS1yZXBsYXlidXR0b24nLFxuICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ3JlcGxheScpLFxuICAgICAgYXJpYUxhYmVsOiBpMThuLmdldExvY2FsaXplcigncmVwbGF5JyksXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGxpdmVTdHJlYW1EZXRlY3RvciA9IG5ldyBQbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3IocGxheWVyLCB1aW1hbmFnZXIpO1xuICAgIGxpdmVTdHJlYW1EZXRlY3Rvci5vbkxpdmVDaGFuZ2VkLnN1YnNjcmliZSgoc2VuZGVyLCBhcmdzOiBMaXZlU3RyZWFtRGV0ZWN0b3JFdmVudEFyZ3MpID0+IHtcbiAgICAgIGlmIChhcmdzLmxpdmUpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgaWYgKCFwbGF5ZXIuaGFzRW5kZWQoKSkge1xuICAgICAgICBwbGF5ZXIuc2VlaygwKTtcbiAgICAgICAgLy8gTm90IGNhbGxpbmcgYHBsYXlgIHdpbGwga2VlcCB0aGUgcGxheS9wYXVzZSBzdGF0ZSBhcyBpc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgcGxheWJhY2sgaGFzIGFscmVhZHkgZW5kZWQsIGNhbGxpbmcgYHBsYXlgIHdpbGwgYXV0b21hdGljYWxseSByZXN0YXJ0IGZyb20gdGhlIGJlZ2lubmluZ1xuICAgICAgICBwbGF5ZXIucGxheSgndWknKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgRXh0ZW5kZWRQbGF5ZXJBUEksXG4gIEdyb3VwUGxheWJhY2tTdXNwZW5zaW9uLFxuICBHcm91cFBsYXliYWNrU3VzcGVuc2lvblJlYXNvbixcbn0gZnJvbSBcIi4vLi4vZ3JvdXBwbGF5YmFja2FwaVwiO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRDb25maWcgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IERPTSB9IGZyb20gXCIuLi9kb21cIjtcbmltcG9ydCB7IEV2ZW50LCBFdmVudERpc3BhdGNoZXIsIE5vQXJncyB9IGZyb20gXCIuLi9ldmVudGRpc3BhdGNoZXJcIjtcbmltcG9ydCB7IFNlZWtCYXJMYWJlbCB9IGZyb20gXCIuL3NlZWtiYXJsYWJlbFwiO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIsIFNlZWtQcmV2aWV3QXJncyB9IGZyb20gXCIuLi91aW1hbmFnZXJcIjtcbmltcG9ydCB7IFRpbWVvdXQgfSBmcm9tIFwiLi4vdGltZW91dFwiO1xuaW1wb3J0IHsgUGxheWVyVXRpbHMgfSBmcm9tIFwiLi4vcGxheWVydXRpbHNcIjtcbmltcG9ydCBUaW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkQXJncyA9IFBsYXllclV0aWxzLlRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWRBcmdzO1xuaW1wb3J0IExpdmVTdHJlYW1EZXRlY3RvckV2ZW50QXJncyA9IFBsYXllclV0aWxzLkxpdmVTdHJlYW1EZXRlY3RvckV2ZW50QXJncztcbmltcG9ydCB7IFRpbWVsaW5lTWFya2VyIH0gZnJvbSBcIi4uL3VpY29uZmlnXCI7XG5pbXBvcnQgeyBQbGF5ZXJBUEksIFBsYXllckV2ZW50QmFzZSB9IGZyb20gXCJiaXRtb3Zpbi1wbGF5ZXJcIjtcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSBcIi4uL3N0cmluZ3V0aWxzXCI7XG5pbXBvcnQgeyBTZWVrQmFyVHlwZSwgU2Vla0JhckNvbnRyb2xsZXIgfSBmcm9tIFwiLi9zZWVrYmFyY29udHJvbGxlclwiO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vaTE4blwiO1xuaW1wb3J0IHsgQnJvd3NlclV0aWxzIH0gZnJvbSBcIi4uL2Jyb3dzZXJ1dGlsc1wiO1xuaW1wb3J0IHsgVGltZWxpbmVNYXJrZXJzSGFuZGxlciB9IGZyb20gXCIuL3RpbWVsaW5lbWFya2Vyc2hhbmRsZXJcIjtcbmltcG9ydCB7IGdldE1pbkJ1ZmZlckxldmVsIH0gZnJvbSBcIi4vc2Vla2JhcmJ1ZmZlcmxldmVsXCI7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBpbnRlcmZhY2UgZm9yIHRoZSB7QGxpbmsgU2Vla0Jhcn0gY29tcG9uZW50LlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Vla0JhckNvbmZpZyBleHRlbmRzIENvbXBvbmVudENvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgbGFiZWwgYWJvdmUgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAqL1xuICBsYWJlbD86IFNlZWtCYXJMYWJlbDtcbiAgLyoqXG4gICAqIEJhciB3aWxsIGJlIHZlcnRpY2FsIGluc3RlYWQgb2YgaG9yaXpvbnRhbCBpZiBzZXQgdG8gdHJ1ZS5cbiAgICovXG4gIHZlcnRpY2FsPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMgaW4gd2hpY2ggdGhlIHBsYXliYWNrIHBvc2l0aW9uIG9uIHRoZSBzZWVrIGJhciB3aWxsIGJlIHVwZGF0ZWQuIFRoZSBzaG9ydGVyIHRoZVxuICAgKiBpbnRlcnZhbCwgdGhlIHNtb290aGVyIGl0IGxvb2tzIGFuZCB0aGUgbW9yZSByZXNvdXJjZSBpbnRlbnNlIGl0IGlzLiBUaGUgdXBkYXRlIGludGVydmFsIHdpbGwgYmUga2VwdCBhcyBzdGVhZHlcbiAgICogYXMgcG9zc2libGUgdG8gYXZvaWQgaml0dGVyLlxuICAgKiBTZXQgdG8gLTEgdG8gZGlzYWJsZSBzbW9vdGggdXBkYXRpbmcgYW5kIHVwZGF0ZSBpdCBvbiBwbGF5ZXIgVGltZUNoYW5nZWQgZXZlbnRzIGluc3RlYWQuXG4gICAqIERlZmF1bHQ6IDUwICg1MG1zID0gMjBmcHMpLlxuICAgKi9cbiAgc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZUludGVydmFsTXM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFVzZWQgZm9yIHNlZWtCYXIgY29udHJvbCBpbmNyZW1lbnRzIGFuZCBkZWNyZW1lbnRzXG4gICAqL1xuICBrZXlTdGVwSW5jcmVtZW50cz86IHsgbGVmdFJpZ2h0OiBudW1iZXI7IHVwRG93bjogbnVtYmVyIH07XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZW5hYmxlL2Rpc2FibGUgc25hcHBpbmcgdG8gbWFya2VycyBvbiB0aGUgc2VlayBiYXIgd2hlbiBzZWVraW5nIG5lYXIgdGhlbS5cbiAgICogRGVmYXVsdDogdHJ1ZVxuICAgKi9cbiAgc25hcHBpbmdFbmFibGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGVmaW5lcyB0b2xlcmFuY2UgZm9yIHNuYXBwaW5nIHRvIG1hcmtlcnMsIGlmIHNuYXBwaW5nIHRvIHNlZWsgYmFyIG1hcmtlcnMgaXMgZW5hYmxlZC5cbiAgICovXG4gIHNuYXBwaW5nUmFuZ2U/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZW5hYmxlL2Rpc2FibGUgc2VlayBwcmV2aWV3XG4gICAqL1xuICBlbmFibGVTZWVrUHJldmlldz86IGJvb2xlYW47XG59XG5cbi8qKlxuICogRXZlbnQgYXJndW1lbnQgaW50ZXJmYWNlIGZvciBhIHNlZWsgcHJldmlldyBldmVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZWVrUHJldmlld0V2ZW50QXJncyBleHRlbmRzIFNlZWtQcmV2aWV3QXJncyB7XG4gIC8qKlxuICAgKiBUZWxscyBpZiB0aGUgc2VlayBwcmV2aWV3IGV2ZW50IGNvbWVzIGZyb20gYSBzY3J1YmJpbmcuXG4gICAqL1xuICBzY3J1YmJpbmc6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZWVrQmFyTWFya2VyIHtcbiAgbWFya2VyOiBUaW1lbGluZU1hcmtlcjtcbiAgcG9zaXRpb246IG51bWJlcjtcbiAgZHVyYXRpb24/OiBudW1iZXI7XG4gIGVsZW1lbnQ/OiBET007XG59XG5cbi8qKlxuICogQSBzZWVrIGJhciB0byBzZWVrIHdpdGhpbiB0aGUgcGxheWVyJ3MgbWVkaWEuIEl0IGRpc3BsYXlzIHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uLCBhbW91bnQgb2YgYnVmZmVkIGRhdGEsIHNlZWtcbiAqIHRhcmdldCwgYW5kIGtlZXBzIHN0YXR1cyBhYm91dCBhbiBvbmdvaW5nIHNlZWsuXG4gKlxuICogVGhlIHNlZWsgYmFyIGRpc3BsYXlzIGRpZmZlcmVudCAnYmFycyc6XG4gKiAgLSB0aGUgcGxheWJhY2sgcG9zaXRpb24sIGkuZS4gdGhlIHBvc2l0aW9uIGluIHRoZSBtZWRpYSBhdCB3aGljaCB0aGUgcGxheWVyIGN1cnJlbnQgcGxheWJhY2sgcG9pbnRlciBpcyBwb3NpdGlvbmVkXG4gKiAgLSB0aGUgYnVmZmVyIHBvc2l0aW9uLCB3aGljaCB1c3VhbGx5IGlzIHRoZSBwbGF5YmFjayBwb3NpdGlvbiBwbHVzIHRoZSB0aW1lIHNwYW4gdGhhdCBpcyBhbHJlYWR5IGJ1ZmZlcmVkIGFoZWFkXG4gKiAgLSB0aGUgc2VlayBwb3NpdGlvbiwgdXNlZCB0byBwcmV2aWV3IHRvIHdoZXJlIGluIHRoZSB0aW1lbGluZSBhIHNlZWsgd2lsbCBqdW1wIHRvXG4gKlxuICogIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBTZWVrQmFyIGV4dGVuZHMgQ29tcG9uZW50PFNlZWtCYXJDb25maWc+IHtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBTTU9PVEhfUExBWUJBQ0tfUE9TSVRJT05fVVBEQVRFX0RJU0FCTEVEID0gLTE7XG5cbiAgLyoqXG4gICAqIFRoZSBDU1MgY2xhc3MgdGhhdCBpcyBhZGRlZCB0byB0aGUgRE9NIGVsZW1lbnQgd2hpbGUgdGhlIHNlZWsgYmFyIGlzIGluICdzZWVraW5nJyBzdGF0ZS5cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENMQVNTX1NFRUtJTkcgPSBcInNlZWtpbmdcIjtcblxuICBwcml2YXRlIHNlZWtCYXI6IERPTTtcbiAgcHJpdmF0ZSBzZWVrQmFyUGxheWJhY2tQb3NpdGlvbjogRE9NO1xuICBwcml2YXRlIHNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyOiBET007XG4gIHByaXZhdGUgc2Vla0JhckJ1ZmZlclBvc2l0aW9uOiBET007XG4gIHByaXZhdGUgc2Vla0JhclNlZWtQb3NpdGlvbjogRE9NO1xuICBwcml2YXRlIHNlZWtCYXJCYWNrZHJvcDogRE9NO1xuXG4gIHByaXZhdGUgbGFiZWw6IFNlZWtCYXJMYWJlbDtcblxuICBwcml2YXRlIHNlZWtCYXJNYXJrZXJzQ29udGFpbmVyOiBET007XG4gIHByaXZhdGUgdGltZWxpbmVNYXJrZXJzSGFuZGxlcjogVGltZWxpbmVNYXJrZXJzSGFuZGxlcjtcblxuICBwcml2YXRlIHVpQm91bmRpbmdSZWN0OiBET01SZWN0O1xuXG4gIHByaXZhdGUgcGxheWVyOiBQbGF5ZXJBUEk7XG4gIHByaXZhdGUgdWlNYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcjtcblxuICBwcm90ZWN0ZWQgc2Vla0JhclR5cGU6IFNlZWtCYXJUeXBlO1xuXG4gIHByb3RlY3RlZCBpc1VpU2hvd246IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEJ1ZmZlciBvZiB0aGUgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb24uIFRoZSBwb3NpdGlvbiBtdXN0IGJlIGJ1ZmZlcmVkIGluIGNhc2UgdGhlIGVsZW1lbnRcbiAgICogbmVlZHMgdG8gYmUgcmVmcmVzaGVkIHdpdGgge0BsaW5rICNyZWZyZXNoUGxheWJhY2tQb3NpdGlvbn0uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBwcml2YXRlIHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlID0gMDtcblxuICBwcml2YXRlIHNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyOiBUaW1lb3V0O1xuICBwcml2YXRlIHBhdXNlZFRpbWVzaGlmdFVwZGF0ZXI6IFRpbWVvdXQ7XG5cbiAgcHJpdmF0ZSBpc1VzZXJTZWVraW5nID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBzZWVrQmFyRXZlbnRzID0ge1xuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBzY3J1YmJpbmcgc2VlayBvcGVyYXRpb24gaXMgc3RhcnRlZC5cbiAgICAgKi9cbiAgICBvblNlZWs6IG5ldyBFdmVudERpc3BhdGNoZXI8U2Vla0JhciwgTm9BcmdzPigpLFxuICAgIC8qKlxuICAgICAqIEZpcmVkIGR1cmluZyBhIHNjcnViYmluZyBzZWVrIHRvIGluZGljYXRlIHRoYXQgdGhlIHNlZWsgcHJldmlldyAoaS5lLiB0aGUgdmlkZW8gZnJhbWUpIHNob3VsZCBiZSB1cGRhdGVkLlxuICAgICAqL1xuICAgIG9uU2Vla1ByZXZpZXc6IG5ldyBFdmVudERpc3BhdGNoZXI8U2Vla0JhciwgU2Vla1ByZXZpZXdFdmVudEFyZ3M+KCksXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHNjcnViYmluZyBzZWVrIGhhcyBmaW5pc2hlZCBvciB3aGVuIGEgZGlyZWN0IHNlZWsgaXMgaXNzdWVkLlxuICAgICAqL1xuICAgIG9uU2Vla2VkOiBuZXcgRXZlbnREaXNwYXRjaGVyPFNlZWtCYXIsIG51bWJlcj4oKSxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFNlZWtCYXJDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICBjb25zdCBrZXlTdGVwSW5jcmVtZW50cyA9IHRoaXMuY29uZmlnLmtleVN0ZXBJbmNyZW1lbnRzIHx8IHtcbiAgICAgIGxlZnRSaWdodDogMSxcbiAgICAgIHVwRG93bjogNSxcbiAgICB9O1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKFxuICAgICAgY29uZmlnLFxuICAgICAge1xuICAgICAgICBjc3NDbGFzczogXCJ1aS1zZWVrYmFyXCIsXG4gICAgICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICAgICAgc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZUludGVydmFsTXM6IDUwLFxuICAgICAgICBrZXlTdGVwSW5jcmVtZW50cyxcbiAgICAgICAgYXJpYUxhYmVsOiBpMThuLmdldExvY2FsaXplcihcInNlZWtCYXJcIiksXG4gICAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgICBzbmFwcGluZ1JhbmdlOiAxLFxuICAgICAgICBlbmFibGVTZWVrUHJldmlldzogdHJ1ZSxcbiAgICAgICAgc25hcHBpbmdFbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHRoaXMuY29uZmlnXG4gICAgKTtcblxuICAgIHRoaXMubGFiZWwgPSB0aGlzLmNvbmZpZy5sYWJlbDtcbiAgfVxuXG4gIGluaXRpYWxpemUoKTogdm9pZCB7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuXG4gICAgaWYgKHRoaXMuaGFzTGFiZWwoKSkge1xuICAgICAgdGhpcy5nZXRMYWJlbCgpLmluaXRpYWxpemUoKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgc2V0QXJpYVNsaWRlck1pbk1heChtaW46IHN0cmluZywgbWF4OiBzdHJpbmcpIHtcbiAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hdHRyKFwiYXJpYS12YWx1ZW1pblwiLCBtaW4pO1xuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmF0dHIoXCJhcmlhLXZhbHVlbWF4XCIsIG1heCk7XG4gIH1cblxuICBwcml2YXRlIHNldEFyaWFTbGlkZXJWYWx1ZXMoKSB7XG4gICAgaWYgKHRoaXMuc2Vla0JhclR5cGUgPT09IFNlZWtCYXJUeXBlLkxpdmUpIHtcbiAgICAgIGNvbnN0IHRpbWVzaGlmdFZhbHVlID0gTWF0aC5jZWlsKHRoaXMucGxheWVyLmdldFRpbWVTaGlmdCgpKS50b1N0cmluZygpO1xuICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYXR0cihcImFyaWEtdmFsdWVub3dcIiwgdGltZXNoaWZ0VmFsdWUpO1xuICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYXR0cihcbiAgICAgICAgXCJhcmlhLXZhbHVldGV4dFwiLFxuICAgICAgICBgJHtpMThuLnBlcmZvcm1Mb2NhbGl6YXRpb24oXG4gICAgICAgICAgaTE4bi5nZXRMb2NhbGl6ZXIoXCJzZWVrQmFyLnRpbWVzaGlmdFwiKVxuICAgICAgICApfSAke2kxOG4ucGVyZm9ybUxvY2FsaXphdGlvbihcbiAgICAgICAgICBpMThuLmdldExvY2FsaXplcihcInNlZWtCYXIudmFsdWVcIilcbiAgICAgICAgKX06ICR7dGltZXNoaWZ0VmFsdWV9YFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2Vla0JhclR5cGUgPT09IFNlZWtCYXJUeXBlLlZvZCkge1xuICAgICAgY29uc3QgYXJpYVZhbHVlVGV4dCA9IGAke1N0cmluZ1V0aWxzLnNlY29uZHNUb1RleHQoXG4gICAgICAgIHRoaXMucGxheWVyLmdldEN1cnJlbnRUaW1lKClcbiAgICAgICl9ICR7aTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKFxuICAgICAgICBpMThuLmdldExvY2FsaXplcihcInNlZWtCYXIuZHVyYXRpb25UZXh0XCIpXG4gICAgICApfSAke1N0cmluZ1V0aWxzLnNlY29uZHNUb1RleHQodGhpcy5wbGF5ZXIuZ2V0RHVyYXRpb24oKSl9YDtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmF0dHIoXG4gICAgICAgIFwiYXJpYS12YWx1ZW5vd1wiLFxuICAgICAgICBNYXRoLmZsb29yKHRoaXMucGxheWVyLmdldEN1cnJlbnRUaW1lKCkpLnRvU3RyaW5nKClcbiAgICAgICk7XG4gICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hdHRyKFwiYXJpYS12YWx1ZXRleHRcIiwgYXJpYVZhbHVlVGV4dCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRQbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLnBsYXllci5pc0xpdmUoKSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgMTAwIC0gKDEwMCAvIHRoaXMucGxheWVyLmdldE1heFRpbWVTaGlmdCgpKSAqIHRoaXMucGxheWVyLmdldFRpbWVTaGlmdCgpXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoMTAwIC8gdGhpcy5wbGF5ZXIuZ2V0RHVyYXRpb24oKSkgKiB0aGlzLmdldFJlbGF0aXZlQ3VycmVudFRpbWUoKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQnVmZmVyTGV2ZWwocGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2U6IG51bWJlcik6IHZvaWQge1xuICAgIGxldCBidWZmZXJMb2FkZWRQZXJjZW50YWdlTGV2ZWw6IG51bWJlcjtcbiAgICBpZiAodGhpcy5wbGF5ZXIuaXNMaXZlKCkpIHtcbiAgICAgIC8vIEFsd2F5cyBzaG93IGZ1bGwgYnVmZmVyIGZvciBsaXZlIHN0cmVhbXNcbiAgICAgIGJ1ZmZlckxvYWRlZFBlcmNlbnRhZ2VMZXZlbCA9IDEwMDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmZmVyTG9hZGVkUGVyY2VudGFnZUxldmVsID1cbiAgICAgICAgcGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UgKyBnZXRNaW5CdWZmZXJMZXZlbCh0aGlzLnBsYXllcik7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRCdWZmZXJQb3NpdGlvbihidWZmZXJMb2FkZWRQZXJjZW50YWdlTGV2ZWwpO1xuICB9XG5cbiAgY29uZmlndXJlKFxuICAgIHBsYXllcjogUGxheWVyQVBJLFxuICAgIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIsXG4gICAgY29uZmlndXJlU2VlazogYm9vbGVhbiA9IHRydWVcbiAgKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMudWlNYW5hZ2VyID0gdWltYW5hZ2VyO1xuXG4gICAgLy8gQXBwbHkgc2NhbGluZyB0cmFuc2Zvcm0gdG8gdGhlIGJhY2tkcm9wIGJhciB0byBoYXZlIGFsbCBiYXJzIHJlbmRlcmVkIHNpbWlsYXJseVxuICAgIC8vICh0aGUgY2FsbCBtdXN0IGJlIHVwIGhlcmUgdG8gYmUgZXhlY3V0ZWQgZm9yIHRoZSB2b2x1bWUgc2xpZGVyIGFzIHdlbGwpXG4gICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlZWtCYXJCYWNrZHJvcCwgMTAwKTtcblxuICAgIC8vIEFkZCBzZWVrYmFyIGNvbnRyb2xzIHRvIHRoZSBzZWVrYmFyXG4gICAgY29uc3Qgc2Vla0JhckNvbnRyb2xsZXIgPSBuZXcgU2Vla0JhckNvbnRyb2xsZXIoXG4gICAgICB0aGlzLmNvbmZpZy5rZXlTdGVwSW5jcmVtZW50cyxcbiAgICAgIHBsYXllcixcbiAgICAgIHVpbWFuYWdlci5nZXRDb25maWcoKS52b2x1bWVDb250cm9sbGVyXG4gICAgKTtcblxuICAgIHNlZWtCYXJDb250cm9sbGVyLnNldFNlZWtCYXJDb250cm9scyhcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLFxuICAgICAgKCkgPT4gdGhpcy5zZWVrQmFyVHlwZVxuICAgICk7XG5cbiAgICAvLyBUaGUgY29uZmlndXJlU2VlayBmbGFnIGNhbiBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gZGlzYWJsZSBjb25maWd1cmF0aW9uIGFzIHNlZWsgYmFyLiBFLmcuIHRoZSB2b2x1bWVcbiAgICAvLyBzbGlkZXIgaXMgcmV1c2luZyB0aGlzIGNvbXBvbmVudCBidXQgYWRkcyBpdHMgb3duIGZ1bmN0aW9uYWxpdHksIGFuZCBkb2VzIG5vdCBuZWVkIHRoZSBzZWVrIGZ1bmN0aW9uYWxpdHkuXG4gICAgLy8gVGhpcyBpcyBhY3R1YWxseSBhIGhhY2ssIHRoZSBwcm9wZXIgc29sdXRpb24gd291bGQgYmUgZm9yIGJvdGggc2VlayBiYXIgYW5kIHZvbHVtZSBzbGlkZXJzIHRvIGV4dGVuZFxuICAgIC8vIGEgY29tbW9uIGJhc2Ugc2xpZGVyIGNvbXBvbmVudCBhbmQgaW1wbGVtZW50IHRoZWlyIGZ1bmN0aW9uYWxpdHkgdGhlcmUuXG4gICAgaWYgKCFjb25maWd1cmVTZWVrKSB7XG4gICAgICB0aGlzLnNlZWtCYXJUeXBlID0gU2Vla0JhclR5cGUuVm9sdW1lO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLmlzVWlTaG93biA9IHRydWU7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIgJiZcbiAgICAgICAgIXBsYXllci5pc0xpdmUoKSAmJlxuICAgICAgICAhdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlci5pc0FjdGl2ZSgpXG4gICAgICApIHtcbiAgICAgICAgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIobnVsbCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuc3RhcnQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzSGlkZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5pc1VpU2hvd24gPSBmYWxzZTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciAmJlxuICAgICAgICB0aGlzLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyLmlzQWN0aXZlKClcbiAgICAgICkge1xuICAgICAgICB0aGlzLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyLmNsZWFyKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgbGV0IHNjcnViYmluZyA9IGZhbHNlO1xuICAgIGxldCBpc1BsYXllclNlZWtpbmcgPSBmYWxzZTtcbiAgICBsZXQgc3VzcGVuc2lvbjogR3JvdXBQbGF5YmFja1N1c3BlbnNpb24gfCB1bmRlZmluZWQ7XG5cbiAgICAvLyBVcGRhdGUgcGxheWJhY2sgYW5kIGJ1ZmZlciBwb3NpdGlvbnNcbiAgICBsZXQgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIgPSAoXG4gICAgICBldmVudDogUGxheWVyRXZlbnRCYXNlID0gbnVsbCxcbiAgICAgIGZvcmNlVXBkYXRlOiBib29sZWFuID0gZmFsc2VcbiAgICApID0+IHtcbiAgICAgIGlmICh0aGlzLmlzVXNlclNlZWtpbmcpIHtcbiAgICAgICAgLy8gV2UgY2F1Z2h0IGEgc2VlayBwcmV2aWV3IHNlZWssIGRvIG5vdCB1cGRhdGUgdGhlIHNlZWtiYXJcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgcGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UgPSB0aGlzLmdldFBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKCk7XG5cbiAgICAgIHRoaXMudXBkYXRlQnVmZmVyTGV2ZWwocGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UpO1xuXG4gICAgICAvLyBUaGUgc2VnbWVudCByZXF1ZXN0IGZpbmlzaGVkIGlzIHVzZWQgdG8gaGVscCB0aGUgcGxheWJhY2sgcG9zaXRpb24gbW92ZSwgd2hlbiB0aGUgc21vb3RoIHBsYXliYWNrIHBvc2l0aW9uIGlzIG5vdCBlbmFibGVkLlxuICAgICAgLy8gQXQgdGhlIHNhbWUgdGltZSB3aGVuIHRoZSB1c2VyIGlzIHNjcnViYmluZywgd2UgYWxzbyBtb3ZlIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2Vla2JhciB0byBkaXNwbGF5IGEgcHJldmlldyBkdXJpbmcgc2NydWJiaW5nLlxuICAgICAgLy8gV2hlbiB0aGUgdXNlciBpcyBzY3J1YmJpbmcgd2UgZG8gbm90IHJlY29yZCB0aGlzIGFzIGEgdXNlciBzZWVrIG9wZXJhdGlvbiwgYXMgdGhlIHVzZXIgaGFzIHlldCB0byBmaW5pc2ggdGhlaXIgc2VlayxcbiAgICAgIC8vIGJ1dCB3ZSBzaG91bGQgbm90IG1vdmUgdGhlIHBsYXliYWNrIHBvc2l0aW9uIHRvIG5vdCBjcmVhdGUgYSBqdW1waW5nIGJlaGF2aW91ci5cbiAgICAgIGlmIChcbiAgICAgICAgc2NydWJiaW5nICYmXG4gICAgICAgIGV2ZW50ICYmXG4gICAgICAgIGV2ZW50LnR5cGUgPT09IHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNlZ21lbnRSZXF1ZXN0RmluaXNoZWQgJiZcbiAgICAgICAgcGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UgIT09IHRoaXMucGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2VcbiAgICAgICkge1xuICAgICAgICBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IHRoaXMucGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcbiAgICAgICAgaWYgKHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA9PT0gMCkge1xuICAgICAgICAgIC8vIFRoaXMgY2FzZSBtdXN0IGJlIGV4cGxpY2l0bHkgaGFuZGxlZCB0byBhdm9pZCBkaXZpc2lvbiBieSB6ZXJvXG4gICAgICAgICAgdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzU2Vla2luZygpKSB7XG4gICAgICAgICAgICB0aGlzLnNldFBsYXliYWNrUG9zaXRpb24ocGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc2V0QXJpYVNsaWRlck1pbk1heChwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkudG9TdHJpbmcoKSwgXCIwXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVcGRhdGUgcGxheWJhY2sgcG9zaXRpb24gb25seSBpbiBwYXVzZWQgc3RhdGUgb3IgaW4gdGhlIGluaXRpYWwgc3RhcnR1cCBzdGF0ZSB3aGVyZSBwbGF5ZXIgaXMgbmVpdGhlclxuICAgICAgICAvLyBwYXVzZWQgbm9yIHBsYXlpbmcuIFBsYXliYWNrIHVwZGF0ZXMgYXJlIGhhbmRsZWQgaW4gdGhlIFRpbWVvdXQgYmVsb3cuXG4gICAgICAgIGNvbnN0IGlzSW5Jbml0aWFsU3RhcnR1cFN0YXRlID1cbiAgICAgICAgICB0aGlzLmNvbmZpZy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlSW50ZXJ2YWxNcyA9PT1cbiAgICAgICAgICAgIFNlZWtCYXIuU01PT1RIX1BMQVlCQUNLX1BPU0lUSU9OX1VQREFURV9ESVNBQkxFRCB8fFxuICAgICAgICAgIGZvcmNlVXBkYXRlIHx8XG4gICAgICAgICAgcGxheWVyLmlzUGF1c2VkKCk7XG4gICAgICAgIGNvbnN0IGlzTmVpdGhlclBhdXNlZE5vclBsYXlpbmcgPVxuICAgICAgICAgIHBsYXllci5pc1BhdXNlZCgpID09PSBwbGF5ZXIuaXNQbGF5aW5nKCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChpc0luSW5pdGlhbFN0YXJ0dXBTdGF0ZSB8fCBpc05laXRoZXJQYXVzZWROb3JQbGF5aW5nKSAmJlxuICAgICAgICAgICF0aGlzLmlzU2Vla2luZygpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuc2V0UGxheWJhY2tQb3NpdGlvbihwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEFyaWFTbGlkZXJNaW5NYXgoXCIwXCIsIHBsYXllci5nZXREdXJhdGlvbigpLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc1VpU2hvd24pIHtcbiAgICAgICAgdGhpcy5zZXRBcmlhU2xpZGVyVmFsdWVzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFVwZGF0ZSBzZWVrYmFyIHVwb24gdGhlc2UgZXZlbnRzXG4gICAgLy8gaW5pdCBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIHRoZSBwbGF5ZXIgaXMgcmVhZHlcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUmVhZHksIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcbiAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiBpdCBjaGFuZ2VzXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlRpbWVDaGFuZ2VkLCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XG4gICAgLy8gdXBkYXRlIGJ1ZmZlcmxldmVsIHdoZW4gYnVmZmVyaW5nIGlzIGNvbXBsZXRlXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlN0YWxsRW5kZWQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcbiAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiBhIHRpbWVzaGlmdCBoYXMgZmluaXNoZWRcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuVGltZVNoaWZ0ZWQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcbiAgICAvLyB1cGRhdGUgYnVmZmVybGV2ZWwgd2hlbiBhIHNlZ21lbnQgaGFzIGJlZW4gZG93bmxvYWRlZFxuICAgIHBsYXllci5vbihcbiAgICAgIHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNlZ21lbnRSZXF1ZXN0RmluaXNoZWQsXG4gICAgICBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlclxuICAgICk7XG5cbiAgICB0aGlzLmNvbmZpZ3VyZUxpdmVQYXVzZWRUaW1lc2hpZnRVcGRhdGVyKFxuICAgICAgcGxheWVyLFxuICAgICAgdWltYW5hZ2VyLFxuICAgICAgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXJcbiAgICApO1xuXG4gICAgLy8gU2VlayBoYW5kbGluZ1xuICAgIGxldCBvblBsYXllclNlZWsgPSAoKSA9PiB7XG4gICAgICBpc1BsYXllclNlZWtpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5zZXRTZWVraW5nKHRydWUpO1xuICAgICAgc2NydWJiaW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIGxldCBvblBsYXllclNlZWtlZCA9IChldmVudDogUGxheWVyRXZlbnRCYXNlID0gbnVsbCkgPT4ge1xuICAgICAgaXNQbGF5ZXJTZWVraW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnNldFNlZWtpbmcoZmFsc2UpO1xuXG4gICAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiBhIHNlZWsgaGFzIGZpbmlzaGVkXG4gICAgICBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcihldmVudCwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIGxldCByZXN0b3JlUGxheWluZ1N0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gQ29udGludWUgcGxheWJhY2sgYWZ0ZXIgc2VlayBpZiBwbGF5ZXIgd2FzIHBsYXlpbmcgd2hlbiBzZWVrIHN0YXJ0ZWRcbiAgICAgIGlmIChpc1BsYXlpbmcpIHtcbiAgICAgICAgLy8gdXNlIHRoZSBzYW1lIGlzc3VlciBoZXJlIGFzIGluIHRoZSBwYXVzZSBvbiBzZWVrXG4gICAgICAgIHBsYXllci5wbGF5KFwidWktc2Vla1wiKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNlZWssIG9uUGxheWVyU2Vlayk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNlZWtlZCwgb25QbGF5ZXJTZWVrZWQpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5UaW1lU2hpZnQsIG9uUGxheWVyU2Vlayk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlRpbWVTaGlmdGVkLCBvblBsYXllclNlZWtlZCk7XG5cbiAgICBsZXQgaXNHcm91cFBsYXliYWNrQVBJQXZhaWxhYmxlID0gKFxuICAgICAgcGxheWVyOiBQbGF5ZXJBUElcbiAgICApOiBwbGF5ZXIgaXMgRXh0ZW5kZWRQbGF5ZXJBUEkgPT4ge1xuICAgICAgcmV0dXJuICEhKHBsYXllciBhcyBFeHRlbmRlZFBsYXllckFQSSkuZ3JvdXBQbGF5YmFjaztcbiAgICB9O1xuXG4gICAgdGhpcy5vblNlZWsuc3Vic2NyaWJlKChzZW5kZXIpID0+IHtcbiAgICAgIC8vIHRyYWNrIHNlZWtpbmcgc3RhdHVzIHNvIHdlIGNhbiBjYXRjaCBldmVudHMgZnJvbSBzZWVrIHByZXZpZXcgc2Vla3NcbiAgICAgIHRoaXMuaXNVc2VyU2Vla2luZyA9IHRydWU7XG4gICAgICAvLyBOb3RpZnkgVUkgbWFuYWdlciBvZiBzdGFydGVkIHNlZWtcbiAgICAgIHVpbWFuYWdlci5vblNlZWsuZGlzcGF0Y2goc2VuZGVyKTtcblxuICAgICAgaWYgKFxuICAgICAgICBpc0dyb3VwUGxheWJhY2tBUElBdmFpbGFibGUocGxheWVyKSAmJlxuICAgICAgICBwbGF5ZXIuZ3JvdXBQbGF5YmFjay5oYXNKb2luZWQoKSAmJlxuICAgICAgICAhc3VzcGVuc2lvblxuICAgICAgKSB7XG4gICAgICAgIHN1c3BlbnNpb24gPSBwbGF5ZXIuZ3JvdXBQbGF5YmFjay5iZWdpblN1c3BlbnNpb24oXG4gICAgICAgICAgR3JvdXBQbGF5YmFja1N1c3BlbnNpb25SZWFzb24uVXNlcklzU2NydWJiaW5nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNhdmUgY3VycmVudCBwbGF5YmFjayBzdGF0ZSBiZWZvcmUgcGVyZm9ybWluZyB0aGUgc2Vla1xuICAgICAgaWYgKCFpc1BsYXllclNlZWtpbmcpIHtcbiAgICAgICAgaXNQbGF5aW5nID0gcGxheWVyLmlzUGxheWluZygpO1xuXG4gICAgICAgIC8vIFBhdXNlIHBsYXliYWNrIHdoaWxlIHNlZWtpbmdcbiAgICAgICAgaWYgKGlzUGxheWluZykge1xuICAgICAgICAgIC8vIHVzZSBhIGRpZmZlcmVudCBpc3N1ZXIgaGVyZSwgYXMgcGxheS9wYXVzZSBvbiBzZWVrIGlzIG5vdCBcInJlYWxseVwiIHRyaWdnZXJkIGJ5IHRoZSB1c2VyXG4gICAgICAgICAgcGxheWVyLnBhdXNlKFwidWktc2Vla1wiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5vblNlZWtQcmV2aWV3LnN1YnNjcmliZShcbiAgICAgIChzZW5kZXI6IFNlZWtCYXIsIGFyZ3M6IFNlZWtQcmV2aWV3RXZlbnRBcmdzKSA9PiB7XG4gICAgICAgIC8vIE5vdGlmeSBVSSBtYW5hZ2VyIG9mIHNlZWsgcHJldmlld1xuICAgICAgICB1aW1hbmFnZXIub25TZWVrUHJldmlldy5kaXNwYXRjaChzZW5kZXIsIGFyZ3MpO1xuICAgICAgICBzY3J1YmJpbmcgPSBhcmdzLnNjcnViYmluZztcbiAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gU2V0IGVuYWJsZVNlZWtQcmV2aWV3IGlmIHNldCBpbiB0aGUgdWltYW5hZ2VyIGNvbmZpZ1xuICAgIGlmICh0eXBlb2YgdWltYW5hZ2VyLmdldENvbmZpZygpLmVuYWJsZVNlZWtQcmV2aWV3ID09PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhpcy5jb25maWcuZW5hYmxlU2Vla1ByZXZpZXcgPSB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZW5hYmxlU2Vla1ByZXZpZXc7XG4gICAgfVxuXG4gICAgLy8gUmF0ZS1saW1pdGVkIHNjcnViYmluZyBzZWVrXG4gICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZVNlZWtQcmV2aWV3KSB7XG4gICAgICB0aGlzLm9uU2Vla1ByZXZpZXcuc3Vic2NyaWJlUmF0ZUxpbWl0ZWQodGhpcy5zZWVrV2hpbGVTY3J1YmJpbmcsIDIwMCk7XG4gICAgfVxuXG4gICAgdGhpcy5vblNlZWtlZC5zdWJzY3JpYmUoKHNlbmRlciwgcGVyY2VudGFnZSkgPT4ge1xuICAgICAgdGhpcy5pc1VzZXJTZWVraW5nID0gZmFsc2U7XG5cbiAgICAgIC8vIERvIHRoZSBzZWVrXG4gICAgICB0aGlzLnNlZWsocGVyY2VudGFnZSk7XG5cbiAgICAgIC8vIE5vdGlmeSBVSSBtYW5hZ2VyIG9mIGZpbmlzaGVkIHNlZWtcbiAgICAgIHVpbWFuYWdlci5vblNlZWtlZC5kaXNwYXRjaChzZW5kZXIpO1xuXG4gICAgICAvLyBDb250aW51ZSBwbGF5YmFjayBhZnRlciBzZWVrIGlmIHBsYXllciB3YXMgcGxheWluZyB3aGVuIHNlZWsgc3RhcnRlZFxuICAgICAgcmVzdG9yZVBsYXlpbmdTdGF0ZSgpO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGlzR3JvdXBQbGF5YmFja0FQSUF2YWlsYWJsZShwbGF5ZXIpICYmXG4gICAgICAgIHBsYXllci5ncm91cFBsYXliYWNrLmhhc0pvaW5lZCgpICYmXG4gICAgICAgIHN1c3BlbnNpb25cbiAgICAgICkge1xuICAgICAgICBjb25zdCBwcm9wb3NlZFBsYXliYWNrVGltZSA9IHRoaXMuZ2V0VGFyZ2V0U2Vla1Bvc2l0aW9uKHBlcmNlbnRhZ2UpO1xuICAgICAgICBwbGF5ZXIuZ3JvdXBQbGF5YmFjay5lbmRTdXNwZW5zaW9uKHN1c3BlbnNpb24sIHtcbiAgICAgICAgICBwcm9wb3NlZFBsYXliYWNrVGltZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHN1c3BlbnNpb24gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5oYXNMYWJlbCgpKSB7XG4gICAgICAvLyBDb25maWd1cmUgYSBzZWVrYmFyIGxhYmVsIHRoYXQgaXMgaW50ZXJuYWwgdG8gdGhlIHNlZWtiYXIpXG4gICAgICB0aGlzLmdldExhYmVsKCkuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcbiAgICB9XG5cbiAgICAvLyBIaWRlIHNlZWtiYXIgZm9yIGxpdmUgc291cmNlcyB3aXRob3V0IHRpbWVzaGlmdFxuICAgIGxldCBpc0xpdmUgPSBmYWxzZTtcbiAgICBsZXQgaGFzVGltZVNoaWZ0ID0gZmFsc2U7XG4gICAgbGV0IHN3aXRjaFZpc2liaWxpdHkgPSAoaXNMaXZlOiBib29sZWFuLCBoYXNUaW1lU2hpZnQ6IGJvb2xlYW4pID0+IHtcbiAgICAgIGlmIChpc0xpdmUgJiYgIWhhc1RpbWVTaGlmdCkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgfVxuICAgICAgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIobnVsbCwgdHJ1ZSk7XG4gICAgICB0aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XG4gICAgfTtcbiAgICBsZXQgbGl2ZVN0cmVhbURldGVjdG9yID0gbmV3IFBsYXllclV0aWxzLkxpdmVTdHJlYW1EZXRlY3RvcihcbiAgICAgIHBsYXllcixcbiAgICAgIHVpbWFuYWdlclxuICAgICk7XG4gICAgbGl2ZVN0cmVhbURldGVjdG9yLm9uTGl2ZUNoYW5nZWQuc3Vic2NyaWJlKFxuICAgICAgKHNlbmRlciwgYXJnczogTGl2ZVN0cmVhbURldGVjdG9yRXZlbnRBcmdzKSA9PiB7XG4gICAgICAgIGlzTGl2ZSA9IGFyZ3MubGl2ZTtcbiAgICAgICAgaWYgKGlzTGl2ZSAmJiB0aGlzLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyLmNsZWFyKCk7XG4gICAgICAgICAgdGhpcy5zZWVrQmFyVHlwZSA9IFNlZWtCYXJUeXBlLkxpdmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZWVrQmFyVHlwZSA9IFNlZWtCYXJUeXBlLlZvZDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2hWaXNpYmlsaXR5KGlzTGl2ZSwgaGFzVGltZVNoaWZ0KTtcbiAgICAgIH1cbiAgICApO1xuICAgIGxldCB0aW1lU2hpZnREZXRlY3RvciA9IG5ldyBQbGF5ZXJVdGlscy5UaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvcihcbiAgICAgIHBsYXllclxuICAgICk7XG4gICAgdGltZVNoaWZ0RGV0ZWN0b3Iub25UaW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkLnN1YnNjcmliZShcbiAgICAgIChzZW5kZXIsIGFyZ3M6IFRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWRBcmdzKSA9PiB7XG4gICAgICAgIGhhc1RpbWVTaGlmdCA9IGFyZ3MudGltZVNoaWZ0QXZhaWxhYmxlO1xuICAgICAgICBzd2l0Y2hWaXNpYmlsaXR5KGlzTGl2ZSwgaGFzVGltZVNoaWZ0KTtcbiAgICAgIH1cbiAgICApO1xuICAgIC8vIEluaXRpYWwgZGV0ZWN0aW9uXG4gICAgbGl2ZVN0cmVhbURldGVjdG9yLmRldGVjdCgpO1xuICAgIHRpbWVTaGlmdERldGVjdG9yLmRldGVjdCgpO1xuXG4gICAgLy8gUmVmcmVzaCB0aGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiB0aGUgcGxheWVyIHJlc2l6ZWQgb3IgdGhlIFVJIGlzIGNvbmZpZ3VyZWQuIFRoZSBwbGF5YmFjayBwb3NpdGlvbiBtYXJrZXJcbiAgICAvLyBpcyBwb3NpdGlvbmVkIGFic29sdXRlbHkgYW5kIG11c3QgdGhlcmVmb3JlIGJlIHVwZGF0ZWQgd2hlbiB0aGUgc2l6ZSBvZiB0aGUgc2Vla2JhciBjaGFuZ2VzLlxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5ZXJSZXNpemVkLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XG4gICAgICB0aGlzLnVpQm91bmRpbmdSZWN0ID0gdGhpcy51aU1hbmFnZXJcbiAgICAgICAgLmdldFVJKClcbiAgICAgICAgLmdldERvbUVsZW1lbnQoKVxuICAgICAgICAuZ2V0KDApXG4gICAgICAgIC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9KTtcbiAgICAvLyBBZGRpdGlvbmFsbHksIHdoZW4gdGhpcyBjb2RlIGlzIGNhbGxlZCwgdGhlIHNlZWtiYXIgaXMgbm90IHBhcnQgb2YgdGhlIFVJIHlldCBhbmQgdGhlcmVmb3JlIGRvZXMgbm90IGhhdmUgYSBzaXplLFxuICAgIC8vIHJlc3VsdGluZyBpbiBhIHdyb25nIGluaXRpYWwgcG9zaXRpb24gb2YgdGhlIG1hcmtlci4gUmVmcmVzaGluZyBpdCBvbmNlIHRoZSBVSSBpcyBjb25maWd1cmVkIHNvbHZlZCB0aGlzIGlzc3VlLlxuICAgIHVpbWFuYWdlci5vbkNvbmZpZ3VyZWQuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHRoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcbiAgICB9KTtcbiAgICAvLyBJdCBjYW4gYWxzbyBoYXBwZW4gd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNvdXJjZUxvYWRlZCwgKCkgPT4ge1xuICAgICAgdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xuICAgIH0pO1xuICAgIC8vIEFkZCBtYXJrZXJzIHdoZW4gYSBzb3VyY2UgaXMgbG9hZGVkIG9yIHVwZGF0ZSB3aGVuIGEgbWFya2VyIGlzIGFkZGVkIG9yIHJlbW92ZWRcbiAgICB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZXZlbnRzLm9uVXBkYXRlZC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIoKTtcbiAgICB9KTtcblxuICAgIC8vIFNldCB0aGUgc25hcHBpbmdSYW5nZSBpZiBzZXQgaW4gdGhlIHVpbWFuYWdlciBjb25maWdcbiAgICBpZiAodHlwZW9mIHVpbWFuYWdlci5nZXRDb25maWcoKS5zZWVrYmFyU25hcHBpbmdSYW5nZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5jb25maWcuc25hcHBpbmdSYW5nZSA9IHVpbWFuYWdlci5nZXRDb25maWcoKS5zZWVrYmFyU25hcHBpbmdSYW5nZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHVpbWFuYWdlci5nZXRDb25maWcoKS5zZWVrYmFyU25hcHBpbmdFbmFibGVkID09PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhpcy5jb25maWcuc25hcHBpbmdFbmFibGVkID1cbiAgICAgICAgdWltYW5hZ2VyLmdldENvbmZpZygpLnNlZWtiYXJTbmFwcGluZ0VuYWJsZWQ7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZSBzZWVrYmFyXG4gICAgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIoKTsgLy8gU2V0IHRoZSBwbGF5YmFjayBwb3NpdGlvblxuICAgIHRoaXMuc2V0QnVmZmVyUG9zaXRpb24oMCk7XG4gICAgdGhpcy5zZXRTZWVrUG9zaXRpb24oMCk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5jb25maWcuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZUludGVydmFsTXMgIT09XG4gICAgICBTZWVrQmFyLlNNT09USF9QTEFZQkFDS19QT1NJVElPTl9VUERBVEVfRElTQUJMRURcbiAgICApIHtcbiAgICAgIHRoaXMuY29uZmlndXJlU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIocGxheWVyLCB1aW1hbmFnZXIpO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgbWFya2Vyc1xuICAgIHRoaXMuaW5pdGlhbGl6ZVRpbWVsaW5lTWFya2VycyhwbGF5ZXIsIHVpbWFuYWdlcik7XG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVUaW1lbGluZU1hcmtlcnMoXG4gICAgcGxheWVyOiBQbGF5ZXJBUEksXG4gICAgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlclxuICApOiB2b2lkIHtcbiAgICBjb25zdCB0aW1lbGluZU1hcmtlckNvbmZpZyA9IHtcbiAgICAgIGNzc1ByZWZpeDogdGhpcy5jb25maWcuY3NzUHJlZml4LFxuICAgICAgc25hcHBpbmdSYW5nZTogdGhpcy5jb25maWcuc25hcHBpbmdSYW5nZSxcbiAgICB9O1xuICAgIHRoaXMudGltZWxpbmVNYXJrZXJzSGFuZGxlciA9IG5ldyBUaW1lbGluZU1hcmtlcnNIYW5kbGVyKFxuICAgICAgdGltZWxpbmVNYXJrZXJDb25maWcsXG4gICAgICAoKSA9PiB0aGlzLnNlZWtCYXIud2lkdGgoKSxcbiAgICAgIHRoaXMuc2Vla0Jhck1hcmtlcnNDb250YWluZXJcbiAgICApO1xuICAgIHRoaXMudGltZWxpbmVNYXJrZXJzSGFuZGxlci5pbml0aWFsaXplKHBsYXllciwgdWltYW5hZ2VyKTtcbiAgfVxuXG4gIHByaXZhdGUgc2Vla1doaWxlU2NydWJiaW5nID0gKFxuICAgIHNlbmRlcjogU2Vla0JhcixcbiAgICBhcmdzOiBTZWVrUHJldmlld0V2ZW50QXJnc1xuICApID0+IHtcbiAgICBpZiAoYXJncy5zY3J1YmJpbmcpIHtcbiAgICAgIHRoaXMuc2VlayhhcmdzLnBvc2l0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBnZXRUYXJnZXRTZWVrUG9zaXRpb24gPSAocGVyY2VudGFnZTogbnVtYmVyKSA9PiB7XG4gICAgbGV0IHRhcmdldDogbnVtYmVyO1xuICAgIGlmICh0aGlzLnBsYXllci5pc0xpdmUoKSkge1xuICAgICAgY29uc3QgbWF4VGltZVNoaWZ0ID0gdGhpcy5wbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCk7XG4gICAgICB0YXJnZXQgPSBtYXhUaW1lU2hpZnQgLSBtYXhUaW1lU2hpZnQgKiAocGVyY2VudGFnZSAvIDEwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNlZWthYmxlUmFuZ2VTdGFydCA9IFBsYXllclV0aWxzLmdldFNlZWthYmxlUmFuZ2VTdGFydChcbiAgICAgICAgdGhpcy5wbGF5ZXIsXG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgICBjb25zdCByZWxhdGl2ZVNlZWtUYXJnZXQgPSB0aGlzLnBsYXllci5nZXREdXJhdGlvbigpICogKHBlcmNlbnRhZ2UgLyAxMDApO1xuICAgICAgdGFyZ2V0ID0gcmVsYXRpdmVTZWVrVGFyZ2V0ICsgc2Vla2FibGVSYW5nZVN0YXJ0O1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcHJpdmF0ZSBzZWVrID0gKHBlcmNlbnRhZ2U6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHRhcmdldFBsYXliYWNrUG9zaXRpb24gPSB0aGlzLmdldFRhcmdldFNlZWtQb3NpdGlvbihwZXJjZW50YWdlKTtcbiAgICBpZiAodGhpcy5wbGF5ZXIuaXNMaXZlKCkpIHtcbiAgICAgIHRoaXMucGxheWVyLnRpbWVTaGlmdCh0YXJnZXRQbGF5YmFja1Bvc2l0aW9uLCBcInVpXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBsYXllci5zZWVrKHRhcmdldFBsYXliYWNrUG9zaXRpb24sIFwidWlcIik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgc2Vla2JhciB3aGlsZSBhIGxpdmUgc3RyZWFtIHdpdGggRFZSIHdpbmRvdyBpcyBwYXVzZWQuXG4gICAqIFRoZSBwbGF5YmFjayBwb3NpdGlvbiBzdGF5cyBzdGlsbCBhbmQgdGhlIHBvc2l0aW9uIGluZGljYXRvciB2aXN1YWxseSBtb3ZlcyB0b3dhcmRzIHRoZSBiYWNrLlxuICAgKi9cbiAgcHJpdmF0ZSBjb25maWd1cmVMaXZlUGF1c2VkVGltZXNoaWZ0VXBkYXRlcihcbiAgICBwbGF5ZXI6IFBsYXllckFQSSxcbiAgICB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyLFxuICAgIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyOiAoKSA9PiB2b2lkXG4gICk6IHZvaWQge1xuICAgIC8vIFJlZ3VsYXJseSB1cGRhdGUgdGhlIHBsYXliYWNrIHBvc2l0aW9uIHdoaWxlIHRoZSB0aW1lb3V0IGlzIGFjdGl2ZVxuICAgIHRoaXMucGF1c2VkVGltZXNoaWZ0VXBkYXRlciA9IG5ldyBUaW1lb3V0KFxuICAgICAgMTAwMCxcbiAgICAgIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyLFxuICAgICAgdHJ1ZVxuICAgICk7XG5cbiAgICAvLyBTdGFydCB1cGRhdGVyIHdoZW4gYSBsaXZlIHN0cmVhbSB3aXRoIHRpbWVzaGlmdCB3aW5kb3cgaXMgcGF1c2VkXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlBhdXNlZCwgKCkgPT4ge1xuICAgICAgaWYgKHBsYXllci5pc0xpdmUoKSAmJiBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgPCAwKSB7XG4gICAgICAgIHRoaXMucGF1c2VkVGltZXNoaWZ0VXBkYXRlci5zdGFydCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU3RvcCB1cGRhdGVyIHdoZW4gcGxheWJhY2sgY29udGludWVzIChubyBtYXR0ZXIgaWYgdGhlIHVwZGF0ZXIgd2FzIHN0YXJ0ZWQgYmVmb3JlKVxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5LCAoKSA9PlxuICAgICAgdGhpcy5wYXVzZWRUaW1lc2hpZnRVcGRhdGVyLmNsZWFyKClcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25maWd1cmVTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcihcbiAgICBwbGF5ZXI6IFBsYXllckFQSSxcbiAgICB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyXG4gICk6IHZvaWQge1xuICAgIC8qXG4gICAgICogUGxheWJhY2sgcG9zaXRpb24gdXBkYXRlXG4gICAgICpcbiAgICAgKiBXZSBkbyBub3QgdXBkYXRlIHRoZSBwb3NpdGlvbiBkaXJlY3RseSBmcm9tIHRoZSBUaW1lQ2hhbmdlZCBldmVudCwgYmVjYXVzZSBpdCBhcnJpdmVzIHZlcnkgaml0dGVyeSBhbmRcbiAgICAgKiByZXN1bHRzIGluIGEgaml0dGVyeSBwb3NpdGlvbiBpbmRpY2F0b3Igc2luY2UgdGhlIENTUyB0cmFuc2l0aW9uIHRpbWUgaXMgc3RhdGljYWxseSBzZXQuXG4gICAgICogVG8gd29yayBhcm91bmQgdGhpcyBpc3N1ZSwgd2UgbWFpbnRhaW4gYSBsb2NhbCBwbGF5YmFjayBwb3NpdGlvbiB0aGF0IGlzIHVwZGF0ZWQgaW4gYSBzdGFibGUgcmVndWxhciBpbnRlcnZhbFxuICAgICAqIGFuZCBrZXB0IGluIHN5bmMgd2l0aCB0aGUgcGxheWVyLlxuICAgICAqL1xuICAgIGxldCBjdXJyZW50VGltZVNlZWtCYXIgPSAwO1xuICAgIGxldCBjdXJyZW50VGltZVBsYXllciA9IDA7XG4gICAgbGV0IHVwZGF0ZUludGVydmFsTXMgPSA1MDtcbiAgICBsZXQgY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3MgPSB1cGRhdGVJbnRlcnZhbE1zIC8gMTAwMDtcblxuICAgIHRoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIgPSBuZXcgVGltZW91dChcbiAgICAgIHVwZGF0ZUludGVydmFsTXMsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzU2Vla2luZygpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudFRpbWVTZWVrQmFyICs9IGN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY3VycmVudFRpbWVQbGF5ZXIgPSB0aGlzLmdldFJlbGF0aXZlQ3VycmVudFRpbWUoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBEZXRlY3QgaWYgdGhlIHBsYXllciBoYXMgYmVlbiBkZXN0cm95ZWQgYW5kIHN0b3AgdXBkYXRpbmcgaWYgc29cbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJBUElOb3RBdmFpbGFibGVFcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlci5jbGVhcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHRpbWUgY2Fubm90IGJlIHJlYWQgaXQgbWFrZXMgbm8gc2Vuc2UgdG8gY29udGludWVcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTeW5jIGN1cnJlbnRUaW1lIG9mIHNlZWtiYXIgdG8gcGxheWVyXG4gICAgICAgIGxldCBjdXJyZW50VGltZURlbHRhID0gY3VycmVudFRpbWVTZWVrQmFyIC0gY3VycmVudFRpbWVQbGF5ZXI7XG4gICAgICAgIC8vIElmIHRoZSBkZWx0YSBpcyBsYXJnZXIgdGhhdCAyIHNlY3MsIGRpcmVjdGx5IGp1bXAgdGhlIHNlZWtiYXIgdG8gdGhlXG4gICAgICAgIC8vIHBsYXllciB0aW1lIGluc3RlYWQgb2Ygc21vb3RobHkgZmFzdCBmb3J3YXJkaW5nL3Jld2luZGluZy5cbiAgICAgICAgaWYgKE1hdGguYWJzKGN1cnJlbnRUaW1lRGVsdGEpID4gMikge1xuICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciA9IGN1cnJlbnRUaW1lUGxheWVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGN1cnJlbnRUaW1lRGVsdGEgaXMgbmVnYXRpdmUgYW5kIGJlbG93IHRoZSBhZGp1c3RtZW50IHRocmVzaG9sZCxcbiAgICAgICAgLy8gdGhlIHBsYXllciBpcyBhaGVhZCBvZiB0aGUgc2Vla2JhciBhbmQgd2UgJ2Zhc3QgZm9yd2FyZCcgdGhlIHNlZWtiYXJcbiAgICAgICAgZWxzZSBpZiAoY3VycmVudFRpbWVEZWx0YSA8PSAtY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3MpIHtcbiAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgKz0gY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3M7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgY3VycmVudFRpbWVEZWx0YSBpcyBwb3NpdGl2ZSBhbmQgYWJvdmUgdGhlIGFkanVzdG1lbnQgdGhyZXNob2xkLFxuICAgICAgICAvLyB0aGUgcGxheWVyIGlzIGJlaGluZCB0aGUgc2Vla2JhciBhbmQgd2UgJ3Jld2luZCcgdGhlIHNlZWtiYXJcbiAgICAgICAgZWxzZSBpZiAoY3VycmVudFRpbWVEZWx0YSA+PSBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2Vjcykge1xuICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciAtPSBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2VjcztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9XG4gICAgICAgICAgKDEwMCAvIHBsYXllci5nZXREdXJhdGlvbigpKSAqIGN1cnJlbnRUaW1lU2Vla0JhcjtcbiAgICAgICAgdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKTtcblxuICAgIGxldCBzdGFydFNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyID0gKCkgPT4ge1xuICAgICAgaWYgKCFwbGF5ZXIuaXNMaXZlKCkpIHtcbiAgICAgICAgY3VycmVudFRpbWVTZWVrQmFyID0gdGhpcy5nZXRSZWxhdGl2ZUN1cnJlbnRUaW1lKCk7XG4gICAgICAgIHRoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuc3RhcnQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IHN0b3BTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9ICgpID0+IHtcbiAgICAgIHRoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuY2xlYXIoKTtcbiAgICB9O1xuXG4gICAgcGxheWVyLm9uKFxuICAgICAgcGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheSxcbiAgICAgIHN0YXJ0U21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXJcbiAgICApO1xuICAgIHBsYXllci5vbihcbiAgICAgIHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlBsYXlpbmcsXG4gICAgICBzdGFydFNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyXG4gICAgKTtcbiAgICBwbGF5ZXIub24oXG4gICAgICBwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QYXVzZWQsXG4gICAgICBzdG9wU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXJcbiAgICApO1xuICAgIHBsYXllci5vbihcbiAgICAgIHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlBsYXliYWNrRmluaXNoZWQsXG4gICAgICBzdG9wU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXJcbiAgICApO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TZWVrZWQsICgpID0+IHtcbiAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciA9IHRoaXMuZ2V0UmVsYXRpdmVDdXJyZW50VGltZSgpO1xuICAgIH0pO1xuICAgIHBsYXllci5vbihcbiAgICAgIHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNvdXJjZVVubG9hZGVkLFxuICAgICAgc3RvcFNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyXG4gICAgKTtcblxuICAgIGlmIChwbGF5ZXIuaXNQbGF5aW5nKCkpIHtcbiAgICAgIHN0YXJ0U21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFJlbGF0aXZlQ3VycmVudFRpbWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gUGxheWVyVXRpbHMuZ2V0Q3VycmVudFRpbWVSZWxhdGl2ZVRvU2Vla2FibGVSYW5nZSh0aGlzLnBsYXllcik7XG4gIH1cblxuICByZWxlYXNlKCk6IHZvaWQge1xuICAgIHN1cGVyLnJlbGVhc2UoKTtcblxuICAgIGlmICh0aGlzLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyKSB7XG4gICAgICAvLyBvYmplY3QgbXVzdCBub3QgbmVjZXNzYXJpbHkgZXhpc3QsIGUuZy4gaW4gdm9sdW1lIHNsaWRlciBzdWJjbGFzc1xuICAgICAgdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlci5jbGVhcigpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhdXNlZFRpbWVzaGlmdFVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucGF1c2VkVGltZXNoaWZ0VXBkYXRlci5jbGVhcigpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVTZWVrUHJldmlldykge1xuICAgICAgdGhpcy5vblNlZWtQcmV2aWV3LnVuc3Vic2NyaWJlKHRoaXMuc2Vla1doaWxlU2NydWJiaW5nKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgdG9Eb21FbGVtZW50KCk6IERPTSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLmNvbmZpZy5jc3NDbGFzc2VzLnB1c2goXCJ2ZXJ0aWNhbFwiKTtcbiAgICB9XG5cbiAgICBsZXQgc2Vla0JhckNvbnRhaW5lciA9IG5ldyBET00oXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICBpZDogdGhpcy5jb25maWcuaWQsXG4gICAgICAgIGNsYXNzOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcbiAgICAgICAgcm9sZTogXCJzbGlkZXJcIixcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IGkxOG4ucGVyZm9ybUxvY2FsaXphdGlvbih0aGlzLmNvbmZpZy5hcmlhTGFiZWwpLFxuICAgICAgICB0YWJpbmRleDogdGhpcy5jb25maWcudGFiSW5kZXgudG9TdHJpbmcoKSxcbiAgICAgIH0sXG4gICAgICB0aGlzXG4gICAgKTtcblxuICAgIGxldCBzZWVrQmFyID0gbmV3IERPTShcImRpdlwiLCB7XG4gICAgICBjbGFzczogdGhpcy5wcmVmaXhDc3MoXCJzZWVrYmFyXCIpLFxuICAgIH0pO1xuICAgIHRoaXMuc2Vla0JhciA9IHNlZWtCYXI7XG5cbiAgICAvLyBJbmRpY2F0b3IgdGhhdCBzaG93cyB0aGUgYnVmZmVyIGZpbGwgbGV2ZWxcbiAgICBsZXQgc2Vla0JhckJ1ZmZlckxldmVsID0gbmV3IERPTShcImRpdlwiLCB7XG4gICAgICBjbGFzczogdGhpcy5wcmVmaXhDc3MoXCJzZWVrYmFyLWJ1ZmZlcmxldmVsXCIpLFxuICAgIH0pO1xuICAgIHRoaXMuc2Vla0JhckJ1ZmZlclBvc2l0aW9uID0gc2Vla0JhckJ1ZmZlckxldmVsO1xuXG4gICAgLy8gSW5kaWNhdG9yIHRoYXQgc2hvd3MgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb25cbiAgICBsZXQgc2Vla0JhclBsYXliYWNrUG9zaXRpb24gPSBuZXcgRE9NKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiB0aGlzLnByZWZpeENzcyhcInNlZWtiYXItcGxheWJhY2twb3NpdGlvblwiKSxcbiAgICB9KTtcbiAgICB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uID0gc2Vla0JhclBsYXliYWNrUG9zaXRpb247XG5cbiAgICAvLyBBIG1hcmtlciBvZiB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiwgZS5nLiBhIGRvdCBvciBsaW5lXG4gICAgbGV0IHNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyID0gbmV3IERPTShcImRpdlwiLCB7XG4gICAgICBjbGFzczogdGhpcy5wcmVmaXhDc3MoXCJzZWVrYmFyLXBsYXliYWNrcG9zaXRpb24tbWFya2VyXCIpLFxuICAgIH0pO1xuICAgIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIgPSBzZWVrQmFyUGxheWJhY2tQb3NpdGlvbk1hcmtlcjtcblxuICAgIC8vIEluZGljYXRvciB0aGF0IHNob3cgd2hlcmUgYSBzZWVrIHdpbGwgZ28gdG9cbiAgICBsZXQgc2Vla0JhclNlZWtQb3NpdGlvbiA9IG5ldyBET00oXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IHRoaXMucHJlZml4Q3NzKFwic2Vla2Jhci1zZWVrcG9zaXRpb25cIiksXG4gICAgfSk7XG4gICAgdGhpcy5zZWVrQmFyU2Vla1Bvc2l0aW9uID0gc2Vla0JhclNlZWtQb3NpdGlvbjtcblxuICAgIC8vIEluZGljYXRvciB0aGF0IHNob3dzIHRoZSBmdWxsIHNlZWtiYXJcbiAgICBsZXQgc2Vla0JhckJhY2tkcm9wID0gbmV3IERPTShcImRpdlwiLCB7XG4gICAgICBjbGFzczogdGhpcy5wcmVmaXhDc3MoXCJzZWVrYmFyLWJhY2tkcm9wXCIpLFxuICAgIH0pO1xuICAgIHRoaXMuc2Vla0JhckJhY2tkcm9wID0gc2Vla0JhckJhY2tkcm9wO1xuXG4gICAgbGV0IHNlZWtCYXJDaGFwdGVyTWFya2Vyc0NvbnRhaW5lciA9IG5ldyBET00oXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IHRoaXMucHJlZml4Q3NzKFwic2Vla2Jhci1tYXJrZXJzXCIpLFxuICAgIH0pO1xuICAgIHRoaXMuc2Vla0Jhck1hcmtlcnNDb250YWluZXIgPSBzZWVrQmFyQ2hhcHRlck1hcmtlcnNDb250YWluZXI7XG5cbiAgICBzZWVrQmFyLmFwcGVuZChcbiAgICAgIHRoaXMuc2Vla0JhckJhY2tkcm9wLFxuICAgICAgdGhpcy5zZWVrQmFyQnVmZmVyUG9zaXRpb24sXG4gICAgICB0aGlzLnNlZWtCYXJTZWVrUG9zaXRpb24sXG4gICAgICB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uLFxuICAgICAgdGhpcy5zZWVrQmFyTWFya2Vyc0NvbnRhaW5lcixcbiAgICAgIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXJcbiAgICApO1xuXG4gICAgbGV0IHNlZWtpbmcgPSBmYWxzZTtcblxuICAgIC8vIERlZmluZSBoYW5kbGVyIGZ1bmN0aW9ucyBzbyB3ZSBjYW4gYXR0YWNoL3JlbW92ZSB0aGVtIGxhdGVyXG4gICAgbGV0IG1vdXNlVG91Y2hNb3ZlSGFuZGxlciA9IChlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpb24gdG8gVlIgaGFuZGxlclxuICAgICAgaWYgKHRoaXMucGxheWVyLnZyICE9IG51bGwpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXQoZSk7XG4gICAgICBjb25zdCB0YXJnZXRQZXJjZW50YWdlID0gMTAwICogb2Zmc2V0O1xuICAgICAgY29uc3Qgc2Vla1Bvc2l0aW9uUHggPSBvZmZzZXQgKiB0aGlzLnNlZWtCYXIud2lkdGgoKTtcblxuICAgICAgdGhpcy5zZXRTZWVrUG9zaXRpb24odGFyZ2V0UGVyY2VudGFnZSk7XG4gICAgICB0aGlzLnNldFBsYXliYWNrUG9zaXRpb24odGFyZ2V0UGVyY2VudGFnZSk7XG4gICAgICB0aGlzLm9uU2Vla1ByZXZpZXdFdmVudCh0YXJnZXRQZXJjZW50YWdlLCBzZWVrUG9zaXRpb25QeCwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIGxldCBtb3VzZVRvdWNoVXBIYW5kbGVyID0gKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIC8vIFJlbW92ZSBoYW5kbGVycywgc2VlayBvcGVyYXRpb24gaXMgZmluaXNoZWRcbiAgICAgIG5ldyBET00oZG9jdW1lbnQpLm9mZihcInRvdWNobW92ZSBtb3VzZW1vdmVcIiwgbW91c2VUb3VjaE1vdmVIYW5kbGVyKTtcbiAgICAgIG5ldyBET00oZG9jdW1lbnQpLm9mZihcInRvdWNoZW5kIG1vdXNldXBcIiwgbW91c2VUb3VjaFVwSGFuZGxlcik7XG5cbiAgICAgIGxldCB0YXJnZXRQZXJjZW50YWdlID0gMTAwICogdGhpcy5nZXRPZmZzZXQoZSk7XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5zbmFwcGluZ0VuYWJsZWQpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdNYXJrZXIgPVxuICAgICAgICAgIHRoaXMudGltZWxpbmVNYXJrZXJzSGFuZGxlcj8uZ2V0TWFya2VyQXRQb3NpdGlvbih0YXJnZXRQZXJjZW50YWdlKTtcbiAgICAgICAgdGFyZ2V0UGVyY2VudGFnZSA9IG1hdGNoaW5nTWFya2VyXG4gICAgICAgICAgPyBtYXRjaGluZ01hcmtlci5wb3NpdGlvblxuICAgICAgICAgIDogdGFyZ2V0UGVyY2VudGFnZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTZWVraW5nKGZhbHNlKTtcbiAgICAgIHNlZWtpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gRmlyZSBzZWVrZWQgZXZlbnRcbiAgICAgIHRoaXMub25TZWVrZWRFdmVudCh0YXJnZXRQZXJjZW50YWdlKTtcbiAgICB9O1xuXG4gICAgLy8gQSBzZWVrIGFsd2F5cyBzdGFydCB3aXRoIGEgdG91Y2hzdGFydCBvciBtb3VzZWRvd24gZGlyZWN0bHkgb24gdGhlIHNlZWtiYXIuXG4gICAgLy8gVG8gdHJhY2sgYSBtb3VzZSBzZWVrIGFsc28gb3V0c2lkZSB0aGUgc2Vla2JhciAoZm9yIHRvdWNoIGV2ZW50cyB0aGlzIHdvcmtzIGF1dG9tYXRpY2FsbHkpLFxuICAgIC8vIHNvIHRoZSB1c2VyIGRvZXMgbm90IG5lZWQgdG8gdGFrZSBjYXJlIHRoYXQgdGhlIG1vdXNlIGFsd2F5cyBzdGF5cyBvbiB0aGUgc2Vla2Jhciwgd2UgYXR0YWNoIHRoZSBtb3VzZW1vdmVcbiAgICAvLyBhbmQgbW91c2V1cCBoYW5kbGVycyB0byB0aGUgd2hvbGUgZG9jdW1lbnQuIEEgc2VlayBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBsaWZ0cyB0aGUgbW91c2Uga2V5LlxuICAgIC8vIEEgc2VlayBtb3VzZSBnZXN0dXJlIGlzIHRodXMgYmFzaWNhbGx5IGEgY2xpY2sgd2l0aCBhIGxvbmcgdGltZSBmcmFtZSBiZXR3ZWVuIGRvd24gYW5kIHVwIGV2ZW50cy5cbiAgICBzZWVrQmFyLm9uKFwidG91Y2hzdGFydCBtb3VzZWRvd25cIiwgKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBsZXQgaXNUb3VjaEV2ZW50ID0gQnJvd3NlclV0aWxzLmlzVG91Y2hTdXBwb3J0ZWQgJiYgdGhpcy5pc1RvdWNoRXZlbnQoZSk7XG5cbiAgICAgIC8vIFByZXZlbnQgc2VsZWN0aW9uIG9mIERPTSBlbGVtZW50cyAoYWxzbyBwcmV2ZW50cyBtb3VzZWRvd24gaWYgY3VycmVudCBldmVudCBpcyB0b3VjaHN0YXJ0KVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpb24gdG8gVlIgaGFuZGxlclxuICAgICAgaWYgKHRoaXMucGxheWVyLnZyICE9IG51bGwpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTZWVraW5nKHRydWUpOyAvLyBTZXQgc2Vla2luZyBjbGFzcyBvbiBET00gZWxlbWVudFxuICAgICAgc2Vla2luZyA9IHRydWU7IC8vIFNldCBzZWVrIHRyYWNraW5nIGZsYWdcblxuICAgICAgLy8gRmlyZSBzZWVrZWQgZXZlbnRcbiAgICAgIHRoaXMub25TZWVrRXZlbnQoKTtcblxuICAgICAgLy8gQWRkIGhhbmRsZXIgdG8gdHJhY2sgdGhlIHNlZWsgb3BlcmF0aW9uIG92ZXIgdGhlIHdob2xlIGRvY3VtZW50XG4gICAgICBuZXcgRE9NKGRvY3VtZW50KS5vbihcbiAgICAgICAgaXNUb3VjaEV2ZW50ID8gXCJ0b3VjaG1vdmVcIiA6IFwibW91c2Vtb3ZlXCIsXG4gICAgICAgIG1vdXNlVG91Y2hNb3ZlSGFuZGxlclxuICAgICAgKTtcbiAgICAgIG5ldyBET00oZG9jdW1lbnQpLm9uKFxuICAgICAgICBpc1RvdWNoRXZlbnQgPyBcInRvdWNoZW5kXCIgOiBcIm1vdXNldXBcIixcbiAgICAgICAgbW91c2VUb3VjaFVwSGFuZGxlclxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIERpc3BsYXkgc2VlayB0YXJnZXQgaW5kaWNhdG9yIHdoZW4gbW91c2UgaG92ZXJzIG9yIGZpbmdlciBzbGlkZXMgb3ZlciBzZWVrYmFyXG4gICAgc2Vla0Jhci5vbihcInRvdWNobW92ZSBtb3VzZW1vdmVcIiwgKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmIChzZWVraW5nKSB7XG4gICAgICAgIG1vdXNlVG91Y2hNb3ZlSGFuZGxlcihlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXQoZSk7XG4gICAgICBjb25zdCBzZWVrUG9zaXRpb25QZXJjZW50YWdlID0gMTAwICogb2Zmc2V0O1xuICAgICAgY29uc3Qgc2Vla1Bvc2l0aW9uUHggPSBvZmZzZXQgKiB0aGlzLnNlZWtCYXIud2lkdGgoKTtcblxuICAgICAgdGhpcy5zZXRTZWVrUG9zaXRpb24oc2Vla1Bvc2l0aW9uUGVyY2VudGFnZSk7XG4gICAgICB0aGlzLm9uU2Vla1ByZXZpZXdFdmVudChzZWVrUG9zaXRpb25QZXJjZW50YWdlLCBzZWVrUG9zaXRpb25QeCwgZmFsc2UpO1xuXG4gICAgICBpZiAodGhpcy5oYXNMYWJlbCgpICYmIHRoaXMuZ2V0TGFiZWwoKS5pc0hpZGRlbigpKSB7XG4gICAgICAgIHRoaXMuZ2V0TGFiZWwoKS5zaG93KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBIaWRlIHNlZWsgdGFyZ2V0IGluZGljYXRvciB3aGVuIG1vdXNlIG9yIGZpbmdlciBsZWF2ZXMgc2Vla2JhclxuICAgIHNlZWtCYXIub24oXCJ0b3VjaGVuZCBtb3VzZWxlYXZlXCIsIChlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB0aGlzLnNldFNlZWtQb3NpdGlvbigwKTtcblxuICAgICAgaWYgKHRoaXMuaGFzTGFiZWwoKSkge1xuICAgICAgICB0aGlzLmdldExhYmVsKCkuaGlkZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2Vla0JhckNvbnRhaW5lci5hcHBlbmQoc2Vla0Jhcik7XG5cbiAgICBpZiAodGhpcy5sYWJlbCkge1xuICAgICAgc2Vla0JhckNvbnRhaW5lci5hcHBlbmQodGhpcy5sYWJlbC5nZXREb21FbGVtZW50KCkpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWVrQmFyQ29udGFpbmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGhvcml6b250YWwgb2Zmc2V0IG9mIGEgbW91c2UvdG91Y2ggZXZlbnQgcG9pbnQgZnJvbSB0aGUgbGVmdCBlZGdlIG9mIHRoZSBzZWVrIGJhci5cbiAgICogQHBhcmFtIGV2ZW50UGFnZVggdGhlIHBhZ2VYIGNvb3JkaW5hdGUgb2YgYW4gZXZlbnQgdG8gY2FsY3VsYXRlIHRoZSBvZmZzZXQgZnJvbVxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBhIG51bWJlciBpbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLCB3aGVyZSAwIGlzIHRoZSBsZWZ0IGVkZ2UgYW5kIDEgaXMgdGhlIHJpZ2h0IGVkZ2VcbiAgICovXG4gIHByaXZhdGUgZ2V0SG9yaXpvbnRhbE9mZnNldChldmVudFBhZ2VYOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCBlbGVtZW50T2Zmc2V0UHggPSB0aGlzLnNlZWtCYXIub2Zmc2V0KCkubGVmdDtcbiAgICBsZXQgd2lkdGhQeCA9IHRoaXMuc2Vla0Jhci53aWR0aCgpO1xuICAgIGxldCBvZmZzZXRQeCA9IGV2ZW50UGFnZVggLSBlbGVtZW50T2Zmc2V0UHg7XG4gICAgbGV0IG9mZnNldCA9ICgxIC8gd2lkdGhQeCkgKiBvZmZzZXRQeDtcblxuICAgIHJldHVybiB0aGlzLnNhbml0aXplT2Zmc2V0KG9mZnNldCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmVydGljYWwgb2Zmc2V0IG9mIGEgbW91c2UvdG91Y2ggZXZlbnQgcG9pbnQgZnJvbSB0aGUgYm90dG9tIGVkZ2Ugb2YgdGhlIHNlZWsgYmFyLlxuICAgKiBAcGFyYW0gZXZlbnRQYWdlWSB0aGUgcGFnZVggY29vcmRpbmF0ZSBvZiBhbiBldmVudCB0byBjYWxjdWxhdGUgdGhlIG9mZnNldCBmcm9tXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGEgbnVtYmVyIGluIHRoZSByYW5nZSBvZiBbMCwgMV0sIHdoZXJlIDAgaXMgdGhlIGJvdHRvbSBlZGdlIGFuZCAxIGlzIHRoZSB0b3AgZWRnZVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRWZXJ0aWNhbE9mZnNldChldmVudFBhZ2VZOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCBlbGVtZW50T2Zmc2V0UHggPSB0aGlzLnNlZWtCYXIub2Zmc2V0KCkudG9wO1xuICAgIGxldCB3aWR0aFB4ID0gdGhpcy5zZWVrQmFyLmhlaWdodCgpO1xuICAgIGxldCBvZmZzZXRQeCA9IGV2ZW50UGFnZVkgLSBlbGVtZW50T2Zmc2V0UHg7XG4gICAgbGV0IG9mZnNldCA9ICgxIC8gd2lkdGhQeCkgKiBvZmZzZXRQeDtcblxuICAgIHJldHVybiAxIC0gdGhpcy5zYW5pdGl6ZU9mZnNldChvZmZzZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vdXNlIG9yIHRvdWNoIGV2ZW50IG9mZnNldCBmb3IgdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbiAoaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCkuXG4gICAqIEBwYXJhbSBlIHRoZSBldmVudCB0byBjYWxjdWxhdGUgdGhlIG9mZnNldCBmcm9tXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGEgbnVtYmVyIGluIHRoZSByYW5nZSBvZiBbMCwgMV1cbiAgICogQHNlZSAjZ2V0SG9yaXpvbnRhbE9mZnNldFxuICAgKiBAc2VlICNnZXRWZXJ0aWNhbE9mZnNldFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRPZmZzZXQoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpOiBudW1iZXIge1xuICAgIGlmIChCcm93c2VyVXRpbHMuaXNUb3VjaFN1cHBvcnRlZCAmJiB0aGlzLmlzVG91Y2hFdmVudChlKSkge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlcnRpY2FsT2Zmc2V0KFxuICAgICAgICAgIGUudHlwZSA9PT0gXCJ0b3VjaGVuZFwiID8gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSA6IGUudG91Y2hlc1swXS5wYWdlWVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SG9yaXpvbnRhbE9mZnNldChcbiAgICAgICAgICBlLnR5cGUgPT09IFwidG91Y2hlbmRcIiA/IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggOiBlLnRvdWNoZXNbMF0ucGFnZVhcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5jb25maWcudmVydGljYWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVydGljYWxPZmZzZXQoZS5wYWdlWSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRIb3Jpem9udGFsT2Zmc2V0KGUucGFnZVgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY29uc29sZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJpbnZhbGlkIGV2ZW50XCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNhbml0aXplcyB0aGUgbW91c2Ugb2Zmc2V0IHRvIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gICAqXG4gICAqIFdoZW4gdHJhY2tpbmcgdGhlIG1vdXNlIG91dHNpZGUgdGhlIHNlZWsgYmFyLCB0aGUgb2Zmc2V0IGNhbiBiZSBvdXRzaWRlIHRoZSBkZXNpcmVkIHJhbmdlIGFuZCB0aGlzIG1ldGhvZFxuICAgKiBsaW1pdHMgaXQgdG8gdGhlIGRlc2lyZWQgcmFuZ2UuIEUuZy4gYSBtb3VzZSBldmVudCBsZWZ0IG9mIHRoZSBsZWZ0IGVkZ2Ugb2YgYSBzZWVrIGJhciB5aWVsZHMgYW4gb2Zmc2V0IGJlbG93XG4gICAqIHplcm8sIGJ1dCB0byBkaXNwbGF5IHRoZSBzZWVrIHRhcmdldCBvbiB0aGUgc2VlayBiYXIsIHdlIG5lZWQgdG8gbGltaXQgaXQgdG8gemVyby5cbiAgICpcbiAgICogQHBhcmFtIG9mZnNldCB0aGUgb2Zmc2V0IHRvIHNhbml0aXplXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBzYW5pdGl6ZWQgb2Zmc2V0LlxuICAgKi9cbiAgcHJpdmF0ZSBzYW5pdGl6ZU9mZnNldChvZmZzZXQ6IG51bWJlcikge1xuICAgIC8vIFNpbmNlIHdlIHRyYWNrIG1vdXNlIG1vdmVzIG92ZXIgdGhlIHdob2xlIGRvY3VtZW50LCB0aGUgdGFyZ2V0IGNhbiBiZSBvdXRzaWRlIHRoZSBzZWVrIHJhbmdlLFxuICAgIC8vIGFuZCB3ZSBuZWVkIHRvIGxpbWl0IGl0IHRvIHRoZSBbMCwgMV0gcmFuZ2UuXG4gICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfSBlbHNlIGlmIChvZmZzZXQgPiAxKSB7XG4gICAgICBvZmZzZXQgPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBvZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIHBsYXliYWNrIHBvc2l0aW9uIGluZGljYXRvci5cbiAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDAgYXMgcmV0dXJuZWQgYnkgdGhlIHBsYXllclxuICAgKi9cbiAgc2V0UGxheWJhY2tQb3NpdGlvbihwZXJjZW50OiBudW1iZXIpIHtcbiAgICB0aGlzLnBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlID0gcGVyY2VudDtcblxuICAgIC8vIFNldCBwb3NpdGlvbiBvZiB0aGUgYmFyXG4gICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uLCBwZXJjZW50KTtcblxuICAgIC8vIFNldCBwb3NpdGlvbiBvZiB0aGUgbWFya2VyXG4gICAgbGV0IHRvdGFsU2l6ZSA9IHRoaXMuY29uZmlnLnZlcnRpY2FsXG4gICAgICA/IHRoaXMuc2Vla0Jhci5oZWlnaHQoKSAtIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIuaGVpZ2h0KClcbiAgICAgIDogdGhpcy5zZWVrQmFyLndpZHRoKCk7XG4gICAgbGV0IHB4ID0gKHRvdGFsU2l6ZSAvIDEwMCkgKiBwZXJjZW50O1xuICAgIGlmICh0aGlzLmNvbmZpZy52ZXJ0aWNhbCkge1xuICAgICAgcHggPVxuICAgICAgICB0aGlzLnNlZWtCYXIuaGVpZ2h0KCkgLVxuICAgICAgICBweCAtXG4gICAgICAgIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIuaGVpZ2h0KCk7XG4gICAgfVxuXG4gICAgbGV0IHN0eWxlID0gdGhpcy5jb25maWcudmVydGljYWxcbiAgICAgID8gLy8gLW1zLXRyYW5zZm9ybSByZXF1aXJlZCBmb3IgSUU5XG4gICAgICAgIC8vIC13ZWJraXQtdHJhbnNmb3JtIHJlcXVpcmVkIGZvciBBbmRyb2lkIDQuNCBXZWJWaWV3XG4gICAgICAgIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWShcIiArIHB4ICsgXCJweClcIixcbiAgICAgICAgICBcIi1tcy10cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGVZKFwiICsgcHggKyBcInB4KVwiLFxuICAgICAgICAgIFwiLXdlYmtpdC10cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGVZKFwiICsgcHggKyBcInB4KVwiLFxuICAgICAgICB9XG4gICAgICA6IHtcbiAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWChcIiArIHB4ICsgXCJweClcIixcbiAgICAgICAgICBcIi1tcy10cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGVYKFwiICsgcHggKyBcInB4KVwiLFxuICAgICAgICAgIFwiLXdlYmtpdC10cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGVYKFwiICsgcHggKyBcInB4KVwiLFxuICAgICAgICB9O1xuICAgIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIuY3NzKHN0eWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoZXMgdGhlIHBsYXliYWNrIHBvc2l0aW9uLiBDYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIHJlZnJlc2ggdGhlIHBvc2l0aW9uIHdoZW5cbiAgICogdGhlIHNpemUgb2YgdGhlIGNvbXBvbmVudCBjaGFuZ2VzLlxuICAgKi9cbiAgcHJvdGVjdGVkIHJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCkge1xuICAgIHRoaXMuc2V0UGxheWJhY2tQb3NpdGlvbih0aGlzLnBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwb3NpdGlvbiB1bnRpbCB3aGljaCBtZWRpYSBpcyBidWZmZXJlZC5cbiAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDBcbiAgICovXG4gIHNldEJ1ZmZlclBvc2l0aW9uKHBlcmNlbnQ6IG51bWJlcikge1xuICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5zZWVrQmFyQnVmZmVyUG9zaXRpb24sIHBlcmNlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBvc2l0aW9uIHdoZXJlIGEgc2VlaywgaWYgZXhlY3V0ZWQsIHdvdWxkIGp1bXAgdG8uXG4gICAqIEBwYXJhbSBwZXJjZW50IGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwXG4gICAqL1xuICBzZXRTZWVrUG9zaXRpb24ocGVyY2VudDogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlZWtCYXJTZWVrUG9zaXRpb24sIHBlcmNlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYWN0dWFsIHBvc2l0aW9uICh3aWR0aCBvciBoZWlnaHQpIG9mIGEgRE9NIGVsZW1lbnQgdGhhdCByZXByZXNlbnQgYSBiYXIgaW4gdGhlIHNlZWsgYmFyLlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgZWxlbWVudCB0byBzZXQgdGhlIHBvc2l0aW9uIGZvclxuICAgKiBAcGFyYW0gcGVyY2VudCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMFxuICAgKi9cbiAgcHJpdmF0ZSBzZXRQb3NpdGlvbihlbGVtZW50OiBET00sIHBlcmNlbnQ6IG51bWJlcikge1xuICAgIGxldCBzY2FsZSA9IHBlcmNlbnQgLyAxMDA7XG5cbiAgICAvLyBXaGVuIHRoZSBzY2FsZSBpcyBleGFjdGx5IDEgb3IgdmVyeSBuZWFyIDEgKGFuZCB0aGUgYnJvd3NlciBpbnRlcm5hbGx5IHJvdW5kcyBpdCB0byAxKSwgYnJvd3NlcnMgc2VlbSB0byByZW5kZXJcbiAgICAvLyB0aGUgZWxlbWVudHMgZGlmZmVyZW50bHkgYW5kIHRoZSBoZWlnaHQgZ2V0cyBzbGlnaHRseSBvZmYsIGxlYWRpbmcgdG8gbWlzbWF0Y2hpbmcgaGVpZ2h0cyB3aGVuIGUuZy4gdGhlIGJ1ZmZlclxuICAgIC8vIGxldmVsIGJhciBoYXMgYSB3aWR0aCBvZiAxIGFuZCB0aGUgcGxheWJhY2sgcG9zaXRpb24gYmFyIGhhcyBhIHdpZHRoIDwgMS4gQSBqaXR0ZXJpbmcgYnVmZmVyIGxldmVsIGFyb3VuZCAxXG4gICAgLy8gbGVhZHMgdG8gYW4gZXZlbiB3b3JzZSBmbGlja2VyaW5nIGVmZmVjdC5cbiAgICAvLyBWYXJpb3VzIGNoYW5nZXMgaW4gQ1NTIHN0eWxpbmcgYW5kIERPTSBoaWVyYXJjaHkgZGlkIG5vdCBzb2x2ZSB0aGUgaXNzdWUgc28gdGhlIHdvcmthcm91bmQgaXMgdG8gYXZvaWQgYSBzY2FsZVxuICAgIC8vIG9mIGV4YWN0bHkgMS5cbiAgICBpZiAoc2NhbGUgPj0gMC45OTk5OSAmJiBzY2FsZSA8PSAxLjAwMDAxKSB7XG4gICAgICBzY2FsZSA9IDAuOTk5OTk7XG4gICAgfVxuXG4gICAgbGV0IHN0eWxlID0gdGhpcy5jb25maWcudmVydGljYWxcbiAgICAgID8gLy8gLW1zLXRyYW5zZm9ybSByZXF1aXJlZCBmb3IgSUU5XG4gICAgICAgIC8vIC13ZWJraXQtdHJhbnNmb3JtIHJlcXVpcmVkIGZvciBBbmRyb2lkIDQuNCBXZWJWaWV3XG4gICAgICAgIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IFwic2NhbGVZKFwiICsgc2NhbGUgKyBcIilcIixcbiAgICAgICAgICBcIi1tcy10cmFuc2Zvcm1cIjogXCJzY2FsZVkoXCIgKyBzY2FsZSArIFwiKVwiLFxuICAgICAgICAgIFwiLXdlYmtpdC10cmFuc2Zvcm1cIjogXCJzY2FsZVkoXCIgKyBzY2FsZSArIFwiKVwiLFxuICAgICAgICB9XG4gICAgICA6IHtcbiAgICAgICAgICB0cmFuc2Zvcm06IFwic2NhbGVYKFwiICsgc2NhbGUgKyBcIilcIixcbiAgICAgICAgICBcIi1tcy10cmFuc2Zvcm1cIjogXCJzY2FsZVgoXCIgKyBzY2FsZSArIFwiKVwiLFxuICAgICAgICAgIFwiLXdlYmtpdC10cmFuc2Zvcm1cIjogXCJzY2FsZVgoXCIgKyBzY2FsZSArIFwiKVwiLFxuICAgICAgICB9O1xuICAgIGVsZW1lbnQuY3NzKHN0eWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdXRzIHRoZSBzZWVrIGJhciBpbnRvIG9yIG91dCBvZiBzZWVraW5nIHN0YXRlIGJ5IGFkZGluZy9yZW1vdmluZyBhIGNsYXNzIHRvIHRoZSBET00gZWxlbWVudC4gVGhpcyBjYW4gYmUgdXNlZFxuICAgKiB0byBhZGp1c3QgdGhlIHN0eWxpbmcgd2hpbGUgc2Vla2luZy5cbiAgICpcbiAgICogQHBhcmFtIHNlZWtpbmcgc2hvdWxkIGJlIHRydWUgd2hlbiBlbnRlcmluZyBzZWVrIHN0YXRlLCBmYWxzZSB3aGVuIGV4aXRpbmcgdGhlIHNlZWsgc3RhdGVcbiAgICovXG4gIHNldFNlZWtpbmcoc2Vla2luZzogYm9vbGVhbikge1xuICAgIGlmIChzZWVraW5nKSB7XG4gICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhTZWVrQmFyLkNMQVNTX1NFRUtJTkcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoU2Vla0Jhci5DTEFTU19TRUVLSU5HKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgc2VlayBiYXIgaXMgY3VycmVudGx5IGluIHRoZSBzZWVrIHN0YXRlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBpbiBzZWVrIHN0YXRlLCBlbHNlIGZhbHNlXG4gICAqL1xuICBpc1NlZWtpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmhhc0NsYXNzKHRoaXMucHJlZml4Q3NzKFNlZWtCYXIuQ0xBU1NfU0VFS0lORykpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgc2VlayBiYXIgaGFzIGEge0BsaW5rIFNlZWtCYXJMYWJlbH0uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBzZWVrIGJhciBoYXMgYSBsYWJlbCwgZWxzZSBmYWxzZVxuICAgKi9cbiAgaGFzTGFiZWwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubGFiZWwgIT0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBsYWJlbCBvZiB0aGlzIHNlZWsgYmFyLlxuICAgKiBAcmV0dXJucyB7U2Vla0JhckxhYmVsfSB0aGUgbGFiZWwgaWYgdGhpcyBzZWVrIGJhciBoYXMgYSBsYWJlbCwgZWxzZSBudWxsXG4gICAqL1xuICBnZXRMYWJlbCgpOiBTZWVrQmFyTGFiZWwgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5sYWJlbDtcbiAgfVxuXG4gIHByb3RlY3RlZCBvblNlZWtFdmVudCgpIHtcbiAgICB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrLmRpc3BhdGNoKHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVMYWJlbFBvc2l0aW9uID0gKHBpeGVsUG9zaXRpb246IG51bWJlcikgPT4ge1xuICAgIGlmICghdGhpcy51aUJvdW5kaW5nUmVjdCkge1xuICAgICAgdGhpcy51aUJvdW5kaW5nUmVjdCA9IHRoaXMudWlNYW5hZ2VyXG4gICAgICAgIC5nZXRVSSgpXG4gICAgICAgIC5nZXREb21FbGVtZW50KClcbiAgICAgICAgLmdldCgwKVxuICAgICAgICAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5sYWJlbC5zZXRQb3NpdGlvbkluQm91bmRzKHBpeGVsUG9zaXRpb24sIHRoaXMudWlCb3VuZGluZ1JlY3QpO1xuICB9O1xuXG4gIHByb3RlY3RlZCBvblNlZWtQcmV2aWV3RXZlbnQoXG4gICAgcGVyY2VudGFnZTogbnVtYmVyLFxuICAgIHRhcmdldE9mZnNldFB4OiBudW1iZXIsXG4gICAgc2NydWJiaW5nOiBib29sZWFuXG4gICkge1xuICAgIGxldCBzbmFwcGVkTWFya2VyID1cbiAgICAgIHRoaXMudGltZWxpbmVNYXJrZXJzSGFuZGxlciAmJlxuICAgICAgdGhpcy50aW1lbGluZU1hcmtlcnNIYW5kbGVyLmdldE1hcmtlckF0UG9zaXRpb24ocGVyY2VudGFnZSk7XG5cbiAgICBsZXQgc2Vla1Bvc2l0aW9uUGVyY2VudGFnZSA9IHBlcmNlbnRhZ2U7XG5cbiAgICBpZiAoc25hcHBlZE1hcmtlcikge1xuICAgICAgaWYgKHNuYXBwZWRNYXJrZXIuZHVyYXRpb24gPiAwKSB7XG4gICAgICAgIGlmIChwZXJjZW50YWdlIDwgc25hcHBlZE1hcmtlci5wb3NpdGlvbikge1xuICAgICAgICAgIC8vIFNuYXAgdGhlIHBvc2l0aW9uIHRvIHRoZSBzdGFydCBvZiB0aGUgaW50ZXJ2YWwgaWYgdGhlIHNlZWsgaXMgd2l0aGluIHRoZSBsZWZ0IHNuYXAgbWFyZ2luXG4gICAgICAgICAgLy8gV2Uga25vdyB0aGF0IHdlIGFyZSB3aXRoaW4gYSBzbmFwIG1hcmdpbiB3aGVuIHdlIGFyZSBvdXRzaWRlIHRoZSBtYXJrZXIgaW50ZXJ2YWwgYnV0IHN0aWxsXG4gICAgICAgICAgLy8gaGF2ZSBhIHNuYXBwZWRNYXJrZXJcbiAgICAgICAgICBzZWVrUG9zaXRpb25QZXJjZW50YWdlID0gc25hcHBlZE1hcmtlci5wb3NpdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBwZXJjZW50YWdlID5cbiAgICAgICAgICBzbmFwcGVkTWFya2VyLnBvc2l0aW9uICsgc25hcHBlZE1hcmtlci5kdXJhdGlvblxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBTbmFwIHRoZSBwb3NpdGlvbiB0byB0aGUgZW5kIG9mIHRoZSBpbnRlcnZhbCBpZiB0aGUgc2VlayBpcyB3aXRoaW4gdGhlIHJpZ2h0IHNuYXAgbWFyZ2luXG4gICAgICAgICAgc2Vla1Bvc2l0aW9uUGVyY2VudGFnZSA9XG4gICAgICAgICAgICBzbmFwcGVkTWFya2VyLnBvc2l0aW9uICsgc25hcHBlZE1hcmtlci5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUG9zaXRpb24gbWFya2VycyBhbHdheXMgc25hcCB0byB0aGVpciBtYXJrZXIgcG9zaXRpb25cbiAgICAgICAgc2Vla1Bvc2l0aW9uUGVyY2VudGFnZSA9IHNuYXBwZWRNYXJrZXIucG9zaXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubGFiZWwpIHtcbiAgICAgIHRoaXMudXBkYXRlTGFiZWxQb3NpdGlvbih0YXJnZXRPZmZzZXRQeCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vla1ByZXZpZXcuZGlzcGF0Y2godGhpcywge1xuICAgICAgc2NydWJiaW5nOiBzY3J1YmJpbmcsXG4gICAgICBwb3NpdGlvbjogc2Vla1Bvc2l0aW9uUGVyY2VudGFnZSxcbiAgICAgIG1hcmtlcjogc25hcHBlZE1hcmtlcixcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvblNlZWtlZEV2ZW50KHBlcmNlbnRhZ2U6IG51bWJlcikge1xuICAgIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWtlZC5kaXNwYXRjaCh0aGlzLCBwZXJjZW50YWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gYSBzY3J1YmJpbmcgc2VlayBvcGVyYXRpb24gaXMgc3RhcnRlZC5cbiAgICogQHJldHVybnMge0V2ZW50PFNlZWtCYXIsIE5vQXJncz59XG4gICAqL1xuICBnZXQgb25TZWVrKCk6IEV2ZW50PFNlZWtCYXIsIE5vQXJncz4ge1xuICAgIHJldHVybiB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrLmdldEV2ZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCBkdXJpbmcgYSBzY3J1YmJpbmcgc2VlayAodG8gaW5kaWNhdGUgdGhhdCB0aGUgc2VlayBwcmV2aWV3LCBpLmUuIHRoZSB2aWRlbyBmcmFtZSxcbiAgICogc2hvdWxkIGJlIHVwZGF0ZWQpLCBvciBkdXJpbmcgYSBub3JtYWwgc2VlayBwcmV2aWV3IHdoZW4gdGhlIHNlZWsgYmFyIGlzIGhvdmVyZWQgKGFuZCB0aGUgc2VlayB0YXJnZXQsXG4gICAqIGkuZS4gdGhlIHNlZWsgYmFyIGxhYmVsLCBzaG91bGQgYmUgdXBkYXRlZCkuXG4gICAqIEByZXR1cm5zIHtFdmVudDxTZWVrQmFyLCBTZWVrUHJldmlld0V2ZW50QXJncz59XG4gICAqL1xuICBnZXQgb25TZWVrUHJldmlldygpOiBFdmVudDxTZWVrQmFyLCBTZWVrUHJldmlld0V2ZW50QXJncz4ge1xuICAgIHJldHVybiB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrUHJldmlldy5nZXRFdmVudCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhIHNjcnViYmluZyBzZWVrIGhhcyBmaW5pc2hlZCBvciB3aGVuIGEgZGlyZWN0IHNlZWsgaXMgaXNzdWVkLlxuICAgKiBAcmV0dXJucyB7RXZlbnQ8U2Vla0JhciwgbnVtYmVyPn1cbiAgICovXG4gIGdldCBvblNlZWtlZCgpOiBFdmVudDxTZWVrQmFyLCBudW1iZXI+IHtcbiAgICByZXR1cm4gdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vla2VkLmdldEV2ZW50KCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25TaG93RXZlbnQoKTogdm9pZCB7XG4gICAgc3VwZXIub25TaG93RXZlbnQoKTtcblxuICAgIC8vIFJlZnJlc2ggdGhlIHBvc2l0aW9uIG9mIHRoZSBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIHRoZSBzZWVrIGJhciBiZWNvbWVzIHZpc2libGUuIFRvIGNvcnJlY3RseSBzZXQgdGhlIHBvc2l0aW9uLFxuICAgIC8vIHRoZSBET00gZWxlbWVudCBtdXN0IGJlIGZ1bGx5IGluaXRpYWxpemVkIGFuIGhhdmUgaXRzIHNpemUgY2FsY3VsYXRlZCwgYmVjYXVzZSB0aGUgcG9zaXRpb24gaXMgc2V0IGFzIGFuIGFic29sdXRlXG4gICAgLy8gdmFsdWUgY2FsY3VsYXRlZCBmcm9tIHRoZSBzaXplLiBUaGlzIHJlcXVpcmVkIHNpemUgaXMgbm90IGtub3duIHdoZW4gaXQgaXMgaGlkZGVuLlxuICAgIC8vIEZvciBzdWNoIGNhc2VzLCB3ZSByZWZyZXNoIHRoZSBwb3NpdGlvbiBoZXJlIGluIG9uU2hvdyBiZWNhdXNlIGhlcmUgaXQgaXMgZ3VhcmFudGVlZCB0aGF0IHRoZSBjb21wb25lbnQga25vd3NcbiAgICAvLyBpdHMgc2l6ZSBhbmQgY2FuIHNldCB0aGUgcG9zaXRpb24gY29ycmVjdGx5LlxuICAgIHRoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgVG91Y2hFdmVudCBpcyBzdXBwb3J0ZWQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIFRvdWNoRXZlbnQgbm90IHVuZGVmaW5lZCwgZWxzZSBmYWxzZVxuICAgKi9cbiAgaXNUb3VjaEV2ZW50KGU6IFVJRXZlbnQpOiBlIGlzIFRvdWNoRXZlbnQge1xuICAgIHJldHVybiB3aW5kb3cuVG91Y2hFdmVudCAmJiBlIGluc3RhbmNlb2YgVG91Y2hFdmVudDtcbiAgfVxufVxuIiwiaW1wb3J0IHtQbGF5ZXJBUEl9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaW5CdWZmZXJMZXZlbChwbGF5ZXI6IFBsYXllckFQSSk6IG51bWJlciB7XG5cbiAgICBjb25zdCBwbGF5ZXJEdXJhdGlvbiA9IHBsYXllci5nZXREdXJhdGlvbigpO1xuXG4gICAgY29uc3QgdmlkZW9CdWZmZXJMZW5ndGggPSBwbGF5ZXIuZ2V0VmlkZW9CdWZmZXJMZW5ndGgoKTtcbiAgICBjb25zdCBhdWRpb0J1ZmZlckxlbmd0aCA9IHBsYXllci5nZXRBdWRpb0J1ZmZlckxlbmd0aCgpO1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgYnVmZmVyIGxlbmd0aCB3aGljaCBpcyB0aGUgc21hbGxlciBsZW5ndGggb2YgdGhlIGF1ZGlvIGFuZCB2aWRlbyBidWZmZXJzLiBJZiBvbmUgb2YgdGhlc2VcbiAgICAvLyBidWZmZXJzIGlzIG5vdCBhdmFpbGFibGUsIHdlIHNldCBpdCdzIHZhbHVlIHRvIE1BWF9WQUxVRSB0byBtYWtlIHN1cmUgdGhhdCB0aGUgb3RoZXIgcmVhbCB2YWx1ZSBpcyB0YWtlblxuICAgIC8vIGFzIHRoZSBidWZmZXIgbGVuZ3RoLlxuICAgIGxldCBidWZmZXJMZW5ndGggPSBNYXRoLm1pbihcbiAgICAgICAgdmlkZW9CdWZmZXJMZW5ndGggIT0gbnVsbCA/IHZpZGVvQnVmZmVyTGVuZ3RoIDogTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgYXVkaW9CdWZmZXJMZW5ndGggIT0gbnVsbCA/IGF1ZGlvQnVmZmVyTGVuZ3RoIDogTnVtYmVyLk1BWF9WQUxVRSk7XG4gICAgLy8gSWYgYm90aCBidWZmZXIgbGVuZ3RocyBhcmUgbWlzc2luZywgd2Ugc2V0IHRoZSBidWZmZXIgbGVuZ3RoIHRvIHplcm9cbiAgICBpZiAoYnVmZmVyTGVuZ3RoID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgIGJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIDEwMCAvIHBsYXllckR1cmF0aW9uICogYnVmZmVyTGVuZ3RoO1xufVxuIiwiaW1wb3J0IHsgVUlVdGlscyB9IGZyb20gJy4uL3VpdXRpbHMnO1xuaW1wb3J0IHsgRE9NIH0gZnJvbSAnLi4vZG9tJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBWb2x1bWVDb250cm9sbGVyIH0gZnJvbSAnLi4vdm9sdW1lY29udHJvbGxlcic7XG5cbmV4cG9ydCBlbnVtIFNlZWtCYXJUeXBlIHtcbiAgVm9kLFxuICBMaXZlLFxuICBWb2x1bWUsXG59XG5cbmludGVyZmFjZSBSYW5nZSB7XG4gIG1pbjogbnVtYmVyO1xuICBtYXg6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIEtleVN0ZXBJbmNyZW1lbnRzQ29uZmlnIHtcbiAgbGVmdFJpZ2h0OiBudW1iZXI7XG4gIHVwRG93bjogbnVtYmVyO1xufVxuXG5jb25zdCBjb2VyY2VWYWx1ZUludG9SYW5nZSA9IChcbiAgdmFsdWU6IG51bWJlcixcbiAgcmFuZ2U6IFJhbmdlLFxuICBjYjogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQsXG4pID0+IHtcbiAgaWYgKHZhbHVlIDwgcmFuZ2UubWluKSB7XG4gICAgY2IocmFuZ2UubWluKTtcbiAgfSBlbHNlIGlmICh2YWx1ZSA+IHJhbmdlLm1heCkge1xuICAgIGNiKHJhbmdlLm1heCk7XG4gIH0gZWxzZSB7XG4gICAgY2IodmFsdWUpO1xuICB9XG59O1xuXG4vKipcbiAqIEBjYXRlZ29yeSBVdGlsc1xuICovXG5leHBvcnQgY2xhc3MgU2Vla0JhckNvbnRyb2xsZXIge1xuICBwcm90ZWN0ZWQga2V5U3RlcEluY3JlbWVudHM6IEtleVN0ZXBJbmNyZW1lbnRzQ29uZmlnO1xuICBwcm90ZWN0ZWQgcGxheWVyOiBQbGF5ZXJBUEk7XG4gIHByb3RlY3RlZCB2b2x1bWVDb250cm9sbGVyOiBWb2x1bWVDb250cm9sbGVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGtleVN0ZXBJbmNyZW1lbnRzOiBLZXlTdGVwSW5jcmVtZW50c0NvbmZpZyxcbiAgICBwbGF5ZXI6IFBsYXllckFQSSxcbiAgICB2b2x1bWVDb250cm9sbGVyOiBWb2x1bWVDb250cm9sbGVyLFxuICApIHtcbiAgICB0aGlzLmtleVN0ZXBJbmNyZW1lbnRzID0ga2V5U3RlcEluY3JlbWVudHM7XG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgdGhpcy52b2x1bWVDb250cm9sbGVyID0gdm9sdW1lQ29udHJvbGxlcjtcbiAgfVxuXG4gIHByb3RlY3RlZCBhcnJvd0tleUNvbnRyb2xzKFxuICAgIGN1cnJlbnRWYWx1ZTogbnVtYmVyLFxuICAgIHJhbmdlOiBSYW5nZSxcbiAgICB2YWx1ZVVwZGF0ZTogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQsXG4gICkge1xuICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IE1hdGguZmxvb3IoY3VycmVudFZhbHVlKTtcblxuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OiAoKSA9PiBjb2VyY2VWYWx1ZUludG9SYW5nZShjb250cm9sVmFsdWUgLSB0aGlzLmtleVN0ZXBJbmNyZW1lbnRzLmxlZnRSaWdodCwgcmFuZ2UsIHZhbHVlVXBkYXRlKSxcbiAgICAgIHJpZ2h0OiAoKSA9PiBjb2VyY2VWYWx1ZUludG9SYW5nZShjb250cm9sVmFsdWUgKyB0aGlzLmtleVN0ZXBJbmNyZW1lbnRzLmxlZnRSaWdodCwgcmFuZ2UsIHZhbHVlVXBkYXRlKSxcbiAgICAgIHVwOiAoKSA9PiBjb2VyY2VWYWx1ZUludG9SYW5nZShjb250cm9sVmFsdWUgKyB0aGlzLmtleVN0ZXBJbmNyZW1lbnRzLnVwRG93biwgcmFuZ2UsIHZhbHVlVXBkYXRlKSxcbiAgICAgIGRvd246ICgpID0+IGNvZXJjZVZhbHVlSW50b1JhbmdlKGNvbnRyb2xWYWx1ZSAtIHRoaXMua2V5U3RlcEluY3JlbWVudHMudXBEb3duLCByYW5nZSwgdmFsdWVVcGRhdGUpLFxuICAgICAgaG9tZTogKCkgPT4gY29lcmNlVmFsdWVJbnRvUmFuZ2UocmFuZ2UubWluLCByYW5nZSwgdmFsdWVVcGRhdGUpLFxuICAgICAgZW5kOiAoKSA9PiBjb2VyY2VWYWx1ZUludG9SYW5nZShyYW5nZS5tYXgsIHJhbmdlLCB2YWx1ZVVwZGF0ZSksXG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBzZWVrQmFyQ29udHJvbHModHlwZTogU2Vla0JhclR5cGUpIHtcbiAgICBpZiAodHlwZSA9PT0gU2Vla0JhclR5cGUuTGl2ZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgcmV0dXJuIHRoaXMuYXJyb3dLZXlDb250cm9scyh0aGlzLnBsYXllci5nZXRUaW1lU2hpZnQoKSwgeyBtaW46IHRoaXMucGxheWVyLmdldE1heFRpbWVTaGlmdCgpLCBtYXg6IDAgfSwgdGhpcy5wbGF5ZXIudGltZVNoaWZ0KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFNlZWtCYXJUeXBlLlZvZCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgcmV0dXJuIHRoaXMuYXJyb3dLZXlDb250cm9scyh0aGlzLnBsYXllci5nZXRDdXJyZW50VGltZSgpLCB7IG1pbjogMCwgbWF4OiB0aGlzLnBsYXllci5nZXREdXJhdGlvbigpIH0sIHRoaXMucGxheWVyLnNlZWspO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU2Vla0JhclR5cGUuVm9sdW1lICYmIHRoaXMudm9sdW1lQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCB2b2x1bWVUcmFuc2l0aW9uID0gdGhpcy52b2x1bWVDb250cm9sbGVyLnN0YXJ0VHJhbnNpdGlvbigpO1xuICAgICAgcmV0dXJuIHRoaXMuYXJyb3dLZXlDb250cm9scyh0aGlzLnBsYXllci5nZXRWb2x1bWUoKSwgeyBtaW46IDAsIG1heDogMTAwIH0sIHZvbHVtZVRyYW5zaXRpb24uZmluaXNoLmJpbmQodm9sdW1lVHJhbnNpdGlvbikpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzZXRTZWVrQmFyQ29udHJvbHMoZG9tRWxlbWVudDogRE9NLCB0eXBlOiAoKSA9PiBTZWVrQmFyVHlwZSkge1xuICAgIGRvbUVsZW1lbnQub24oJ2tleWRvd24nLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgY29uc3QgY29udHJvbHMgPSB0aGlzLnNlZWtCYXJDb250cm9scyh0eXBlKCkpO1xuICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSBVSVV0aWxzLktleUNvZGUuTGVmdEFycm93OiB7XG4gICAgICAgICAgY29udHJvbHMubGVmdCgpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFVJVXRpbHMuS2V5Q29kZS5SaWdodEFycm93OiB7XG4gICAgICAgICAgY29udHJvbHMucmlnaHQoKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBVSVV0aWxzLktleUNvZGUuVXBBcnJvdzoge1xuICAgICAgICAgIGNvbnRyb2xzLnVwKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgVUlVdGlscy5LZXlDb2RlLkRvd25BcnJvdzoge1xuICAgICAgICAgIGNvbnRyb2xzLmRvd24oKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBVSVV0aWxzLktleUNvZGUuSG9tZToge1xuICAgICAgICAgIGNvbnRyb2xzLmhvbWUoKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBVSVV0aWxzLktleUNvZGUuRW5kOiB7XG4gICAgICAgICAgY29udHJvbHMuZW5kKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgVUlVdGlscy5LZXlDb2RlLlNwYWNlOiB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXIuaXNQbGF5aW5nKCkgPyB0aGlzLnBsYXllci5wYXVzZSgpIDogdGhpcy5wbGF5ZXIucGxheSgpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHtDb250YWluZXIsIENvbnRhaW5lckNvbmZpZ30gZnJvbSAnLi9jb250YWluZXInO1xuaW1wb3J0IHtMYWJlbCwgTGFiZWxDb25maWd9IGZyb20gJy4vbGFiZWwnO1xuaW1wb3J0IHtDb21wb25lbnQsIENvbXBvbmVudENvbmZpZ30gZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHtTdHJpbmdVdGlsc30gZnJvbSAnLi4vc3RyaW5ndXRpbHMnO1xuaW1wb3J0IHtJbWFnZUxvYWRlcn0gZnJvbSAnLi4vaW1hZ2Vsb2FkZXInO1xuaW1wb3J0IHtDc3NQcm9wZXJ0aWVzfSBmcm9tICcuLi9kb20nO1xuaW1wb3J0IHsgUGxheWVyQVBJLCBUaHVtYm5haWwgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgU2Vla0JhciwgU2Vla1ByZXZpZXdFdmVudEFyZ3MgfSBmcm9tICcuL3NlZWtiYXInO1xuaW1wb3J0IHsgUGxheWVyVXRpbHMgfSBmcm9tICcuLi9wbGF5ZXJ1dGlscyc7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBpbnRlcmZhY2UgZm9yIGEge0BsaW5rIFNlZWtCYXJMYWJlbH0uXG4gKlxuICogQGNhdGVnb3J5IENvbmZpZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZWVrQmFyTGFiZWxDb25maWcgZXh0ZW5kcyBDb250YWluZXJDb25maWcge1xuICAvLyBub3RoaW5nIHlldFxufVxuXG4vKipcbiAqIEEgbGFiZWwgZm9yIGEge0BsaW5rIFNlZWtCYXJ9IHRoYXQgY2FuIGRpc3BsYXkgdGhlIHNlZWsgdGFyZ2V0IHRpbWUsIGEgdGh1bWJuYWlsLCBhbmQgdGl0bGUgKGUuZy4gY2hhcHRlciB0aXRsZSkuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFNlZWtCYXJMYWJlbCBleHRlbmRzIENvbnRhaW5lcjxTZWVrQmFyTGFiZWxDb25maWc+IHtcblxuICBwcml2YXRlIHRpbWVMYWJlbDogTGFiZWw8TGFiZWxDb25maWc+O1xuICBwcml2YXRlIHRpdGxlTGFiZWw6IExhYmVsPExhYmVsQ29uZmlnPjtcbiAgcHJpdmF0ZSB0aHVtYm5haWw6IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+O1xuXG4gIHByaXZhdGUgdGh1bWJuYWlsSW1hZ2VMb2FkZXI6IEltYWdlTG9hZGVyO1xuXG4gIHByaXZhdGUgdGltZUZvcm1hdDogc3RyaW5nO1xuXG4gIHByaXZhdGUgYXBwbGllZE1hcmtlckNzc0NsYXNzZXM6IHN0cmluZ1tdID0gW107XG4gIHByaXZhdGUgcGxheWVyOiBQbGF5ZXJBUEk7XG4gIHByaXZhdGUgdWlNYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBjb250YWluZXI6IENvbnRhaW5lcjxDb250YWluZXJDb25maWc+O1xuICBwcml2YXRlIHJlYWRvbmx5IGNhcmV0OiBMYWJlbDxMYWJlbENvbmZpZz47XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBTZWVrQmFyTGFiZWxDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLnRpbWVMYWJlbCA9IG5ldyBMYWJlbCh7IGNzc0NsYXNzZXM6IFsnc2Vla2Jhci1sYWJlbC10aW1lJ10gfSk7XG4gICAgdGhpcy50aXRsZUxhYmVsID0gbmV3IExhYmVsKHsgY3NzQ2xhc3NlczogWydzZWVrYmFyLWxhYmVsLXRpdGxlJ10gfSk7XG4gICAgdGhpcy50aHVtYm5haWwgPSBuZXcgQ29tcG9uZW50KHsgY3NzQ2xhc3NlczogWydzZWVrYmFyLXRodW1ibmFpbCddLCByb2xlOiAnaW1nJyB9KTtcbiAgICB0aGlzLnRodW1ibmFpbEltYWdlTG9hZGVyID0gbmV3IEltYWdlTG9hZGVyKCk7XG5cbiAgICB0aGlzLmNvbnRhaW5lciA9IG5ldyBDb250YWluZXIoe1xuICAgICAgY29tcG9uZW50czogW1xuICAgICAgICB0aGlzLnRodW1ibmFpbCxcbiAgICAgICAgbmV3IENvbnRhaW5lcih7XG4gICAgICAgICAgY29tcG9uZW50czogW3RoaXMudGl0bGVMYWJlbCwgdGhpcy50aW1lTGFiZWxdLFxuICAgICAgICAgIGNzc0NsYXNzOiAnc2Vla2Jhci1sYWJlbC1tZXRhZGF0YScsXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIGNzc0NsYXNzOiAnc2Vla2Jhci1sYWJlbC1pbm5lcicsXG4gICAgfSk7XG5cbiAgICB0aGlzLmNhcmV0ID0gbmV3IExhYmVsKHsgY3NzQ2xhc3NlczogWydzZWVrYmFyLWxhYmVsLWNhcmV0J10gfSk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLXNlZWtiYXItbGFiZWwnLFxuICAgICAgY29tcG9uZW50czogW3RoaXMuY29udGFpbmVyLCB0aGlzLmNhcmV0XSxcbiAgICAgIGhpZGRlbjogdHJ1ZSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgdGhpcy51aU1hbmFnZXIgPSB1aW1hbmFnZXI7XG4gICAgdWltYW5hZ2VyLm9uU2Vla1ByZXZpZXcuc3Vic2NyaWJlUmF0ZUxpbWl0ZWQodGhpcy5oYW5kbGVTZWVrUHJldmlldywgMTAwKTtcblxuICAgIGxldCBpbml0ID0gKCkgPT4ge1xuICAgICAgLy8gU2V0IHRpbWUgZm9ybWF0IGRlcGVuZGluZyBvbiBzb3VyY2UgZHVyYXRpb25cbiAgICAgIHRoaXMudGltZUZvcm1hdCA9IE1hdGguYWJzKHBsYXllci5pc0xpdmUoKSA/IHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA6IHBsYXllci5nZXREdXJhdGlvbigpKSA+PSAzNjAwID9cbiAgICAgICAgU3RyaW5nVXRpbHMuRk9STUFUX0hITU1TUyA6IFN0cmluZ1V0aWxzLkZPUk1BVF9NTVNTO1xuICAgICAgLy8gU2V0IGluaXRpYWwgc3RhdGUgb2YgdGl0bGUgYW5kIHRodW1ibmFpbCB0byBoYW5kbGUgc291cmNlTG9hZGVkIHdoZW4gc3dpdGNoaW5nIHRvIGEgbGl2ZS1zdHJlYW1cbiAgICAgIHRoaXMuc2V0VGl0bGVUZXh0KG51bGwpO1xuICAgICAgdGhpcy5zZXRUaHVtYm5haWwobnVsbCk7XG4gICAgfTtcblxuICAgIHVpbWFuYWdlci5nZXRDb25maWcoKS5ldmVudHMub25VcGRhdGVkLnN1YnNjcmliZShpbml0KTtcbiAgICBpbml0KCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVNlZWtQcmV2aWV3ID0gKHNlbmRlcjogU2Vla0JhciwgYXJnczogU2Vla1ByZXZpZXdFdmVudEFyZ3MpID0+IHtcbiAgICBpZiAodGhpcy5wbGF5ZXIuaXNMaXZlKCkpIHtcbiAgICAgIGxldCBtYXhUaW1lU2hpZnQgPSB0aGlzLnBsYXllci5nZXRNYXhUaW1lU2hpZnQoKTtcbiAgICAgIGxldCB0aW1lU2hpZnRQcmV2aWV3ID0gbWF4VGltZVNoaWZ0IC0gbWF4VGltZVNoaWZ0ICogKGFyZ3MucG9zaXRpb24gLyAxMDApO1xuXG4gICAgICB0aGlzLnNldFRpbWUodGltZVNoaWZ0UHJldmlldyk7XG5cbiAgICAgIC8vIEluIGNhc2Ugb2YgYSBsaXZlIHN0cmVhbSB0aGUgcGxheWVyIGV4cGVjdHMgdGhlIHRpbWUgcGFzc2VkIGludG8gdGhlIGdldFRodW1ibmFpbCBhcyBhIHdhbGxDbG9ja1RpbWUgYW5kIG5vdFxuICAgICAgLy8gYXMgYSByZWxhdGl2ZSB0aW1lU2hpZnQgdmFsdWUuXG4gICAgICBjb25zdCBjb252ZXJ0VGltZVNoaWZ0UHJldmlld1RvV2FsbENsb2NrVGltZSA9ICh0YXJnZXRUaW1lU2hpZnQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lU2hpZnQgPSB0aGlzLnBsYXllci5nZXRUaW1lU2hpZnQoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSB0aGlzLnBsYXllci5nZXRDdXJyZW50VGltZSgpO1xuXG4gICAgICAgIGNvbnN0IHdhbGxDbG9ja1RpbWVPZkxpdmVFZGdlID0gY3VycmVudFRpbWUgLSBjdXJyZW50VGltZVNoaWZ0O1xuICAgICAgICByZXR1cm4gd2FsbENsb2NrVGltZU9mTGl2ZUVkZ2UgKyB0YXJnZXRUaW1lU2hpZnQ7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB3YWxsQ2xvY2tUaW1lID0gY29udmVydFRpbWVTaGlmdFByZXZpZXdUb1dhbGxDbG9ja1RpbWUodGltZVNoaWZ0UHJldmlldyk7XG4gICAgICB0aGlzLnNldFRodW1ibmFpbCh0aGlzLnBsYXllci5nZXRUaHVtYm5haWwod2FsbENsb2NrVGltZSkpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB0aW1lID0gdGhpcy5wbGF5ZXIuZ2V0RHVyYXRpb24oKSAqIChhcmdzLnBvc2l0aW9uIC8gMTAwKTtcbiAgICAgIHRoaXMuc2V0VGltZSh0aW1lKTtcblxuICAgICAgY29uc3Qgc2Vla2FibGVSYW5nZVN0YXJ0ID0gUGxheWVyVXRpbHMuZ2V0U2Vla2FibGVSYW5nZVN0YXJ0KHRoaXMucGxheWVyLCAwKTtcbiAgICAgIGNvbnN0IGFic29sdXRlU2Vla1RhcmdldCA9IHRpbWUgKyBzZWVrYWJsZVJhbmdlU3RhcnQ7XG4gICAgICB0aGlzLnNldFRodW1ibmFpbCh0aGlzLnBsYXllci5nZXRUaHVtYm5haWwoYWJzb2x1dGVTZWVrVGFyZ2V0KSk7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3MubWFya2VyKSB7XG4gICAgICB0aGlzLnNldFRpdGxlVGV4dChhcmdzLm1hcmtlci5tYXJrZXIudGl0bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFRpdGxlVGV4dChudWxsKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgQ1NTIGNsYXNzZXMgZnJvbSBwcmV2aW91cyBtYXJrZXJcbiAgICBpZiAodGhpcy5hcHBsaWVkTWFya2VyQ3NzQ2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyh0aGlzLmFwcGxpZWRNYXJrZXJDc3NDbGFzc2VzLmpvaW4oJyAnKSk7XG4gICAgICB0aGlzLmFwcGxpZWRNYXJrZXJDc3NDbGFzc2VzID0gW107XG4gICAgfVxuXG4gICAgLy8gQWRkIENTUyBjbGFzc2VzIG9mIGN1cnJlbnQgbWFya2VyXG4gICAgaWYgKGFyZ3MubWFya2VyKSB7XG4gICAgICBjb25zdCBjc3NDbGFzc2VzID0gKGFyZ3MubWFya2VyLm1hcmtlci5jc3NDbGFzc2VzIHx8IFtdKS5tYXAoY3NzQ2xhc3MgPT4gdGhpcy5wcmVmaXhDc3MoY3NzQ2xhc3MpKTtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKGNzc0NsYXNzZXMuam9pbignICcpKTtcbiAgICAgIHRoaXMuYXBwbGllZE1hcmtlckNzc0NsYXNzZXMgPSBjc3NDbGFzc2VzO1xuICAgIH1cbiAgfTtcblxuICBwdWJsaWMgc2V0UG9zaXRpb25JbkJvdW5kcyhzZWVrUG9zaXRpb25QeDogbnVtYmVyLCBib3VuZHM6IERPTVJlY3QpIHtcbiAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5jc3MoJ2xlZnQnLCBzZWVrUG9zaXRpb25QeCArICdweCcpO1xuXG4gICAgLy8gQ2hlY2sgcGFyZW50IGNvbnRhaW5lciBhcyBpdCBoYXMgYSBwYWRkaW5nIHRoYXQgbmVlZHMgdG8gYmUgY29uc2lkZXJlZFxuICAgIGNvbnN0IGxhYmVsQm91bmRpbmcgPSB0aGlzLmNvbnRhaW5lci5nZXREb21FbGVtZW50KCkuZ2V0KDApLnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBsZXQgcHJldmVudE92ZXJmbG93T2Zmc2V0ID0gMDtcbiAgICBpZiAobGFiZWxCb3VuZGluZy5yaWdodCA+IGJvdW5kcy5yaWdodCkge1xuICAgICAgcHJldmVudE92ZXJmbG93T2Zmc2V0ID0gbGFiZWxCb3VuZGluZy5yaWdodCAtIGJvdW5kcy5yaWdodDtcbiAgICB9IGVsc2UgaWYgKGxhYmVsQm91bmRpbmcubGVmdCA8IGJvdW5kcy5sZWZ0KSB7XG4gICAgICBwcmV2ZW50T3ZlcmZsb3dPZmZzZXQgPSBsYWJlbEJvdW5kaW5nLmxlZnQgLSBib3VuZHMubGVmdDtcbiAgICB9XG5cbiAgICBpZiAocHJldmVudE92ZXJmbG93T2Zmc2V0ICE9PSAwKSB7XG4gICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5jc3MoJ2xlZnQnLCBzZWVrUG9zaXRpb25QeCAtIHByZXZlbnRPdmVyZmxvd09mZnNldCArICdweCcpO1xuXG4gICAgICB0aGlzLmNhcmV0LmdldERvbUVsZW1lbnQoKS5jc3MoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7cHJldmVudE92ZXJmbG93T2Zmc2V0fXB4KWApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhcmV0LmdldERvbUVsZW1lbnQoKS5jc3MoJ3RyYW5zZm9ybScsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGFyYml0cmFyeSB0ZXh0IG9uIHRoZSBsYWJlbC5cbiAgICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gc2hvdyBvbiB0aGUgbGFiZWxcbiAgICovXG4gIHNldFRleHQodGV4dDogc3RyaW5nKSB7XG4gICAgdGhpcy50aW1lTGFiZWwuc2V0VGV4dCh0ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGEgdGltZSB0byBiZSBkaXNwbGF5ZWQgb24gdGhlIGxhYmVsLlxuICAgKiBAcGFyYW0gc2Vjb25kcyB0aGUgdGltZSBpbiBzZWNvbmRzIHRvIGRpc3BsYXkgb24gdGhlIGxhYmVsXG4gICAqL1xuICBzZXRUaW1lKHNlY29uZHM6IG51bWJlcikge1xuICAgIHRoaXMuc2V0VGV4dChTdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKHNlY29uZHMsIHRoaXMudGltZUZvcm1hdCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRleHQgb24gdGhlIHRpdGxlIGxhYmVsLlxuICAgKiBAcGFyYW0gdGV4dCB0aGUgdGV4dCB0byBzaG93IG9uIHRoZSBsYWJlbFxuICAgKi9cbiAgc2V0VGl0bGVUZXh0KHRleHQgPSAnJykge1xuICAgIHRoaXMudGl0bGVMYWJlbC5zZXRUZXh0KHRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgb3IgcmVtb3ZlcyBhIHRodW1ibmFpbCBvbiB0aGUgbGFiZWwuXG4gICAqIEBwYXJhbSB0aHVtYm5haWwgdGhlIHRodW1ibmFpbCB0byBkaXNwbGF5IG9uIHRoZSBsYWJlbCBvciBudWxsIHRvIHJlbW92ZSBhIGRpc3BsYXllZCB0aHVtYm5haWxcbiAgICovXG4gIHNldFRodW1ibmFpbCh0aHVtYm5haWw6IFRodW1ibmFpbCA9IG51bGwpIHtcbiAgICBsZXQgdGh1bWJuYWlsRWxlbWVudCA9IHRoaXMudGh1bWJuYWlsLmdldERvbUVsZW1lbnQoKTtcblxuICAgIGlmICh0aHVtYm5haWwgPT0gbnVsbCkge1xuICAgICAgdGh1bWJuYWlsRWxlbWVudC5jc3Moe1xuICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6IG51bGwsXG4gICAgICAgICdkaXNwbGF5JzogbnVsbCxcbiAgICAgICAgJ3dpZHRoJzogbnVsbCxcbiAgICAgICAgJ2hlaWdodCc6IG51bGwsXG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBXZSB1c2UgdGhlIHRodW1ibmFpbCBpbWFnZSBsb2FkZXIgdG8gbWFrZSBzdXJlIHRoZSB0aHVtYm5haWwgaXMgbG9hZGVkIGFuZCBpdCdzIHNpemUgaXMga25vd24gYmVmb3JlIGJlIGNhblxuICAgICAgLy8gY2FsY3VsYXRlIHRoZSBDU1MgcHJvcGVydGllcyBhbmQgc2V0IHRoZW0gb24gdGhlIGVsZW1lbnQuXG4gICAgICB0aGlzLnRodW1ibmFpbEltYWdlTG9hZGVyLmxvYWQodGh1bWJuYWlsLnVybCwgKHVybCwgd2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgICAvLyBjYW4gYmUgY2hlY2tlZCBsaWtlIHRoYXQgYmVjYXVzZSB4L3kvdy9oIGFyZSBlaXRoZXIgYWxsIHByZXNlbnQgb3Igbm9uZVxuICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvbWVkaWEtZnJhZ3MvI25hbWluZy1zcGFjZVxuICAgICAgICBpZiAodGh1bWJuYWlsLnggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRodW1ibmFpbEVsZW1lbnQuY3NzKHRoaXMudGh1bWJuYWlsQ3NzU3ByaXRlKHRodW1ibmFpbCwgd2lkdGgsIGhlaWdodCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRodW1ibmFpbEVsZW1lbnQuY3NzKHRoaXMudGh1bWJuYWlsQ3NzU2luZ2xlSW1hZ2UodGh1bWJuYWlsLCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdGh1bWJuYWlsQ3NzU3ByaXRlKHRodW1ibmFpbDogVGh1bWJuYWlsLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IENzc1Byb3BlcnRpZXMge1xuICAgIGxldCB0aHVtYm5haWxDb3VudFggPSB3aWR0aCAvIHRodW1ibmFpbC53aWR0aDtcbiAgICBsZXQgdGh1bWJuYWlsQ291bnRZID0gaGVpZ2h0IC8gdGh1bWJuYWlsLmhlaWdodDtcblxuICAgIGxldCB0aHVtYm5haWxJbmRleFggPSB0aHVtYm5haWwueCAvIHRodW1ibmFpbC53aWR0aDtcbiAgICBsZXQgdGh1bWJuYWlsSW5kZXhZID0gdGh1bWJuYWlsLnkgLyB0aHVtYm5haWwuaGVpZ2h0O1xuXG4gICAgbGV0IHNpemVYID0gMTAwICogdGh1bWJuYWlsQ291bnRYO1xuICAgIGxldCBzaXplWSA9IDEwMCAqIHRodW1ibmFpbENvdW50WTtcblxuICAgIGxldCBvZmZzZXRYID0gMTAwICogdGh1bWJuYWlsSW5kZXhYO1xuICAgIGxldCBvZmZzZXRZID0gMTAwICogdGh1bWJuYWlsSW5kZXhZO1xuXG4gICAgbGV0IGFzcGVjdFJhdGlvID0gMSAvIHRodW1ibmFpbC53aWR0aCAqIHRodW1ibmFpbC5oZWlnaHQ7XG5cbiAgICAvLyBUaGUgdGh1bWJuYWlsIHNpemUgaXMgc2V0IGJ5IHNldHRpbmcgdGhlIENTUyAnd2lkdGgnIGFuZCAncGFkZGluZy1ib3R0b20nIHByb3BlcnRpZXMuICdwYWRkaW5nLWJvdHRvbScgaXNcbiAgICAvLyB1c2VkIGJlY2F1c2UgaXQgaXMgcmVsYXRpdmUgdG8gdGhlIHdpZHRoIGFuZCBjYW4gYmUgdXNlZCB0byBzZXQgdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgdGh1bWJuYWlsLlxuICAgIC8vIEEgZGVmYXVsdCB2YWx1ZSBmb3Igd2lkdGggaXMgc2V0IGluIHRoZSBzdHlsZXNoZWV0IGFuZCBjYW4gYmUgb3ZlcndyaXR0ZW4gZnJvbSB0aGVyZSBvciBhbnl3aGVyZSBlbHNlLlxuICAgIHJldHVybiB7XG4gICAgICAnZGlzcGxheSc6ICdpbmhlcml0JyxcbiAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogYHVybCgke3RodW1ibmFpbC51cmx9KWAsXG4gICAgICAncGFkZGluZy1ib3R0b20nOiBgJHsxMDAgKiBhc3BlY3RSYXRpb30lYCxcbiAgICAgICdiYWNrZ3JvdW5kLXNpemUnOiBgJHtzaXplWH0lICR7c2l6ZVl9JWAsXG4gICAgICAnYmFja2dyb3VuZC1wb3NpdGlvbic6IGAtJHtvZmZzZXRYfSUgLSR7b2Zmc2V0WX0lYCxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSB0aHVtYm5haWxDc3NTaW5nbGVJbWFnZSh0aHVtYm5haWw6IFRodW1ibmFpbCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBDc3NQcm9wZXJ0aWVzIHtcbiAgICBsZXQgYXNwZWN0UmF0aW8gPSAxIC8gd2lkdGggKiBoZWlnaHQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgJ2Rpc3BsYXknOiAnaW5oZXJpdCcsXG4gICAgICAnYmFja2dyb3VuZC1pbWFnZSc6IGB1cmwoJHt0aHVtYm5haWwudXJsfSlgLFxuICAgICAgJ3BhZGRpbmctYm90dG9tJzogYCR7MTAwICogYXNwZWN0UmF0aW99JWAsXG4gICAgICAnYmFja2dyb3VuZC1zaXplJzogYDEwMCUgMTAwJWAsXG4gICAgICAnYmFja2dyb3VuZC1wb3NpdGlvbic6IGAwIDBgLFxuICAgIH07XG4gIH1cblxuICByZWxlYXNlKCk6IHZvaWQge1xuICAgIHN1cGVyLnJlbGVhc2UoKTtcblxuICAgIHRoaXMudWlNYW5hZ2VyLm9uU2Vla1ByZXZpZXcudW5zdWJzY3JpYmUodGhpcy5oYW5kbGVTZWVrUHJldmlldyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IExpc3RTZWxlY3RvciwgTGlzdFNlbGVjdG9yQ29uZmlnIH0gZnJvbSAnLi9saXN0c2VsZWN0b3InO1xuaW1wb3J0IHsgRE9NIH0gZnJvbSAnLi4vZG9tJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgVUlDb250YWluZXIgfSBmcm9tICcuL3VpY29udGFpbmVyJztcbmltcG9ydCB7IFBsYXllclV0aWxzIH0gZnJvbSAnLi4vcGxheWVydXRpbHMnO1xuaW1wb3J0IHsgVmlld01vZGUgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5cbmNvbnN0IERvY3VtZW50RHJvcGRvd25DbG9zZWRFdmVudHMgPSBbXG4gICdtb3VzZW1vdmUnLFxuICAnbW91c2VlbnRlcicsXG4gICdtb3VzZWxlYXZlJyxcbiAgJ3RvdWNoc3RhcnQnLFxuICAndG91Y2htb3ZlJyxcbiAgJ3RvdWNoZW5kJyxcbiAgJ3BvaW50ZXJtb3ZlJyxcbiAgJ2NsaWNrJyxcbiAgJ2tleWRvd24nLFxuICAna2V5cHJlc3MnLFxuICAna2V5dXAnLFxuICAnYmx1cicsXG5dO1xuXG5jb25zdCBTZWxlY3REcm9wZG93bkNsb3NlZEV2ZW50cyA9IFtcbiAgJ2NoYW5nZScsXG4gICdrZXl1cCcsXG4gICdtb3VzZXVwJyxcbl07XG5cbmNvbnN0IERyb3Bkb3duT3BlbmVkRXZlbnRzOiBbc3RyaW5nLCAoZXZlbnQ6IEV2ZW50KSA9PiBib29sZWFuXVtdID0gW1xuICBbJ2NsaWNrJywgKCkgPT4gdHJ1ZV0sXG4gIFsna2V5ZG93bicsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gWycgJywgJ0Fycm93VXAnLCAnQXJyb3dEb3duJ10uaW5jbHVkZXMoZXZlbnQua2V5KV0sXG4gIFsnbW91c2Vkb3duJywgKCkgPT4gdHJ1ZV0sXG5dO1xuXG5jb25zdCBUaW1lb3V0ID0gMTAwO1xuXG4vKipcbiAqIEEgc2ltcGxlIHNlbGVjdCBib3ggcHJvdmlkaW5nIHRoZSBwb3NzaWJpbGl0eSB0byBzZWxlY3QgYSBzaW5nbGUgaXRlbSBvdXQgb2YgYSBsaXN0IG9mIGF2YWlsYWJsZSBpdGVtcy5cbiAqXG4gKiBET00gZXhhbXBsZTpcbiAqIDxjb2RlPlxuICogICAgIDxzZWxlY3QgY2xhc3M9J3VpLXNlbGVjdGJveCc+XG4gKiAgICAgICAgIDxvcHRpb24gdmFsdWU9J2tleSc+bGFiZWw8L29wdGlvbj5cbiAqICAgICAgICAgLi4uXG4gKiAgICAgPC9zZWxlY3Q+XG4gKiA8L2NvZGU+XG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0Qm94IGV4dGVuZHMgTGlzdFNlbGVjdG9yPExpc3RTZWxlY3RvckNvbmZpZz4ge1xuICBwcml2YXRlIHNlbGVjdEVsZW1lbnQ6IERPTSB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBkcm9wZG93bkNsb3NlTGlzdGVuZXJUaW1lb3V0SWQgPSAwO1xuICBwcml2YXRlIHJlbW92ZURyb3Bkb3duQ2xvc2VMaXN0ZW5lcnMgPSAoKSA9PiB7fTtcbiAgcHJpdmF0ZSB1aUNvbnRhaW5lcjogVUlDb250YWluZXIgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcmVtb3ZlRHJvcGRvd25PcGVuZWRMaXN0ZW5lcnMgPSAoKSA9PiB7fTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IExpc3RTZWxlY3RvckNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktc2VsZWN0Ym94JyxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgdG9Eb21FbGVtZW50KCk6IERPTSB7XG4gICAgdGhpcy5zZWxlY3RFbGVtZW50ID0gbmV3IERPTSgnc2VsZWN0Jywge1xuICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXG4gICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcbiAgICAgICdhcmlhLWxhYmVsJzogaTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKHRoaXMuY29uZmlnLmFyaWFMYWJlbCksXG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLm9uRGlzYWJsZWQuc3Vic2NyaWJlKHRoaXMuY2xvc2VEcm9wZG93bik7XG4gICAgdGhpcy5vbkhpZGUuc3Vic2NyaWJlKHRoaXMuY2xvc2VEcm9wZG93bik7XG4gICAgdGhpcy5hZGREcm9wZG93bk9wZW5lZExpc3RlbmVycygpO1xuICAgIHRoaXMudXBkYXRlRG9tSXRlbXMoKTtcblxuICAgIHRoaXMuc2VsZWN0RWxlbWVudC5vbignY2hhbmdlJywgdGhpcy5vbkNoYW5nZSk7XG5cbiAgICByZXR1cm4gdGhpcy5zZWxlY3RFbGVtZW50O1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKSB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcbiAgICB0aGlzLnVpQ29udGFpbmVyID0gdWltYW5hZ2VyLmdldFVJKCk7XG4gICAgdGhpcy51aUNvbnRhaW5lcj8ub25QbGF5ZXJTdGF0ZUNoYW5nZSgpLnN1YnNjcmliZSh0aGlzLm9uUGxheWVyU3RhdGVDaGFuZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWFkb25seSBvbkNoYW5nZSA9ICgpID0+IHtcbiAgICBsZXQgdmFsdWUgPSB0aGlzLnNlbGVjdEVsZW1lbnQudmFsKCk7XG4gICAgdGhpcy5vbkl0ZW1TZWxlY3RlZEV2ZW50KHZhbHVlLCBmYWxzZSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBnZXRTZWxlY3RFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdEVsZW1lbnQ/LmdldCgpPy5bMF07XG4gIH1cblxuICBwcm90ZWN0ZWQgdXBkYXRlRG9tSXRlbXMoc2VsZWN0ZWRWYWx1ZTogc3RyaW5nID0gbnVsbCkge1xuICAgIGlmICh0aGlzLnNlbGVjdEVsZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERlbGV0ZSBhbGwgY2hpbGRyZW5cbiAgICB0aGlzLnNlbGVjdEVsZW1lbnQuZW1wdHkoKTtcblxuICAgIC8vIEFkZCB1cGRhdGVkIGNoaWxkcmVuXG4gICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLml0ZW1zKSB7XG4gICAgICBsZXQgb3B0aW9uRWxlbWVudCA9IG5ldyBET00oJ29wdGlvbicsIHtcbiAgICAgICAgJ3ZhbHVlJzogU3RyaW5nKGl0ZW0ua2V5KSxcbiAgICAgIH0pLmh0bWwoaTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKGl0ZW0ubGFiZWwpKTtcblxuICAgICAgaWYgKGl0ZW0ua2V5ID09PSBTdHJpbmcoc2VsZWN0ZWRWYWx1ZSkpIHsgLy8gY29udmVydCBzZWxlY3RlZFZhbHVlIHRvIHN0cmluZyB0byBjYXRjaCAnbnVsbCcvbnVsbCBjYXNlXG4gICAgICAgIG9wdGlvbkVsZW1lbnQuYXR0cignc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZWxlY3RFbGVtZW50LmFwcGVuZChvcHRpb25FbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgb25JdGVtQWRkZWRFdmVudCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgc3VwZXIub25JdGVtQWRkZWRFdmVudCh2YWx1ZSk7XG4gICAgdGhpcy51cGRhdGVEb21JdGVtcyh0aGlzLnNlbGVjdGVkSXRlbSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25JdGVtUmVtb3ZlZEV2ZW50KHZhbHVlOiBzdHJpbmcpIHtcbiAgICBzdXBlci5vbkl0ZW1SZW1vdmVkRXZlbnQodmFsdWUpO1xuICAgIHRoaXMudXBkYXRlRG9tSXRlbXModGhpcy5zZWxlY3RlZEl0ZW0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uSXRlbVNlbGVjdGVkRXZlbnQodmFsdWU6IHN0cmluZywgdXBkYXRlRG9tSXRlbXM6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgc3VwZXIub25JdGVtU2VsZWN0ZWRFdmVudCh2YWx1ZSk7XG4gICAgaWYgKHVwZGF0ZURvbUl0ZW1zKSB7XG4gICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVhZG9ubHkgY2xvc2VEcm9wZG93biA9ICgpID0+IHtcbiAgICBjb25zdCBzZWxlY3QgPSB0aGlzLmdldFNlbGVjdEVsZW1lbnQoKTtcblxuICAgIGlmIChzZWxlY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGVjdC5ibHVyKCk7XG4gIH07XG5cbiAgcHJpdmF0ZSByZWFkb25seSBvblBsYXllclN0YXRlQ2hhbmdlID0gKF86IFVJQ29udGFpbmVyLCBzdGF0ZTogUGxheWVyVXRpbHMuUGxheWVyU3RhdGUpID0+IHtcbiAgICBpZiAoW1BsYXllclV0aWxzLlBsYXllclN0YXRlLklkbGUsIFBsYXllclV0aWxzLlBsYXllclN0YXRlLkZpbmlzaGVkXS5pbmNsdWRlcyhzdGF0ZSkpIHtcbiAgICAgIHRoaXMuY2xvc2VEcm9wZG93bigpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIG9uRHJvcGRvd25PcGVuZWQgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuZHJvcGRvd25DbG9zZUxpc3RlbmVyVGltZW91dElkKTtcblxuICAgIHRoaXMuZHJvcGRvd25DbG9zZUxpc3RlbmVyVGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5hZGREcm9wZG93bkNsb3NlTGlzdGVuZXJzKCksIFRpbWVvdXQpO1xuICAgIHRoaXMub25WaWV3TW9kZUNoYW5nZWRFdmVudChWaWV3TW9kZS5QZXJzaXN0ZW50KTtcbiAgfTtcblxuICBwcml2YXRlIG9uRHJvcGRvd25DbG9zZWQgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuZHJvcGRvd25DbG9zZUxpc3RlbmVyVGltZW91dElkKTtcblxuICAgIHRoaXMucmVtb3ZlRHJvcGRvd25DbG9zZUxpc3RlbmVycygpO1xuICAgIHRoaXMub25WaWV3TW9kZUNoYW5nZWRFdmVudChWaWV3TW9kZS5UZW1wb3JhcnkpO1xuICB9O1xuXG4gIHByaXZhdGUgYWRkRHJvcGRvd25DbG9zZUxpc3RlbmVycygpIHtcbiAgICB0aGlzLnJlbW92ZURyb3Bkb3duQ2xvc2VMaXN0ZW5lcnMoKTtcblxuICAgIGNsZWFyVGltZW91dCh0aGlzLmRyb3Bkb3duQ2xvc2VMaXN0ZW5lclRpbWVvdXRJZCk7XG5cbiAgICBEb2N1bWVudERyb3Bkb3duQ2xvc2VkRXZlbnRzLmZvckVhY2goZXZlbnQgPT4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy5vbkRyb3Bkb3duQ2xvc2VkLCB0cnVlKSk7XG4gICAgU2VsZWN0RHJvcGRvd25DbG9zZWRFdmVudHMuZm9yRWFjaChldmVudCA9PiB0aGlzLnNlbGVjdEVsZW1lbnQub24oZXZlbnQsIHRoaXMub25Ecm9wZG93bkNsb3NlZCwgdHJ1ZSkpO1xuXG4gICAgdGhpcy5yZW1vdmVEcm9wZG93bkNsb3NlTGlzdGVuZXJzID0gKCkgPT4ge1xuICAgICAgRG9jdW1lbnREcm9wZG93bkNsb3NlZEV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMub25Ecm9wZG93bkNsb3NlZCwgdHJ1ZSkpO1xuICAgICAgU2VsZWN0RHJvcGRvd25DbG9zZWRFdmVudHMuZm9yRWFjaChldmVudCA9PiB0aGlzLnNlbGVjdEVsZW1lbnQub2ZmKGV2ZW50LCB0aGlzLm9uRHJvcGRvd25DbG9zZWQsIHRydWUpKTtcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBhZGREcm9wZG93bk9wZW5lZExpc3RlbmVycygpIHtcbiAgICBjb25zdCByZW1vdmVMaXN0ZW5lckZ1bmN0aW9uczogKCgpID0+IHZvaWQpW10gPSBbXTtcblxuICAgIHRoaXMucmVtb3ZlRHJvcGRvd25PcGVuZWRMaXN0ZW5lcnMoKTtcblxuICAgIGZvciAoY29uc3QgW2V2ZW50LCBmaWx0ZXJdIG9mIERyb3Bkb3duT3BlbmVkRXZlbnRzKSB7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGZpbHRlcihldmVudCkpIHtcbiAgICAgICAgICB0aGlzLm9uRHJvcGRvd25PcGVuZWQoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmVtb3ZlTGlzdGVuZXJGdW5jdGlvbnMucHVzaCgoKSA9PiB0aGlzLnNlbGVjdEVsZW1lbnQub2ZmKGV2ZW50LCBsaXN0ZW5lciwgdHJ1ZSkpO1xuICAgICAgdGhpcy5zZWxlY3RFbGVtZW50Lm9uKGV2ZW50LCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5yZW1vdmVEcm9wZG93bk9wZW5lZExpc3RlbmVycyA9ICgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgcmVtb3ZlIG9mIHJlbW92ZUxpc3RlbmVyRnVuY3Rpb25zKSB7XG4gICAgICAgIHJlbW92ZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZWxlYXNlKCkge1xuICAgIHN1cGVyLnJlbGVhc2UoKTtcblxuICAgIHRoaXMucmVtb3ZlRHJvcGRvd25DbG9zZUxpc3RlbmVycygpO1xuICAgIHRoaXMucmVtb3ZlRHJvcGRvd25PcGVuZWRMaXN0ZW5lcnMoKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5kcm9wZG93bkNsb3NlTGlzdGVuZXJUaW1lb3V0SWQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb250YWluZXIsIENvbnRhaW5lckNvbmZpZyB9IGZyb20gJy4vY29udGFpbmVyJztcbmltcG9ydCB7IFNlbGVjdEJveCB9IGZyb20gJy4vc2VsZWN0Ym94JztcbmltcG9ydCB7IFVJSW5zdGFuY2VNYW5hZ2VyIH0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IFRpbWVvdXQgfSBmcm9tICcuLi90aW1lb3V0JztcbmltcG9ydCB7IEV2ZW50LCBFdmVudERpc3BhdGNoZXIsIE5vQXJncyB9IGZyb20gJy4uL2V2ZW50ZGlzcGF0Y2hlcic7XG5pbXBvcnQgeyBTZXR0aW5nc1BhbmVsUGFnZSB9IGZyb20gJy4vc2V0dGluZ3NwYW5lbHBhZ2UnO1xuaW1wb3J0IHsgU2V0dGluZ3NQYW5lbEl0ZW0gfSBmcm9tICcuL3NldHRpbmdzcGFuZWxpdGVtJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBDb21wb25lbnQsIENvbXBvbmVudENvbmZpZyB9IGZyb20gJy4vY29tcG9uZW50JztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgYSB7QGxpbmsgU2V0dGluZ3NQYW5lbH0uXG4gKlxuICogQGNhdGVnb3J5IENvbmZpZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5nc1BhbmVsQ29uZmlnIGV4dGVuZHMgQ29udGFpbmVyQ29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgd2hpY2ggdGhlIHNldHRpbmdzIHBhbmVsIHdpbGwgYmUgaGlkZGVuIHdoZW4gdGhlcmUgaXMgbm8gdXNlciBpbnRlcmFjdGlvbi5cbiAgICogU2V0IHRvIC0xIHRvIGRpc2FibGUgYXV0b21hdGljIGhpZGluZy5cbiAgICogRGVmYXVsdDogMyBzZWNvbmRzICgzMDAwKVxuICAgKi9cbiAgaGlkZURlbGF5PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBGbGFnIHRvIHNwZWNpZnkgaWYgdGhlcmUgc2hvdWxkIGJlIGFuIGFuaW1hdGlvbiB3aGVuIHN3aXRjaGluZyBTZXR0aW5nc1BhbmVsUGFnZXMuXG4gICAqIERlZmF1bHQ6IHRydWVcbiAgICovXG4gIHBhZ2VUcmFuc2l0aW9uQW5pbWF0aW9uPzogYm9vbGVhbjtcbn1cblxuZW51bSBOYXZpZ2F0aW9uRGlyZWN0aW9uIHtcbiAgRm9yd2FyZHMsXG4gIEJhY2t3YXJkcyxcbn1cblxuLyoqXG4gKiBBIHBhbmVsIGNvbnRhaW5pbmcgYSBsaXN0IG9mIHtAbGluayBTZXR0aW5nc1BhbmVsUGFnZSBpdGVtc30uXG4gKlxuICogVG8gY29uZmlndXJlIHBhZ2VzIGp1c3QgcGFzcyB0aGVtIGluIHRoZSBjb21wb25lbnRzIGFycmF5LlxuICpcbiAqIEV4YW1wbGU6XG4gKiAgbGV0IHNldHRpbmdzUGFuZWwgPSBuZXcgU2V0dGluZ3NQYW5lbCh7XG4gKiAgICBoaWRkZW46IHRydWUsXG4gKiAgfSk7XG4gKlxuICogIGxldCBzZXR0aW5nc1BhbmVsUGFnZSA9IG5ldyBTZXR0aW5nc1BhbmVsUGFnZSh7XG4gKiAgICBjb21wb25lbnRzOiBb4oCmXVxuICogIH0pO1xuICpcbiAqICBsZXQgc2Vjb25kU2V0dGluZ3NQYW5lbFBhZ2UgPSBuZXcgU2V0dGluZ3NQYW5lbFBhZ2Uoe1xuICogICAgY29tcG9uZW50czogW+KApl1cbiAqICB9KTtcbiAqXG4gKiAgc2V0dGluZ3NQYW5lbC5hZGRDb21wb25lbnQoc2V0dGluZ3NQYW5lbFBhZ2UpO1xuICogIHNldHRpbmdzUGFuZWwuYWRkQ29tcG9uZW50KHNlY29uZFNldHRpbmdzUGFuZWxQYWdlKTtcbiAqXG4gKiBGb3IgYW4gZXhhbXBsZSBob3cgdG8gbmF2aWdhdGUgYmV0d2VlbiBwYWdlcyBAc2VlIFNldHRpbmdzUGFuZWxQYWdlTmF2aWdhdG9yQnV0dG9uXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFNldHRpbmdzUGFuZWwgZXh0ZW5kcyBDb250YWluZXI8U2V0dGluZ3NQYW5lbENvbmZpZz4ge1xuXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENMQVNTX0FDVElWRV9QQUdFID0gJ2FjdGl2ZSc7XG5cbiAgLy8gbmF2aWdhdGlvbiBoYW5kbGluZ1xuICBwcml2YXRlIGFjdGl2ZVBhZ2U6IFNldHRpbmdzUGFuZWxQYWdlO1xuICBwcml2YXRlIG5hdmlnYXRpb25TdGFjazogU2V0dGluZ3NQYW5lbFBhZ2VbXSA9IFtdO1xuXG4gIHByaXZhdGUgc2V0dGluZ3NQYW5lbEV2ZW50cyA9IHtcbiAgICBvblNldHRpbmdzU3RhdGVDaGFuZ2VkOiBuZXcgRXZlbnREaXNwYXRjaGVyPFNldHRpbmdzUGFuZWwsIE5vQXJncz4oKSxcbiAgfTtcblxuICBwcml2YXRlIGhpZGVUaW1lb3V0OiBUaW1lb3V0O1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogU2V0dGluZ3NQYW5lbENvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLXNldHRpbmdzLXBhbmVsJyxcbiAgICAgIGhpZGVEZWxheTogMzAwMCxcbiAgICAgIHBhZ2VUcmFuc2l0aW9uQW5pbWF0aW9uOiB0cnVlLFxuICAgIH0gYXMgU2V0dGluZ3NQYW5lbENvbmZpZywgdGhpcy5jb25maWcpO1xuXG4gICAgdGhpcy5hY3RpdmVQYWdlID0gdGhpcy5nZXRSb290UGFnZSgpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIGxldCBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xuXG4gICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLnN1YnNjcmliZSgoKSA9PiB0aGlzLmhpZGVIb3ZlcmVkU2VsZWN0Qm94ZXMoKSk7XG4gICAgdWltYW5hZ2VyLm9uQ29tcG9uZW50Vmlld01vZGVDaGFuZ2VkLnN1YnNjcmliZSgoXywgeyBtb2RlIH0pID0+IHRoaXMudHJhY2tDb21wb25lbnRWaWV3TW9kZShtb2RlKSk7XG5cbiAgICBpZiAoY29uZmlnLmhpZGVEZWxheSA+IC0xKSB7XG4gICAgICB0aGlzLmhpZGVUaW1lb3V0ID0gbmV3IFRpbWVvdXQoY29uZmlnLmhpZGVEZWxheSwgKCkgPT4ge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgdGhpcy5oaWRlSG92ZXJlZFNlbGVjdEJveGVzKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWVudGVyJywgKCkgPT4ge1xuICAgICAgICAvLyBPbiBtb3VzZSBlbnRlciBjbGVhciB0aGUgdGltZW91dFxuICAgICAgICB0aGlzLmhpZGVUaW1lb3V0LmNsZWFyKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICAvLyBPbiBtb3VzZSBsZWF2ZSBhY3RpdmF0ZSB0aGUgdGltZW91dFxuICAgICAgICB0aGlzLmhpZGVUaW1lb3V0LnJlc2V0KCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdmb2N1c2luJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmhpZGVUaW1lb3V0LmNsZWFyKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdmb2N1c291dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5oaWRlVGltZW91dC5yZXNldCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5vbkhpZGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIGlmIChjb25maWcuaGlkZURlbGF5ID4gLTEpIHtcbiAgICAgICAgLy8gQ2xlYXIgdGltZW91dCB3aGVuIGhpZGRlbiBmcm9tIG91dHNpZGVcbiAgICAgICAgdGhpcy5oaWRlVGltZW91dC5jbGVhcigpO1xuICAgICAgfVxuXG4gICAgICAvLyBTaW5jZSB3ZSBkb24ndCByZXNldCB0aGUgYWN0dWFsIG5hdmlnYXRpb24gaGVyZSB3ZSBuZWVkIHRvIHNpbXVsYXRlIGEgb25JbmFjdGl2ZSBldmVudCBpbiBjYXNlIHNvbWUgcGFuZWxcbiAgICAgIC8vIG5lZWRzIHRvIGRvIHNvbWV0aGluZyB3aGVuIHRoZXkgYmVjb21lIGludmlzaWJsZSAvIGluYWN0aXZlLlxuICAgICAgdGhpcy5hY3RpdmVQYWdlLm9uSW5hY3RpdmVFdmVudCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vblNob3cuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIC8vIFJlc2V0IG5hdmlnYXRpb24gd2hlbiB0ZSBwYW5lbCBnZXRzIHZpc2libGUgdG8gYXZvaWQgYSB3ZWlyZCBhbmltYXRpb24gd2hlbiBoaWRpbmdcbiAgICAgIHRoaXMucmVzZXROYXZpZ2F0aW9uKHRydWUpO1xuICAgICAgLy8gU2luY2Ugd2UgZG9uJ3QgbmVlZCB0byBuYXZpZ2F0ZSB0byB0aGUgcm9vdCBwYWdlIGFnYWluIHdlIG5lZWQgdG8gZmlyZSB0aGUgb25BY3RpdmUgZXZlbnQgd2hlbiB0aGUgc2V0dGluZ3NcbiAgICAgIC8vIHBhbmVsIGdldHMgdmlzaWJsZS5cbiAgICAgIHRoaXMuYWN0aXZlUGFnZS5vbkFjdGl2ZUV2ZW50KCk7XG5cbiAgICAgIGlmIChjb25maWcuaGlkZURlbGF5ID4gLTEpIHtcbiAgICAgICAgLy8gQWN0aXZhdGUgdGltZW91dCB3aGVuIHNob3duXG4gICAgICAgIHRoaXMuaGlkZVRpbWVvdXQuc3RhcnQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHBhc3MgZXZlbnQgZnJvbSByb290IHBhZ2UgdGhyb3VnaFxuICAgIHRoaXMuZ2V0Um9vdFBhZ2UoKS5vblNldHRpbmdzU3RhdGVDaGFuZ2VkLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWRFdmVudCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVBY3RpdmVQYWdlQ2xhc3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGFjdGl2ZSAvIHZpc2libGUgcGFnZVxuICAgKiBAcmV0dXJuIHtTZXR0aW5nc1BhbmVsUGFnZX1cbiAgICovXG4gIGdldEFjdGl2ZVBhZ2UoKTogU2V0dGluZ3NQYW5lbFBhZ2Uge1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZVBhZ2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGVcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBzZXRBY3RpdmVQYWdlfSBpbnN0ZWFkXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKi9cbiAgc2V0QWN0aXZlUGFnZUluZGV4KGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnNldEFjdGl2ZVBhZ2UodGhpcy5nZXRQYWdlcygpW2luZGV4XSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgcGFzc2VkIHBhZ2UgdG8gdGhlIG5hdmlnYXRpb24gc3RhY2sgYW5kIG1ha2VzIGl0IHZpc2libGUuXG4gICAqIFVzZSB7QGxpbmsgcG9wU2V0dGluZ3NQYW5lbFBhZ2V9IHRvIG5hdmlnYXRlIGJhY2t3YXJkcy5cbiAgICpcbiAgICogUmVzdWx0cyBpbiBuby1vcCBpZiB0aGUgdGFyZ2V0IHBhZ2UgaXMgdGhlIGN1cnJlbnQgcGFnZS5cbiAgICogQHBhcmFtIHRhcmdldFBhZ2VcbiAgICovXG4gIHNldEFjdGl2ZVBhZ2UodGFyZ2V0UGFnZTogU2V0dGluZ3NQYW5lbFBhZ2UpOiB2b2lkIHtcbiAgICBpZiAodGFyZ2V0UGFnZSA9PT0gdGhpcy5nZXRBY3RpdmVQYWdlKCkpIHtcbiAgICAgIGNvbnNvbGUud2FybignUGFnZSBpcyBhbHJlYWR5IHRoZSBjdXJyZW50IG9uZSAuLi4gc2tpcHBpbmcgbmF2aWdhdGlvbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubmF2aWdhdGVUb1BhZ2UoXG4gICAgICB0YXJnZXRQYWdlLFxuICAgICAgdGhpcy5nZXRBY3RpdmVQYWdlKCksXG4gICAgICBOYXZpZ2F0aW9uRGlyZWN0aW9uLkZvcndhcmRzLFxuICAgICAgISh0aGlzLmNvbmZpZyBhcyBTZXR0aW5nc1BhbmVsQ29uZmlnKS5wYWdlVHJhbnNpdGlvbkFuaW1hdGlvbixcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgbmF2aWdhdGlvbiBzdGFjayBieSBuYXZpZ2F0aW5nIGJhY2sgdG8gdGhlIHJvb3QgcGFnZSBhbmQgZGlzcGxheWluZyBpdC5cbiAgICovXG4gIHBvcFRvUm9vdFNldHRpbmdzUGFuZWxQYWdlKCk6IHZvaWQge1xuICAgIHRoaXMucmVzZXROYXZpZ2F0aW9uKCh0aGlzLmNvbmZpZyBhcyBTZXR0aW5nc1BhbmVsQ29uZmlnKS5wYWdlVHJhbnNpdGlvbkFuaW1hdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgY3VycmVudCBwYWdlIGZyb20gdGhlIG5hdmlnYXRpb24gc3RhY2sgYW5kIG1ha2VzIHRoZSBwcmV2aW91cyBvbmUgdmlzaWJsZS5cbiAgICogUmVzdWx0cyBpbiBhIG5vLW9wIGlmIHdlIGFyZSBhbHJlYWR5IG9uIHRoZSByb290IHBhZ2UuXG4gICAqL1xuICBwb3BTZXR0aW5nc1BhbmVsUGFnZSgpIHtcbiAgICBpZiAodGhpcy5uYXZpZ2F0aW9uU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0FscmVhZHkgb24gdGhlIHJvb3QgcGFnZSAuLi4gc2tpcHBpbmcgbmF2aWdhdGlvbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB0YXJnZXRQYWdlID0gdGhpcy5uYXZpZ2F0aW9uU3RhY2tbdGhpcy5uYXZpZ2F0aW9uU3RhY2subGVuZ3RoIC0gMl07XG4gICAgLy8gVGhlIHJvb3QgcGFydCBpc24ndCBwYXJ0IG9mIHRoZSBuYXZpZ2F0aW9uIHN0YWNrIHNvIGhhbmRsZSBpdCBleHBsaWNpdGx5IGhlcmVcbiAgICBpZiAoIXRhcmdldFBhZ2UpIHtcbiAgICAgIHRhcmdldFBhZ2UgPSB0aGlzLmdldFJvb3RQYWdlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5uYXZpZ2F0ZVRvUGFnZShcbiAgICAgIHRhcmdldFBhZ2UsXG4gICAgICB0aGlzLmFjdGl2ZVBhZ2UsXG4gICAgICBOYXZpZ2F0aW9uRGlyZWN0aW9uLkJhY2t3YXJkcyxcbiAgICAgICEodGhpcy5jb25maWcgYXMgU2V0dGluZ3NQYW5lbENvbmZpZykucGFnZVRyYW5zaXRpb25BbmltYXRpb24sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlcmUgYXJlIGFjdGl2ZSBzZXR0aW5ncyB3aXRoaW4gdGhlIHJvb3QgcGFnZSBvZiB0aGUgc2V0dGluZ3MgcGFuZWwuXG4gICAqIEFuIGFjdGl2ZSBzZXR0aW5nIGlzIGEgc2V0dGluZyB0aGF0IGlzIHZpc2libGUgYW5kIGVuYWJsZWQsIHdoaWNoIHRoZSB1c2VyIGNhbiBpbnRlcmFjdCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSBhcmUgYWN0aXZlIHNldHRpbmdzLCBmYWxzZSBpZiB0aGUgcGFuZWwgaXMgZnVuY3Rpb25hbGx5IGVtcHR5IHRvIGEgdXNlclxuICAgKi9cbiAgcm9vdFBhZ2VIYXNBY3RpdmVTZXR0aW5ncygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSb290UGFnZSgpLmhhc0FjdGl2ZVNldHRpbmdzKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFsbCBjb25maWd1cmVkIHBhZ2VzXG4gICAqIEByZXR1cm5zIHtTZXR0aW5nc1BhbmVsUGFnZVtdfVxuICAgKi9cbiAgZ2V0UGFnZXMoKTogU2V0dGluZ3NQYW5lbFBhZ2VbXSB7XG4gICAgcmV0dXJuIDxTZXR0aW5nc1BhbmVsUGFnZVtdPnRoaXMuY29uZmlnLmNvbXBvbmVudHMuZmlsdGVyKGNvbXBvbmVudCA9PiBjb21wb25lbnQgaW5zdGFuY2VvZiBTZXR0aW5nc1BhbmVsUGFnZSk7XG4gIH1cblxuICBnZXQgb25TZXR0aW5nc1N0YXRlQ2hhbmdlZCgpOiBFdmVudDxTZXR0aW5nc1BhbmVsLCBOb0FyZ3M+IHtcbiAgICByZXR1cm4gdGhpcy5zZXR0aW5nc1BhbmVsRXZlbnRzLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWQuZ2V0RXZlbnQoKTtcbiAgfVxuXG4gIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgc3VwZXIucmVsZWFzZSgpO1xuICAgIGlmICh0aGlzLmhpZGVUaW1lb3V0KSB7XG4gICAgICB0aGlzLmhpZGVUaW1lb3V0LmNsZWFyKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gU3VwcG9ydCBhZGRpbmcgc2V0dGluZ3NQYW5lbFBhZ2VzIGFmdGVyIGluaXRpYWxpemF0aW9uXG4gIGFkZENvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+KSB7XG4gICAgaWYgKHRoaXMuZ2V0UGFnZXMoKS5sZW5ndGggPT09IDAgJiYgY29tcG9uZW50IGluc3RhbmNlb2YgU2V0dGluZ3NQYW5lbFBhZ2UpIHtcbiAgICAgIHRoaXMuYWN0aXZlUGFnZSA9IGNvbXBvbmVudDtcbiAgICB9XG4gICAgc3VwZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgc3VzcGVuZEhpZGVUaW1lb3V0KCkge1xuICAgIHRoaXMuaGlkZVRpbWVvdXQuc3VzcGVuZCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlc3VtZUhpZGVUaW1lb3V0KCkge1xuICAgIHRoaXMuaGlkZVRpbWVvdXQucmVzdW1lKHRydWUpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVBY3RpdmVQYWdlQ2xhc3MoKTogdm9pZCB7XG4gICAgdGhpcy5nZXRQYWdlcygpLmZvckVhY2goKHBhZ2U6IFNldHRpbmdzUGFuZWxQYWdlKSA9PiB7XG4gICAgICBpZiAocGFnZSA9PT0gdGhpcy5hY3RpdmVQYWdlKSB7XG4gICAgICAgIHBhZ2UuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFNldHRpbmdzUGFuZWwuQ0xBU1NfQUNUSVZFX1BBR0UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2UuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKFNldHRpbmdzUGFuZWwuQ0xBU1NfQUNUSVZFX1BBR0UpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzZXROYXZpZ2F0aW9uKHJlc2V0TmF2aWdhdGlvbk9uU2hvdzogYm9vbGVhbik6IHZvaWQge1xuICAgIGNvbnN0IHNvdXJjZVBhZ2UgPSB0aGlzLmdldEFjdGl2ZVBhZ2UoKTtcbiAgICBjb25zdCByb290UGFnZSA9IHRoaXMuZ2V0Um9vdFBhZ2UoKTtcbiAgICBpZiAoc291cmNlUGFnZSkge1xuICAgICAgLy8gU2luY2UgdGhlIG9uSW5hY3RpdmVFdmVudCB3YXMgYWxyZWFkeSBmaXJlZCBpbiB0aGUgb25IaWRlIHdlIG5lZWQgdG8gc3VwcHJlc3MgaXQgaGVyZVxuICAgICAgaWYgKCFyZXNldE5hdmlnYXRpb25PblNob3cpIHtcbiAgICAgICAgc291cmNlUGFnZS5vbkluYWN0aXZlRXZlbnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5uYXZpZ2F0aW9uU3RhY2sgPSBbXTtcbiAgICB0aGlzLmFuaW1hdGVOYXZpZ2F0aW9uKHJvb3RQYWdlLCBzb3VyY2VQYWdlLCByZXNldE5hdmlnYXRpb25PblNob3cpO1xuICAgIHRoaXMuYWN0aXZlUGFnZSA9IHJvb3RQYWdlO1xuICAgIHRoaXMudXBkYXRlQWN0aXZlUGFnZUNsYXNzKCk7XG4gIH1cblxuICBwcml2YXRlIG5hdmlnYXRlVG9QYWdlKFxuICAgIHRhcmdldFBhZ2U6IFNldHRpbmdzUGFuZWxQYWdlLFxuICAgIHNvdXJjZVBhZ2U6IFNldHRpbmdzUGFuZWxQYWdlLFxuICAgIGRpcmVjdGlvbjogTmF2aWdhdGlvbkRpcmVjdGlvbixcbiAgICBza2lwQW5pbWF0aW9uOiBib29sZWFuLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLmFjdGl2ZVBhZ2UgPSB0YXJnZXRQYWdlO1xuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gTmF2aWdhdGlvbkRpcmVjdGlvbi5Gb3J3YXJkcykge1xuICAgICAgdGhpcy5uYXZpZ2F0aW9uU3RhY2sucHVzaCh0YXJnZXRQYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5uYXZpZ2F0aW9uU3RhY2sucG9wKCk7XG4gICAgfVxuXG4gICAgdGhpcy5hbmltYXRlTmF2aWdhdGlvbih0YXJnZXRQYWdlLCBzb3VyY2VQYWdlLCBza2lwQW5pbWF0aW9uKTtcblxuICAgIHRoaXMudXBkYXRlQWN0aXZlUGFnZUNsYXNzKCk7XG4gICAgdGFyZ2V0UGFnZS5vbkFjdGl2ZUV2ZW50KCk7XG4gICAgc291cmNlUGFnZS5vbkluYWN0aXZlRXZlbnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gdGFyZ2V0UGFnZVxuICAgKiBAcGFyYW0gc291cmNlUGFnZVxuICAgKiBAcGFyYW0gc2tpcEFuaW1hdGlvbiBUaGlzIGlzIGp1c3QgYW4gaW50ZXJuYWwgZmxhZyBpZiB3ZSB3YW50IHRvIGhhdmUgYW4gYW5pbWF0aW9uLiBJdCBpcyBzZXQgdHJ1ZSB3aGVuIHdlIHJlc2V0XG4gICAqIHRoZSBuYXZpZ2F0aW9uIHdpdGhpbiB0aGUgb25TaG93IGNhbGxiYWNrIG9mIHRoZSBzZXR0aW5nc1BhbmVsLiBJbiB0aGlzIGNhc2Ugd2UgZG9uJ3Qgd2FudCBhbiBhY3R1YWwgYW5pbWF0aW9uIGJ1dFxuICAgKiB0aGUgcmVjYWxjdWxhdGlvbiBvZiB0aGUgZGltZW5zaW9uIG9mIHRoZSBzZXR0aW5nc1BhbmVsLlxuICAgKiBUaGlzIGlzIGluZGVwZW5kZW50IG9mIHRoZSBwYWdlVHJhbnNpdGlvbkFuaW1hdGlvbiBmbGFnLlxuICAgKi9cbiAgcHJpdmF0ZSBhbmltYXRlTmF2aWdhdGlvbih0YXJnZXRQYWdlOiBTZXR0aW5nc1BhbmVsUGFnZSwgc291cmNlUGFnZTogU2V0dGluZ3NQYW5lbFBhZ2UsIHNraXBBbmltYXRpb246IGJvb2xlYW4pIHtcbiAgICBpZiAoISh0aGlzLmNvbmZpZyBhcyBTZXR0aW5nc1BhbmVsQ29uZmlnKS5wYWdlVHJhbnNpdGlvbkFuaW1hdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNldHRpbmdzUGFuZWxEb21FbGVtZW50ID0gdGhpcy5nZXREb21FbGVtZW50KCk7XG4gICAgY29uc3Qgc2V0dGluZ3NQYW5lbEhUTUxFbGVtZW50ID0gdGhpcy5nZXREb21FbGVtZW50KCkuZ2V0KDApO1xuXG4gICAgLy8gZ2V0IGN1cnJlbnQgZGltZW5zaW9uXG4gICAgY29uc3Qgc2V0dGluZ3NQYW5lbFdpZHRoID0gc2V0dGluZ3NQYW5lbEhUTUxFbGVtZW50LnNjcm9sbFdpZHRoO1xuICAgIGNvbnN0IHNldHRpbmdzUGFuZWxIZWlnaHQgPSBzZXR0aW5nc1BhbmVsSFRNTEVsZW1lbnQuc2Nyb2xsSGVpZ2h0O1xuXG4gICAgLy8gY2FsY3VsYXRlIHRhcmdldCBzaXplIG9mIHRoZSBzZXR0aW5ncyBwYW5lbFxuICAgIHNvdXJjZVBhZ2UuZ2V0RG9tRWxlbWVudCgpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgdGhpcy5nZXREb21FbGVtZW50KCkuY3NzKHsgd2lkdGg6ICcnLCBoZWlnaHQ6ICcnIH0pOyAvLyBsZXQgY3NzIGF1dG8gc2V0dGluZ3Mga2ljayBpbiBhZ2FpblxuXG4gICAgY29uc3QgdGFyZ2V0UGFnZUh0bWxFbGVtZW50ID0gdGFyZ2V0UGFnZS5nZXREb21FbGVtZW50KCkuZ2V0KDApO1xuICAgIC8vIGNsb25lIHRoZSB0YXJnZXRQYWdlIERPTSBlbGVtZW50IHNvIHRoYXQgd2UgY2FuIGNhbGN1bGF0ZSB0aGUgd2lkdGggLyBoZWlnaHQgaG93IHRoZXkgd2lsbCBiZSBhZnRlclxuICAgIC8vIHN3aXRjaGluZyB0aGUgcGFnZS4gV2UgYXJlIHVzaW5nIGEgY2xvbmUgdG8gcHJldmVudCAobW9zdGx5IHN0eWxpbmcpIHNpZGUtZWZmZWN0cyBvbiB0aGUgcmVhbCBET00gZWxlbWVudFxuICAgIGNvbnN0IGNsb25lID0gdGFyZ2V0UGFnZUh0bWxFbGVtZW50LmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudDtcbiAgICAvLyBhcHBlbmQgdG8gcGFyZW50IHNvIHdlIGdldCB0aGUgJ3JlYWwnIHNpemVcbiAgICBjb25zdCBjb250YWluZXJXcmFwcGVyID0gdGFyZ2V0UGFnZUh0bWxFbGVtZW50LnBhcmVudE5vZGU7XG4gICAgY29udGFpbmVyV3JhcHBlci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgLy8gc2V0IGNsb25lIHZpc2libGVcbiAgICBjbG9uZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgIC8vIGNvbGxlY3QgdGFyZ2V0IGRpbWVuc2lvblxuICAgIGNvbnN0IHRhcmdldFNldHRpbmdzUGFuZWxXaWR0aCA9IHNldHRpbmdzUGFuZWxIVE1MRWxlbWVudC5zY3JvbGxXaWR0aDtcbiAgICBjb25zdCB0YXJnZXRTZXR0aW5nc1BhbmVsSGVpZ2h0ID0gc2V0dGluZ3NQYW5lbEhUTUxFbGVtZW50LnNjcm9sbEhlaWdodDtcblxuICAgIC8vIHJlbW92ZSBjbG9uZSBmcm9tIHRoZSBET01cbiAgICBjbG9uZS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGNsb25lKTsgLy8gLnJlbW92ZSgpIGlzIG5vdCB3b3JraW5nIGluIElFXG4gICAgc291cmNlUGFnZS5nZXREb21FbGVtZW50KCkuY3NzKCdkaXNwbGF5JywgJycpO1xuXG4gICAgLy8gc2V0IHRoZSB2YWx1ZXMgYmFjayB0byB0aGUgY3VycmVudCBvbmVzIHRoYXQgdGhlIGJyb3dzZXIgYW5pbWF0ZXMgaXQgKGJyb3dzZXJzIGRvbid0IGFuaW1hdGUgJ2F1dG8nIHZhbHVlcylcbiAgICBzZXR0aW5nc1BhbmVsRG9tRWxlbWVudC5jc3Moe1xuICAgICAgd2lkdGg6IHNldHRpbmdzUGFuZWxXaWR0aCArICdweCcsXG4gICAgICBoZWlnaHQ6IHNldHRpbmdzUGFuZWxIZWlnaHQgKyAncHgnLFxuICAgIH0pO1xuXG4gICAgaWYgKCFza2lwQW5pbWF0aW9uKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGZvcmNlIHRoZSBicm93c2VyIHRvIHJlZmxvdyBiZXR3ZWVuIHNldHRpbmcgdGhlIHdpZHRoIGFuZCBoZWlnaHQgdGhhdCB3ZSBhY3R1YWxseSBnZXQgYSBhbmltYXRpb25cbiAgICAgIHRoaXMuZm9yY2VCcm93c2VyUmVmbG93KCk7XG4gICAgfVxuXG4gICAgLy8gc2V0IHRoZSB2YWx1ZXMgdG8gdGhlIHRhcmdldCBkaW1lbnNpb25cbiAgICBzZXR0aW5nc1BhbmVsRG9tRWxlbWVudC5jc3Moe1xuICAgICAgd2lkdGg6IHRhcmdldFNldHRpbmdzUGFuZWxXaWR0aCArICdweCcsXG4gICAgICBoZWlnaHQ6IHRhcmdldFNldHRpbmdzUGFuZWxIZWlnaHQgKyAncHgnLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBmb3JjZUJyb3dzZXJSZWZsb3coKTogdm9pZCB7XG4gICAgLy8gRm9yY2UgdGhlIGJyb3dzZXIgdG8gcmVmbG93IHRoZSBsYXlvdXRcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9wYXVsaXJpc2gvNWQ1MmZiMDgxYjM1NzBjODFlM2FcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC1leHByZXNzaW9uc1xuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmdldCgwKS5vZmZzZXRMZWZ0O1xuICB9XG5cbiAgLyoqXG4gICAqIFdvcmthcm91bmQgZm9yIElFLCBGaXJlZm94IGFuZCBTYWZhcmlcbiAgICogd2hlbiB0aGUgc2V0dGluZ3MgcGFuZWwgZmFkZXMgb3V0IHdoaWxlIGFuIGl0ZW0gb2YgYSBzZWxlY3QgYm94IGlzIHN0aWxsIGhvdmVyZWQsIHRoZSBzZWxlY3QgYm94IHdpbGwgbm90IGZhZGUgb3V0XG4gICAqIHdoaWxlIHRoZSBzZXR0aW5ncyBwYW5lbCBkb2VzLiBUaGlzIHdvdWxkIGxlYXZlIGEgZmxvYXRpbmcgc2VsZWN0IGJveCwgd2hpY2ggaXMganVzdCB3ZWlyZFxuICAgKi9cbiAgcHJpdmF0ZSBoaWRlSG92ZXJlZFNlbGVjdEJveGVzKCk6IHZvaWQge1xuICAgIHRoaXMuZ2V0Q29tcHV0ZWRJdGVtcygpXG4gICAgICAubWFwKGl0ZW0gPT4gaXRlbVsnc2V0dGluZyddKVxuICAgICAgLmZpbHRlcihjb21wb25lbnQgPT4gY29tcG9uZW50IGluc3RhbmNlb2YgU2VsZWN0Qm94KVxuICAgICAgLmZvckVhY2goKHNlbGVjdEJveDogU2VsZWN0Qm94KSA9PiBzZWxlY3RCb3guY2xvc2VEcm9wZG93bigpKTtcbiAgfVxuXG4gIC8vIGNvbGxlY3QgYWxsIGl0ZW1zIGZyb20gYWxsIHBhZ2VzIChzZWUgaGlkZUhvdmVyZWRTZWxlY3RCb3hlcylcbiAgcHJpdmF0ZSBnZXRDb21wdXRlZEl0ZW1zKCk6IFNldHRpbmdzUGFuZWxJdGVtW10ge1xuICAgIGNvbnN0IGFsbEl0ZW1zOiBTZXR0aW5nc1BhbmVsSXRlbVtdID0gW107XG4gICAgZm9yIChsZXQgcGFnZSBvZiB0aGlzLmdldFBhZ2VzKCkpIHtcbiAgICAgIGFsbEl0ZW1zLnB1c2goLi4ucGFnZS5nZXRJdGVtcygpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFsbEl0ZW1zO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRSb290UGFnZSgpOiBTZXR0aW5nc1BhbmVsUGFnZSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UGFnZXMoKVswXTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvblNldHRpbmdzU3RhdGVDaGFuZ2VkRXZlbnQoKSB7XG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsRXZlbnRzLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWQuZGlzcGF0Y2godGhpcyk7XG4gIH1cbn1cbiIsImltcG9ydCB7Q29udGFpbmVyLCBDb250YWluZXJDb25maWd9IGZyb20gJy4vY29udGFpbmVyJztcbmltcG9ydCB7Q29tcG9uZW50LCBDb21wb25lbnRDb25maWd9IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7RXZlbnQsIEV2ZW50RGlzcGF0Y2hlciwgTm9BcmdzfSBmcm9tICcuLi9ldmVudGRpc3BhdGNoZXInO1xuaW1wb3J0IHsgTGFiZWwsIExhYmVsQ29uZmlnIH0gZnJvbSAnLi9sYWJlbCc7XG5pbXBvcnQge1VJSW5zdGFuY2VNYW5hZ2VyfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHtTZWxlY3RCb3h9IGZyb20gJy4vc2VsZWN0Ym94JztcbmltcG9ydCB7TGlzdEJveH0gZnJvbSAnLi9saXN0Ym94JztcbmltcG9ydCB7VmlkZW9RdWFsaXR5U2VsZWN0Qm94fSBmcm9tICcuL3ZpZGVvcXVhbGl0eXNlbGVjdGJveCc7XG5pbXBvcnQge0F1ZGlvUXVhbGl0eVNlbGVjdEJveH0gZnJvbSAnLi9hdWRpb3F1YWxpdHlzZWxlY3Rib3gnO1xuaW1wb3J0IHtQbGF5YmFja1NwZWVkU2VsZWN0Qm94fSBmcm9tICcuL3BsYXliYWNrc3BlZWRzZWxlY3Rib3gnO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IExvY2FsaXphYmxlVGV4dCB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBBbiBpdGVtIGZvciBhIHtAbGluayBTZXR0aW5nc1BhbmVsUGFnZX0sXG4gKiBDb250YWluaW5nIGFuIG9wdGlvbmFsIHtAbGluayBMYWJlbH0gYW5kIGEgY29tcG9uZW50IHRoYXQgY29uZmlndXJlcyBhIHNldHRpbmcuXG4gKiBJZiB0aGUgY29tcG9uZW50cyBpcyBhIHtAbGluayBTZWxlY3RCb3h9IGl0IHdpbGwgaGFuZGxlIHRoZSBsb2dpYyBvZiBkaXNwbGF5aW5nIGl0IG9yIG5vdFxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1BhbmVsSXRlbSBleHRlbmRzIENvbnRhaW5lcjxDb250YWluZXJDb25maWc+IHtcblxuICBwcml2YXRlIGxhYmVsOiBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPjtcbiAgcHJpdmF0ZSBzZXR0aW5nOiBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPjtcblxuICBwcml2YXRlIHNldHRpbmdzUGFuZWxJdGVtRXZlbnRzID0ge1xuICAgIG9uQWN0aXZlQ2hhbmdlZDogbmV3IEV2ZW50RGlzcGF0Y2hlcjxTZXR0aW5nc1BhbmVsSXRlbSwgTm9BcmdzPigpLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKGxhYmVsOiBMb2NhbGl6YWJsZVRleHQgfCBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPiwgc2V0dGluZzogQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz4sIGNvbmZpZzogQ29udGFpbmVyQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5zZXR0aW5nID0gc2V0dGluZztcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktc2V0dGluZ3MtcGFuZWwtaXRlbScsXG4gICAgICByb2xlOiAnbWVudWl0ZW0nLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcblxuICAgIGlmIChsYWJlbCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGxhYmVsIGluc3RhbmNlb2YgQ29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGFiZWwgPSBuZXcgTGFiZWwoeyB0ZXh0OiBsYWJlbCwgZm9yOiB0aGlzLnNldHRpbmcuZ2V0Q29uZmlnKCkuaWQgfSBhcyBMYWJlbENvbmZpZyk7XG4gICAgICB9XG4gICAgICB0aGlzLmFkZENvbXBvbmVudCh0aGlzLmxhYmVsKTtcbiAgICB9XG5cbiAgICB0aGlzLmFkZENvbXBvbmVudCh0aGlzLnNldHRpbmcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc2V0dGluZyBpbnN0YW5jZW9mIFNlbGVjdEJveCB8fCB0aGlzLnNldHRpbmcgaW5zdGFuY2VvZiBMaXN0Qm94KSB7XG4gICAgICBsZXQgaGFuZGxlQ29uZmlnSXRlbUNoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIGlmICghKHRoaXMuc2V0dGluZyBpbnN0YW5jZW9mIFNlbGVjdEJveCkgJiYgISh0aGlzLnNldHRpbmcgaW5zdGFuY2VvZiBMaXN0Qm94KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgbWluaW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBtdXN0IGJlIGF2YWlsYWJsZSBmb3IgdGhlIHNldHRpbmcgdG8gYmUgZGlzcGxheWVkXG4gICAgICAgIC8vIEJ5IGRlZmF1bHQsIGF0IGxlYXN0IHR3byBpdGVtcyBtdXN0IGJlIGF2YWlsYWJsZSwgZWxzZSBhIHNlbGVjdGlvbiBpcyBub3QgcG9zc2libGVcbiAgICAgICAgbGV0IG1pbkl0ZW1zVG9EaXNwbGF5ID0gMjtcbiAgICAgICAgLy8gQXVkaW8vdmlkZW8gcXVhbGl0eSBzZWxlY3QgYm94ZXMgY29udGFpbiBhbiBhZGRpdGlvbmFsICdhdXRvJyBtb2RlLCB3aGljaCBpbiBjb21iaW5hdGlvbiB3aXRoIGEgc2luZ2xlXG4gICAgICAgIC8vIGF2YWlsYWJsZSBxdWFsaXR5IGFsc28gZG9lcyBub3QgbWFrZSBzZW5zZVxuICAgICAgICBpZiAoKHRoaXMuc2V0dGluZyBpbnN0YW5jZW9mIFZpZGVvUXVhbGl0eVNlbGVjdEJveCAmJiB0aGlzLnNldHRpbmcuaGFzQXV0b0l0ZW0oKSlcbiAgICAgICAgICB8fCB0aGlzLnNldHRpbmcgaW5zdGFuY2VvZiBBdWRpb1F1YWxpdHlTZWxlY3RCb3gpIHtcbiAgICAgICAgICBtaW5JdGVtc1RvRGlzcGxheSA9IDM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nLml0ZW1Db3VudCgpIDwgbWluSXRlbXNUb0Rpc3BsYXkpIHtcbiAgICAgICAgICAvLyBIaWRlIHRoZSBzZXR0aW5nIGlmIG5vIG1lYW5pbmdmdWwgY2hvaWNlIGlzIGF2YWlsYWJsZVxuICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZyBpbnN0YW5jZW9mIFBsYXliYWNrU3BlZWRTZWxlY3RCb3hcbiAgICAgICAgICAmJiAhdWltYW5hZ2VyLmdldENvbmZpZygpLnBsYXliYWNrU3BlZWRTZWxlY3Rpb25FbmFibGVkKSB7XG4gICAgICAgICAgLy8gSGlkZSB0aGUgUGxheWJhY2tTcGVlZFNlbGVjdEJveCBpZiBkaXNhYmxlZCBpbiBjb25maWdcbiAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZpc2liaWxpdHkgbWlnaHQgaGF2ZSBjaGFuZ2VkIGFuZCB0aGVyZWZvcmUgdGhlIGFjdGl2ZSBzdGF0ZSBtaWdodCBoYXZlIGNoYW5nZWQgc28gd2UgZmlyZSB0aGUgZXZlbnRcbiAgICAgICAgLy8gVE9ETyBmaXJlIG9ubHkgd2hlbiBzdGF0ZSBoYXMgcmVhbGx5IGNoYW5nZWQgKGUuZy4gY2hlY2sgaWYgdmlzaWJpbGl0eSBoYXMgcmVhbGx5IGNoYW5nZWQpXG4gICAgICAgIHRoaXMub25BY3RpdmVDaGFuZ2VkRXZlbnQoKTtcblxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hdHRyKCdhcmlhLWhhc3BvcHVwJywgJ3RydWUnKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc2V0dGluZy5vbkl0ZW1BZGRlZC5zdWJzY3JpYmUoaGFuZGxlQ29uZmlnSXRlbUNoYW5nZWQpO1xuICAgICAgdGhpcy5zZXR0aW5nLm9uSXRlbVJlbW92ZWQuc3Vic2NyaWJlKGhhbmRsZUNvbmZpZ0l0ZW1DaGFuZ2VkKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBoaWRkZW4gc3RhdGVcbiAgICAgIGhhbmRsZUNvbmZpZ0l0ZW1DaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGlzIHNldHRpbmdzIHBhbmVsIGl0ZW0gaXMgYWN0aXZlLCBpLmUuIHZpc2libGUgYW5kIGVuYWJsZWQgYW5kIGEgdXNlciBjYW4gaW50ZXJhY3Qgd2l0aCBpdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIHBhbmVsIGlzIGFjdGl2ZSwgZWxzZSBmYWxzZVxuICAgKi9cbiAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaXNTaG93bigpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uQWN0aXZlQ2hhbmdlZEV2ZW50KCkge1xuICAgIHRoaXMuc2V0dGluZ3NQYW5lbEl0ZW1FdmVudHMub25BY3RpdmVDaGFuZ2VkLmRpc3BhdGNoKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgJ2FjdGl2ZScgc3RhdGUgb2YgdGhpcyBpdGVtIGNoYW5nZXMuXG4gICAqIEBzZWUgI2lzQWN0aXZlXG4gICAqIEByZXR1cm5zIHtFdmVudDxTZXR0aW5nc1BhbmVsSXRlbSwgTm9BcmdzPn1cbiAgICovXG4gIGdldCBvbkFjdGl2ZUNoYW5nZWQoKTogRXZlbnQ8U2V0dGluZ3NQYW5lbEl0ZW0sIE5vQXJncz4ge1xuICAgIHJldHVybiB0aGlzLnNldHRpbmdzUGFuZWxJdGVtRXZlbnRzLm9uQWN0aXZlQ2hhbmdlZC5nZXRFdmVudCgpO1xuICB9XG59XG4iLCJpbXBvcnQge0NvbnRhaW5lciwgQ29udGFpbmVyQ29uZmlnfSBmcm9tICcuL2NvbnRhaW5lcic7XG5pbXBvcnQge1NldHRpbmdzUGFuZWxJdGVtfSBmcm9tICcuL3NldHRpbmdzcGFuZWxpdGVtJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge0V2ZW50LCBFdmVudERpc3BhdGNoZXIsIE5vQXJnc30gZnJvbSAnLi4vZXZlbnRkaXNwYXRjaGVyJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBCcm93c2VyVXRpbHMgfSBmcm9tICcuLi9icm93c2VydXRpbHMnO1xuXG4vKipcbiAqIEEgcGFuZWwgY29udGFpbmluZyBhIGxpc3Qgb2Yge0BsaW5rIFNldHRpbmdzUGFuZWxJdGVtIGl0ZW1zfSB0aGF0IHJlcHJlc2VudCBsYWJlbGxlZCBzZXR0aW5ncy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NQYW5lbFBhZ2UgZXh0ZW5kcyBDb250YWluZXI8Q29udGFpbmVyQ29uZmlnPiB7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQ0xBU1NfTEFTVCA9ICdsYXN0JztcblxuICBwcml2YXRlIHNldHRpbmdzUGFuZWxQYWdlRXZlbnRzID0ge1xuICAgIG9uU2V0dGluZ3NTdGF0ZUNoYW5nZWQ6IG5ldyBFdmVudERpc3BhdGNoZXI8U2V0dGluZ3NQYW5lbFBhZ2UsIE5vQXJncz4oKSxcbiAgICBvbkFjdGl2ZTogbmV3IEV2ZW50RGlzcGF0Y2hlcjxTZXR0aW5nc1BhbmVsUGFnZSwgTm9BcmdzPigpLFxuICAgIG9uSW5hY3RpdmU6IG5ldyBFdmVudERpc3BhdGNoZXI8U2V0dGluZ3NQYW5lbFBhZ2UsIE5vQXJncz4oKSxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IENvbnRhaW5lckNvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWc8Q29udGFpbmVyQ29uZmlnPihjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktc2V0dGluZ3MtcGFuZWwtcGFnZScsXG4gICAgICByb2xlOiAnbWVudScsXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIC8vIEZpcmUgZXZlbnQgd2hlbiB0aGUgc3RhdGUgb2YgYSBzZXR0aW5ncy1pdGVtIGhhcyBjaGFuZ2VkXG4gICAgbGV0IHNldHRpbmdzU3RhdGVDaGFuZ2VkSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHRoaXMub25TZXR0aW5nc1N0YXRlQ2hhbmdlZEV2ZW50KCk7XG5cbiAgICAgIC8vIEF0dGFjaCBtYXJrZXIgY2xhc3MgdG8gbGFzdCB2aXNpYmxlIGl0ZW1cbiAgICAgIGxldCBsYXN0U2hvd25JdGVtID0gbnVsbDtcbiAgICAgIGZvciAobGV0IGNvbXBvbmVudCBvZiB0aGlzLmdldEl0ZW1zKCkpIHtcbiAgICAgICAgY29tcG9uZW50LmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcyhTZXR0aW5nc1BhbmVsUGFnZS5DTEFTU19MQVNUKSk7XG4gICAgICAgIGlmIChjb21wb25lbnQuaXNTaG93bigpKSB7XG4gICAgICAgICAgbGFzdFNob3duSXRlbSA9IGNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxhc3RTaG93bkl0ZW0pIHtcbiAgICAgICAgbGFzdFNob3duSXRlbS5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoU2V0dGluZ3NQYW5lbFBhZ2UuQ0xBU1NfTEFTVCkpO1xuICAgICAgfVxuICAgIH07XG4gICAgZm9yIChsZXQgY29tcG9uZW50IG9mIHRoaXMuZ2V0SXRlbXMoKSkge1xuICAgICAgY29tcG9uZW50Lm9uQWN0aXZlQ2hhbmdlZC5zdWJzY3JpYmUoc2V0dGluZ3NTdGF0ZUNoYW5nZWRIYW5kbGVyKTtcbiAgICB9XG4gIH1cblxuICBoYXNBY3RpdmVTZXR0aW5ncygpOiBib29sZWFuIHtcbiAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgdGhpcy5nZXRJdGVtcygpKSB7XG4gICAgICBpZiAoY29tcG9uZW50LmlzQWN0aXZlKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZ2V0SXRlbXMoKTogU2V0dGluZ3NQYW5lbEl0ZW1bXSB7XG4gICAgcmV0dXJuIDxTZXR0aW5nc1BhbmVsSXRlbVtdPnRoaXMuY29uZmlnLmNvbXBvbmVudHMuZmlsdGVyKGNvbXBvbmVudCA9PiBjb21wb25lbnQgaW5zdGFuY2VvZiBTZXR0aW5nc1BhbmVsSXRlbSk7XG4gIH1cblxuICBvblNldHRpbmdzU3RhdGVDaGFuZ2VkRXZlbnQoKSB7XG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsUGFnZUV2ZW50cy5vblNldHRpbmdzU3RhdGVDaGFuZ2VkLmRpc3BhdGNoKHRoaXMpO1xuICB9XG5cbiAgZ2V0IG9uU2V0dGluZ3NTdGF0ZUNoYW5nZWQoKTogRXZlbnQ8U2V0dGluZ3NQYW5lbFBhZ2UsIE5vQXJncz4ge1xuICAgIHJldHVybiB0aGlzLnNldHRpbmdzUGFuZWxQYWdlRXZlbnRzLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWQuZ2V0RXZlbnQoKTtcbiAgfVxuXG4gIG9uQWN0aXZlRXZlbnQoKSB7XG4gICAgY29uc3QgYWN0aXZlSXRlbXMgPSB0aGlzLmdldEl0ZW1zKCkuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlzQWN0aXZlKCkpO1xuXG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsUGFnZUV2ZW50cy5vbkFjdGl2ZS5kaXNwYXRjaCh0aGlzKTtcbiAgICAvLyBEaXNhYmxlIGZvY3VzIGZvciBpT1MgYW5kIGlQYWRPUyAxMy4gVGhleSBvcGVuIHNlbGVjdCBib3hlcyBhdXRvbWF0aWNhbGx5IG9uIGZvY3VzIGFuZCB3ZSB3YW50IHRvIGF2b2lkIHRoYXQuXG4gICAgaWYgKGFjdGl2ZUl0ZW1zLmxlbmd0aCA+IDAgJiYgIUJyb3dzZXJVdGlscy5pc0lPUyAmJiAhKEJyb3dzZXJVdGlscy5pc01hY0ludGVsICYmIEJyb3dzZXJVdGlscy5pc1RvdWNoU3VwcG9ydGVkKSkge1xuICAgICAgYWN0aXZlSXRlbXNbMF0uZ2V0RG9tRWxlbWVudCgpLmZvY3VzVG9GaXJzdElucHV0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IG9uQWN0aXZlKCk6IEV2ZW50PFNldHRpbmdzUGFuZWxQYWdlLCBOb0FyZ3M+IHtcbiAgICByZXR1cm4gdGhpcy5zZXR0aW5nc1BhbmVsUGFnZUV2ZW50cy5vbkFjdGl2ZS5nZXRFdmVudCgpO1xuICB9XG5cbiAgb25JbmFjdGl2ZUV2ZW50KCkge1xuICAgIHRoaXMuc2V0dGluZ3NQYW5lbFBhZ2VFdmVudHMub25JbmFjdGl2ZS5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuXG4gIGdldCBvbkluYWN0aXZlKCk6IEV2ZW50PFNldHRpbmdzUGFuZWxQYWdlLCBOb0FyZ3M+IHtcbiAgICByZXR1cm4gdGhpcy5zZXR0aW5nc1BhbmVsUGFnZUV2ZW50cy5vbkluYWN0aXZlLmdldEV2ZW50KCk7XG4gIH1cbn1cbiIsImltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge1NldHRpbmdzUGFuZWxQYWdlTmF2aWdhdG9yQnV0dG9uLCBTZXR0aW5nc1BhbmVsUGFnZU5hdmlnYXRvckNvbmZpZ30gZnJvbSAnLi9zZXR0aW5nc3BhbmVscGFnZW5hdmlnYXRvcmJ1dHRvbic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuXG4vKipcbiAqIEBjYXRlZ29yeSBCdXR0b25zXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1BhbmVsUGFnZUJhY2tCdXR0b24gZXh0ZW5kcyBTZXR0aW5nc1BhbmVsUGFnZU5hdmlnYXRvckJ1dHRvbiB7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBTZXR0aW5nc1BhbmVsUGFnZU5hdmlnYXRvckNvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLXNldHRpbmdzcGFuZWxwYWdlYmFja2J1dHRvbicsXG4gICAgICB0ZXh0OiAnYmFjaycsXG4gICAgfSBhcyBTZXR0aW5nc1BhbmVsUGFnZU5hdmlnYXRvckNvbmZpZywgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5wb3BQYWdlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7QnV0dG9uLCBCdXR0b25Db25maWd9IGZyb20gJy4vYnV0dG9uJztcbmltcG9ydCB7U2V0dGluZ3NQYW5lbH0gZnJvbSAnLi9zZXR0aW5nc3BhbmVsJztcbmltcG9ydCB7U2V0dGluZ3NQYW5lbFBhZ2V9IGZyb20gJy4vc2V0dGluZ3NwYW5lbHBhZ2UnO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IFVJSW5zdGFuY2VNYW5hZ2VyIH0gZnJvbSAnLi4vdWltYW5hZ2VyJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgYSB7QGxpbmsgU2V0dGluZ3NQYW5lbFBhZ2VOYXZpZ2F0b3JCdXR0b259XG4gKlxuICogQGNhdGVnb3J5IENvbmZpZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5nc1BhbmVsUGFnZU5hdmlnYXRvckNvbmZpZyBleHRlbmRzIEJ1dHRvbkNvbmZpZyB7XG4gIC8qKlxuICAgKiBDb250YWluZXIgYFNldHRpbmdzUGFuZWxgIHdoZXJlIHRoZSBuYXZpZ2F0aW9uIHRha2VzIHBsYWNlXG4gICAqL1xuICBjb250YWluZXI6IFNldHRpbmdzUGFuZWw7XG4gIC8qKlxuICAgKiBQYWdlIHdoZXJlIHRoZSBidXR0b24gc2hvdWxkIG5hdmlnYXRlIHRvXG4gICAqIElmIGVtcHR5IGl0IHdpbGwgbmF2aWdhdGUgdG8gdGhlIHJvb3QgcGFnZSAobm90IGludGVuZGVkIHRvIHVzZSBhcyBuYXZpZ2F0ZSBiYWNrIGJlaGF2aW9yKVxuICAgKi9cbiAgdGFyZ2V0UGFnZT86IFNldHRpbmdzUGFuZWxQYWdlO1xuXG4gIC8qKlxuICAgKiBXQ0FHMjAgc3RhbmRhcmQ6IEVzdGFibGlzaGVzIHJlbGF0aW9uc2hpcHMgYmV0d2VlbiBvYmplY3RzIGFuZCB0aGVpciBsYWJlbChzKVxuICAgKi9cbiAgYXJpYUxhYmVsbGVkQnk/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQ2FuIGJlIHVzZWQgdG8gbmF2aWdhdGUgYmV0d2VlbiBTZXR0aW5nc1BhbmVsUGFnZXNcbiAqXG4gKiBFeGFtcGxlOlxuICogIGxldCBzZXR0aW5nUGFuZWxOYXZpZ2F0aW9uQnV0dG9uID0gbmV3IFNldHRpbmdzUGFuZWxQYWdlTmF2aWdhdG9yQnV0dG9uKHtcbiAqICAgIGNvbnRhaW5lcjogc2V0dGluZ3NQYW5lbCxcbiAqICAgIHRhcmdldFBhZ2U6IHNldHRpbmdzUGFuZWxQYWdlLFxuICogIH0pO1xuICpcbiAqICBzZXR0aW5nc1BhbmVsUGFnZS5hZGRDb21wb25lbnQoc2V0dGluZ1BhbmVsTmF2aWdhdGlvbkJ1dHRvbik7XG4gKlxuICogRG9uJ3QgZm9yZ2V0IHRvIGFkZCB0aGUgc2V0dGluZ1BhbmVsTmF2aWdhdGlvbkJ1dHRvbiB0byB0aGUgc2V0dGluZ3NQYW5lbFBhZ2UuXG4gKlxuICogQGNhdGVnb3J5IEJ1dHRvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIFNldHRpbmdzUGFuZWxQYWdlTmF2aWdhdG9yQnV0dG9uIGV4dGVuZHMgQnV0dG9uPFNldHRpbmdzUGFuZWxQYWdlTmF2aWdhdG9yQ29uZmlnPiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyOiBTZXR0aW5nc1BhbmVsO1xuICBwcml2YXRlIHJlYWRvbmx5IHRhcmdldFBhZ2U/OiBTZXR0aW5nc1BhbmVsUGFnZTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFNldHRpbmdzUGFuZWxQYWdlTmF2aWdhdG9yQ29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7fSBhcyBTZXR0aW5nc1BhbmVsUGFnZU5hdmlnYXRvckNvbmZpZywgdGhpcy5jb25maWcpO1xuXG4gICAgdGhpcy5jb250YWluZXIgPSAodGhpcy5jb25maWcgYXMgU2V0dGluZ3NQYW5lbFBhZ2VOYXZpZ2F0b3JDb25maWcpLmNvbnRhaW5lcjtcbiAgICB0aGlzLnRhcmdldFBhZ2UgPSAodGhpcy5jb25maWcgYXMgU2V0dGluZ3NQYW5lbFBhZ2VOYXZpZ2F0b3JDb25maWcpLnRhcmdldFBhZ2U7XG4gIH1cblxuICAvKipcbiAgICogbmF2aWdhdGUgb25lIGxldmVsIGJhY2tcbiAgICovXG4gIHBvcFBhZ2UoKSB7XG4gICAgdGhpcy5jb250YWluZXIucG9wU2V0dGluZ3NQYW5lbFBhZ2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBuYXZpZ2F0ZSB0byB0aGUgdGFyZ2V0IHBhZ2VcbiAgICovXG4gIHB1c2hUYXJnZXRQYWdlKCkge1xuICAgIHRoaXMuY29udGFpbmVyLnNldEFjdGl2ZVBhZ2UodGhpcy50YXJnZXRQYWdlKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7U2V0dGluZ3NQYW5lbFBhZ2VOYXZpZ2F0b3JCdXR0b24sIFNldHRpbmdzUGFuZWxQYWdlTmF2aWdhdG9yQ29uZmlnfSBmcm9tICcuL3NldHRpbmdzcGFuZWxwYWdlbmF2aWdhdG9yYnV0dG9uJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIEBjYXRlZ29yeSBCdXR0b25zXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1BhbmVsUGFnZU9wZW5CdXR0b24gZXh0ZW5kcyBTZXR0aW5nc1BhbmVsUGFnZU5hdmlnYXRvckJ1dHRvbiB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogU2V0dGluZ3NQYW5lbFBhZ2VOYXZpZ2F0b3JDb25maWcpIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS1zZXR0aW5nc3BhbmVscGFnZW9wZW5idXR0b24nLFxuICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ29wZW4nKSxcbiAgICAgIHJvbGU6ICdtZW51aXRlbScsXG4gICAgfSBhcyBTZXR0aW5nc1BhbmVsUGFnZU5hdmlnYXRvckNvbmZpZywgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmF0dHIoJ2FyaWEtaGFzcG9wdXAnLCAndHJ1ZScpO1xuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmF0dHIoJ2FyaWEtb3ducycsIHRoaXMuY29uZmlnLnRhcmdldFBhZ2UuZ2V0Q29uZmlnKCkuaWQpO1xuXG4gICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLnB1c2hUYXJnZXRQYWdlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7VG9nZ2xlQnV0dG9uLCBUb2dnbGVCdXR0b25Db25maWd9IGZyb20gJy4vdG9nZ2xlYnV0dG9uJztcbmltcG9ydCB7U2V0dGluZ3NQYW5lbH0gZnJvbSAnLi9zZXR0aW5nc3BhbmVsJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge0NvbXBvbmVudCwgQ29tcG9uZW50Q29uZmlnfSBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQge0FycmF5VXRpbHN9IGZyb20gJy4uL2FycmF5dXRpbHMnO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBpbnRlcmZhY2UgZm9yIHRoZSB7QGxpbmsgU2V0dGluZ3NUb2dnbGVCdXR0b259LlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2V0dGluZ3NUb2dnbGVCdXR0b25Db25maWcgZXh0ZW5kcyBUb2dnbGVCdXR0b25Db25maWcge1xuICAvKipcbiAgICogVGhlIHNldHRpbmdzIHBhbmVsIHdob3NlIHZpc2liaWxpdHkgdGhlIGJ1dHRvbiBzaG91bGQgdG9nZ2xlLlxuICAgKi9cbiAgc2V0dGluZ3NQYW5lbDogU2V0dGluZ3NQYW5lbDtcblxuICAvKipcbiAgICogRGVjaWRlcyBpZiB0aGUgYnV0dG9uIHNob3VsZCBiZSBhdXRvbWF0aWNhbGx5IGhpZGRlbiB3aGVuIHRoZSBzZXR0aW5ncyBwYW5lbCBkb2VzIG5vdCBjb250YWluIGFueSBhY3RpdmUgc2V0dGluZ3MuXG4gICAqIERlZmF1bHQ6IHRydWVcbiAgICovXG4gIGF1dG9IaWRlV2hlbk5vQWN0aXZlU2V0dGluZ3M/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyB2aXNpYmlsaXR5IG9mIGEgc2V0dGluZ3MgcGFuZWwuXG4gKlxuICogQGNhdGVnb3J5IEJ1dHRvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIFNldHRpbmdzVG9nZ2xlQnV0dG9uIGV4dGVuZHMgVG9nZ2xlQnV0dG9uPFNldHRpbmdzVG9nZ2xlQnV0dG9uQ29uZmlnPiB7XG5cbiAgcHJpdmF0ZSB2aXNpYmxlU2V0dGluZ3NQYW5lbHM6IFNldHRpbmdzUGFuZWxbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogU2V0dGluZ3NUb2dnbGVCdXR0b25Db25maWcpIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgaWYgKCFjb25maWcuc2V0dGluZ3NQYW5lbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBTZXR0aW5nc1BhbmVsIGlzIG1pc3NpbmcnKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLXNldHRpbmdzdG9nZ2xlYnV0dG9uJyxcbiAgICAgIHRleHQ6IGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncycpLFxuICAgICAgc2V0dGluZ3NQYW5lbDogbnVsbCxcbiAgICAgIGF1dG9IaWRlV2hlbk5vQWN0aXZlU2V0dGluZ3M6IHRydWUsXG4gICAgICByb2xlOiAncG9wLXVwIGJ1dHRvbicsXG4gICAgfSwgPFNldHRpbmdzVG9nZ2xlQnV0dG9uQ29uZmlnPnRoaXMuY29uZmlnKTtcblxuICAgIC8qKlxuICAgICAqIFdDQUcyMCBzdGFuZGFyZCBkZWZpbmVzIHdoaWNoIHBvcHVwIG1lbnUgKGVsZW1lbnQgaWQpIGlzIG93bmVkIGJ5IHRoZSBidXR0b25cbiAgICAgKi9cbiAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hdHRyKCdhcmlhLW93bnMnLCBjb25maWcuc2V0dGluZ3NQYW5lbC5nZXRBY3RpdmVQYWdlKCkuZ2V0Q29uZmlnKCkuaWQpO1xuXG4gICAgLyoqXG4gICAgICogV0NBRzIwIHN0YW5kYXJkIGRlZmluZXMgdGhhdCBhIGJ1dHRvbiBoYXMgYSBwb3B1cCBtZW51IGJvdW5kIHRvIGl0XG4gICAgICovXG4gICAgdGhpcy5nZXREb21FbGVtZW50KCkuYXR0cignYXJpYS1oYXNwb3B1cCcsICd0cnVlJyk7XG5cbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICBsZXQgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcbiAgICBsZXQgc2V0dGluZ3NQYW5lbCA9IGNvbmZpZy5zZXR0aW5nc1BhbmVsO1xuXG4gICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAvLyBvbmx5IGhpZGUgb3RoZXIgYFNldHRpbmdzUGFuZWxgcyBpZiBhIG5ldyBvbmUgd2lsbCBiZSBvcGVuZWRcbiAgICAgIGlmICghc2V0dGluZ3NQYW5lbC5pc1Nob3duKCkpIHtcbiAgICAgICAgLy8gSGlkZSBhbGwgb3BlbiBTZXR0aW5nc1BhbmVscyBiZWZvcmUgb3BlbmluZyB0aGlzIGJ1dHRvbidzIHBhbmVsXG4gICAgICAgIC8vIChXZSBuZWVkIHRvIGl0ZXJhdGUgYSBjb3B5IGJlY2F1c2UgaGlkaW5nIHRoZW0gd2lsbCBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGVtc2VsdmVzIGZyb20gdGhlIGFycmF5XG4gICAgICAgIC8vIGR1ZSB0byB0aGUgc3Vic2NyaWJlT25jZSBhYm92ZSlcbiAgICAgICAgdGhpcy52aXNpYmxlU2V0dGluZ3NQYW5lbHMuc2xpY2UoKS5mb3JFYWNoKHNldHRpbmdzUGFuZWwgPT4gc2V0dGluZ3NQYW5lbC5oaWRlKCkpO1xuICAgICAgfVxuICAgICAgc2V0dGluZ3NQYW5lbC50b2dnbGVIaWRkZW4oKTtcbiAgICB9KTtcbiAgICBzZXR0aW5nc1BhbmVsLm9uU2hvdy5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgLy8gU2V0IHRvZ2dsZSBzdGF0dXMgdG8gb24gd2hlbiB0aGUgc2V0dGluZ3MgcGFuZWwgc2hvd3NcbiAgICAgIHRoaXMub24oKTtcbiAgICB9KTtcbiAgICBzZXR0aW5nc1BhbmVsLm9uSGlkZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgLy8gU2V0IHRvZ2dsZSBzdGF0dXMgdG8gb2ZmIHdoZW4gdGhlIHNldHRpbmdzIHBhbmVsIGhpZGVzXG4gICAgICB0aGlzLm9mZigpO1xuICAgIH0pO1xuXG4gICAgLy8gRW5zdXJlIHRoYXQgb25seSBvbmUgYFNldHRpbmdQYW5lbGAgaXMgdmlzaWJsZSBhdCBvbmNlXG4gICAgLy8gS2VlcCB0cmFjayBvZiBzaG93biBTZXR0aW5nc1BhbmVsc1xuICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudFNob3cuc3Vic2NyaWJlKChzZW5kZXI6IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+KSA9PiB7XG4gICAgICBpZiAoc2VuZGVyIGluc3RhbmNlb2YgU2V0dGluZ3NQYW5lbCkge1xuICAgICAgICB0aGlzLnZpc2libGVTZXR0aW5nc1BhbmVscy5wdXNoKHNlbmRlcik7XG4gICAgICAgIHNlbmRlci5vbkhpZGUuc3Vic2NyaWJlT25jZSgoKSA9PiBBcnJheVV0aWxzLnJlbW92ZSh0aGlzLnZpc2libGVTZXR0aW5nc1BhbmVscywgc2VuZGVyKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgYXV0b21hdGljIGhpZGluZyBvZiB0aGUgYnV0dG9uIGlmIHRoZXJlIGFyZSBubyBzZXR0aW5ncyBmb3IgdGhlIHVzZXIgdG8gaW50ZXJhY3Qgd2l0aFxuICAgIGlmIChjb25maWcuYXV0b0hpZGVXaGVuTm9BY3RpdmVTZXR0aW5ncykge1xuICAgICAgLy8gU2V0dXAgaGFuZGxlciB0byBzaG93L2hpZGUgYnV0dG9uIHdoZW4gdGhlIHNldHRpbmdzIGNoYW5nZVxuICAgICAgbGV0IHNldHRpbmdzUGFuZWxJdGVtc0NoYW5nZWRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBpZiAoc2V0dGluZ3NQYW5lbC5yb290UGFnZUhhc0FjdGl2ZVNldHRpbmdzKCkpIHtcbiAgICAgICAgICBpZiAodGhpcy5pc0hpZGRlbigpKSB7XG4gICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNTaG93bigpKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvLyBXaXJlIHRoZSBoYW5kbGVyIHRvIHRoZSBldmVudFxuICAgICAgc2V0dGluZ3NQYW5lbC5vblNldHRpbmdzU3RhdGVDaGFuZ2VkLnN1YnNjcmliZShzZXR0aW5nc1BhbmVsSXRlbXNDaGFuZ2VkSGFuZGxlcik7XG4gICAgICAvLyBDYWxsIGhhbmRsZXIgZm9yIGZpcnN0IGluaXQgYXQgc3RhcnR1cFxuICAgICAgc2V0dGluZ3NQYW5lbEl0ZW1zQ2hhbmdlZEhhbmRsZXIoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBDb21wb25lbnRDb25maWd9IGZyb20gJy4vY29tcG9uZW50JztcblxuLyoqXG4gKiBBIGR1bW15IGNvbXBvbmVudCB0aGF0IGp1c3QgcmVzZXJ2ZXMgc29tZSBzcGFjZSBhbmQgZG9lcyBub3RoaW5nIGVsc2UuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFNwYWNlciBleHRlbmRzIENvbXBvbmVudDxDb21wb25lbnRDb25maWc+IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IENvbXBvbmVudENvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktc3BhY2VyJyxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuXG4gIHByb3RlY3RlZCBvblNob3dFdmVudCgpOiB2b2lkIHtcbiAgICAvLyBkaXNhYmxlIGV2ZW50IGZpcmluZyBieSBvdmVyd3JpdGluZyBhbmQgbm90IGNhbGxpbmcgc3VwZXJcbiAgfVxuXG4gIHByb3RlY3RlZCBvbkhpZGVFdmVudCgpOiB2b2lkIHtcbiAgICAvLyBkaXNhYmxlIGV2ZW50IGZpcmluZyBieSBvdmVyd3JpdGluZyBhbmQgbm90IGNhbGxpbmcgc3VwZXJcbiAgfVxuXG4gIHByb3RlY3RlZCBvbkhvdmVyQ2hhbmdlZEV2ZW50KGhvdmVyZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAvLyBkaXNhYmxlIGV2ZW50IGZpcmluZyBieSBvdmVyd3JpdGluZyBhbmQgbm90IGNhbGxpbmcgc3VwZXJcbiAgfVxufSIsImltcG9ydCB7TGlzdEJveH0gZnJvbSAnLi9saXN0Ym94JztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge1N1YnRpdGxlU3dpdGNoSGFuZGxlcn0gZnJvbSAnLi4vc3VidGl0bGV1dGlscyc7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuXG4vKipcbiAqIEEgZWxlbWVudCB0aGF0IGlzIHNpbWlsYXIgdG8gYSBzZWxlY3QgYm94IHdoZXJlIHRoZSB1c2VyIGNhbiBzZWxlY3QgYSBzdWJ0aXRsZVxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJ0aXRsZUxpc3RCb3ggZXh0ZW5kcyBMaXN0Qm94IHtcblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgbmV3IFN1YnRpdGxlU3dpdGNoSGFuZGxlcihwbGF5ZXIsIHRoaXMsIHVpbWFuYWdlcik7XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbnRhaW5lciwgQ29udGFpbmVyQ29uZmlnIH0gZnJvbSAnLi9jb250YWluZXInO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgTGFiZWwsIExhYmVsQ29uZmlnIH0gZnJvbSAnLi9sYWJlbCc7XG5pbXBvcnQgeyBDb21wb25lbnRDb25maWcsIENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IENvbnRyb2xCYXIgfSBmcm9tICcuL2NvbnRyb2xiYXInO1xuaW1wb3J0IHsgRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnLi4vZXZlbnRkaXNwYXRjaGVyJztcbmltcG9ydCB7IERPTSwgU2l6ZSB9IGZyb20gJy4uL2RvbSc7XG5pbXBvcnQgeyBQbGF5ZXJBUEksIFN1YnRpdGxlQ3VlRXZlbnQgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcbmltcG9ydCB7IFZ0dFV0aWxzIH0gZnJvbSAnLi4vdnR0dXRpbHMnO1xuaW1wb3J0IHsgVlRUUHJvcGVydGllcyB9IGZyb20gJ2JpdG1vdmluLXBsYXllci90eXBlcy9zdWJ0aXRsZXMvdnR0L0FQSSc7XG5cbmludGVyZmFjZSBTdWJ0aXRsZUNyb3BEZXRlY3Rpb25SZXN1bHQge1xuICB0b3A6IGJvb2xlYW47XG4gIHJpZ2h0OiBib29sZWFuO1xuICBib3R0b206IGJvb2xlYW47XG4gIGxlZnQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICogT3ZlcmxheXMgdGhlIHBsYXllciB0byBkaXNwbGF5IHN1YnRpdGxlcy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgU3VidGl0bGVPdmVybGF5IGV4dGVuZHMgQ29udGFpbmVyPENvbnRhaW5lckNvbmZpZz4ge1xuXG4gIHByaXZhdGUgc3VidGl0bGVNYW5hZ2VyOiBBY3RpdmVTdWJ0aXRsZU1hbmFnZXI7XG4gIHByaXZhdGUgcHJldmlld1N1YnRpdGxlQWN0aXZlOiBib29sZWFuO1xuICBwcml2YXRlIHByZXZpZXdTdWJ0aXRsZTogU3VidGl0bGVMYWJlbDtcblxuICBwcml2YXRlIHByZXByb2Nlc3NMYWJlbEV2ZW50Q2FsbGJhY2sgPSBuZXcgRXZlbnREaXNwYXRjaGVyPFN1YnRpdGxlQ3VlRXZlbnQsIFN1YnRpdGxlTGFiZWw+KCk7XG4gIHByaXZhdGUgc3VidGl0bGVDb250YWluZXJNYW5hZ2VyOiBTdWJ0aXRsZVJlZ2lvbkNvbnRhaW5lck1hbmFnZXI7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQ0xBU1NfQ09OVFJPTEJBUl9WSVNJQkxFID0gJ2NvbnRyb2xiYXItdmlzaWJsZSc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENMQVNTX0NFQV82MDggPSAnY2VhNjA4JztcblxuICAvLyBUaGUgbnVtYmVyIG9mIHJvd3MgaW4gYSBjZWE2MDggZ3JpZFxuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBDRUE2MDhfTlVNX1JPV1MgPSAxNTtcbiAgLy8gVGhlIG51bWJlciBvZiBjb2x1bW5zIGluIGEgY2VhNjA4IGdyaWRcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQ0VBNjA4X05VTV9DT0xVTU5TID0gMzI7XG4gIC8vIFRoZSBvZmZzZXQgaW4gcGVyY2VudCBmb3Igb25lIGNvbHVtbiAod2hpY2ggaXMgYWxzbyB0aGUgd2lkdGggb2YgYSBjb2x1bW4pXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENFQTYwOF9DT0xVTU5fT0ZGU0VUID0gMTAwIC8gU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fQ09MVU1OUztcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IENvbnRhaW5lckNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5wcmV2aWV3U3VidGl0bGUgPSBuZXcgU3VidGl0bGVMYWJlbCh7IHRleHQ6IGkxOG4uZ2V0TG9jYWxpemVyKCdzdWJ0aXRsZS5leGFtcGxlJykgfSk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlLW92ZXJsYXknLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICBsZXQgc3VidGl0bGVNYW5hZ2VyID0gbmV3IEFjdGl2ZVN1YnRpdGxlTWFuYWdlcigpO1xuICAgIHRoaXMuc3VidGl0bGVNYW5hZ2VyID0gc3VidGl0bGVNYW5hZ2VyO1xuXG4gICAgdGhpcy5zdWJ0aXRsZUNvbnRhaW5lck1hbmFnZXIgPSBuZXcgU3VidGl0bGVSZWdpb25Db250YWluZXJNYW5hZ2VyKHRoaXMpO1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkN1ZUVudGVyLCAoZXZlbnQ6IFN1YnRpdGxlQ3VlRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5nZW5lcmF0ZUxhYmVsKGV2ZW50KTtcbiAgICAgIHN1YnRpdGxlTWFuYWdlci5jdWVFbnRlcihldmVudCwgbGFiZWwpO1xuXG4gICAgICB0aGlzLnByZXByb2Nlc3NMYWJlbEV2ZW50Q2FsbGJhY2suZGlzcGF0Y2goZXZlbnQsIGxhYmVsKTtcblxuICAgICAgaWYgKHRoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlKSB7XG4gICAgICAgIHRoaXMuc3VidGl0bGVDb250YWluZXJNYW5hZ2VyLnJlbW92ZUxhYmVsKHRoaXMucHJldmlld1N1YnRpdGxlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zaG93KCk7XG5cbiAgICAgIHRoaXMuc3VidGl0bGVDb250YWluZXJNYW5hZ2VyLmFkZExhYmVsKGxhYmVsLCB0aGlzLmdldERvbUVsZW1lbnQoKS5zaXplKCkpO1xuICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XG5cbiAgICAgIGlmICh1aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZm9yY2VTdWJ0aXRsZXNJbnRvVmlld0NvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmhhbmRsZVN1YnRpdGxlQ3JvcHBpbmcobGFiZWwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkN1ZVVwZGF0ZSwgKGV2ZW50OiBTdWJ0aXRsZUN1ZUV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBsYWJlbCA9IHRoaXMuZ2VuZXJhdGVMYWJlbChldmVudCk7XG4gICAgICBjb25zdCBsYWJlbFRvUmVwbGFjZSA9IHN1YnRpdGxlTWFuYWdlci5jdWVVcGRhdGUoZXZlbnQsIGxhYmVsKTtcblxuICAgICAgdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrLmRpc3BhdGNoKGV2ZW50LCBsYWJlbCk7XG5cbiAgICAgIGlmIChsYWJlbFRvUmVwbGFjZSkge1xuICAgICAgICB0aGlzLnN1YnRpdGxlQ29udGFpbmVyTWFuYWdlci5yZXBsYWNlTGFiZWwobGFiZWxUb1JlcGxhY2UsIGxhYmVsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHVpbWFuYWdlci5nZXRDb25maWcoKS5mb3JjZVN1YnRpdGxlc0ludG9WaWV3Q29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlU3VidGl0bGVDcm9wcGluZyhsYWJlbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQ3VlRXhpdCwgKGV2ZW50OiBTdWJ0aXRsZUN1ZUV2ZW50KSA9PiB7XG4gICAgICBsZXQgbGFiZWxUb1JlbW92ZSA9IHN1YnRpdGxlTWFuYWdlci5jdWVFeGl0KGV2ZW50KTtcblxuICAgICAgaWYgKGxhYmVsVG9SZW1vdmUpIHtcbiAgICAgICAgdGhpcy5zdWJ0aXRsZUNvbnRhaW5lck1hbmFnZXIucmVtb3ZlTGFiZWwobGFiZWxUb1JlbW92ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50cygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXN1YnRpdGxlTWFuYWdlci5oYXNDdWVzKSB7XG4gICAgICAgIGlmICghdGhpcy5wcmV2aWV3U3VidGl0bGVBY3RpdmUpIHtcbiAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN1YnRpdGxlQ29udGFpbmVyTWFuYWdlci5hZGRMYWJlbCh0aGlzLnByZXZpZXdTdWJ0aXRsZSk7XG4gICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCBzdWJ0aXRsZUNsZWFySGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgdGhpcy5zdWJ0aXRsZUNvbnRhaW5lck1hbmFnZXIuY2xlYXIoKTtcbiAgICAgIHN1YnRpdGxlTWFuYWdlci5jbGVhcigpO1xuICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnRzKCk7XG4gICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJJbmFjdGl2ZUN1ZXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCByZW1vdmVkQWN0aXZlQ3VlcyA9IHN1YnRpdGxlTWFuYWdlci5jbGVhckluYWN0aXZlQ3VlcyhwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSk7XG4gICAgICByZW1vdmVkQWN0aXZlQ3Vlcy5mb3JFYWNoKHRvUmVtb3ZlID0+IHtcbiAgICAgICAgdGhpcy5zdWJ0aXRsZUNvbnRhaW5lck1hbmFnZXIucmVtb3ZlTGFiZWwodG9SZW1vdmUubGFiZWwpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5BdWRpb0NoYW5nZWQsIHN1YnRpdGxlQ2xlYXJIYW5kbGVyKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU3VidGl0bGVEaXNhYmxlZCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TZWVrZWQsIGNsZWFySW5hY3RpdmVDdWVzKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuVGltZVNoaWZ0ZWQsIGNsZWFySW5hY3RpdmVDdWVzKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheWJhY2tGaW5pc2hlZCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5Tb3VyY2VVbmxvYWRlZCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xuXG4gICAgdWltYW5hZ2VyLm9uQ29tcG9uZW50U2hvdy5zdWJzY3JpYmUoKGNvbXBvbmVudDogQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz4pID0+IHtcbiAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBDb250cm9sQmFyKSB7XG4gICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DT05UUk9MQkFSX1ZJU0lCTEUpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1aW1hbmFnZXIub25Db21wb25lbnRIaWRlLnN1YnNjcmliZSgoY29tcG9uZW50OiBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPikgPT4ge1xuICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIENvbnRyb2xCYXIpIHtcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoU3VidGl0bGVPdmVybGF5LkNMQVNTX0NPTlRST0xCQVJfVklTSUJMRSkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jb25maWd1cmVDZWE2MDhDYXB0aW9ucyhwbGF5ZXIsIHVpbWFuYWdlcik7XG4gICAgLy8gSW5pdFxuICAgIHN1YnRpdGxlQ2xlYXJIYW5kbGVyKCk7XG4gIH1cblxuICBkZXRlY3RDcm9wcGVkU3VidGl0bGVMYWJlbChcbiAgICBsYWJlbEVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICApOiBTdWJ0aXRsZUNyb3BEZXRlY3Rpb25SZXN1bHQge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpLmdldCgwKTtcblxuICAgIGNvbnN0IGNoaWxkUmVjdCA9IGxhYmVsRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBwYXJlbnRSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogY2hpbGRSZWN0LnRvcCA8IHBhcmVudFJlY3QudG9wLFxuICAgICAgcmlnaHQ6IGNoaWxkUmVjdC5yaWdodCA+IHBhcmVudFJlY3QucmlnaHQsXG4gICAgICBib3R0b206IGNoaWxkUmVjdC5ib3R0b20gPiBwYXJlbnRSZWN0LmJvdHRvbSxcbiAgICAgIGxlZnQ6IGNoaWxkUmVjdC5sZWZ0IDwgcGFyZW50UmVjdC5sZWZ0LFxuICAgIH07XG4gIH1cblxuICBoYW5kbGVTdWJ0aXRsZUNyb3BwaW5nKGxhYmVsOiBTdWJ0aXRsZUxhYmVsKSB7XG4gICAgY29uc3QgbGFiZWxEb21FbGVtZW50ID0gbGFiZWwuZ2V0RG9tRWxlbWVudCgpO1xuICAgIGNvbnN0IGNyb3BEZXRlY3Rpb24gPSB0aGlzLmRldGVjdENyb3BwZWRTdWJ0aXRsZUxhYmVsKFxuICAgICAgbGFiZWxEb21FbGVtZW50LmdldCgwKSxcbiAgICApO1xuXG4gICAgaWYgKGNyb3BEZXRlY3Rpb24udG9wKSB7XG4gICAgICBsYWJlbERvbUVsZW1lbnQuY3NzKCd0b3AnLCAnMCcpO1xuICAgICAgbGFiZWxEb21FbGVtZW50LnJlbW92ZUNzcygnYm90dG9tJyk7XG4gICAgfVxuXG4gICAgaWYgKGNyb3BEZXRlY3Rpb24ucmlnaHQpIHtcbiAgICAgIGxhYmVsRG9tRWxlbWVudC5jc3MoJ3JpZ2h0JywgJzAnKTtcbiAgICAgIGxhYmVsRG9tRWxlbWVudC5yZW1vdmVDc3MoJ2xlZnQnKTtcbiAgICB9XG5cbiAgICBpZiAoY3JvcERldGVjdGlvbi5ib3R0b20pIHtcbiAgICAgIGxhYmVsRG9tRWxlbWVudC5jc3MoJ2JvdHRvbScsICcwJyk7XG4gICAgICBsYWJlbERvbUVsZW1lbnQucmVtb3ZlQ3NzKCd0b3AnKTtcbiAgICB9XG5cbiAgICBpZiAoY3JvcERldGVjdGlvbi5sZWZ0KSB7XG4gICAgICBsYWJlbERvbUVsZW1lbnQuY3NzKCdsZWZ0JywgJzAnKTtcbiAgICAgIGxhYmVsRG9tRWxlbWVudC5yZW1vdmVDc3MoJ3JpZ2h0Jyk7XG4gICAgfVxuICB9XG5cbiAgZ2VuZXJhdGVMYWJlbChldmVudDogU3VidGl0bGVDdWVFdmVudCk6IFN1YnRpdGxlTGFiZWwge1xuICAgIC8vIFNhbml0aXplIGN1ZSBkYXRhIChtdXN0IGJlIGRvbmUgYmVmb3JlIHRoZSBjdWUgSUQgaXMgZ2VuZXJhdGVkIGluIHN1YnRpdGxlTWFuYWdlci5jdWVFbnRlciAvIHVwZGF0ZSlcbiAgICBsZXQgcmVnaW9uID0gZXZlbnQucmVnaW9uO1xuXG4gICAgaWYgKGV2ZW50LnBvc2l0aW9uKSB7XG4gICAgICAvLyBTb21ldGltZXMgdGhlIHBvc2l0aW9ucyBhcmUgdW5kZWZpbmVkLCB3ZSBhc3N1bWUgdGhlbSB0byBiZSB6ZXJvXG4gICAgICBldmVudC5wb3NpdGlvbi5yb3cgPSBldmVudC5wb3NpdGlvbi5yb3cgfHwgMDtcbiAgICAgIGV2ZW50LnBvc2l0aW9uLmNvbHVtbiA9IGV2ZW50LnBvc2l0aW9uLmNvbHVtbiB8fCAwO1xuXG4gICAgICByZWdpb24gPSByZWdpb24gfHwgYGNlYTYwOC1yb3ctJHtldmVudC5wb3NpdGlvbi5yb3d9YDtcbiAgICB9XG5cbiAgICBjb25zdCBsYWJlbCA9IG5ldyBTdWJ0aXRsZUxhYmVsKHtcbiAgICAgIC8vIFByZWZlciB0aGUgSFRNTCBzdWJ0aXRsZSB0ZXh0IGlmIHNldCwgZWxzZSB0cnkgZ2VuZXJhdGluZyBhIGltYWdlIHRhZyBhcyBzdHJpbmcgZnJvbSB0aGUgaW1hZ2UgYXR0cmlidXRlLFxuICAgICAgLy8gZWxzZSB1c2UgdGhlIHBsYWluIHRleHRcbiAgICAgIHRleHQ6IGV2ZW50Lmh0bWwgfHwgQWN0aXZlU3VidGl0bGVNYW5hZ2VyLmdlbmVyYXRlSW1hZ2VUYWdUZXh0KGV2ZW50LmltYWdlKSB8fCBldmVudC50ZXh0LFxuICAgICAgdnR0OiBldmVudC52dHQsXG4gICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgIHJlZ2lvblN0eWxlOiBldmVudC5yZWdpb25TdHlsZSxcbiAgICB9KTtcblxuICAgIHJldHVybiBsYWJlbDtcbiAgfVxuXG4gIGNvbmZpZ3VyZUNlYTYwOENhcHRpb25zKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgLy8gVGhlIGNhbGN1bGF0ZWQgZm9udCBzaXplXG4gICAgbGV0IGZvbnRTaXplID0gMDtcbiAgICAvLyBUaGUgcmVxdWlyZWQgbGV0dGVyIHNwYWNpbmcgc3ByZWFkIHRoZSB0ZXh0IGNoYXJhY3RlcnMgZXZlbmx5IGFjcm9zcyB0aGUgZ3JpZFxuICAgIGxldCBmb250TGV0dGVyU3BhY2luZyA9IDA7XG4gICAgLy8gRmxhZyB0ZWxsaW5nIGlmIGEgZm9udCBzaXplIGNhbGN1bGF0aW9uIGlzIHJlcXVpcmVkIG9mIGlmIHRoZSBjdXJyZW50IHZhbHVlcyBhcmUgdmFsaWRcbiAgICBsZXQgZm9udFNpemVDYWxjdWxhdGlvblJlcXVpcmVkID0gdHJ1ZTtcbiAgICAvLyBGbGFnIHRlbGxpbmcgaWYgdGhlIENFQS02MDggbW9kZSBpcyBlbmFibGVkXG4gICAgbGV0IGVuYWJsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IHVwZGF0ZUNFQTYwOEZvbnRTaXplID0gKCkgPT4ge1xuICAgICAgY29uc3QgZHVtbXlMYWJlbCA9IG5ldyBTdWJ0aXRsZUxhYmVsKHsgdGV4dDogJ1gnIH0pO1xuICAgICAgZHVtbXlMYWJlbC5nZXREb21FbGVtZW50KCkuY3NzKHtcbiAgICAgICAgLy8gQnkgdXNpbmcgYSBsYXJnZSBmb250IHNpemUgd2UgZG8gbm90IG5lZWQgdG8gdXNlIG11bHRpcGxlIGxldHRlcnMgYW5kIGNhbiBnZXQgc3RpbGwgYW5cbiAgICAgICAgLy8gYWNjdXJhdGUgbWVhc3VyZW1lbnQgZXZlbiB0aG91Z2ggdGhlIHJldHVybmVkIHNpemUgaXMgYW4gaW50ZWdlciB2YWx1ZVxuICAgICAgICAnZm9udC1zaXplJzogJzIwMHB4JyxcbiAgICAgICAgJ2xpbmUtaGVpZ2h0JzogJzIwMHB4JyxcbiAgICAgICAgJ3Zpc2liaWxpdHknOiAnaGlkZGVuJyxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5hZGRDb21wb25lbnQoZHVtbXlMYWJlbCk7XG4gICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcbiAgICAgIHRoaXMuc2hvdygpO1xuXG4gICAgICBjb25zdCBkdW1teUxhYmVsQ2hhcldpZHRoID0gZHVtbXlMYWJlbC5nZXREb21FbGVtZW50KCkud2lkdGgoKTtcbiAgICAgIGNvbnN0IGR1bW15TGFiZWxDaGFySGVpZ2h0ID0gZHVtbXlMYWJlbC5nZXREb21FbGVtZW50KCkuaGVpZ2h0KCk7XG4gICAgICBjb25zdCBmb250U2l6ZVJhdGlvID0gZHVtbXlMYWJlbENoYXJXaWR0aCAvIGR1bW15TGFiZWxDaGFySGVpZ2h0O1xuXG4gICAgICB0aGlzLnJlbW92ZUNvbXBvbmVudChkdW1teUxhYmVsKTtcbiAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50cygpO1xuICAgICAgaWYgKCF0aGlzLnN1YnRpdGxlTWFuYWdlci5oYXNDdWVzKSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBzdWJ0cmFjdCAxcHggaGVyZSB0byBhdm9pZCBsaW5lIGJyZWFrcyBhdCB0aGUgcmlnaHQgYm9yZGVyIG9mIHRoZSBzdWJ0aXRsZSBvdmVybGF5IHRoYXQgY2FuIGhhcHBlblxuICAgICAgLy8gd2hlbiB0ZXh0cyBjb250YWluIHdoaXRlc3BhY2VzLiBJdCdzIHByb2JhYmx5IHNvbWUga2luZCBvZiBwaXhlbCByb3VuZGluZyBpc3N1ZSBpbiB0aGUgYnJvd3NlcidzXG4gICAgICAvLyBsYXlvdXRpbmcsIGJ1dCB0aGUgYWN0dWFsIHJlYXNvbiBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZC4gQWltaW5nIGZvciBhIHRhcmdldCB3aWR0aCAtIDFweCB3b3VsZCB3b3JrIGluXG4gICAgICAvLyBtb3N0IGJyb3dzZXJzLCBidXQgU2FmYXJpIGhhcyBhIFwicXVhbnRpemVkXCIgZm9udCBzaXplIHJlbmRlcmluZyB3aXRoIGh1Z2Ugc3RlcHMgaW4gYmV0d2VlbiBzbyB3ZSBuZWVkXG4gICAgICAvLyB0byBzdWJ0cmFjdCBzb21lIG1vcmUgcGl4ZWxzIHRvIGF2b2lkIGxpbmUgYnJlYWtzIHRoZXJlIGFzIHdlbGwuXG4gICAgICBjb25zdCBzdWJ0aXRsZU92ZXJsYXlXaWR0aCA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpLndpZHRoKCkgLSAxMDtcbiAgICAgIGNvbnN0IHN1YnRpdGxlT3ZlcmxheUhlaWdodCA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpLmhlaWdodCgpO1xuXG4gICAgICAvLyBUaGUgc2l6ZSByYXRpbyBvZiB0aGUgbGV0dGVyIGdyaWRcbiAgICAgIGNvbnN0IGZvbnRHcmlkU2l6ZVJhdGlvID0gKGR1bW15TGFiZWxDaGFyV2lkdGggKiBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9DT0xVTU5TKSAvXG4gICAgICAgIChkdW1teUxhYmVsQ2hhckhlaWdodCAqIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX1JPV1MpO1xuICAgICAgLy8gVGhlIHNpemUgcmF0aW8gb2YgdGhlIGF2YWlsYWJsZSBzcGFjZSBmb3IgdGhlIGdyaWRcbiAgICAgIGNvbnN0IHN1YnRpdGxlT3ZlcmxheVNpemVSYXRpbyA9IHN1YnRpdGxlT3ZlcmxheVdpZHRoIC8gc3VidGl0bGVPdmVybGF5SGVpZ2h0O1xuXG4gICAgICBpZiAoc3VidGl0bGVPdmVybGF5U2l6ZVJhdGlvID4gZm9udEdyaWRTaXplUmF0aW8pIHtcbiAgICAgICAgLy8gV2hlbiB0aGUgYXZhaWxhYmxlIHNwYWNlIGlzIHdpZGVyIHRoYW4gdGhlIHRleHQgZ3JpZCwgdGhlIGZvbnQgc2l6ZSBpcyBzaW1wbHlcbiAgICAgICAgLy8gZGV0ZXJtaW5lZCBieSB0aGUgaGVpZ2h0IG9mIHRoZSBhdmFpbGFibGUgc3BhY2UuXG4gICAgICAgIGZvbnRTaXplID0gc3VidGl0bGVPdmVybGF5SGVpZ2h0IC8gU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fUk9XUztcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGFkZGl0aW9uYWwgbGV0dGVyIHNwYWNpbmcgcmVxdWlyZWQgdG8gZXZlbmx5IHNwcmVhZCB0aGUgdGV4dCBhY3Jvc3MgdGhlIGdyaWQncyB3aWR0aFxuICAgICAgICBjb25zdCBncmlkU2xvdFdpZHRoID0gc3VidGl0bGVPdmVybGF5V2lkdGggLyBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9DT0xVTU5TO1xuICAgICAgICBjb25zdCBmb250Q2hhcldpZHRoID0gZm9udFNpemUgKiBmb250U2l6ZVJhdGlvO1xuICAgICAgICBmb250TGV0dGVyU3BhY2luZyA9IGdyaWRTbG90V2lkdGggLSBmb250Q2hhcldpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2hlbiB0aGUgYXZhaWxhYmxlIHNwYWNlIGlzIG5vdCB3aWRlIGVub3VnaCwgdGV4dHMgd291bGQgdmVydGljYWxseSBvdmVybGFwIGlmIHdlIHRha2VcbiAgICAgICAgLy8gdGhlIGhlaWdodCBhcyBhIGJhc2UgZm9yIHRoZSBmb250IHNpemUsIHNvIHdlIG5lZWQgdG8gbGltaXQgdGhlIGhlaWdodC4gV2UgZG8gdGhhdFxuICAgICAgICAvLyBieSBkZXRlcm1pbmluZyB0aGUgZm9udCBzaXplIGJ5IHRoZSB3aWR0aCBvZiB0aGUgYXZhaWxhYmxlIHNwYWNlLlxuICAgICAgICBmb250U2l6ZSA9IHN1YnRpdGxlT3ZlcmxheVdpZHRoIC8gU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fQ09MVU1OUyAvIGZvbnRTaXplUmF0aW87XG4gICAgICAgIGZvbnRMZXR0ZXJTcGFjaW5nID0gMDtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGZvbnQtc2l6ZSBvZiBhbGwgYWN0aXZlIHN1YnRpdGxlIGxhYmVsc1xuICAgICAgZm9yIChsZXQgbGFiZWwgb2YgdGhpcy5nZXRDb21wb25lbnRzKCkpIHtcbiAgICAgICAgaWYgKGxhYmVsIGluc3RhbmNlb2YgU3VidGl0bGVMYWJlbCkge1xuICAgICAgICAgIGxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xuICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IGAke2ZvbnRTaXplfXB4YCxcbiAgICAgICAgICAgICdsZXR0ZXItc3BhY2luZyc6IGAke2ZvbnRMZXR0ZXJTcGFjaW5nfXB4YCxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGxhYmVsLnJlZ2lvblN0eWxlID0gYGxpbmUtaGVpZ2h0OiAke2ZvbnRTaXplfXB4O2A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlBsYXllclJlc2l6ZWQsICgpID0+IHtcbiAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgIHVwZGF0ZUNFQTYwOEZvbnRTaXplKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb250U2l6ZUNhbGN1bGF0aW9uUmVxdWlyZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrLnN1YnNjcmliZSgoZXZlbnQ6IFN1YnRpdGxlQ3VlRXZlbnQsIGxhYmVsOiBTdWJ0aXRsZUxhYmVsKSA9PiB7XG4gICAgICBjb25zdCBpc0NFQTYwOCA9IGV2ZW50LnBvc2l0aW9uICE9IG51bGw7XG4gICAgICBpZiAoIWlzQ0VBNjA4KSB7XG4gICAgICAgIC8vIFNraXAgYWxsIG5vbi1DRUE2MDggY3Vlc1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgICBlbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoU3VidGl0bGVPdmVybGF5LkNMQVNTX0NFQV82MDgpKTtcblxuICAgICAgICAvLyBXZSBjb25kaXRpb25hbGx5IHVwZGF0ZSB0aGUgZm9udCBzaXplIGJ5IHRoaXMgZmxhZyBoZXJlIHRvIGF2b2lkIHVwZGF0aW5nIGV2ZXJ5IHRpbWUgYSBzdWJ0aXRsZVxuICAgICAgICAvLyBpcyBhZGRlZCBpbnRvIGFuIGVtcHR5IG92ZXJsYXkuIEJlY2F1c2Ugd2UgcmVzZXQgdGhlIG92ZXJsYXkgd2hlbiBhbGwgc3VidGl0bGVzIGFyZSBnb25lLCB0aGlzXG4gICAgICAgIC8vIHdvdWxkIHRyaWdnZXIgYW4gdW5uZWNlc3NhcnkgdXBkYXRlIGV2ZXJ5IHRpbWUsIGJ1dCBpdCdzIG9ubHkgcmVxdWlyZWQgdW5kZXIgY2VydGFpbiBjb25kaXRpb25zLFxuICAgICAgICAvLyBlLmcuIGFmdGVyIHRoZSBwbGF5ZXIgc2l6ZSBoYXMgY2hhbmdlZC5cbiAgICAgICAgaWYgKGZvbnRTaXplQ2FsY3VsYXRpb25SZXF1aXJlZCkge1xuICAgICAgICAgIHVwZGF0ZUNFQTYwOEZvbnRTaXplKCk7XG4gICAgICAgICAgZm9udFNpemVDYWxjdWxhdGlvblJlcXVpcmVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGFiZWwuZ2V0RG9tRWxlbWVudCgpLmNzcyh7XG4gICAgICAgICdsZWZ0JzogYCR7ZXZlbnQucG9zaXRpb24uY29sdW1uICogU3VidGl0bGVPdmVybGF5LkNFQTYwOF9DT0xVTU5fT0ZGU0VUfSVgLFxuICAgICAgICAnZm9udC1zaXplJzogYCR7Zm9udFNpemV9cHhgLFxuICAgICAgICAnbGV0dGVyLXNwYWNpbmcnOiBgJHtmb250TGV0dGVyU3BhY2luZ31weGAsXG4gICAgICB9KTtcblxuICAgICAgbGFiZWwucmVnaW9uU3R5bGUgPSBgbGluZS1oZWlnaHQ6ICR7Zm9udFNpemV9cHg7YDtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoU3VidGl0bGVPdmVybGF5LkNMQVNTX0NFQV82MDgpKTtcbiAgICAgIGVuYWJsZWQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkN1ZUV4aXQsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5zdWJ0aXRsZU1hbmFnZXIuaGFzQ3Vlcykge1xuICAgICAgICAvLyBEaXNhYmxlIENFQS02MDggbW9kZSB3aGVuIGFsbCBzdWJ0aXRsZXMgYXJlIGdvbmUgKHRvIGFsbG93IGNvcnJlY3QgZm9ybWF0dGluZyBhbmRcbiAgICAgICAgLy8gZGlzcGxheSBvZiBvdGhlciB0eXBlcyBvZiBzdWJ0aXRsZXMsIGUuZy4gdGhlIGZvcm1hdHRpbmcgcHJldmlldyBzdWJ0aXRsZSlcbiAgICAgICAgcmVzZXQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5Tb3VyY2VVbmxvYWRlZCwgcmVzZXQpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TdWJ0aXRsZUVuYWJsZSwgcmVzZXQpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TdWJ0aXRsZURpc2FibGVkLCByZXNldCk7XG4gIH1cblxuICBlbmFibGVQcmV2aWV3U3VidGl0bGVMYWJlbCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcbiAgICAgIHRoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlID0gdHJ1ZTtcbiAgICAgIHRoaXMuc3VidGl0bGVDb250YWluZXJNYW5hZ2VyLmFkZExhYmVsKHRoaXMucHJldmlld1N1YnRpdGxlKTtcbiAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50cygpO1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlUHJldmlld1N1YnRpdGxlTGFiZWwoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlKSB7XG4gICAgICB0aGlzLnByZXZpZXdTdWJ0aXRsZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5zdWJ0aXRsZUNvbnRhaW5lck1hbmFnZXIucmVtb3ZlTGFiZWwodGhpcy5wcmV2aWV3U3VidGl0bGUpO1xuICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XG4gICAgfVxuICB9XG59XG5cbmludGVyZmFjZSBBY3RpdmVTdWJ0aXRsZUN1ZSB7XG4gIGV2ZW50OiBTdWJ0aXRsZUN1ZUV2ZW50O1xuICBsYWJlbDogU3VidGl0bGVMYWJlbDtcbn1cblxuaW50ZXJmYWNlIEFjdGl2ZVN1YnRpdGxlQ3VlTWFwIHtcbiAgW2lkOiBzdHJpbmddOiBBY3RpdmVTdWJ0aXRsZUN1ZVtdO1xufVxuXG5pbnRlcmZhY2UgU3VidGl0bGVMYWJlbENvbmZpZyBleHRlbmRzIExhYmVsQ29uZmlnIHtcbiAgdnR0PzogVlRUUHJvcGVydGllcztcbiAgcmVnaW9uPzogc3RyaW5nO1xuICByZWdpb25TdHlsZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFN1YnRpdGxlTGFiZWwgZXh0ZW5kcyBMYWJlbDxTdWJ0aXRsZUxhYmVsQ29uZmlnPiB7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBTdWJ0aXRsZUxhYmVsQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS1zdWJ0aXRsZS1sYWJlbCcsXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgZ2V0IHZ0dCgpOiBWVFRQcm9wZXJ0aWVzIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcudnR0O1xuICB9XG5cbiAgZ2V0IHJlZ2lvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5yZWdpb247XG4gIH1cblxuICBnZXQgcmVnaW9uU3R5bGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucmVnaW9uU3R5bGU7XG4gIH1cblxuICBzZXQgcmVnaW9uU3R5bGUoc3R5bGU6IHN0cmluZykge1xuICAgIHRoaXMuY29uZmlnLnJlZ2lvblN0eWxlID0gc3R5bGU7XG4gIH1cbn1cblxuY2xhc3MgQWN0aXZlU3VidGl0bGVNYW5hZ2VyIHtcblxuICBwcml2YXRlIGFjdGl2ZVN1YnRpdGxlQ3VlTWFwOiBBY3RpdmVTdWJ0aXRsZUN1ZU1hcDtcbiAgcHJpdmF0ZSBhY3RpdmVTdWJ0aXRsZUN1ZUNvdW50OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZU1hcCA9IHt9O1xuICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVDb3VudCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBhIHVuaXF1ZSBJRCBmb3IgYSBzdWJ0aXRsZSBjdWUsIHdoaWNoIGlzIG5lZWRlZCB0byBhc3NvY2lhdGUgYW4gQ3VlRW50ZXIgd2l0aCBpdHMgQ3VlRXhpdFxuICAgKiBldmVudCBzbyB3ZSBjYW4gcmVtb3ZlIHRoZSBjb3JyZWN0IHN1YnRpdGxlIGluIEN1ZUV4aXQgd2hlbiBtdWx0aXBsZSBzdWJ0aXRsZXMgYXJlIGFjdGl2ZSBhdCB0aGUgc2FtZSB0aW1lLlxuICAgKiBUaGUgc3RhcnQgdGltZSBwbHVzIHRoZSB0ZXh0IHNob3VsZCBtYWtlIGEgdW5pcXVlIGlkZW50aWZpZXIsIGFuZCBpbiB0aGUgb25seSBjYXNlIHdoZXJlIGEgY29sbGlzaW9uXG4gICAqIGNhbiBoYXBwZW4sIHR3byBzaW1pbGFyIHRleHRzIHdpbGwgYmUgZGlzcGxheWVkIGF0IGEgc2ltaWxhciB0aW1lIGFuZCBhIHNpbWlsYXIgcG9zaXRpb24gKG9yIHdpdGhvdXQgcG9zaXRpb24pLlxuICAgKiBUaGUgc3RhcnQgdGltZSBzaG91bGQgYWx3YXlzIGJlIGtub3duLCBiZWNhdXNlIGl0IGlzIHJlcXVpcmVkIHRvIHNjaGVkdWxlIHRoZSBDdWVFbnRlciBldmVudC4gVGhlIGVuZCB0aW1lXG4gICAqIG11c3Qgbm90IG5lY2Vzc2FyaWx5IGJlIGtub3duIGFuZCB0aGVyZWZvcmUgY2Fubm90IGJlIHVzZWQgZm9yIHRoZSBJRC5cbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGNhbGN1bGF0ZUlkKGV2ZW50OiBTdWJ0aXRsZUN1ZUV2ZW50KTogc3RyaW5nIHtcbiAgICBsZXQgaWQgPSBldmVudC5zdGFydCArICctJyArIGV2ZW50LnRleHQ7XG5cbiAgICBpZiAoZXZlbnQucG9zaXRpb24pIHtcbiAgICAgIGlkICs9ICctJyArIGV2ZW50LnBvc2l0aW9uLnJvdyArICctJyArIGV2ZW50LnBvc2l0aW9uLmNvbHVtbjtcbiAgICB9XG5cbiAgICByZXR1cm4gaWQ7XG4gIH1cblxuICBjdWVFbnRlcihldmVudDogU3VidGl0bGVDdWVFdmVudCwgbGFiZWw6IFN1YnRpdGxlTGFiZWwpOiB2b2lkIHtcbiAgICB0aGlzLmFkZEN1ZVRvTWFwKGV2ZW50LCBsYWJlbCk7XG4gIH1cblxuICBjdWVVcGRhdGUoZXZlbnQ6IFN1YnRpdGxlQ3VlRXZlbnQsIGxhYmVsOiBTdWJ0aXRsZUxhYmVsKTogU3VidGl0bGVMYWJlbCB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgbGFiZWxUb1JlcGxhY2UgPSB0aGlzLnBvcEN1ZUZyb21NYXAoZXZlbnQpO1xuXG4gICAgaWYgKGxhYmVsVG9SZXBsYWNlKSB7XG4gICAgICB0aGlzLmFkZEN1ZVRvTWFwKGV2ZW50LCBsYWJlbCk7XG4gICAgICByZXR1cm4gbGFiZWxUb1JlcGxhY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHByaXZhdGUgYWRkQ3VlVG9NYXAoZXZlbnQ6IFN1YnRpdGxlQ3VlRXZlbnQsIGxhYmVsOiBTdWJ0aXRsZUxhYmVsKTogdm9pZCB7XG4gICAgbGV0IGlkID0gQWN0aXZlU3VidGl0bGVNYW5hZ2VyLmNhbGN1bGF0ZUlkKGV2ZW50KTtcblxuICAgIC8vIENyZWF0ZSBhcnJheSBmb3IgaWQgaWYgaXQgZG9lcyBub3QgZXhpc3RcbiAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2lkXSA9IHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdIHx8IFtdO1xuXG4gICAgLy8gQWRkIGN1ZVxuICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdLnB1c2goeyBldmVudCwgbGFiZWwgfSk7XG4gICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZUNvdW50Kys7XG4gIH1cblxuICBwcml2YXRlIHBvcEN1ZUZyb21NYXAoZXZlbnQ6IFN1YnRpdGxlQ3VlRXZlbnQpOiBTdWJ0aXRsZUxhYmVsIHwgdW5kZWZpbmVkIHtcbiAgICBsZXQgaWQgPSBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIuY2FsY3VsYXRlSWQoZXZlbnQpO1xuICAgIGxldCBhY3RpdmVTdWJ0aXRsZUN1ZXMgPSB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2lkXTtcblxuICAgIGlmIChhY3RpdmVTdWJ0aXRsZUN1ZXMgJiYgYWN0aXZlU3VidGl0bGVDdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIFJlbW92ZSBjdWVcbiAgICAgIC8qIFdlIGFwcGx5IHRoZSBGSUZPIGFwcHJvYWNoIGhlcmUgYW5kIHJlbW92ZSB0aGUgb2xkZXN0IGN1ZSBmcm9tIHRoZSBhc3NvY2lhdGVkIGlkLiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBjdWVzXG4gICAgICAgKiB3aXRoIHRoZSBzYW1lIGlkLCB0aGVyZSBpcyBubyB3YXkgdG8ga25vdyB3aGljaCBvbmUgb2YgdGhlIGN1ZXMgaXMgdG8gYmUgZGVsZXRlZCwgc28gd2UganVzdCBob3BlIHRoYXQgRklGT1xuICAgICAgICogd29ya3MgZmluZS4gVGhlb3JldGljYWxseSBpdCBjYW4gaGFwcGVuIHRoYXQgdHdvIGN1ZXMgd2l0aCBjb2xsaWRpbmcgaWRzIGFyZSByZW1vdmVkIGF0IGRpZmZlcmVudCB0aW1lcywgaW5cbiAgICAgICAqIHRoZSB3cm9uZyBvcmRlci4gVGhpcyByYXJlIGNhc2UgaGFzIHlldCB0byBiZSBvYnNlcnZlZC4gSWYgaXQgZXZlciBnZXRzIGFuIGlzc3VlLCB3ZSBjYW4gdGFrZSB0aGUgdW5zdGFibGVcbiAgICAgICAqIGN1ZSBlbmQgdGltZSAod2hpY2ggY2FuIGNoYW5nZSBiZXR3ZWVuIEN1ZUVudGVyIGFuZCBDdWVFeGl0IElOIEN1ZVVwZGF0ZSkgYW5kIHVzZSBpdCBhcyBhblxuICAgICAgICogYWRkaXRpb25hbCBoaW50IHRvIHRyeSBhbmQgcmVtb3ZlIHRoZSBjb3JyZWN0IG9uZSBvZiB0aGUgY29sbGlkaW5nIGN1ZXMuXG4gICAgICAgKi9cbiAgICAgIGxldCBhY3RpdmVTdWJ0aXRsZUN1ZSA9IGFjdGl2ZVN1YnRpdGxlQ3Vlcy5zaGlmdCgpO1xuICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZUNvdW50LS07XG5cbiAgICAgIHJldHVybiBhY3RpdmVTdWJ0aXRsZUN1ZS5sYWJlbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgYWN0aXZlIGN1ZXMgd2hpY2ggZG9uJ3QgZW5jbG9zZSB0aGUgZ2l2ZW4gdGltZVxuICAgKiBAcGFyYW0gdGltZSB0aGUgdGltZSBmb3Igd2hpY2ggc3VidGl0bGVzIHNob3VsZCByZW1haW5cbiAgICovXG4gIHB1YmxpYyBjbGVhckluYWN0aXZlQ3Vlcyh0aW1lOiBudW1iZXIpOiBBY3RpdmVTdWJ0aXRsZUN1ZVtdIHtcbiAgICBjb25zdCByZW1vdmVkQ3VlczogQWN0aXZlU3VidGl0bGVDdWVbXSA9IFtdO1xuICAgIE9iamVjdC5rZXlzKHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXApLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnN0IGFjdGl2ZUN1ZXMgPSB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2tleV07XG4gICAgICBhY3RpdmVDdWVzLmZvckVhY2goY3VlID0+IHtcbiAgICAgICAgaWYgKHRpbWUgPCBjdWUuZXZlbnQuc3RhcnQgfHwgdGltZSA+IGN1ZS5ldmVudC5lbmQpIHtcbiAgICAgICAgICB0aGlzLnBvcEN1ZUZyb21NYXAoY3VlLmV2ZW50KTtcbiAgICAgICAgICByZW1vdmVkQ3Vlcy5wdXNoKGN1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZW1vdmVkQ3VlcztcbiAgfVxuXG4gIHN0YXRpYyBnZW5lcmF0ZUltYWdlVGFnVGV4dChpbWFnZURhdGE6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKCFpbWFnZURhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbWdUYWcgPSBuZXcgRE9NKCdpbWcnLCB7XG4gICAgICBzcmM6IGltYWdlRGF0YSxcbiAgICB9KTtcbiAgICBpbWdUYWcuY3NzKCd3aWR0aCcsICcxMDAlJyk7XG4gICAgcmV0dXJuIGltZ1RhZy5nZXQoMCkub3V0ZXJIVE1MOyAvLyByZXR1cm4gdGhlIGh0bWwgYXMgc3RyaW5nXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGFiZWwgYXNzb2NpYXRlZCB3aXRoIGFuIGFscmVhZHkgYWRkZWQgY3VlLlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHJldHVybiB7U3VidGl0bGVMYWJlbH1cbiAgICovXG4gIGdldEN1ZXMoZXZlbnQ6IFN1YnRpdGxlQ3VlRXZlbnQpOiBTdWJ0aXRsZUxhYmVsW10gfCB1bmRlZmluZWQge1xuICAgIGxldCBpZCA9IEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5jYWxjdWxhdGVJZChldmVudCk7XG4gICAgbGV0IGFjdGl2ZVN1YnRpdGxlQ3VlcyA9IHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdO1xuICAgIGlmIChhY3RpdmVTdWJ0aXRsZUN1ZXMgJiYgYWN0aXZlU3VidGl0bGVDdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBhY3RpdmVTdWJ0aXRsZUN1ZXMubWFwKChjdWUpID0+IGN1ZS5sYWJlbCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIHN1YnRpdGxlIGN1ZSBmcm9tIHRoZSBtYW5hZ2VyIGFuZCByZXR1cm5zIHRoZSBsYWJlbCB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGZyb20gdGhlIHN1YnRpdGxlIG92ZXJsYXksXG4gICAqIG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gYXNzb2NpYXRlZCBsYWJlbCBleGlzdGluZyAoZS5nLiBiZWNhdXNlIGFsbCBsYWJlbHMgaGF2ZSBiZWVuIHtAbGluayAjY2xlYXIgY2xlYXJlZH0uXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAcmV0dXJuIHtTdWJ0aXRsZUxhYmVsfG51bGx9XG4gICAqL1xuICBjdWVFeGl0KGV2ZW50OiBTdWJ0aXRsZUN1ZUV2ZW50KTogU3VidGl0bGVMYWJlbCB7XG4gICAgcmV0dXJuIHRoaXMucG9wQ3VlRnJvbU1hcChldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBzdWJ0aXRsZSBjdWVzLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgY3VlQ291bnQoKTogbnVtYmVyIHtcbiAgICAvLyBXZSBleHBsaWNpdGx5IGNvdW50IHRoZSBjdWVzIHRvIHNhdmUgYW4gQXJyYXkucmVkdWNlIG9uIGV2ZXJ5IGN1ZUNvdW50IGNhbGwgKHdoaWNoIGNhbiBoYXBwZW4gZnJlcXVlbnRseSlcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZUNvdW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgYWN0aXZlIHN1YnRpdGxlIGN1ZXMsIGVsc2UgZmFsc2UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaGFzQ3VlcygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jdWVDb3VudCA+IDA7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgc3VidGl0bGUgY3VlcyBmcm9tIHRoZSBtYW5hZ2VyLlxuICAgKi9cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZU1hcCA9IHt9O1xuICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVDb3VudCA9IDA7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN1YnRpdGxlUmVnaW9uQ29udGFpbmVyTWFuYWdlciB7XG4gIHByaXZhdGUgc3VidGl0bGVSZWdpb25Db250YWluZXJzOiB7IFtyZWdpb25OYW1lOiBzdHJpbmddOiBTdWJ0aXRsZVJlZ2lvbkNvbnRhaW5lciB9ID0ge307XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBzdWJ0aXRsZU92ZXJsYXkgUmVmZXJlbmNlIHRvIHRoZSBzdWJ0aXRsZSBvdmVybGF5IGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIHRoZSBjb250YWluZXJzLlxuICAgKi9cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBzdWJ0aXRsZU92ZXJsYXk6IFN1YnRpdGxlT3ZlcmxheSkge1xuICAgIHRoaXMuc3VidGl0bGVPdmVybGF5ID0gc3VidGl0bGVPdmVybGF5O1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRSZWdpb24obGFiZWw6IFN1YnRpdGxlTGFiZWwpOiB7IHJlZ2lvbkNvbnRhaW5lcklkOiBzdHJpbmcsIHJlZ2lvbk5hbWU6IHN0cmluZyB9IHtcbiAgICBpZiAobGFiZWwudnR0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZWdpb25Db250YWluZXJJZDogbGFiZWwudnR0LnJlZ2lvbiAmJiBsYWJlbC52dHQucmVnaW9uLmlkID8gbGFiZWwudnR0LnJlZ2lvbi5pZCA6ICd2dHQnLFxuICAgICAgICByZWdpb25OYW1lOiAndnR0JyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZ2lvbkNvbnRhaW5lcklkOiBsYWJlbC5yZWdpb24gfHwgJ2RlZmF1bHQnLFxuICAgICAgcmVnaW9uTmFtZTogbGFiZWwucmVnaW9uIHx8ICdkZWZhdWx0JyxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIHdyYXBzIGEgc3VidGl0bGUgbGFiZWwgaW50byBhIGNvbnRhaW5lciBkaXYgYmFzZWQgb24gdGhlIHN1YnRpdGxlIHJlZ2lvbi5cbiAgICogSWYgdGhlIHN1YnRpdGxlIGhhcyBwb3NpdGlvbmluZyBpbmZvcm1hdGlvbiBpdCBpcyBhZGRlZCB0byB0aGUgY29udGFpbmVyLlxuICAgKiBAcGFyYW0gbGFiZWwgVGhlIHN1YnRpdGxlIGxhYmVsIHRvIHdyYXBcbiAgICovXG4gIGFkZExhYmVsKGxhYmVsOiBTdWJ0aXRsZUxhYmVsLCBvdmVybGF5U2l6ZT86IFNpemUpOiB2b2lkIHtcbiAgICBjb25zdCB7IHJlZ2lvbkNvbnRhaW5lcklkLCByZWdpb25OYW1lIH0gPSB0aGlzLmdldFJlZ2lvbihsYWJlbCk7XG4gICAgY29uc3QgY3NzQ2xhc3NlcyA9IFtgc3VidGl0bGUtcG9zaXRpb24tJHtyZWdpb25OYW1lfWBdO1xuXG4gICAgaWYgKGxhYmVsLnZ0dCAmJiBsYWJlbC52dHQucmVnaW9uKSB7XG4gICAgICBjc3NDbGFzc2VzLnB1c2goYHZ0dC1yZWdpb24tJHtsYWJlbC52dHQucmVnaW9uLmlkfWApO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zdWJ0aXRsZVJlZ2lvbkNvbnRhaW5lcnNbcmVnaW9uQ29udGFpbmVySWRdKSB7XG4gICAgICBjb25zdCByZWdpb25Db250YWluZXIgPSBuZXcgU3VidGl0bGVSZWdpb25Db250YWluZXIoe1xuICAgICAgICBjc3NDbGFzc2VzLFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc3VidGl0bGVSZWdpb25Db250YWluZXJzW3JlZ2lvbkNvbnRhaW5lcklkXSA9IHJlZ2lvbkNvbnRhaW5lcjtcblxuICAgICAgaWYgKGxhYmVsLnJlZ2lvblN0eWxlKSB7XG4gICAgICAgIHJlZ2lvbkNvbnRhaW5lci5nZXREb21FbGVtZW50KCkuYXR0cignc3R5bGUnLCBsYWJlbC5yZWdpb25TdHlsZSk7XG4gICAgICB9IGVsc2UgaWYgKGxhYmVsLnZ0dCAmJiAhbGFiZWwudnR0LnJlZ2lvbikge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlcmUgaXMgbm8gcmVnaW9uIHByZXNlbnQgdG8gd3JhcCB0aGUgQ3VlIEJveCwgdGhlIEN1ZSBib3ggYmVjb21lcyB0aGVcbiAgICAgICAgICogcmVnaW9uIGl0c2VsZi4gVGhlcmVmb3JlIHRoZSBwb3NpdGlvbmluZyB2YWx1ZXMgaGF2ZSB0byBjb21lIGZyb20gdGhlIGJveC5cbiAgICAgICAgICovXG4gICAgICAgIHJlZ2lvbkNvbnRhaW5lci5nZXREb21FbGVtZW50KCkuY3NzKCdwb3NpdGlvbicsICdzdGF0aWMnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGdldERvbUVsZW1lbnQgbmVlZHMgdG8gYmUgY2FsbGVkIGF0IGxlYXN0IG9uY2UgdG8gZW5zdXJlIHRoZSBjb21wb25lbnQgZXhpc3RzXG4gICAgICAgIHJlZ2lvbkNvbnRhaW5lci5nZXREb21FbGVtZW50KCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgcmVnaW9uQ29udGFpbmVySWQgaW4gdGhpcy5zdWJ0aXRsZVJlZ2lvbkNvbnRhaW5lcnMpIHtcbiAgICAgICAgdGhpcy5zdWJ0aXRsZU92ZXJsYXkuYWRkQ29tcG9uZW50KHRoaXMuc3VidGl0bGVSZWdpb25Db250YWluZXJzW3JlZ2lvbkNvbnRhaW5lcklkXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdWJ0aXRsZVJlZ2lvbkNvbnRhaW5lcnNbcmVnaW9uQ29udGFpbmVySWRdLmFkZExhYmVsKGxhYmVsLCBvdmVybGF5U2l6ZSk7XG4gIH1cblxuICByZXBsYWNlTGFiZWwocHJldmlvdXNMYWJlbDogU3VidGl0bGVMYWJlbCwgbmV3TGFiZWw6IFN1YnRpdGxlTGFiZWwpOiB2b2lkIHtcbiAgICBjb25zdCB7IHJlZ2lvbkNvbnRhaW5lcklkIH0gPSB0aGlzLmdldFJlZ2lvbihwcmV2aW91c0xhYmVsKTtcblxuICAgIHRoaXMuc3VidGl0bGVSZWdpb25Db250YWluZXJzW3JlZ2lvbkNvbnRhaW5lcklkXS5yZW1vdmVMYWJlbChwcmV2aW91c0xhYmVsKTtcbiAgICB0aGlzLnN1YnRpdGxlUmVnaW9uQ29udGFpbmVyc1tyZWdpb25Db250YWluZXJJZF0uYWRkTGFiZWwobmV3TGFiZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBzdWJ0aXRsZSBsYWJlbCBmcm9tIGEgY29udGFpbmVyLlxuICAgKi9cbiAgcmVtb3ZlTGFiZWwobGFiZWw6IFN1YnRpdGxlTGFiZWwpOiB2b2lkIHtcbiAgICBsZXQgcmVnaW9uQ29udGFpbmVySWQ7XG5cbiAgICBpZiAobGFiZWwudnR0KSB7XG4gICAgICByZWdpb25Db250YWluZXJJZCA9IGxhYmVsLnZ0dC5yZWdpb24gJiYgbGFiZWwudnR0LnJlZ2lvbi5pZCA/IGxhYmVsLnZ0dC5yZWdpb24uaWQgOiAndnR0JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmVnaW9uQ29udGFpbmVySWQgPSBsYWJlbC5yZWdpb24gfHwgJ2RlZmF1bHQnO1xuICAgIH1cblxuICAgIHRoaXMuc3VidGl0bGVSZWdpb25Db250YWluZXJzW3JlZ2lvbkNvbnRhaW5lcklkXS5yZW1vdmVMYWJlbChsYWJlbCk7XG5cbiAgICAvLyBSZW1vdmUgY29udGFpbmVyIGlmIG5vIG1vcmUgbGFiZWxzIGFyZSBkaXNwbGF5ZWRcbiAgICBpZiAodGhpcy5zdWJ0aXRsZVJlZ2lvbkNvbnRhaW5lcnNbcmVnaW9uQ29udGFpbmVySWRdLmlzRW1wdHkoKSkge1xuICAgICAgdGhpcy5zdWJ0aXRsZU92ZXJsYXkucmVtb3ZlQ29tcG9uZW50KHRoaXMuc3VidGl0bGVSZWdpb25Db250YWluZXJzW3JlZ2lvbkNvbnRhaW5lcklkXSk7XG4gICAgICBkZWxldGUgdGhpcy5zdWJ0aXRsZVJlZ2lvbkNvbnRhaW5lcnNbcmVnaW9uQ29udGFpbmVySWRdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBzdWJ0aXRsZSBjb250YWluZXJzLlxuICAgKi9cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCByZWdpb25OYW1lIGluIHRoaXMuc3VidGl0bGVSZWdpb25Db250YWluZXJzKSB7XG4gICAgICB0aGlzLnN1YnRpdGxlT3ZlcmxheS5yZW1vdmVDb21wb25lbnQodGhpcy5zdWJ0aXRsZVJlZ2lvbkNvbnRhaW5lcnNbcmVnaW9uTmFtZV0pO1xuICAgIH1cblxuICAgIHRoaXMuc3VidGl0bGVSZWdpb25Db250YWluZXJzID0ge307XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN1YnRpdGxlUmVnaW9uQ29udGFpbmVyIGV4dGVuZHMgQ29udGFpbmVyPENvbnRhaW5lckNvbmZpZz4ge1xuICBwcml2YXRlIGxhYmVsQ291bnQgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29udGFpbmVyQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICdzdWJ0aXRsZS1yZWdpb24tY29udGFpbmVyJyxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBhZGRMYWJlbChsYWJlbFRvQWRkOiBTdWJ0aXRsZUxhYmVsLCBvdmVybGF5U2l6ZT86IFNpemUpIHtcbiAgICB0aGlzLmxhYmVsQ291bnQrKztcblxuICAgIGlmIChsYWJlbFRvQWRkLnZ0dCkge1xuICAgICAgaWYgKGxhYmVsVG9BZGQudnR0LnJlZ2lvbiAmJiBvdmVybGF5U2l6ZSkge1xuICAgICAgICBWdHRVdGlscy5zZXRWdHRSZWdpb25TdHlsZXModGhpcywgbGFiZWxUb0FkZC52dHQucmVnaW9uLCBvdmVybGF5U2l6ZSk7XG4gICAgICB9XG5cbiAgICAgIFZ0dFV0aWxzLnNldFZ0dEN1ZUJveFN0eWxlcyhsYWJlbFRvQWRkLCBvdmVybGF5U2l6ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5hZGRDb21wb25lbnQobGFiZWxUb0FkZCk7XG4gICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XG4gIH1cblxuICByZW1vdmVMYWJlbChsYWJlbFRvUmVtb3ZlOiBTdWJ0aXRsZUxhYmVsKTogdm9pZCB7XG4gICAgdGhpcy5sYWJlbENvdW50LS07XG4gICAgdGhpcy5yZW1vdmVDb21wb25lbnQobGFiZWxUb1JlbW92ZSk7XG4gICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XG4gIH1cblxuICBwdWJsaWMgaXNFbXB0eSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5sYWJlbENvdW50ID09PSAwO1xuICB9XG59XG4iLCJpbXBvcnQge1NlbGVjdEJveH0gZnJvbSAnLi9zZWxlY3Rib3gnO1xuaW1wb3J0IHtMaXN0U2VsZWN0b3JDb25maWd9IGZyb20gJy4vbGlzdHNlbGVjdG9yJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge1N1YnRpdGxlU3dpdGNoSGFuZGxlcn0gZnJvbSAnLi4vc3VidGl0bGV1dGlscyc7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIGJldHdlZW4gYXZhaWxhYmxlIHN1YnRpdGxlIGFuZCBjYXB0aW9uIHRyYWNrcy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgU3VidGl0bGVTZWxlY3RCb3ggZXh0ZW5kcyBTZWxlY3RCb3gge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogTGlzdFNlbGVjdG9yQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3NlczogWyd1aS1zdWJ0aXRsZXNlbGVjdGJveCddLFxuICAgICAgYXJpYUxhYmVsOiBpMThuLmdldExvY2FsaXplcignc3VidGl0bGUuc2VsZWN0JyksXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIG5ldyBTdWJ0aXRsZVN3aXRjaEhhbmRsZXIocGxheWVyLCB0aGlzLCB1aW1hbmFnZXIpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gsIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveENvbmZpZyB9IGZyb20gJy4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94JztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uLy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uLy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBiYWNrZ3JvdW5kIGNvbG9ycy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94IGV4dGVuZHMgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveENvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzc2VzOiBbJ3VpLXN1YnRpdGxlc2V0dGluZ3NiYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3gnXSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgdGhpcy5hZGRJdGVtKG51bGwsIGkxOG4uZ2V0TG9jYWxpemVyKCdkZWZhdWx0JykpO1xuICAgIHRoaXMuYWRkSXRlbSgnd2hpdGUnLCBpMThuLmdldExvY2FsaXplcignY29sb3JzLndoaXRlJykpO1xuICAgIHRoaXMuYWRkSXRlbSgnYmxhY2snLCBpMThuLmdldExvY2FsaXplcignY29sb3JzLmJsYWNrJykpO1xuICAgIHRoaXMuYWRkSXRlbSgncmVkJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5yZWQnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdncmVlbicsIGkxOG4uZ2V0TG9jYWxpemVyKCdjb2xvcnMuZ3JlZW4nKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdibHVlJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5ibHVlJykpO1xuICAgIHRoaXMuYWRkSXRlbSgnY3lhbicsIGkxOG4uZ2V0TG9jYWxpemVyKCdjb2xvcnMuY3lhbicpKTtcbiAgICB0aGlzLmFkZEl0ZW0oJ3llbGxvdycsIGkxOG4uZ2V0TG9jYWxpemVyKCdjb2xvcnMueWVsbG93JykpO1xuICAgIHRoaXMuYWRkSXRlbSgnbWFnZW50YScsIGkxOG4uZ2V0TG9jYWxpemVyKCdjb2xvcnMubWFnZW50YScpKTtcblxuICAgIGxldCBzZXRDb2xvckFuZE9wYWNpdHkgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZENvbG9yLmlzU2V0KCkgJiYgdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkuaXNTZXQoKSkge1xuICAgICAgICB0aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcyhcbiAgICAgICAgICAnYmdjb2xvci0nICsgdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZENvbG9yLnZhbHVlICsgdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkudmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MobnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKChzZW5kZXIsIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IudmFsdWUgPSBrZXk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3Iub25DaGFuZ2VkLnN1YnNjcmliZSgoc2VuZGVyLCBwcm9wZXJ0eSkgPT4ge1xuICAgICAgLy8gQ29sb3IgYW5kIG9wYWNpdHkgZ28gdG9nZXRoZXIsIHNvIHdlIG5lZWQgdG8uLi5cbiAgICAgIGlmICghdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZENvbG9yLmlzU2V0KCkpIHtcbiAgICAgICAgLy8gLi4uIGNsZWFyIHRoZSBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIG5vdCBzZXRcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkuY2xlYXIoKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5LmlzU2V0KCkpIHtcbiAgICAgICAgLy8gLi4uIHNldCBhbiBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIHNldFxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS52YWx1ZSA9ICcxMDAnO1xuICAgICAgfVxuICAgICAgdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcbiAgICAgIHNldENvbG9yQW5kT3BhY2l0eSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkub25DaGFuZ2VkLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICBzZXRDb2xvckFuZE9wYWNpdHkoKTtcbiAgICB9KTtcblxuICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxuICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IuaXNTZXQoKSkge1xuICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci52YWx1ZSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gsIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveENvbmZpZyB9IGZyb20gJy4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94JztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uLy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uLy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBiYWNrZ3JvdW5kIG9wYWNpdHkuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIEJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94IGV4dGVuZHMgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveENvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzc2VzOiBbJ3VpLXN1YnRpdGxlc2V0dGluZ3NiYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveCddLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICB0aGlzLmFkZEl0ZW0obnVsbCwgaTE4bi5nZXRMb2NhbGl6ZXIoJ2RlZmF1bHQnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCcxMDAnLCBpMThuLmdldExvY2FsaXplcigncGVyY2VudCcsIHsgdmFsdWU6IDEwMCB9KSk7XG4gICAgdGhpcy5hZGRJdGVtKCc3NScsIGkxOG4uZ2V0TG9jYWxpemVyKCdwZXJjZW50JywgeyB2YWx1ZTogNzUgfSkpO1xuICAgIHRoaXMuYWRkSXRlbSgnNTAnLCBpMThuLmdldExvY2FsaXplcigncGVyY2VudCcsIHsgdmFsdWU6IDUwIH0pKTtcbiAgICB0aGlzLmFkZEl0ZW0oJzI1JywgaTE4bi5nZXRMb2NhbGl6ZXIoJ3BlcmNlbnQnLCB7IHZhbHVlOiAyNSB9KSk7XG4gICAgdGhpcy5hZGRJdGVtKCcwJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ3BlcmNlbnQnLCB7IHZhbHVlOiAwIH0pKTtcblxuICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKChzZW5kZXIsIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS52YWx1ZSA9IGtleTtcblxuICAgICAgLy8gQ29sb3IgYW5kIG9wYWNpdHkgZ28gdG9nZXRoZXIsIHNvIHdlIG5lZWQgdG8uLi5cbiAgICAgIGlmICghdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkuaXNTZXQoKSkge1xuICAgICAgICAvLyAuLi4gY2xlYXIgdGhlIGNvbG9yIHdoZW4gdGhlIG9wYWNpdHkgaXMgbm90IHNldFxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IuY2xlYXIoKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci5pc1NldCgpKSB7XG4gICAgICAgIC8vIC4uLiBzZXQgYSBjb2xvciB3aGVuIHRoZSBvcGFjaXR5IGlzIHNldFxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IudmFsdWUgPSAnYmxhY2snO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIHNlbGVjdGVkIGl0ZW0gd2hlbiB2YWx1ZSBpcyBzZXQgZnJvbSBzb21ld2hlcmUgZWxzZVxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoKHNlbmRlciwgcHJvcGVydHkpID0+IHtcbiAgICAgIHRoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcbiAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkuaXNTZXQoKSkge1xuICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5LnZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCwgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94Q29uZmlnIH0gZnJvbSAnLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3gnO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuLi8uLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi8uLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgY2hhcmFjdGVyIGVkZ2UgY29sb3JzLlxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJFZGdlQ29sb3JTZWxlY3RCb3ggZXh0ZW5kcyBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94Q29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzZXM6IFsndWktc3VidGl0bGUtc2V0dGluZ3MtY2hhcmFjdGVyLWVkZ2UtY29sb3Itc2VsZWN0LWJveCddLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICB0aGlzLmFkZEl0ZW0obnVsbCwgaTE4bi5nZXRMb2NhbGl6ZXIoJ2RlZmF1bHQnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCd3aGl0ZScsIGkxOG4uZ2V0TG9jYWxpemVyKCdjb2xvcnMud2hpdGUnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdibGFjaycsIGkxOG4uZ2V0TG9jYWxpemVyKCdjb2xvcnMuYmxhY2snKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdyZWQnLCBpMThuLmdldExvY2FsaXplcignY29sb3JzLnJlZCcpKTtcbiAgICB0aGlzLmFkZEl0ZW0oJ2dyZWVuJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5ncmVlbicpKTtcbiAgICB0aGlzLmFkZEl0ZW0oJ2JsdWUnLCBpMThuLmdldExvY2FsaXplcignY29sb3JzLmJsdWUnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdjeWFuJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5jeWFuJykpO1xuICAgIHRoaXMuYWRkSXRlbSgneWVsbG93JywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy55ZWxsb3cnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdtYWdlbnRhJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5tYWdlbnRhJykpO1xuXG4gICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoKHNlbmRlciwga2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2VDb2xvci52YWx1ZSA9IGtleTtcblxuICAgICAgLy8gRWRnZSB0eXBlIGFuZCBjb2xvciBnbyB0b2dldGhlciwgc28gd2UgbmVlZCB0by4uLlxuICAgICAgaWYgKCF0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlQ29sb3IuaXNTZXQoKSkge1xuICAgICAgICAvLyAuLi4gY2xlYXIgdGhlIGVkZ2UgdHlwZSB3aGVuIHRoZSBjb2xvciBpcyBub3Qgc2V0XG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2UuY2xlYXIoKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2UuaXNTZXQoKSkge1xuICAgICAgICAvLyAuLi4gc2V0IGEgZWRnZSB0eXBlIHdoZW4gdGhlIGNvbG9yIGlzIHNldFxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlLnZhbHVlID0gJ3VuaWZvcm0nO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIHNlbGVjdGVkIGl0ZW0gd2hlbiB2YWx1ZSBpcyBzZXQgZnJvbSBzb21ld2hlcmUgZWxzZVxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2VDb2xvci5vbkNoYW5nZWQuc3Vic2NyaWJlKChzZW5kZXIsIHByb3BlcnR5KSA9PiB7XG4gICAgICB0aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLy8gTG9hZCBpbml0aWFsIHZhbHVlXG4gICAgaWYgKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2VDb2xvci5pc1NldCgpKSB7XG4gICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIuY2hhcmFjdGVyRWRnZUNvbG9yLnZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCwgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94Q29uZmlnIH0gZnJvbSAnLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3gnO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGNoYXJhY3RlciBlZGdlLlxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJFZGdlU2VsZWN0Qm94IGV4dGVuZHMgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveENvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzc2VzOiBbJ3VpLXN1YnRpdGxlc2V0dGluZ3NjaGFyYWN0ZXJlZGdlc2VsZWN0Ym94J10sXG4gICAgfSwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIHRoaXMuYWRkSXRlbShudWxsLCBpMThuLmdldExvY2FsaXplcignZGVmYXVsdCcpKTtcbiAgICB0aGlzLmFkZEl0ZW0oJ3JhaXNlZCcsIGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy5zdWJ0aXRsZXMuY2hhcmFjdGVyRWRnZS5yYWlzZWQnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdkZXByZXNzZWQnLCBpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UuZGVwcmVzc2VkJykpO1xuICAgIHRoaXMuYWRkSXRlbSgndW5pZm9ybScsIGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy5zdWJ0aXRsZXMuY2hhcmFjdGVyRWRnZS51bmlmb3JtJykpO1xuICAgIHRoaXMuYWRkSXRlbSgnZHJvcHNoYWRvd2VkJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLnN1YnRpdGxlcy5jaGFyYWN0ZXJFZGdlLmRyb3BzaGFkb3dlZCcpKTtcblxuICAgIGNvbnN0IHNldENvbG9yQW5kRWRnZVR5cGUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuY2hhcmFjdGVyRWRnZS5pc1NldCgpICYmIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2VDb2xvci5pc1NldCgpKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKCdjaGFyYWN0ZXJlZGdlLScgKyB0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlLnZhbHVlICsgJy0nICsgdGhpcy5zZXR0aW5nc01hbmFnZXIuY2hhcmFjdGVyRWRnZUNvbG9yLnZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKChzZW5kZXIsIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlLnZhbHVlID0ga2V5O1xuICAgIH0pO1xuICAgIFxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2Uub25DaGFuZ2VkLnN1YnNjcmliZSgoc2VuZGVyLCBwcm9wZXJ0eSkgPT4ge1xuICAgICAgLy8gRWRnZSB0eXBlIGFuZCBjb2xvciBnbyB0b2dldGhlciwgc28gd2UgbmVlZCB0by4uLlxuICAgICAgaWYgKCF0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlLmlzU2V0KCkpIHtcbiAgICAgICAgLy8gLi4uIGNsZWFyIHRoZSBjb2xvciB3aGVuIHRoZSBlZGdlIHR5cGUgaXMgbm90IHNldFxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlQ29sb3IuY2xlYXIoKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2VDb2xvci5pc1NldCgpKSB7XG4gICAgICAgIC8vIC4uLiBzZXQgYSBjb2xvciB3aGVuIHRoZSBlZGdlIHR5cGUgaXMgc2V0XG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2VDb2xvci52YWx1ZSA9ICdibGFjayc7XG4gICAgICB9XG4gICAgICB0aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xuICAgICAgc2V0Q29sb3JBbmRFZGdlVHlwZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuY2hhcmFjdGVyRWRnZUNvbG9yLm9uQ2hhbmdlZC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgc2V0Q29sb3JBbmRFZGdlVHlwZSgpO1xuICAgIH0pOyAgICBcblxuICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxuICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlLmlzU2V0KCkpIHtcbiAgICAgIHRoaXMuc2VsZWN0SXRlbSh0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlLnZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCwgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94Q29uZmlnIH0gZnJvbSAnLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3gnO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGZvbnQgY29sb3JzLlxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBGb250Q29sb3JTZWxlY3RCb3ggZXh0ZW5kcyBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94Q29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzZXM6IFsndWktc3VidGl0bGVzZXR0aW5nc2ZvbnRjb2xvcnNlbGVjdGJveCddLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICB0aGlzLmFkZEl0ZW0obnVsbCwgaTE4bi5nZXRMb2NhbGl6ZXIoJ2RlZmF1bHQnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCd3aGl0ZScsIGkxOG4uZ2V0TG9jYWxpemVyKCdjb2xvcnMud2hpdGUnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdibGFjaycsIGkxOG4uZ2V0TG9jYWxpemVyKCdjb2xvcnMuYmxhY2snKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdyZWQnLCBpMThuLmdldExvY2FsaXplcignY29sb3JzLnJlZCcpKTtcbiAgICB0aGlzLmFkZEl0ZW0oJ2dyZWVuJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5ncmVlbicpKTtcbiAgICB0aGlzLmFkZEl0ZW0oJ2JsdWUnLCBpMThuLmdldExvY2FsaXplcignY29sb3JzLmJsdWUnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdjeWFuJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5jeWFuJykpO1xuICAgIHRoaXMuYWRkSXRlbSgneWVsbG93JywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy55ZWxsb3cnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdtYWdlbnRhJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5tYWdlbnRhJykpO1xuXG4gICAgbGV0IHNldENvbG9yQW5kT3BhY2l0eSA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IuaXNTZXQoKSAmJiB0aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS5pc1NldCgpKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKFxuICAgICAgICAgICdmb250Y29sb3ItJyArIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci52YWx1ZSArIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LnZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZSgoc2VuZGVyLCBrZXk6IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udENvbG9yLnZhbHVlID0ga2V5O1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udENvbG9yLm9uQ2hhbmdlZC5zdWJzY3JpYmUoKHNlbmRlciwgcHJvcGVydHkpID0+IHtcbiAgICAgIC8vIENvbG9yIGFuZCBvcGFjaXR5IGdvIHRvZ2V0aGVyLCBzbyB3ZSBuZWVkIHRvLi4uXG4gICAgICBpZiAoIXRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5pc1NldCgpKSB7XG4gICAgICAgIC8vIC4uLiBjbGVhciB0aGUgb3BhY2l0eSB3aGVuIHRoZSBjb2xvciBpcyBub3Qgc2V0XG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LmNsZWFyKCk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS5pc1NldCgpKSB7XG4gICAgICAgIC8vIC4uLiBzZXQgYW4gb3BhY2l0eSB3aGVuIHRoZSBjb2xvciBpcyBzZXRcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkudmFsdWUgPSAnMTAwJztcbiAgICAgIH1cbiAgICAgIHRoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XG4gICAgICBzZXRDb2xvckFuZE9wYWNpdHkoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgc2V0Q29sb3JBbmRPcGFjaXR5KCk7XG4gICAgfSk7XG5cbiAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcbiAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udENvbG9yLmlzU2V0KCkpIHtcbiAgICAgIHRoaXMuc2VsZWN0SXRlbSh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IudmFsdWUpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94LCBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3hDb25maWcgfSBmcm9tICcuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveCc7XG5pbXBvcnQge1VJSW5zdGFuY2VNYW5hZ2VyfSBmcm9tICcuLi8uLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi8uLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgZm9udCBmYW1pbHkuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIEZvbnRGYW1pbHlTZWxlY3RCb3ggZXh0ZW5kcyBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94Q29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzZXM6IFsndWktc3VidGl0bGVzZXR0aW5nc2ZvbnRmYW1pbHlzZWxlY3Rib3gnXSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgdGhpcy5hZGRJdGVtKG51bGwsIGkxOG4uZ2V0TG9jYWxpemVyKCdkZWZhdWx0JykpO1xuICAgIHRoaXMuYWRkSXRlbSgnbW9ub3NwYWNlZHNlcmlmJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5tb25vc3BhY2Vkc2VyaWYnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdwcm9wb3J0aW9uYWxzZXJpZicsIGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkucHJvcG9ydGlvbmFsc2VyaWYnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdtb25vc3BhY2Vkc2Fuc3NlcmlmJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5tb25vc3BhY2Vkc2Fuc3NlcmlmJykpO1xuICAgIHRoaXMuYWRkSXRlbSgncHJvcG9ydGlvbmFsc2Fuc3NlcmlmJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5wcm9wb3J0aW9uYWxzYW5zc2VyaWYnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdjYXN1YWwnLCBpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuZmFtaWx5LmNhc3VhbCcpKTtcbiAgICB0aGlzLmFkZEl0ZW0oJ2N1cnNpdmUnLCBpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuZmFtaWx5LmN1cnNpdmUnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdzbWFsbGNhcGl0YWwnLCBpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuZmFtaWx5LnNtYWxsY2FwaXRhbCcpKTtcblxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRGYW1pbHkub25DaGFuZ2VkLnN1YnNjcmliZSgoc2VuZGVyLCBwcm9wZXJ0eSkgPT4ge1xuICAgICAgaWYgKHByb3BlcnR5LmlzU2V0KCkpIHtcbiAgICAgICAgdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2ZvbnRmYW1pbHktJyArIHByb3BlcnR5LnZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKG51bGwpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZWxlY3QgdGhlIGl0ZW0gaW4gY2FzZSB0aGUgcHJvcGVydHkgd2FzIHNldCBmcm9tIG91dHNpZGVcbiAgICAgIHRoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZSgoc2VuZGVyLCBrZXk6IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udEZhbWlseS52YWx1ZSA9IGtleTtcbiAgICB9KTtcblxuICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxuICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250RmFtaWx5LmlzU2V0KCkpIHtcbiAgICAgIHRoaXMuc2VsZWN0SXRlbSh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250RmFtaWx5LnZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCwgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94Q29uZmlnIH0gZnJvbSAnLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3gnO1xuaW1wb3J0IHtVSUluc3RhbmNlTWFuYWdlcn0gZnJvbSAnLi4vLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGZvbnQgY29sb3JzLlxuICpcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBGb250T3BhY2l0eVNlbGVjdEJveCBleHRlbmRzIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCB7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3hDb25maWcpIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3NlczogWyd1aS1zdWJ0aXRsZXNldHRpbmdzZm9udG9wYWNpdHlzZWxlY3Rib3gnXSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgdGhpcy5hZGRJdGVtKG51bGwsIGkxOG4uZ2V0TG9jYWxpemVyKCdkZWZhdWx0JykpO1xuICAgIHRoaXMuYWRkSXRlbSgnMTAwJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ3BlcmNlbnQnLCB7IHZhbHVlOiAxMDAgfSkpO1xuICAgIHRoaXMuYWRkSXRlbSgnNzUnLCBpMThuLmdldExvY2FsaXplcigncGVyY2VudCcsIHsgdmFsdWU6IDc1IH0pKTtcbiAgICB0aGlzLmFkZEl0ZW0oJzUwJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ3BlcmNlbnQnLCB7IHZhbHVlOiA1MCB9KSk7XG4gICAgdGhpcy5hZGRJdGVtKCcyNScsIGkxOG4uZ2V0TG9jYWxpemVyKCdwZXJjZW50JywgeyB2YWx1ZTogMjUgfSkpO1xuXG4gICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoKHNlbmRlciwga2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LnZhbHVlID0ga2V5O1xuXG4gICAgICAvLyBDb2xvciBhbmQgb3BhY2l0eSBnbyB0b2dldGhlciwgc28gd2UgbmVlZCB0by4uLlxuICAgICAgaWYgKCF0aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS5pc1NldCgpKSB7XG4gICAgICAgIC8vIC4uLiBjbGVhciB0aGUgY29sb3Igd2hlbiB0aGUgb3BhY2l0eSBpcyBub3Qgc2V0XG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5jbGVhcigpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udENvbG9yLmlzU2V0KCkpIHtcbiAgICAgICAgLy8gLi4uIHNldCBhIGNvbG9yIHdoZW4gdGhlIG9wYWNpdHkgaXMgc2V0XG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci52YWx1ZSA9ICd3aGl0ZSc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgaXRlbSB3aGVuIHZhbHVlIGlzIHNldCBmcm9tIHNvbWV3aGVyZSBlbHNlXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkub25DaGFuZ2VkLnN1YnNjcmliZSgoc2VuZGVyLCBwcm9wZXJ0eSkgPT4ge1xuICAgICAgdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxuICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS5pc1NldCgpKSB7XG4gICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkudmFsdWUpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94LCBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3hDb25maWcgfSBmcm9tICcuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveCc7XG5pbXBvcnQge1VJSW5zdGFuY2VNYW5hZ2VyfSBmcm9tICcuLi8uLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi8uLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgZm9udCBjb2xvcnMuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIEZvbnRTaXplU2VsZWN0Qm94IGV4dGVuZHMgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveENvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzc2VzOiBbJ3VpLXN1YnRpdGxlc2V0dGluZ3Nmb250c2l6ZXNlbGVjdGJveCddLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICB0aGlzLmFkZEl0ZW0obnVsbCwgaTE4bi5nZXRMb2NhbGl6ZXIoJ2RlZmF1bHQnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCc1MCcsIGkxOG4uZ2V0TG9jYWxpemVyKCdwZXJjZW50JywgeyB2YWx1ZTogNTAgfSkpO1xuICAgIHRoaXMuYWRkSXRlbSgnNzUnLCBpMThuLmdldExvY2FsaXplcigncGVyY2VudCcsIHsgdmFsdWU6IDc1IH0pKTtcbiAgICB0aGlzLmFkZEl0ZW0oJzEwMCcsIGkxOG4uZ2V0TG9jYWxpemVyKCdwZXJjZW50JywgeyB2YWx1ZTogMTAwIH0pKTtcbiAgICB0aGlzLmFkZEl0ZW0oJzE1MCcsIGkxOG4uZ2V0TG9jYWxpemVyKCdwZXJjZW50JywgeyB2YWx1ZTogMTUwIH0pKTtcbiAgICB0aGlzLmFkZEl0ZW0oJzIwMCcsIGkxOG4uZ2V0TG9jYWxpemVyKCdwZXJjZW50JywgeyB2YWx1ZTogMjAwIH0pKTtcbiAgICB0aGlzLmFkZEl0ZW0oJzMwMCcsIGkxOG4uZ2V0TG9jYWxpemVyKCdwZXJjZW50JywgeyB2YWx1ZTogMzAwIH0pKTtcbiAgICB0aGlzLmFkZEl0ZW0oJzQwMCcsIGkxOG4uZ2V0TG9jYWxpemVyKCdwZXJjZW50JywgeyB2YWx1ZTogNDAwIH0pKTtcblxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRTaXplLm9uQ2hhbmdlZC5zdWJzY3JpYmUoKHNlbmRlciwgcHJvcGVydHkpID0+IHtcbiAgICAgIGlmIChwcm9wZXJ0eS5pc1NldCgpKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKCdmb250c2l6ZS0nICsgcHJvcGVydHkudmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MobnVsbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdCB0aGUgaXRlbSBpbiBjYXNlIHRoZSBwcm9wZXJ0eSB3YXMgc2V0IGZyb20gb3V0c2lkZVxuICAgICAgdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcbiAgICB9KTtcblxuICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKChzZW5kZXIsIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5mb250U2l6ZS52YWx1ZSA9IGtleTtcbiAgICB9KTtcblxuICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxuICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250U2l6ZS5pc1NldCgpKSB7XG4gICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udFNpemUudmFsdWUpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94LCBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3hDb25maWcgfSBmcm9tICcuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveCc7XG5pbXBvcnQgeyBVSUluc3RhbmNlTWFuYWdlciB9IGZyb20gJy4uLy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uLy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBmb250IHN0eWxlcy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgRm9udFN0eWxlU2VsZWN0Qm94IGV4dGVuZHMgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveENvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzc2VzOiBbJ3VpLXN1YnRpdGxlLXNldHRpbmdzLWZvbnQtc3R5bGUtc2VsZWN0LWJveCddLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICB0aGlzLmFkZEl0ZW0obnVsbCwgaTE4bi5nZXRMb2NhbGl6ZXIoJ2RlZmF1bHQnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdpdGFsaWMnLCBpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuc3R5bGUuaXRhbGljJykpO1xuICAgIHRoaXMuYWRkSXRlbSgnYm9sZCcsIGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5zdHlsZS5ib2xkJykpO1xuXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXI/LmZvbnRTdHlsZS5vbkNoYW5nZWQuc3Vic2NyaWJlKChzZW5kZXIsIHByb3BlcnR5KSA9PiB7XG4gICAgICBpZiAocHJvcGVydHkuaXNTZXQoKSkge1xuICAgICAgICB0aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcygnZm9udHN0eWxlLScgKyBwcm9wZXJ0eS52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcyhudWxsKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2VsZWN0IHRoZSBpdGVtIGluIGNhc2UgdGhlIHByb3BlcnR5IHdhcyBzZXQgZnJvbSBvdXRzaWRlXG4gICAgICB0aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoKHNlbmRlciwga2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlcikge1xuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5mb250U3R5bGUudmFsdWUgPSBrZXk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcbiAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXI/LmZvbnRTdHlsZS5pc1NldCgpKSB7XG4gICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udFN0eWxlLnZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7U3VidGl0bGVPdmVybGF5fSBmcm9tICcuLi9zdWJ0aXRsZW92ZXJsYXknO1xuaW1wb3J0IHtMaXN0U2VsZWN0b3JDb25maWd9IGZyb20gJy4uL2xpc3RzZWxlY3Rvcic7XG5pbXBvcnQge1NlbGVjdEJveH0gZnJvbSAnLi4vc2VsZWN0Ym94JztcbmltcG9ydCB7U3VidGl0bGVTZXR0aW5nc01hbmFnZXJ9IGZyb20gJy4vc3VidGl0bGVzZXR0aW5nc21hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IFVJSW5zdGFuY2VNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vdWltYW5hZ2VyJztcblxuLyoqXG4gKiBAY2F0ZWdvcnkgQ29uZmlnc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveENvbmZpZyBleHRlbmRzIExpc3RTZWxlY3RvckNvbmZpZyB7XG4gIG92ZXJsYXk6IFN1YnRpdGxlT3ZlcmxheTtcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgc3VidGl0bGVzIHNldHRpbmdzIHNlbGVjdCBib3hcbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICoqL1xuZXhwb3J0IGNsYXNzIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCBleHRlbmRzIFNlbGVjdEJveCB7XG5cbiAgcHJvdGVjdGVkIHNldHRpbmdzTWFuYWdlcj86IFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyO1xuICBwcm90ZWN0ZWQgb3ZlcmxheTogU3VidGl0bGVPdmVybGF5O1xuICBwcml2YXRlIGN1cnJlbnRDc3NDbGFzczogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94Q29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMub3ZlcmxheSA9IGNvbmZpZy5vdmVybGF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBwcmV2aW91c2x5IHNldCBjbGFzcyBhbmQgYWRkcyB0aGUgcGFzc2VkIGluIGNsYXNzLlxuICAgKiBAcGFyYW0gY3NzQ2xhc3MgVGhlIG5ldyBjbGFzcyB0byByZXBsYWNlIHRoZSBwcmV2aW91cyBjbGFzcyB3aXRoIG9yIG51bGwgdG8ganVzdCByZW1vdmUgdGhlIHByZXZpb3VzIGNsYXNzXG4gICAqL1xuICBwcm90ZWN0ZWQgdG9nZ2xlT3ZlcmxheUNsYXNzKGNzc0NsYXNzOiBzdHJpbmd8bnVsbCk6IHZvaWQge1xuICAgIC8vIFJlbW92ZSBwcmV2aW91cyBjbGFzcyBpZiBleGlzdGluZ1xuICAgIGlmICh0aGlzLmN1cnJlbnRDc3NDbGFzcykge1xuICAgICAgdGhpcy5vdmVybGF5LmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRDc3NDbGFzcyk7XG4gICAgICB0aGlzLmN1cnJlbnRDc3NDbGFzcyA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQWRkIG5ldyBjbGFzcyBpZiBzcGVjaWZpZWQuIElmIHRoZSBuZXcgY2xhc3MgaXMgbnVsbCwgd2UgZG9uJ3QgYWRkIGFueXRoaW5nLlxuICAgIGlmIChjc3NDbGFzcykge1xuICAgICAgdGhpcy5jdXJyZW50Q3NzQ2xhc3MgPSB0aGlzLnByZWZpeENzcyhjc3NDbGFzcyk7XG4gICAgICB0aGlzLm92ZXJsYXkuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMuY3VycmVudENzc0NsYXNzKTtcbiAgICB9XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyID0gdWltYW5hZ2VyLmdldFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7TGFiZWxDb25maWd9IGZyb20gJy4uL2xhYmVsJztcbmltcG9ydCB7Q29udGFpbmVyLCBDb250YWluZXJDb25maWd9IGZyb20gJy4uL2NvbnRhaW5lcic7XG5pbXBvcnQge0RPTX0gZnJvbSAnLi4vLi4vZG9tJztcbmltcG9ydCB7U2V0dGluZ3NQYW5lbFBhZ2VPcGVuQnV0dG9ufSBmcm9tICcuLi9zZXR0aW5nc3BhbmVscGFnZW9wZW5idXR0b24nO1xuaW1wb3J0IHsgTG9jYWxpemFibGVUZXh0LCBpMThuIH0gZnJvbSAnLi4vLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3VidGl0bGVTZXR0aW5nc0xhYmVsQ29uZmlnIGV4dGVuZHMgTGFiZWxDb25maWcge1xuICBvcGVuZXI6IFNldHRpbmdzUGFuZWxQYWdlT3BlbkJ1dHRvbjtcbn1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgU3VidGl0bGVTZXR0aW5nc0xhYmVsIGV4dGVuZHMgQ29udGFpbmVyPENvbnRhaW5lckNvbmZpZz4ge1xuXG4gIHByaXZhdGUgb3BlbmVyOiBTZXR0aW5nc1BhbmVsUGFnZU9wZW5CdXR0b247XG5cbiAgcHJpdmF0ZSB0ZXh0OiBMb2NhbGl6YWJsZVRleHQ7XG5cbiAgcHJpdmF0ZSBmb3I6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFN1YnRpdGxlU2V0dGluZ3NMYWJlbENvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLm9wZW5lciA9IGNvbmZpZy5vcGVuZXI7XG4gICAgdGhpcy50ZXh0ID0gY29uZmlnLnRleHQ7XG4gICAgdGhpcy5mb3IgPSBjb25maWcuZm9yO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKDxDb250YWluZXJDb25maWc+Y29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLWxhYmVsJyxcbiAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgdGhpcy5vcGVuZXIsXG4gICAgICBdLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCB0b0RvbUVsZW1lbnQoKTogRE9NIHtcbiAgICBsZXQgbGFiZWxFbGVtZW50ID0gbmV3IERPTSgnbGFiZWwnLCB7XG4gICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcbiAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxuICAgICAgJ2Zvcic6IHRoaXMuZm9yLFxuICAgIH0sIHRoaXMpLmFwcGVuZChcbiAgICAgIG5ldyBET00oJ3NwYW4nLCB7fSkuaHRtbChpMThuLnBlcmZvcm1Mb2NhbGl6YXRpb24odGhpcy50ZXh0KSksXG4gICAgICB0aGlzLm9wZW5lci5nZXREb21FbGVtZW50KCksXG4gICAgKTtcblxuICAgIHJldHVybiBsYWJlbEVsZW1lbnQ7XG4gIH1cbn1cbiIsImltcG9ydCB7IFN0b3JhZ2VVdGlscyB9IGZyb20gJy4uLy4uL3N0b3JhZ2V1dGlscyc7XG5pbXBvcnQgeyBDb21wb25lbnQsIENvbXBvbmVudENvbmZpZyB9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBFdmVudERpc3BhdGNoZXIsIEV2ZW50IH0gZnJvbSAnLi4vLi4vZXZlbnRkaXNwYXRjaGVyJztcblxuaW50ZXJmYWNlIFN1YnRpdGxlU2V0dGluZ3Mge1xuICBmb250Q29sb3I/OiBzdHJpbmc7XG4gIGZvbnRPcGFjaXR5Pzogc3RyaW5nO1xuICBmb250RmFtaWx5Pzogc3RyaW5nO1xuICBmb250U2l6ZT86IHN0cmluZztcbiAgZm9udFN0eWxlPzogc3RyaW5nO1xuICBjaGFyYWN0ZXJFZGdlPzogc3RyaW5nO1xuICBjaGFyYWN0ZXJFZGdlQ29sb3I/OiBzdHJpbmc7XG4gIGJhY2tncm91bmRDb2xvcj86IHN0cmluZztcbiAgYmFja2dyb3VuZE9wYWNpdHk/OiBzdHJpbmc7XG4gIHdpbmRvd0NvbG9yPzogc3RyaW5nO1xuICB3aW5kb3dPcGFjaXR5Pzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUHJvcGVydGllcyB7XG4gIFtuYW1lOiBzdHJpbmddOiBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk8c3RyaW5nPjtcbn1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgVXRpbHNcbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyIHtcbiAgcHJpdmF0ZSB1c2VyU2V0dGluZ3M6IFN1YnRpdGxlU2V0dGluZ3M7XG4gIHByaXZhdGUgbG9jYWxTdG9yYWdlS2V5OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSBfcHJvcGVydGllczogUHJvcGVydGllcyA9IHtcbiAgICBmb250Q29sb3I6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk8c3RyaW5nPih0aGlzKSxcbiAgICBmb250T3BhY2l0eTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTxzdHJpbmc+KHRoaXMpLFxuICAgIGZvbnRGYW1pbHk6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk8c3RyaW5nPih0aGlzKSxcbiAgICBmb250U2l6ZTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTxzdHJpbmc+KHRoaXMpLFxuICAgIGZvbnRTdHlsZTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTxzdHJpbmc+KHRoaXMpLFxuICAgIGNoYXJhY3RlckVkZ2U6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk8c3RyaW5nPih0aGlzKSxcbiAgICBjaGFyYWN0ZXJFZGdlQ29sb3I6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk8c3RyaW5nPih0aGlzKSxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk8c3RyaW5nPih0aGlzKSxcbiAgICBiYWNrZ3JvdW5kT3BhY2l0eTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTxzdHJpbmc+KHRoaXMpLFxuICAgIHdpbmRvd0NvbG9yOiBuZXcgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5PHN0cmluZz4odGhpcyksXG4gICAgd2luZG93T3BhY2l0eTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTxzdHJpbmc+KHRoaXMpLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudXNlclNldHRpbmdzID0ge307XG4gICAgdGhpcy5sb2NhbFN0b3JhZ2VLZXkgPVxuICAgICAgRHVtbXlDb21wb25lbnQuaW5zdGFuY2UoKS5wcmVmaXhDc3MoJ3N1YnRpdGxlc2V0dGluZ3MnKTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBwcm9wZXJ0eU5hbWUgaW4gdGhpcy5fcHJvcGVydGllcykge1xuICAgICAgdGhpcy5fcHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLmNsZWFyKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldCBmb250Q29sb3IoKTogU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5PHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLmZvbnRDb2xvcjtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZm9udE9wYWNpdHkoKTogU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5PHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLmZvbnRPcGFjaXR5O1xuICB9XG5cbiAgcHVibGljIGdldCBmb250RmFtaWx5KCk6IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTxzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5mb250RmFtaWx5O1xuICB9XG5cbiAgcHVibGljIGdldCBmb250U2l6ZSgpOiBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk8c3RyaW5nPiB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXMuZm9udFNpemU7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGZvbnRTdHlsZSgpOiBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk8c3RyaW5nPiB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXMuZm9udFN0eWxlO1xuICB9XG5cbiAgcHVibGljIGdldCBjaGFyYWN0ZXJFZGdlKCk6IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTxzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5jaGFyYWN0ZXJFZGdlO1xuICB9XG5cbiAgcHVibGljIGdldCBjaGFyYWN0ZXJFZGdlQ29sb3IoKTogU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5PHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLmNoYXJhY3RlckVkZ2VDb2xvcjtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgYmFja2dyb3VuZENvbG9yKCk6IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTxzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5iYWNrZ3JvdW5kQ29sb3I7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGJhY2tncm91bmRPcGFjaXR5KCk6IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTxzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5iYWNrZ3JvdW5kT3BhY2l0eTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgd2luZG93Q29sb3IoKTogU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5PHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLndpbmRvd0NvbG9yO1xuICB9XG5cbiAgcHVibGljIGdldCB3aW5kb3dPcGFjaXR5KCk6IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTxzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy53aW5kb3dPcGFjaXR5O1xuICB9XG5cbiAgcHVibGljIGluaXRpYWxpemUoKSB7XG4gICAgZm9yIChsZXQgcHJvcGVydHlOYW1lIGluIHRoaXMuX3Byb3BlcnRpZXMpIHtcbiAgICAgIHRoaXMuX3Byb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5vbkNoYW5nZWQuc3Vic2NyaWJlKChzZW5kZXIsIHByb3BlcnR5KSA9PiB7XG4gICAgICAgIGlmIChwcm9wZXJ0eS5pc1NldCgpKSB7XG4gICAgICAgICAgKDxhbnk+dGhpcy51c2VyU2V0dGluZ3MpW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eS52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBEZWxldGUgdGhlIHByb3BlcnR5IGZyb20gdGhlIHNldHRpbmdzIG9iamVjdCBpZiB1bnNldCB0byBhdm9pZCBzZXJpYWxpemF0aW9uIG9mIG51bGwgdmFsdWVzXG4gICAgICAgICAgZGVsZXRlICg8YW55PnRoaXMudXNlclNldHRpbmdzKVtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSB0aGUgc2V0dGluZ3Mgb2JqZWN0IHdoZW4gYSBwcm9wZXJ0eSBoYXMgY2hhbmdlZFxuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMubG9hZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmVzIHRoZSBzZXR0aW5ncyB0byBsb2NhbCBzdG9yYWdlLlxuICAgKi9cbiAgcHVibGljIHNhdmUoKTogdm9pZCB7XG4gICAgU3RvcmFnZVV0aWxzLnNldE9iamVjdCh0aGlzLmxvY2FsU3RvcmFnZUtleSwgdGhpcy51c2VyU2V0dGluZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBzZXR0aW5ncyBmcm9tIGxvY2FsIHN0b3JhZ2VcbiAgICovXG4gIHB1YmxpYyBsb2FkKCk6IHZvaWQge1xuICAgIHRoaXMudXNlclNldHRpbmdzID1cbiAgICAgIFN0b3JhZ2VVdGlscy5nZXRPYmplY3Q8U3VidGl0bGVTZXR0aW5ncz4odGhpcy5sb2NhbFN0b3JhZ2VLZXkpIHx8IHt9O1xuXG4gICAgLy8gQXBwbHkgdGhlIGxvYWRlZCBzZXR0aW5nc1xuICAgIGZvciAobGV0IHByb3BlcnR5IGluIHRoaXMudXNlclNldHRpbmdzKSB7XG4gICAgICB0aGlzLl9wcm9wZXJ0aWVzW3Byb3BlcnR5XS52YWx1ZSA9ICg8YW55PnRoaXMudXNlclNldHRpbmdzKVtwcm9wZXJ0eV07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQSBkdW1teSBjb21wb25lbnQgd2hvc2Ugc29sZSBwdXJwb3NlIGlzIHRvIGV4cG9zZSB0aGUge0BsaW5rICNwcmVmaXhDc3N9IG1ldGhvZCB0byB0aGVcbiAqIHtAbGluayBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlcn0uXG4gKi9cbmNsYXNzIER1bW15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz4ge1xuICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IER1bW15Q29tcG9uZW50O1xuXG4gIHB1YmxpYyBzdGF0aWMgaW5zdGFuY2UoKTogRHVtbXlDb21wb25lbnQge1xuICAgIGlmICghRHVtbXlDb21wb25lbnQuX2luc3RhbmNlKSB7XG4gICAgICBEdW1teUNvbXBvbmVudC5faW5zdGFuY2UgPSBuZXcgRHVtbXlDb21wb25lbnQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gRHVtbXlDb21wb25lbnQuX2luc3RhbmNlO1xuICB9XG5cbiAgcHVibGljIHByZWZpeENzcyhjc3NDbGFzc09ySWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN1cGVyLnByZWZpeENzcyhjc3NDbGFzc09ySWQpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk8VD4ge1xuICBwcml2YXRlIF9tYW5hZ2VyOiBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlcjtcbiAgcHJpdmF0ZSBfb25DaGFuZ2VkOiBFdmVudERpc3BhdGNoZXI8XG4gICAgU3VidGl0bGVTZXR0aW5nc01hbmFnZXIsXG4gICAgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5PFQ+XG4gID47XG4gIHByaXZhdGUgX3ZhbHVlOiBUO1xuXG4gIGNvbnN0cnVjdG9yKG1hbmFnZXI6IFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyKSB7XG4gICAgdGhpcy5fbWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5fb25DaGFuZ2VkID0gbmV3IEV2ZW50RGlzcGF0Y2hlcjxcbiAgICAgIFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyLFxuICAgICAgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5PFQ+XG4gICAgPigpO1xuICB9XG5cbiAgcHVibGljIGlzU2V0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSAhPSBudWxsO1xuICB9XG5cbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcbiAgICB0aGlzLm9uQ2hhbmdlZEV2ZW50KG51bGwpO1xuICB9XG5cbiAgcHVibGljIGdldCB2YWx1ZSgpOiBUIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBwdWJsaWMgc2V0IHZhbHVlKHZhbHVlOiBUKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUgPT09ICdudWxsJykge1xuICAgICAgdmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5vbkNoYW5nZWRFdmVudCh2YWx1ZSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25DaGFuZ2VkRXZlbnQodmFsdWU6IFQpIHtcbiAgICB0aGlzLl9vbkNoYW5nZWQuZGlzcGF0Y2godGhpcy5fbWFuYWdlciwgdGhpcyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IG9uQ2hhbmdlZCgpOiBFdmVudDxcbiAgICBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlcixcbiAgICBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk8VD5cbiAgPiB7XG4gICAgcmV0dXJuIHRoaXMuX29uQ2hhbmdlZC5nZXRFdmVudCgpO1xuICB9XG59XG4iLCJpbXBvcnQge1NldHRpbmdzUGFuZWxQYWdlfSBmcm9tICcuLi9zZXR0aW5nc3BhbmVscGFnZSc7XG5pbXBvcnQge1NldHRpbmdzUGFuZWx9IGZyb20gJy4uL3NldHRpbmdzcGFuZWwnO1xuaW1wb3J0IHtTdWJ0aXRsZU92ZXJsYXl9IGZyb20gJy4uL3N1YnRpdGxlb3ZlcmxheSc7XG5pbXBvcnQge0NvbnRhaW5lckNvbmZpZ30gZnJvbSAnLi4vY29udGFpbmVyJztcbmltcG9ydCB7U3VidGl0bGVTZXR0aW5nc01hbmFnZXJ9IGZyb20gJy4vc3VidGl0bGVzZXR0aW5nc21hbmFnZXInO1xuaW1wb3J0IHtDb21wb25lbnQsIENvbXBvbmVudENvbmZpZ30gZnJvbSAnLi4vY29tcG9uZW50JztcbmltcG9ydCB7Rm9udFNpemVTZWxlY3RCb3h9IGZyb20gJy4vZm9udHNpemVzZWxlY3Rib3gnO1xuaW1wb3J0IHtGb250U3R5bGVTZWxlY3RCb3h9IGZyb20gJy4vZm9udHN0eWxlc2VsZWN0Ym94JztcbmltcG9ydCB7Rm9udEZhbWlseVNlbGVjdEJveH0gZnJvbSAnLi9mb250ZmFtaWx5c2VsZWN0Ym94JztcbmltcG9ydCB7Rm9udENvbG9yU2VsZWN0Qm94fSBmcm9tICcuL2ZvbnRjb2xvcnNlbGVjdGJveCc7XG5pbXBvcnQge0ZvbnRPcGFjaXR5U2VsZWN0Qm94fSBmcm9tICcuL2ZvbnRvcGFjaXR5c2VsZWN0Ym94JztcbmltcG9ydCB7Q2hhcmFjdGVyRWRnZVNlbGVjdEJveH0gZnJvbSAnLi9jaGFyYWN0ZXJlZGdlc2VsZWN0Ym94JztcbmltcG9ydCB7Q2hhcmFjdGVyRWRnZUNvbG9yU2VsZWN0Qm94fSBmcm9tICcuL2NoYXJhY3RlcmVkZ2Vjb2xvcnNlbGVjdGJveCc7XG5pbXBvcnQge0JhY2tncm91bmRDb2xvclNlbGVjdEJveH0gZnJvbSAnLi9iYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3gnO1xuaW1wb3J0IHtCYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveH0gZnJvbSAnLi9iYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveCc7XG5pbXBvcnQge1dpbmRvd0NvbG9yU2VsZWN0Qm94fSBmcm9tICcuL3dpbmRvd2NvbG9yc2VsZWN0Ym94JztcbmltcG9ydCB7V2luZG93T3BhY2l0eVNlbGVjdEJveH0gZnJvbSAnLi93aW5kb3dvcGFjaXR5c2VsZWN0Ym94JztcbmltcG9ydCB7U3VidGl0bGVTZXR0aW5nc1Jlc2V0QnV0dG9ufSBmcm9tICcuL3N1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbic7XG5pbXBvcnQge1VJSW5zdGFuY2VNYW5hZ2VyfSBmcm9tICcuLi8uLi91aW1hbmFnZXInO1xuaW1wb3J0IHtTZXR0aW5nc1BhbmVsUGFnZUJhY2tCdXR0b259IGZyb20gJy4uL3NldHRpbmdzcGFuZWxwYWdlYmFja2J1dHRvbic7XG5pbXBvcnQge1NldHRpbmdzUGFuZWxJdGVtfSBmcm9tICcuLi9zZXR0aW5nc3BhbmVsaXRlbSc7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uLy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBAY2F0ZWdvcnkgQ29uZmlnc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFN1YnRpdGxlU2V0dGluZ3NQYW5lbFBhZ2VDb25maWcgZXh0ZW5kcyBDb250YWluZXJDb25maWcge1xuICBzZXR0aW5nc1BhbmVsOiBTZXR0aW5nc1BhbmVsO1xuICBvdmVybGF5OiBTdWJ0aXRsZU92ZXJsYXk7XG59XG5cbi8qKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnRpdGxlU2V0dGluZ3NQYW5lbFBhZ2UgZXh0ZW5kcyBTZXR0aW5nc1BhbmVsUGFnZSB7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBvdmVybGF5OiBTdWJ0aXRsZU92ZXJsYXk7XG4gIHByaXZhdGUgcmVhZG9ubHkgc2V0dGluZ3NQYW5lbDogU2V0dGluZ3NQYW5lbDtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFN1YnRpdGxlU2V0dGluZ3NQYW5lbFBhZ2VDb25maWcpIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgdGhpcy5vdmVybGF5ID0gY29uZmlnLm92ZXJsYXk7XG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsID0gY29uZmlnLnNldHRpbmdzUGFuZWw7XG5cblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNvbXBvbmVudHM6IDxDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPltdPltcbiAgICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5zaXplJyksIG5ldyBGb250U2l6ZVNlbGVjdEJveCh7XG4gICAgICAgICAgb3ZlcmxheTogdGhpcy5vdmVybGF5LFxuICAgICAgICB9KSksXG4gICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbShpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuc3R5bGUnKSwgbmV3IEZvbnRTdHlsZVNlbGVjdEJveCh7XG4gICAgICAgICAgb3ZlcmxheTogdGhpcy5vdmVybGF5LFxuICAgICAgICB9KSksXG4gICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbShpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuZmFtaWx5JyksIG5ldyBGb250RmFtaWx5U2VsZWN0Qm94KHtcbiAgICAgICAgICBvdmVybGF5OiB0aGlzLm92ZXJsYXksXG4gICAgICAgIH0pKSxcbiAgICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5jb2xvcicpLCBuZXcgRm9udENvbG9yU2VsZWN0Qm94KHtcbiAgICAgICAgICBvdmVybGF5OiB0aGlzLm92ZXJsYXksXG4gICAgICAgIH0pKSxcbiAgICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5vcGFjaXR5JyksIG5ldyBGb250T3BhY2l0eVNlbGVjdEJveCh7XG4gICAgICAgICAgb3ZlcmxheTogdGhpcy5vdmVybGF5LFxuICAgICAgICB9KSksXG4gICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbShpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UnKSwgbmV3IENoYXJhY3RlckVkZ2VTZWxlY3RCb3goe1xuICAgICAgICAgIG92ZXJsYXk6IHRoaXMub3ZlcmxheSxcbiAgICAgICAgfSkpLFxuICAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLnN1YnRpdGxlcy5jaGFyYWN0ZXJFZGdlLmNvbG9yJyksIG5ldyBDaGFyYWN0ZXJFZGdlQ29sb3JTZWxlY3RCb3goe1xuICAgICAgICAgIG92ZXJsYXk6IHRoaXMub3ZlcmxheSxcbiAgICAgICAgfSkpLFxuICAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLnN1YnRpdGxlcy5iYWNrZ3JvdW5kLmNvbG9yJyksIG5ldyBCYWNrZ3JvdW5kQ29sb3JTZWxlY3RCb3goe1xuICAgICAgICAgIG92ZXJsYXk6IHRoaXMub3ZlcmxheSxcbiAgICAgICAgfSkpLFxuICAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLnN1YnRpdGxlcy5iYWNrZ3JvdW5kLm9wYWNpdHknKSwgbmV3IEJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94KHtcbiAgICAgICAgICBvdmVybGF5OiB0aGlzLm92ZXJsYXksXG4gICAgICAgIH0pKSxcbiAgICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy5zdWJ0aXRsZXMud2luZG93LmNvbG9yJyksIG5ldyBXaW5kb3dDb2xvclNlbGVjdEJveCh7XG4gICAgICAgICAgb3ZlcmxheTogdGhpcy5vdmVybGF5LFxuICAgICAgICB9KSksXG4gICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbShpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzLndpbmRvdy5vcGFjaXR5JyksIG5ldyBXaW5kb3dPcGFjaXR5U2VsZWN0Qm94KHtcbiAgICAgICAgICBvdmVybGF5OiB0aGlzLm92ZXJsYXksXG4gICAgICAgIH0pKSxcbiAgICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKG5ldyBTZXR0aW5nc1BhbmVsUGFnZUJhY2tCdXR0b24oe1xuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5zZXR0aW5nc1BhbmVsLFxuICAgICAgICAgIHRleHQ6IGkxOG4uZ2V0TG9jYWxpemVyKCdiYWNrJyksXG4gICAgICAgIH0pLCBuZXcgU3VidGl0bGVTZXR0aW5nc1Jlc2V0QnV0dG9uKHt9KSwge1xuICAgICAgICAgIHJvbGU6ICdtZW51YmFyJyxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICB0aGlzLm9uQWN0aXZlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLm92ZXJsYXkuZW5hYmxlUHJldmlld1N1YnRpdGxlTGFiZWwoKTtcbiAgICB9KTtcblxuICAgIHRoaXMub25JbmFjdGl2ZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5vdmVybGF5LnJlbW92ZVByZXZpZXdTdWJ0aXRsZUxhYmVsKCk7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQge1VJSW5zdGFuY2VNYW5hZ2VyfSBmcm9tICcuLi8uLi91aW1hbmFnZXInO1xuaW1wb3J0IHtTdWJ0aXRsZVNldHRpbmdzTWFuYWdlcn0gZnJvbSAnLi9zdWJ0aXRsZXNldHRpbmdzbWFuYWdlcic7XG5pbXBvcnQge0J1dHRvbiwgQnV0dG9uQ29uZmlnfSBmcm9tICcuLi9idXR0b24nO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi8uLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQSBidXR0b24gdGhhdCByZXNldHMgYWxsIHN1YnRpdGxlIHNldHRpbmdzIHRvIHRoZWlyIGRlZmF1bHRzLlxuICpcbiAqIEBjYXRlZ29yeSBCdXR0b25zXG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24gZXh0ZW5kcyBCdXR0b248QnV0dG9uQ29uZmlnPiB7XG5cbiAgcHJpdmF0ZSBzZXR0aW5nc01hbmFnZXI6IFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQnV0dG9uQ29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uJyxcbiAgICAgIHRleHQ6IGkxOG4uZ2V0TG9jYWxpemVyKCdyZXNldCcpLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIgPSB1aW1hbmFnZXIuZ2V0U3VidGl0bGVTZXR0aW5nc01hbmFnZXIoKTtcblxuICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIucmVzZXQoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94LCBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3hDb25maWcgfSBmcm9tICcuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveCc7XG5pbXBvcnQge1VJSW5zdGFuY2VNYW5hZ2VyfSBmcm9tICcuLi8uLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi8uLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgYmFja2dyb3VuZCBjb2xvcnMuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFdpbmRvd0NvbG9yU2VsZWN0Qm94IGV4dGVuZHMgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveENvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzc2VzOiBbJ3VpLXN1YnRpdGxlc2V0dGluZ3N3aW5kb3djb2xvcnNlbGVjdGJveCddLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICB0aGlzLmFkZEl0ZW0obnVsbCwgaTE4bi5nZXRMb2NhbGl6ZXIoJ2RlZmF1bHQnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCd3aGl0ZScsIGkxOG4uZ2V0TG9jYWxpemVyKCdjb2xvcnMud2hpdGUnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdibGFjaycsIGkxOG4uZ2V0TG9jYWxpemVyKCdjb2xvcnMuYmxhY2snKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdyZWQnLCBpMThuLmdldExvY2FsaXplcignY29sb3JzLnJlZCcpKTtcbiAgICB0aGlzLmFkZEl0ZW0oJ2dyZWVuJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5ncmVlbicpKTtcbiAgICB0aGlzLmFkZEl0ZW0oJ2JsdWUnLCBpMThuLmdldExvY2FsaXplcignY29sb3JzLmJsdWUnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdjeWFuJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5jeWFuJykpO1xuICAgIHRoaXMuYWRkSXRlbSgneWVsbG93JywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy55ZWxsb3cnKSk7XG4gICAgdGhpcy5hZGRJdGVtKCdtYWdlbnRhJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ2NvbG9ycy5tYWdlbnRhJykpO1xuXG5cblxuICAgIGxldCBzZXRDb2xvckFuZE9wYWNpdHkgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93Q29sb3IuaXNTZXQoKSAmJiB0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dPcGFjaXR5LmlzU2V0KCkpIHtcbiAgICAgICAgdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoXG4gICAgICAgICAgJ3dpbmRvd2NvbG9yLScgKyB0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSArIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd09wYWNpdHkudmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MobnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKChzZW5kZXIsIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSA9IGtleTtcbiAgICB9KTtcblxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLm9uQ2hhbmdlZC5zdWJzY3JpYmUoKHNlbmRlciwgcHJvcGVydHkpID0+IHtcbiAgICAgIC8vIENvbG9yIGFuZCBvcGFjaXR5IGdvIHRvZ2V0aGVyLCBzbyB3ZSBuZWVkIHRvLi4uXG4gICAgICBpZiAoIXRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLmlzU2V0KCkpIHtcbiAgICAgICAgLy8gLi4uIGNsZWFyIHRoZSBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIG5vdCBzZXRcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5jbGVhcigpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5pc1NldCgpKSB7XG4gICAgICAgIC8vIC4uLiBzZXQgYW4gb3BhY2l0eSB3aGVuIHRoZSBjb2xvciBpcyBzZXRcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS52YWx1ZSA9ICcxMDAnO1xuICAgICAgfVxuICAgICAgdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcbiAgICAgIHNldENvbG9yQW5kT3BhY2l0eSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5vbkNoYW5nZWQuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHNldENvbG9yQW5kT3BhY2l0eSgpO1xuICAgIH0pO1xuXG4gICAgLy8gTG9hZCBpbml0aWFsIHZhbHVlXG4gICAgaWYgKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLmlzU2V0KCkpIHtcbiAgICAgIHRoaXMuc2VsZWN0SXRlbSh0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gsIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveENvbmZpZyB9IGZyb20gJy4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94JztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uLy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uLy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBiYWNrZ3JvdW5kIG9wYWNpdHkuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFdpbmRvd09wYWNpdHlTZWxlY3RCb3ggZXh0ZW5kcyBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94Q29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzZXM6IFsndWktc3VidGl0bGVzZXR0aW5nc3dpbmRvd29wYWNpdHlzZWxlY3Rib3gnXSxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgdGhpcy5hZGRJdGVtKG51bGwsIGkxOG4uZ2V0TG9jYWxpemVyKCdkZWZhdWx0JykpO1xuICAgIHRoaXMuYWRkSXRlbSgnMTAwJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ3BlcmNlbnQnLCB7IHZhbHVlOiAxMDAgfSkpO1xuICAgIHRoaXMuYWRkSXRlbSgnNzUnLCBpMThuLmdldExvY2FsaXplcigncGVyY2VudCcsIHsgdmFsdWU6IDc1IH0pKTtcbiAgICB0aGlzLmFkZEl0ZW0oJzUwJywgaTE4bi5nZXRMb2NhbGl6ZXIoJ3BlcmNlbnQnLCB7IHZhbHVlOiA1MCB9KSk7XG4gICAgdGhpcy5hZGRJdGVtKCcyNScsIGkxOG4uZ2V0TG9jYWxpemVyKCdwZXJjZW50JywgeyB2YWx1ZTogMjUgfSkpO1xuICAgIHRoaXMuYWRkSXRlbSgnMCcsIGkxOG4uZ2V0TG9jYWxpemVyKCdwZXJjZW50JywgeyB2YWx1ZTogMCB9KSk7XG5cbiAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZSgoc2VuZGVyLCBrZXk6IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS52YWx1ZSA9IGtleTtcblxuICAgICAgLy8gQ29sb3IgYW5kIG9wYWNpdHkgZ28gdG9nZXRoZXIsIHNvIHdlIG5lZWQgdG8uLi5cbiAgICAgIGlmICghdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5pc1NldCgpKSB7XG4gICAgICAgIC8vIC4uLiBjbGVhciB0aGUgY29sb3Igd2hlbiB0aGUgb3BhY2l0eSBpcyBub3Qgc2V0XG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLmNsZWFyKCk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci5pc1NldCgpKSB7XG4gICAgICAgIC8vIC4uLiBzZXQgYSBjb2xvciB3aGVuIHRoZSBvcGFjaXR5IGlzIHNldFxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSA9ICdibGFjayc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgaXRlbSB3aGVuIHZhbHVlIGlzIHNldCBmcm9tIHNvbWV3aGVyZSBlbHNlXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5vbkNoYW5nZWQuc3Vic2NyaWJlKChzZW5kZXIsIHByb3BlcnR5KSA9PiB7XG4gICAgICB0aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLy8gTG9hZCBpbml0aWFsIHZhbHVlXG4gICAgaWYgKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd09wYWNpdHkuaXNTZXQoKSkge1xuICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd09wYWNpdHkudmFsdWUpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IFVJSW5zdGFuY2VNYW5hZ2VyIH0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IERPTSB9IGZyb20gJy4uL2RvbSc7XG5pbXBvcnQgeyBDb21wb25lbnRDb25maWcgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBUaW1lbGluZU1hcmtlciB9IGZyb20gJy4uL3VpY29uZmlnJztcbmltcG9ydCB7IFNlZWtCYXJNYXJrZXIgfSBmcm9tICcuL3NlZWtiYXInO1xuaW1wb3J0IHsgUGxheWVyVXRpbHMgfSBmcm9tICcuLi9wbGF5ZXJ1dGlscyc7XG5pbXBvcnQgeyBUaW1lb3V0IH0gZnJvbSAnLi4vdGltZW91dCc7XG5cbi8qKlxuICogQGNhdGVnb3J5IENvbmZpZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNYXJrZXJzQ29uZmlnIGV4dGVuZHMgQ29tcG9uZW50Q29uZmlnIHtcbiAgLyoqXG4gICAqIFVzZWQgZm9yIHNlZWtCYXIgbWFya2VyIHNuYXBwaW5nIHJhbmdlIHBlcmNlbnRhZ2VcbiAgICovXG4gIHNuYXBwaW5nUmFuZ2U/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBUaW1lbGluZU1hcmtlcnNIYW5kbGVyIHtcbiAgcHJpdmF0ZSBtYXJrZXJzQ29udGFpbmVyOiBET007XG4gIHByaXZhdGUgdGltZWxpbmVNYXJrZXJzOiBTZWVrQmFyTWFya2VyW107XG4gIHByaXZhdGUgcGxheWVyOiBQbGF5ZXJBUEk7XG4gIHByaXZhdGUgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcjtcbiAgcHJpdmF0ZSBwYXVzZWRUaW1lc2hpZnRVcGRhdGVyOiBUaW1lb3V0O1xuICBwcml2YXRlIGdldFNlZWtCYXJXaWR0aDogKCkgPT4gbnVtYmVyO1xuICBwcm90ZWN0ZWQgY29uZmlnOiBNYXJrZXJzQ29uZmlnO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogTWFya2Vyc0NvbmZpZywgZ2V0U2Vla0JhcldpZHRoOiAoKSA9PiBudW1iZXIsIG1hcmtlcnNDb250YWluZXI6IERPTSkge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuZ2V0U2Vla0JhcldpZHRoID0gZ2V0U2Vla0JhcldpZHRoO1xuICAgIHRoaXMubWFya2Vyc0NvbnRhaW5lciA9IG1hcmtlcnNDb250YWluZXI7XG4gICAgdGhpcy50aW1lbGluZU1hcmtlcnMgPSBbXTtcbiAgfVxuXG4gIHB1YmxpYyBpbml0aWFsaXplKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKSB7XG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgdGhpcy51aW1hbmFnZXIgPSB1aW1hbmFnZXI7XG4gICAgdGhpcy5jb25maWd1cmVNYXJrZXJzKCk7XG4gIH1cblxuICBwcml2YXRlIGNvbmZpZ3VyZU1hcmtlcnMoKTogdm9pZCB7XG4gICAgLy8gUmVtb3ZlIG1hcmtlcnMgd2hlbiB1bmxvYWRlZFxuICAgIHRoaXMucGxheWVyLm9uKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU291cmNlVW5sb2FkZWQsICgpID0+IHRoaXMuY2xlYXJNYXJrZXJzKCkpO1xuICAgIHRoaXMucGxheWVyLm9uKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRCcmVha1N0YXJ0ZWQsICgpID0+IHRoaXMuY2xlYXJNYXJrZXJzKCkpO1xuICAgIHRoaXMucGxheWVyLm9uKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRCcmVha0ZpbmlzaGVkLCAoKSA9PiB0aGlzLnVwZGF0ZU1hcmtlcnMoKSk7XG4gICAgLy8gVXBkYXRlIG1hcmtlcnMgd2hlbiB0aGUgc2l6ZSBvZiB0aGUgc2Vla2JhciBjaGFuZ2VzXG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5ZXJSZXNpemVkLCAoKSA9PiB0aGlzLnVwZGF0ZU1hcmtlcnNET00oKSk7XG5cbiAgICB0aGlzLnBsYXllci5vbih0aGlzLnBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNvdXJjZUxvYWRlZCwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMucGxheWVyLmlzTGl2ZSgpKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBtYXJrZXIgcG9zaXRpb24gYXMgdGltZXNoaWZ0IHJhbmdlIGNoYW5nZXNcbiAgICAgICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5UaW1lQ2hhbmdlZCwgKCkgPT4gdGhpcy51cGRhdGVNYXJrZXJzKCkpO1xuICAgICAgICAvLyBVcGRhdGUgbWFya2VyIHBvc3Rpb24gd2hlbiBwYXVzZWQgYXMgdGltZXNoaWZ0IHJhbmdlIGNoYW5nZXNcbiAgICAgICAgdGhpcy5jb25maWd1cmVMaXZlUGF1c2VkVGltZXNoaWZ0VXBkYXRlcigoKSA9PiB0aGlzLnVwZGF0ZU1hcmtlcnMoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy51aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZXZlbnRzLm9uVXBkYXRlZC5zdWJzY3JpYmUoKCkgPT4gdGhpcy51cGRhdGVNYXJrZXJzKCkpO1xuICAgIHRoaXMudWltYW5hZ2VyLm9uUmVsZWFzZS5zdWJzY3JpYmUoKCkgPT4gdGhpcy51aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZXZlbnRzLm9uVXBkYXRlZC51bnN1YnNjcmliZSgoKSA9PiB0aGlzLnVwZGF0ZU1hcmtlcnMoKSkpO1xuXG4gICAgLy8gSW5pdCBtYXJrZXJzIGF0IHN0YXJ0dXBcbiAgICB0aGlzLnVwZGF0ZU1hcmtlcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNYXJrZXJBdFBvc2l0aW9uKHBlcmNlbnRhZ2U6IG51bWJlcik6IFNlZWtCYXJNYXJrZXIgfCBudWxsIHtcbiAgICBjb25zdCBzbmFwcGluZ1JhbmdlID0gdGhpcy5jb25maWcuc25hcHBpbmdSYW5nZTtcblxuICAgIGNvbnN0IG1hdGNoaW5nTWFya2VyID0gdGhpcy50aW1lbGluZU1hcmtlcnMuZmluZChtYXJrZXIgPT4ge1xuICAgICAgY29uc3QgaGFzRHVyYXRpb24gPSBtYXJrZXIuZHVyYXRpb24gPiAwO1xuICAgICAgLy8gSGFuZGxlIGludGVydmFsIG1hcmtlcnNcbiAgICAgIGNvbnN0IGludGVydmFsTWFya2VyTWF0Y2ggPVxuICAgICAgICBoYXNEdXJhdGlvbiAmJlxuICAgICAgICBwZXJjZW50YWdlID49IG1hcmtlci5wb3NpdGlvbiAtIHNuYXBwaW5nUmFuZ2UgJiZcbiAgICAgICAgcGVyY2VudGFnZSA8PSBtYXJrZXIucG9zaXRpb24gKyBtYXJrZXIuZHVyYXRpb24gKyBzbmFwcGluZ1JhbmdlO1xuXG4gICAgICAvLyBIYW5kbGUgcG9zaXRpb24gbWFya2Vyc1xuICAgICAgY29uc3QgcG9zaXRpb25NYXJrZXJNYXRjaCA9XG4gICAgICAgIHBlcmNlbnRhZ2UgPj0gbWFya2VyLnBvc2l0aW9uIC0gc25hcHBpbmdSYW5nZSAmJlxuICAgICAgICBwZXJjZW50YWdlIDw9IG1hcmtlci5wb3NpdGlvbiArIHNuYXBwaW5nUmFuZ2U7XG5cbiAgICAgIHJldHVybiBpbnRlcnZhbE1hcmtlck1hdGNoIHx8IHBvc2l0aW9uTWFya2VyTWF0Y2g7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWF0Y2hpbmdNYXJrZXIgfHwgbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYXJNYXJrZXJzKCk6IHZvaWQge1xuICAgIHRoaXMudGltZWxpbmVNYXJrZXJzID0gW107XG4gICAgdGhpcy5tYXJrZXJzQ29udGFpbmVyLmVtcHR5KCk7XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZU1hcmtlckZyb21Db25maWcobWFya2VyOiBUaW1lbGluZU1hcmtlcik6IHZvaWQge1xuICAgIHRoaXMudWltYW5hZ2VyLmdldENvbmZpZygpLm1ldGFkYXRhLm1hcmtlcnMgPSB0aGlzLnVpbWFuYWdlci5nZXRDb25maWcoKS5tZXRhZGF0YS5tYXJrZXJzLmZpbHRlcihfbWFya2VyID0+IG1hcmtlciAhPT0gX21hcmtlcik7XG4gIH1cblxuICBwcml2YXRlIGZpbHRlclJlbW92ZWRNYXJrZXJzKCk6IHZvaWQge1xuICAgIHRoaXMudGltZWxpbmVNYXJrZXJzID0gdGhpcy50aW1lbGluZU1hcmtlcnMuZmlsdGVyKHNlZWtiYXJNYXJrZXIgPT4ge1xuICAgICAgY29uc3QgbWF0Y2hpbmdNYXJrZXIgPSB0aGlzLnVpbWFuYWdlci5nZXRDb25maWcoKS5tZXRhZGF0YS5tYXJrZXJzLmZpbmQoX21hcmtlciA9PiBzZWVrYmFyTWFya2VyLm1hcmtlciA9PT0gX21hcmtlcik7XG4gICAgICBpZiAoIW1hdGNoaW5nTWFya2VyKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTWFya2VyRnJvbURPTShzZWVrYmFyTWFya2VyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaGluZ01hcmtlcjtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlTWFya2VyRnJvbURPTShtYXJrZXI6IFNlZWtCYXJNYXJrZXIpOiB2b2lkIHtcbiAgICBpZiAobWFya2VyLmVsZW1lbnQpIHtcbiAgICAgIG1hcmtlci5lbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlTWFya2VycygpOiB2b2lkIHtcbiAgICBpZiAoIXNob3VsZFByb2Nlc3NNYXJrZXJzKHRoaXMucGxheWVyLCB0aGlzLnVpbWFuYWdlcikpIHtcbiAgICAgIHRoaXMuY2xlYXJNYXJrZXJzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5maWx0ZXJSZW1vdmVkTWFya2VycygpO1xuXG4gICAgdGhpcy51aW1hbmFnZXIuZ2V0Q29uZmlnKCkubWV0YWRhdGEubWFya2Vycy5mb3JFYWNoKG1hcmtlciA9PiB7XG4gICAgICBjb25zdCB7IG1hcmtlclBvc2l0aW9uLCBtYXJrZXJEdXJhdGlvbiB9ID0gZ2V0TWFya2VyUG9zaXRpb25zKHRoaXMucGxheWVyLCBtYXJrZXIpO1xuXG4gICAgICBpZiAoc2hvdWxkUmVtb3ZlTWFya2VyKG1hcmtlclBvc2l0aW9uLCBtYXJrZXJEdXJhdGlvbikpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVNYXJrZXJGcm9tQ29uZmlnKG1hcmtlcik7XG4gICAgICB9IGVsc2UgaWYgKG1hcmtlclBvc2l0aW9uIDw9IDEwMCkge1xuICAgICAgICBjb25zdCBtYXRjaGluZ01hcmtlciA9IHRoaXMudGltZWxpbmVNYXJrZXJzLmZpbmQoc2Vla2Jhck1hcmtlciA9PiBzZWVrYmFyTWFya2VyLm1hcmtlciA9PT0gbWFya2VyKTtcblxuICAgICAgICBpZiAobWF0Y2hpbmdNYXJrZXIpIHtcbiAgICAgICAgICBtYXRjaGluZ01hcmtlci5wb3NpdGlvbiA9IG1hcmtlclBvc2l0aW9uO1xuICAgICAgICAgIG1hdGNoaW5nTWFya2VyLmR1cmF0aW9uID0gbWFya2VyRHVyYXRpb247XG5cbiAgICAgICAgICB0aGlzLnVwZGF0ZU1hcmtlckRPTShtYXRjaGluZ01hcmtlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV3TWFya2VyOiBTZWVrQmFyTWFya2VyID0geyBtYXJrZXIsIHBvc2l0aW9uOiBtYXJrZXJQb3NpdGlvbiwgZHVyYXRpb246IG1hcmtlckR1cmF0aW9uIH07XG4gICAgICAgICAgdGhpcy50aW1lbGluZU1hcmtlcnMucHVzaChuZXdNYXJrZXIpO1xuXG4gICAgICAgICAgdGhpcy5jcmVhdGVNYXJrZXJET00obmV3TWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRNYXJrZXJDc3NQcm9wZXJ0aWVzKG1hcmtlcjogU2Vla0Jhck1hcmtlcik6IHsgW3Byb3BlcnR5TmFtZTogc3RyaW5nXTogc3RyaW5nIH0ge1xuICAgIGNvbnN0IHNlZWtCYXJXaWR0aFB4ID0gdGhpcy5nZXRTZWVrQmFyV2lkdGgoKTtcblxuICAgIGNvbnN0IHBvc2l0aW9uSW5QeCA9IChzZWVrQmFyV2lkdGhQeCAvIDEwMCkgKiAobWFya2VyLnBvc2l0aW9uIDwgMCA/IDAgOiBtYXJrZXIucG9zaXRpb24pO1xuICAgIGNvbnN0IGNzc1Byb3BlcnRpZXM6IHsgW3Byb3BlcnR5TmFtZTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAndHJhbnNmb3JtJzogYHRyYW5zbGF0ZVgoJHtwb3NpdGlvbkluUHh9cHgpYCxcbiAgICB9O1xuXG4gICAgaWYgKG1hcmtlci5kdXJhdGlvbiA+IDApIHtcbiAgICAgIGNvbnN0IG1hcmtlcldpZHRoUHggPSBNYXRoLnJvdW5kKHNlZWtCYXJXaWR0aFB4IC8gMTAwICogbWFya2VyLmR1cmF0aW9uKTtcbiAgICAgIGNzc1Byb3BlcnRpZXNbJ3dpZHRoJ10gPSBgJHttYXJrZXJXaWR0aFB4fXB4YDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3NzUHJvcGVydGllcztcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlTWFya2VyRE9NKG1hcmtlcjogU2Vla0Jhck1hcmtlcik6IHZvaWQge1xuICAgIG1hcmtlci5lbGVtZW50LmNzcyh0aGlzLmdldE1hcmtlckNzc1Byb3BlcnRpZXMobWFya2VyKSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU1hcmtlckRPTShtYXJrZXI6IFNlZWtCYXJNYXJrZXIpOiB2b2lkIHtcbiAgICBjb25zdCBtYXJrZXJDbGFzc2VzID0gWydzZWVrYmFyLW1hcmtlciddLmNvbmNhdChtYXJrZXIubWFya2VyLmNzc0NsYXNzZXMgfHwgW10pXG4gICAgICAubWFwKGNzc0NsYXNzID0+IHRoaXMucHJlZml4Q3NzKGNzc0NsYXNzKSk7XG5cbiAgICBjb25zdCBtYXJrZXJFbGVtZW50ID0gbmV3IERPTSgnZGl2Jywge1xuICAgICAgJ2NsYXNzJzogbWFya2VyQ2xhc3Nlcy5qb2luKCcgJyksXG4gICAgICAnZGF0YS1tYXJrZXItdGltZSc6IFN0cmluZyhtYXJrZXIubWFya2VyLnRpbWUpLFxuICAgICAgJ2RhdGEtbWFya2VyLXRpdGxlJzogU3RyaW5nKG1hcmtlci5tYXJrZXIudGl0bGUpLFxuICAgIH0pLmNzcyh0aGlzLmdldE1hcmtlckNzc1Byb3BlcnRpZXMobWFya2VyKSk7XG5cbiAgICBpZiAobWFya2VyLm1hcmtlci5pbWFnZVVybCkge1xuICAgICAgY29uc3QgcmVtb3ZlSW1hZ2UgPSAoKSA9PiB7XG4gICAgICAgIGltYWdlRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IG5ldyBET00oJ2ltZycsIHtcbiAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXItbWFya2VyLWltYWdlJyksXG4gICAgICAgICdzcmMnOiBtYXJrZXIubWFya2VyLmltYWdlVXJsLFxuICAgICAgfSkub24oJ2Vycm9yJywgcmVtb3ZlSW1hZ2UpO1xuXG4gICAgICBtYXJrZXJFbGVtZW50LmFwcGVuZChpbWFnZUVsZW1lbnQpO1xuICAgIH1cblxuICAgIG1hcmtlci5lbGVtZW50ID0gbWFya2VyRWxlbWVudDtcbiAgICB0aGlzLm1hcmtlcnNDb250YWluZXIuYXBwZW5kKG1hcmtlckVsZW1lbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVNYXJrZXJzRE9NKCk6IHZvaWQge1xuICAgIHRoaXMudGltZWxpbmVNYXJrZXJzLmZvckVhY2gobWFya2VyID0+IHtcbiAgICAgIGlmIChtYXJrZXIuZWxlbWVudCkge1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcmtlckRPTShtYXJrZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jcmVhdGVNYXJrZXJET00obWFya2VyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY29uZmlndXJlTGl2ZVBhdXNlZFRpbWVzaGlmdFVwZGF0ZXIoXG4gICAgaGFuZGxlcjogKCkgPT4gdm9pZCxcbiAgKTogdm9pZCB7XG4gICAgLy8gUmVndWxhcmx5IHVwZGF0ZSB0aGUgbWFya2VyIHBvc2l0aW9uIHdoaWxlIHRoZSB0aW1lb3V0IGlzIGFjdGl2ZVxuICAgIHRoaXMucGF1c2VkVGltZXNoaWZ0VXBkYXRlciA9IG5ldyBUaW1lb3V0KDEwMDAsIGhhbmRsZXIsIHRydWUpO1xuXG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QYXVzZWQsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnBsYXllci5pc0xpdmUoKSAmJiB0aGlzLnBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA8IDApIHtcbiAgICAgICAgdGhpcy5wYXVzZWRUaW1lc2hpZnRVcGRhdGVyLnN0YXJ0KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTdG9wIHVwZGF0ZXIgd2hlbiBwbGF5YmFjayBjb250aW51ZXMgKG5vIG1hdHRlciBpZiB0aGUgdXBkYXRlciB3YXMgc3RhcnRlZCBiZWZvcmUpXG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5LCAoKSA9PiB0aGlzLnBhdXNlZFRpbWVzaGlmdFVwZGF0ZXIuY2xlYXIoKSk7XG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5EZXN0cm95LCAoKSA9PiB0aGlzLnBhdXNlZFRpbWVzaGlmdFVwZGF0ZXIuY2xlYXIoKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHJlZml4Q3NzKGNzc0NsYXNzT3JJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuY3NzUHJlZml4ICsgJy0nICsgY3NzQ2xhc3NPcklkO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldE1hcmtlclBvc2l0aW9ucyhwbGF5ZXI6IFBsYXllckFQSSwgbWFya2VyOiBUaW1lbGluZU1hcmtlcikge1xuICBjb25zdCBkdXJhdGlvbiA9IGdldER1cmF0aW9uKHBsYXllcik7XG5cbiAgY29uc3QgbWFya2VyUG9zaXRpb24gPSAxMDAgLyBkdXJhdGlvbiAqIGdldE1hcmtlclRpbWUobWFya2VyLCBwbGF5ZXIsIGR1cmF0aW9uKTsgLy8gY29udmVydCBhYnNvbHV0ZSB0aW1lIHRvIHBlcmNlbnRhZ2VcbiAgbGV0IG1hcmtlckR1cmF0aW9uID0gMTAwIC8gZHVyYXRpb24gKiBtYXJrZXIuZHVyYXRpb247XG5cbiAgaWYgKG1hcmtlclBvc2l0aW9uIDwgMCAmJiAhaXNOYU4obWFya2VyRHVyYXRpb24pKSB7XG4gICAgLy8gU2hyaW5rIG1hcmtlciBkdXJhdGlvbiBmb3Igb24gbGl2ZSBzdHJlYW1zIGFzIHRoZXkgcmVhY2ggZW5kXG4gICAgbWFya2VyRHVyYXRpb24gPSBtYXJrZXJEdXJhdGlvbiArIG1hcmtlclBvc2l0aW9uO1xuICB9XG5cbiAgaWYgKDEwMCAtIG1hcmtlclBvc2l0aW9uIDwgbWFya2VyRHVyYXRpb24pIHtcbiAgICAvLyBTaHJpbmsgbWFya2VyIGlmIGl0IG92ZXJmbG93cyB0aW1lbGluZVxuICAgIG1hcmtlckR1cmF0aW9uID0gMTAwIC0gbWFya2VyUG9zaXRpb247XG4gIH1cblxuICByZXR1cm4geyBtYXJrZXJEdXJhdGlvbiwgbWFya2VyUG9zaXRpb24gfTtcbn1cblxuZnVuY3Rpb24gZ2V0TWFya2VyVGltZShtYXJrZXI6IFRpbWVsaW5lTWFya2VyLCBwbGF5ZXI6IFBsYXllckFQSSwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG4gIGlmICghcGxheWVyLmlzTGl2ZSgpKSB7XG4gICAgcmV0dXJuIG1hcmtlci50aW1lO1xuICB9XG5cbiAgcmV0dXJuIGR1cmF0aW9uIC0gKFBsYXllclV0aWxzLmdldFNlZWthYmxlUmFuZ2VSZXNwZWN0aW5nTGl2ZShwbGF5ZXIpLmVuZCAtIG1hcmtlci50aW1lKTtcbn1cblxuZnVuY3Rpb24gZ2V0RHVyYXRpb24ocGxheWVyOiBQbGF5ZXJBUEkpOiBudW1iZXIge1xuICBpZiAoIXBsYXllci5pc0xpdmUoKSkge1xuICAgIHJldHVybiBwbGF5ZXIuZ2V0RHVyYXRpb24oKTtcbiAgfVxuICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IFBsYXllclV0aWxzLmdldFNlZWthYmxlUmFuZ2VSZXNwZWN0aW5nTGl2ZShwbGF5ZXIpO1xuXG4gIHJldHVybiBlbmQgLSBzdGFydDtcbn1cblxuZnVuY3Rpb24gc2hvdWxkUmVtb3ZlTWFya2VyKG1hcmtlclBvc2l0aW9uOiBudW1iZXIsIG1hcmtlckR1cmF0aW9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIChtYXJrZXJEdXJhdGlvbiA8IDAgfHwgaXNOYU4obWFya2VyRHVyYXRpb24pKSAmJiBtYXJrZXJQb3NpdGlvbiA8IDA7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFByb2Nlc3NNYXJrZXJzKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogYm9vbGVhbiB7XG4gIC8vIERvbid0IGdlbmVyYXRlIHRpbWVsaW5lIG1hcmtlcnMgaWYgd2UgZG9uJ3QgeWV0IGhhdmUgYSBkdXJhdGlvblxuICAvLyBUaGUgZHVyYXRpb24gY2hlY2sgaXMgZm9yIGJ1Z2d5IHBsYXRmb3JtcyB3aGVyZSB0aGUgZHVyYXRpb24gaXMgbm90IGF2YWlsYWJsZSBpbnN0YW50bHkgKENocm9tZSBvbiBBbmRyb2lkIDQuMylcbiAgY29uc3QgdmFsaWRUb1Byb2Nlc3MgPSBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAhPT0gSW5maW5pdHkgfHwgcGxheWVyLmlzTGl2ZSgpO1xuICBjb25zdCBoYXNNYXJrZXJzID0gdWltYW5hZ2VyLmdldENvbmZpZygpLm1ldGFkYXRhLm1hcmtlcnMubGVuZ3RoID4gMDtcblxuICByZXR1cm4gdmFsaWRUb1Byb2Nlc3MgJiYgaGFzTWFya2Vycztcbn1cbiIsImltcG9ydCB7Q29udGFpbmVyLCBDb250YWluZXJDb25maWd9IGZyb20gJy4vY29udGFpbmVyJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge01ldGFkYXRhTGFiZWwsIE1ldGFkYXRhTGFiZWxDb250ZW50fSBmcm9tICcuL21ldGFkYXRhbGFiZWwnO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgYSB7QGxpbmsgVGl0bGVCYXJ9LlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGl0bGVCYXJDb25maWcgZXh0ZW5kcyBDb250YWluZXJDb25maWcge1xuICAvKipcbiAgICogU3BlY2lmaWVzIGlmIHRoZSB0aXRsZSBiYXIgc2hvdWxkIHN0YXkgaGlkZGVuIHdoZW4gbm8gbWV0YWRhdGEgbGFiZWwgY29udGFpbnMgYW55IHRleHQuIERvZXMgbm90IG1ha2UgYSBsb3RcbiAgICogb2Ygc2Vuc2UgaWYgdGhlIHRpdGxlIGJhciBjb250YWlucyBvdGhlciBjb21wb25lbnRzIHRoYW4ganVzdCBNZXRhZGF0YUxhYmVscyAobGlrZSBpbiB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uKS5cbiAgICogRGVmYXVsdDogZmFsc2VcbiAgICovXG4gIGtlZXBIaWRkZW5XaXRob3V0TWV0YWRhdGE/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIERpc3BsYXlzIGEgdGl0bGUgYmFyIGNvbnRhaW5pbmcgYSBsYWJlbCB3aXRoIHRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFRpdGxlQmFyIGV4dGVuZHMgQ29udGFpbmVyPFRpdGxlQmFyQ29uZmlnPiB7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBUaXRsZUJhckNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktdGl0bGViYXInLFxuICAgICAgaGlkZGVuOiB0cnVlLFxuICAgICAgY29tcG9uZW50czogW1xuICAgICAgICBuZXcgTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IE1ldGFkYXRhTGFiZWxDb250ZW50LlRpdGxlIH0pLFxuICAgICAgICBuZXcgTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IE1ldGFkYXRhTGFiZWxDb250ZW50LkRlc2NyaXB0aW9uIH0pLFxuICAgICAgXSxcbiAgICAgIGtlZXBIaWRkZW5XaXRob3V0TWV0YWRhdGE6IGZhbHNlLFxuICAgIH0sIDxUaXRsZUJhckNvbmZpZz50aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgbGV0IGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XG4gICAgbGV0IHNob3VsZEJlU2hvd24gPSAhdGhpcy5pc0hpZGRlbigpO1xuICAgIGxldCBoYXNNZXRhZGF0YVRleHQgPSB0cnVlOyAvLyBGbGFnIHRvIHRyYWNrIGlmIGFueSBtZXRhZGF0YSBsYWJlbCBjb250YWlucyB0ZXh0XG5cbiAgICBsZXQgY2hlY2tNZXRhZGF0YVRleHRBbmRVcGRhdGVWaXNpYmlsaXR5ID0gKCkgPT4ge1xuICAgICAgaGFzTWV0YWRhdGFUZXh0ID0gZmFsc2U7XG5cbiAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBtZXRhZGF0YSBsYWJlbHMgYW5kIGNoZWNrIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGVtIGNvbnRhaW5zIHRleHRcbiAgICAgIGZvciAobGV0IGNvbXBvbmVudCBvZiB0aGlzLmdldENvbXBvbmVudHMoKSkge1xuICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgTWV0YWRhdGFMYWJlbCkge1xuICAgICAgICAgIGlmICghY29tcG9uZW50LmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgaGFzTWV0YWRhdGFUZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc1Nob3duKCkpIHtcbiAgICAgICAgLy8gSGlkZSBhIHZpc2libGUgdGl0bGViYXIgaWYgaXQgZG9lcyBub3QgY29udGFpbiBhbnkgdGV4dCBhbmQgdGhlIGhpZGRlbiBmbGFnIGlzIHNldFxuICAgICAgICBpZiAoY29uZmlnLmtlZXBIaWRkZW5XaXRob3V0TWV0YWRhdGEgJiYgIWhhc01ldGFkYXRhVGV4dCkge1xuICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNob3VsZEJlU2hvd24pIHtcbiAgICAgICAgLy8gU2hvdyBhIGhpZGRlbiB0aXRsZWJhciBpZiBpdCBzaG91bGQgYWN0dWFsbHkgYmUgc2hvd25cbiAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIExpc3RlbiB0byB0ZXh0IGNoYW5nZSBldmVudHMgdG8gdXBkYXRlIHRoZSBoYXNNZXRhZGF0YVRleHQgZmxhZyB3aGVuIHRoZSBtZXRhZGF0YSBkeW5hbWljYWxseSBjaGFuZ2VzXG4gICAgZm9yIChsZXQgY29tcG9uZW50IG9mIHRoaXMuZ2V0Q29tcG9uZW50cygpKSB7XG4gICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgTWV0YWRhdGFMYWJlbCkge1xuICAgICAgICBjb21wb25lbnQub25UZXh0Q2hhbmdlZC5zdWJzY3JpYmUoY2hlY2tNZXRhZGF0YVRleHRBbmRVcGRhdGVWaXNpYmlsaXR5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1aW1hbmFnZXIub25Db250cm9sc1Nob3cuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHNob3VsZEJlU2hvd24gPSB0cnVlO1xuICAgICAgaWYgKCEoY29uZmlnLmtlZXBIaWRkZW5XaXRob3V0TWV0YWRhdGEgJiYgIWhhc01ldGFkYXRhVGV4dCkpIHtcbiAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICBzaG91bGRCZVNob3duID0gZmFsc2U7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9KTtcblxuICAgIC8vIGluaXRcbiAgICBjaGVja01ldGFkYXRhVGV4dEFuZFVwZGF0ZVZpc2liaWxpdHkoKTtcbiAgfVxufSIsImltcG9ydCB7QnV0dG9uLCBCdXR0b25Db25maWd9IGZyb20gJy4vYnV0dG9uJztcbmltcG9ydCB7Tm9BcmdzLCBFdmVudERpc3BhdGNoZXIsIEV2ZW50fSBmcm9tICcuLi9ldmVudGRpc3BhdGNoZXInO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IExvY2FsaXphYmxlVGV4dCB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgYSB0b2dnbGUgYnV0dG9uIGNvbXBvbmVudC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29uZmlnc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFRvZ2dsZUJ1dHRvbkNvbmZpZyBleHRlbmRzIEJ1dHRvbkNvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgQ1NTIGNsYXNzIHRoYXQgbWFya3MgdGhlIG9uLXN0YXRlIG9mIHRoZSBidXR0b24uXG4gICAqL1xuICBvbkNsYXNzPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIENTUyBjbGFzcyB0aGF0IG1hcmtzIHRoZSBvZmYtc3RhdGUgb2YgdGhlIGJ1dHRvbi5cbiAgICovXG4gIG9mZkNsYXNzPzogc3RyaW5nO1xuICAvKipcbiAgICogV0NBRzIwIHN0YW5kYXJkIGZvciBkZWZpbmluZyBpbmZvIGFib3V0IHRoZSBjb21wb25lbnQgKHVzdWFsbHkgdGhlIG5hbWUpXG4gICAqXG4gICAqIEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBgb25BcmlhTGFiZWxgIGFuZCBgb2ZmQXJpYUxhYmVsYCBmb3IgdG9nZ2xlIGJ1dHRvbnNcbiAgICogYXMgdGhlIGNvbXBvbmVudCBjYW4gdGhlbiB1cGRhdGUgdGhlbSBhcyB0aGUgYnV0dG9uIGlzIHVzZWQuXG4gICAqXG4gICAqIElmIGJvdGggYGFyaWFMYWJlbGAgYW5kIGBvbkFyaWFMYWJlbGAgYXJlIHNldCwgYG9uQXJpYUxhYmVsYCBpcyB1c2VkLlxuICAgKi9cbiAgYXJpYUxhYmVsPzogTG9jYWxpemFibGVUZXh0O1xuICAvKipcbiAgICogVGhlIGFyaWEgbGFiZWwgdGhhdCBtYXJrcyB0aGUgb24tc3RhdGUgb2YgdGhlIGJ1dHRvbi5cbiAgICovXG4gIG9uQXJpYUxhYmVsPzogTG9jYWxpemFibGVUZXh0O1xuICAvKipcbiAgICogVGhlIGFyaWEgbGFiZWwgdGhhdCBtYXJrcyB0aGUgb2ZmLXN0YXRlIG9mIHRoZSBidXR0b24uXG4gICAqL1xuICBvZmZBcmlhTGFiZWw/OiBMb2NhbGl6YWJsZVRleHQ7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCBhcyBzdHJpbmcgb3IgYXMgbG9jYWxpemUgY2FsbGJhY2sgb24gdGhlIGJ1dHRvbi5cbiAgICovXG4gIHRleHQ/OiBMb2NhbGl6YWJsZVRleHQ7XG59XG5cbi8qKlxuICogQSBidXR0b24gdGhhdCBjYW4gYmUgdG9nZ2xlZCBiZXR3ZWVuICdvbicgYW5kICdvZmYnIHN0YXRlcy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgVG9nZ2xlQnV0dG9uPENvbmZpZyBleHRlbmRzIFRvZ2dsZUJ1dHRvbkNvbmZpZz4gZXh0ZW5kcyBCdXR0b248Q29uZmlnPiB7XG5cbiAgcHJpdmF0ZSBvblN0YXRlOiBib29sZWFuO1xuXG4gIHByaXZhdGUgdG9nZ2xlQnV0dG9uRXZlbnRzID0ge1xuICAgIG9uVG9nZ2xlOiBuZXcgRXZlbnREaXNwYXRjaGVyPFRvZ2dsZUJ1dHRvbjxDb25maWc+LCBOb0FyZ3M+KCksXG4gICAgb25Ub2dnbGVPbjogbmV3IEV2ZW50RGlzcGF0Y2hlcjxUb2dnbGVCdXR0b248Q29uZmlnPiwgTm9BcmdzPigpLFxuICAgIG9uVG9nZ2xlT2ZmOiBuZXcgRXZlbnREaXNwYXRjaGVyPFRvZ2dsZUJ1dHRvbjxDb25maWc+LCBOb0FyZ3M+KCksXG4gIH07XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWcpIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgY29uc3QgZGVmYXVsdENvbmZpZzogVG9nZ2xlQnV0dG9uQ29uZmlnID0ge1xuICAgICAgY3NzQ2xhc3M6ICd1aS10b2dnbGVidXR0b24nLFxuICAgICAgb25DbGFzczogJ29uJyxcbiAgICAgIG9mZkNsYXNzOiAnb2ZmJyxcbiAgICB9O1xuXG4gICAgaWYgKGNvbmZpZy5vbkFyaWFMYWJlbCkge1xuICAgICAgY29uZmlnLmFyaWFMYWJlbCA9IGNvbmZpZy5vbkFyaWFMYWJlbDtcbiAgICB9XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCBkZWZhdWx0Q29uZmlnIGFzIENvbmZpZywgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKGNvbmZpZy5vZmZDbGFzcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIGJ1dHRvbiB0byB0aGUgJ29uJyBzdGF0ZS5cbiAgICovXG4gIG9uKCkge1xuICAgIGlmICh0aGlzLmlzT2ZmKCkpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XG5cbiAgICAgIHRoaXMub25TdGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcyhjb25maWcub2ZmQ2xhc3MpKTtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKGNvbmZpZy5vbkNsYXNzKSk7XG5cbiAgICAgIHRoaXMub25Ub2dnbGVFdmVudCgpO1xuICAgICAgdGhpcy5vblRvZ2dsZU9uRXZlbnQoKTtcblxuICAgICAgdGhpcy5zZXRBcmlhQXR0cigncHJlc3NlZCcsICd0cnVlJyk7XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5vbkFyaWFMYWJlbCkge1xuICAgICAgICB0aGlzLnNldEFyaWFMYWJlbCh0aGlzLmNvbmZpZy5vbkFyaWFMYWJlbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIGJ1dHRvbiB0byB0aGUgJ29mZicgc3RhdGUuXG4gICAqL1xuICBvZmYoKSB7XG4gICAgaWYgKHRoaXMuaXNPbigpKSB7XG4gICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xuXG4gICAgICB0aGlzLm9uU3RhdGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKGNvbmZpZy5vbkNsYXNzKSk7XG4gICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhjb25maWcub2ZmQ2xhc3MpKTtcblxuICAgICAgdGhpcy5vblRvZ2dsZUV2ZW50KCk7XG4gICAgICB0aGlzLm9uVG9nZ2xlT2ZmRXZlbnQoKTtcblxuICAgICAgdGhpcy5zZXRBcmlhQXR0cigncHJlc3NlZCcsICdmYWxzZScpO1xuXG4gICAgICBpZiAodGhpcy5jb25maWcub2ZmQXJpYUxhYmVsKSB7XG4gICAgICAgIHRoaXMuc2V0QXJpYUxhYmVsKHRoaXMuY29uZmlnLm9mZkFyaWFMYWJlbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSB0aGUgYnV0dG9uICdvbicgaWYgaXQgaXMgJ29mZicsIG9yICdvZmYnIGlmIGl0IGlzICdvbicuXG4gICAqL1xuICB0b2dnbGUoKSB7XG4gICAgaWYgKHRoaXMuaXNPbigpKSB7XG4gICAgICB0aGlzLm9mZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgdG9nZ2xlIGJ1dHRvbiBpcyBpbiB0aGUgJ29uJyBzdGF0ZS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgYnV0dG9uIGlzICdvbicsIGZhbHNlIGlmICdvZmYnXG4gICAqL1xuICBpc09uKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm9uU3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSB0b2dnbGUgYnV0dG9uIGlzIGluIHRoZSAnb2ZmJyBzdGF0ZS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgYnV0dG9uIGlzICdvZmYnLCBmYWxzZSBpZiAnb24nXG4gICAqL1xuICBpc09mZigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMuaXNPbigpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uQ2xpY2tFdmVudCgpIHtcbiAgICBzdXBlci5vbkNsaWNrRXZlbnQoKTtcblxuICAgIC8vIEZpcmUgdGhlIHRvZ2dsZSBldmVudCB0b2dldGhlciB3aXRoIHRoZSBjbGljayBldmVudFxuICAgIC8vICh0aGV5IGFyZSB0ZWNobmljYWxseSB0aGUgc2FtZSwgb25seSB0aGUgc2VtYW50aWNzIGFyZSBkaWZmZXJlbnQpXG4gICAgdGhpcy5vblRvZ2dsZUV2ZW50KCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25Ub2dnbGVFdmVudCgpIHtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZS5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvblRvZ2dsZU9uRXZlbnQoKSB7XG4gICAgdGhpcy50b2dnbGVCdXR0b25FdmVudHMub25Ub2dnbGVPbi5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvblRvZ2dsZU9mZkV2ZW50KCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlT2ZmLmRpc3BhdGNoKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgYnV0dG9uIGlzIHRvZ2dsZWQuXG4gICAqIEByZXR1cm5zIHtFdmVudDxUb2dnbGVCdXR0b248Q29uZmlnPiwgTm9BcmdzPn1cbiAgICovXG4gIGdldCBvblRvZ2dsZSgpOiBFdmVudDxUb2dnbGVCdXR0b248Q29uZmlnPiwgTm9BcmdzPiB7XG4gICAgcmV0dXJuIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlLmdldEV2ZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBidXR0b24gaXMgdG9nZ2xlZCAnb24nLlxuICAgKiBAcmV0dXJucyB7RXZlbnQ8VG9nZ2xlQnV0dG9uPENvbmZpZz4sIE5vQXJncz59XG4gICAqL1xuICBnZXQgb25Ub2dnbGVPbigpOiBFdmVudDxUb2dnbGVCdXR0b248Q29uZmlnPiwgTm9BcmdzPiB7XG4gICAgcmV0dXJuIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlT24uZ2V0RXZlbnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGJ1dHRvbiBpcyB0b2dnbGVkICdvZmYnLlxuICAgKiBAcmV0dXJucyB7RXZlbnQ8VG9nZ2xlQnV0dG9uPENvbmZpZz4sIE5vQXJncz59XG4gICAqL1xuICBnZXQgb25Ub2dnbGVPZmYoKTogRXZlbnQ8VG9nZ2xlQnV0dG9uPENvbmZpZz4sIE5vQXJncz4ge1xuICAgIHJldHVybiB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZU9mZi5nZXRFdmVudCgpO1xuICB9XG59IiwiaW1wb3J0IHtDb21wb25lbnQsIENvbXBvbmVudENvbmZpZ30gZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHtET019IGZyb20gJy4uL2RvbSc7XG5cbi8qKlxuICogQW5pbWF0ZWQgYW5hbG9nIFRWIHN0YXRpYyBub2lzZS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgVHZOb2lzZUNhbnZhcyBleHRlbmRzIENvbXBvbmVudDxDb21wb25lbnRDb25maWc+IHtcblxuICBwcml2YXRlIGNhbnZhczogRE9NO1xuXG4gIHByaXZhdGUgY2FudmFzRWxlbWVudDogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHByaXZhdGUgY2FudmFzQ29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBwcml2YXRlIGNhbnZhc1dpZHRoID0gMTYwO1xuICBwcml2YXRlIGNhbnZhc0hlaWdodCA9IDkwO1xuICBwcml2YXRlIGludGVyZmVyZW5jZUhlaWdodCA9IDUwO1xuICBwcml2YXRlIGxhc3RGcmFtZVVwZGF0ZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBmcmFtZUludGVydmFsOiBudW1iZXIgPSA2MDtcbiAgcHJpdmF0ZSB1c2VBbmltYXRpb25GcmFtZTogYm9vbGVhbiA9ICEhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgcHJpdmF0ZSBub2lzZUFuaW1hdGlvbldpbmRvd1BvczogbnVtYmVyO1xuICBwcml2YXRlIGZyYW1lVXBkYXRlSGFuZGxlcklkOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBDb21wb25lbnRDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLXR2bm9pc2VjYW52YXMnLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCB0b0RvbUVsZW1lbnQoKTogRE9NIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXMgPSBuZXcgRE9NKCdjYW52YXMnLCB7ICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpIH0sIHRoaXMpO1xuICB9XG5cbiAgc3RhcnQoKTogdm9pZCB7XG4gICAgdGhpcy5jYW52YXNFbGVtZW50ID0gPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuY2FudmFzLmdldCgwKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zID0gLXRoaXMuY2FudmFzSGVpZ2h0O1xuICAgIHRoaXMubGFzdEZyYW1lVXBkYXRlID0gMDtcblxuICAgIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7XG4gICAgdGhpcy5jYW52YXNFbGVtZW50LmhlaWdodCA9IHRoaXMuY2FudmFzSGVpZ2h0O1xuXG4gICAgdGhpcy5yZW5kZXJGcmFtZSgpO1xuICB9XG5cbiAgc3RvcCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy51c2VBbmltYXRpb25GcmFtZSkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5mcmFtZVVwZGF0ZUhhbmRsZXJJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZyYW1lVXBkYXRlSGFuZGxlcklkKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckZyYW1lKCk6IHZvaWQge1xuICAgIC8vIFRoaXMgY29kZSBoYXMgYmVlbiBjb3BpZWQgZnJvbSB0aGUgcGxheWVyIGNvbnRyb2xzLmpzIGFuZCBzaW1wbGlmaWVkXG5cbiAgICBpZiAodGhpcy5sYXN0RnJhbWVVcGRhdGUgKyB0aGlzLmZyYW1lSW50ZXJ2YWwgPiBuZXcgRGF0ZSgpLmdldFRpbWUoKSkge1xuICAgICAgLy8gSXQncyB0b28gZWFybHkgdG8gcmVuZGVyIHRoZSBuZXh0IGZyYW1lXG4gICAgICB0aGlzLnNjaGVkdWxlTmV4dFJlbmRlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjdXJyZW50UGl4ZWxPZmZzZXQ7XG4gICAgbGV0IGNhbnZhc1dpZHRoID0gdGhpcy5jYW52YXNXaWR0aDtcbiAgICBsZXQgY2FudmFzSGVpZ2h0ID0gdGhpcy5jYW52YXNIZWlnaHQ7XG5cbiAgICAvLyBDcmVhdGUgdGV4dHVyZVxuICAgIGxldCBub2lzZUltYWdlID0gdGhpcy5jYW52YXNDb250ZXh0LmNyZWF0ZUltYWdlRGF0YShjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcblxuICAgIC8vIEZpbGwgdGV4dHVyZSB3aXRoIG5vaXNlXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBjYW52YXNIZWlnaHQ7IHkrKykge1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBjYW52YXNXaWR0aDsgeCsrKSB7XG4gICAgICAgIGN1cnJlbnRQaXhlbE9mZnNldCA9IChjYW52YXNXaWR0aCAqIHkgKiA0KSArIHggKiA0O1xuICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XSA9IE1hdGgucmFuZG9tKCkgKiAyNTU7XG4gICAgICAgIGlmICh5IDwgdGhpcy5ub2lzZUFuaW1hdGlvbldpbmRvd1BvcyB8fCB5ID4gdGhpcy5ub2lzZUFuaW1hdGlvbldpbmRvd1BvcyArIHRoaXMuaW50ZXJmZXJlbmNlSGVpZ2h0KSB7XG4gICAgICAgICAgbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldF0gKj0gMC44NTtcbiAgICAgICAgfVxuICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0ICsgMV0gPSBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XTtcbiAgICAgICAgbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldCArIDJdID0gbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldF07XG4gICAgICAgIG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXQgKyAzXSA9IDUwO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFB1dCB0ZXh0dXJlIG9udG8gY2FudmFzXG4gICAgdGhpcy5jYW52YXNDb250ZXh0LnB1dEltYWdlRGF0YShub2lzZUltYWdlLCAwLCAwKTtcblxuICAgIHRoaXMubGFzdEZyYW1lVXBkYXRlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdGhpcy5ub2lzZUFuaW1hdGlvbldpbmRvd1BvcyArPSA3O1xuICAgIGlmICh0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zID4gY2FudmFzSGVpZ2h0KSB7XG4gICAgICB0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zID0gLWNhbnZhc0hlaWdodDtcbiAgICB9XG5cbiAgICB0aGlzLnNjaGVkdWxlTmV4dFJlbmRlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBzY2hlZHVsZU5leHRSZW5kZXIoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudXNlQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHRoaXMuZnJhbWVVcGRhdGVIYW5kbGVySWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyRnJhbWUuYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZnJhbWVVcGRhdGVIYW5kbGVySWQgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLnJlbmRlckZyYW1lLmJpbmQodGhpcyksIHRoaXMuZnJhbWVJbnRlcnZhbCk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgQ29udGFpbmVyLCBDb250YWluZXJDb25maWcgfSBmcm9tICcuL2NvbnRhaW5lcic7XG5pbXBvcnQgeyBVSUluc3RhbmNlTWFuYWdlciB9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBET00sIEhUTUxFbGVtZW50V2l0aENvbXBvbmVudCB9IGZyb20gJy4uL2RvbSc7XG5pbXBvcnQgeyBUaW1lb3V0IH0gZnJvbSAnLi4vdGltZW91dCc7XG5pbXBvcnQgeyBQbGF5ZXJVdGlscyB9IGZyb20gJy4uL3BsYXllcnV0aWxzJztcbmltcG9ydCB7IENhbmNlbEV2ZW50QXJncywgRXZlbnQgYXMgVWlFdmVudCwgRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnLi4vZXZlbnRkaXNwYXRjaGVyJztcbmltcG9ydCB7IFBsYXllckFQSSwgUGxheWVyUmVzaXplZEV2ZW50IH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5pbXBvcnQgeyBCdXR0b24sIEJ1dHRvbkNvbmZpZyB9IGZyb20gJy4vYnV0dG9uJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgYSB7QGxpbmsgVUlDb250YWluZXJ9LlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVUlDb250YWluZXJDb25maWcgZXh0ZW5kcyBDb250YWluZXJDb25maWcge1xuICAvKipcbiAgICogVGhlIGRlbGF5IGluIG1pbGxpc2Vjb25kcyBhZnRlciB3aGljaCB0aGUgY29udHJvbCBiYXIgd2lsbCBiZSBoaWRkZW4gd2hlbiB0aGVyZSBpcyBubyB1c2VyIGludGVyYWN0aW9uLlxuICAgKiBTZXQgdG8gLTEgZm9yIHRoZSBVSSB0byBiZSBhbHdheXMgc2hvd24uXG4gICAqIERlZmF1bHQ6IDUgc2Vjb25kcyAoNTAwMClcbiAgICovXG4gIGhpZGVEZWxheT86IG51bWJlcjtcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIHBsYXllciBzdGF0ZXMgaW4gd2hpY2ggdGhlIFVJIHdpbGwgbm90IGJlIGhpZGRlbiwgbm8gbWF0dGVyIHdoYXQgdGhlIHtAbGluayBoaWRlRGVsYXl9IGlzLlxuICAgKi9cbiAgaGlkZVBsYXllclN0YXRlRXhjZXB0aW9ucz86IFBsYXllclV0aWxzLlBsYXllclN0YXRlW107XG4gIC8qKlxuICAgKiBUaGUgSFRNTCBlbGVtZW50IG9uIHdoaWNoIHVzZXIgaW50ZXJhY3Rpb24gZXZlbnRzIChlLmcuIG1vdXNlIGFuZCB0b3VjaCBldmVudHMpIHdpbGwgYmUgdHJhY2tlZCB0byBkZXRlY3RcbiAgICogaW50ZXJhY3Rpb24gd2l0aCB0aGUgVUkuIFRoZXNlIGJhc2ljYWxseSB0cmlnZ2VyIHNob3dpbmcgYW5kIGhpZGluZyBvZiB0aGUgVUkuXG4gICAqIERlZmF1bHQ6IHRoZSBVSSBjb250YWluZXIgaXRzZWxmXG4gICAqL1xuICB1c2VySW50ZXJhY3Rpb25FdmVudFNvdXJjZT86IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IHdoZXRoZXIgdGhlIFVJIHNob3VsZCBiZSBoaWRkZW4gaW1tZWRpYXRseSBpZiB0aGUgbW91c2UgbGVhdmVzIHRoZSB1c2VySW50ZXJhY3Rpb25FdmVudFNvdXJjZS5cbiAgICogSWYgZmFsc2Ugb3Igbm90IHNldCBpdCB3aWxsIHdhaXQgZm9yIHRoZSBoaWRlRGVsYXkuXG4gICAqIERlZmF1bHQ6IGZhbHNlXG4gICAqL1xuICBoaWRlSW1tZWRpYXRlbHlPbk1vdXNlTGVhdmU/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIGFsbCBvZiB0aGUgVUkuIFRoZSBVSUNvbnRhaW5lciBpcyBwYXNzZWQgdG8gdGhlIHtAbGluayBVSU1hbmFnZXJ9IHRvIGJ1aWxkIGFuZFxuICogc2V0dXAgdGhlIFVJLlxuICpcbiAqIEBjYXRlZ29yeSBDb250YWluZXJzXG4gKi9cbmV4cG9ydCBjbGFzcyBVSUNvbnRhaW5lciBleHRlbmRzIENvbnRhaW5lcjxVSUNvbnRhaW5lckNvbmZpZz4ge1xuXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFNUQVRFX1BSRUZJWCA9ICdwbGF5ZXItc3RhdGUtJztcblxuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBGVUxMU0NSRUVOID0gJ2Z1bGxzY3JlZW4nO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBCVUZGRVJJTkcgPSAnYnVmZmVyaW5nJztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgUkVNT1RFX0NPTlRST0wgPSAncmVtb3RlLWNvbnRyb2wnO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBDT05UUk9MU19TSE9XTiA9ICdjb250cm9scy1zaG93bic7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENPTlRST0xTX0hJRERFTiA9ICdjb250cm9scy1oaWRkZW4nO1xuXG4gIHByaXZhdGUgdWlIaWRlVGltZW91dDogVGltZW91dDtcbiAgcHJpdmF0ZSBwbGF5ZXJTdGF0ZUNoYW5nZTogRXZlbnREaXNwYXRjaGVyPFVJQ29udGFpbmVyLCBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZT47XG5cbiAgcHJpdmF0ZSB1c2VySW50ZXJhY3Rpb25FdmVudFNvdXJjZTogRE9NO1xuICBwcml2YXRlIHVzZXJJbnRlcmFjdGlvbkV2ZW50czogeyBuYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QgfVtdO1xuICBwcml2YXRlIGhpZGluZ1ByZXZlbnRlZDogKCkgPT4gYm9vbGVhbjtcblxuICBwdWJsaWMgaGlkZVVpOiAoKSA9PiB2b2lkID0gKCkgPT4ge307XG4gIHB1YmxpYyBzaG93VWk6ICgpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFVJQ29udGFpbmVyQ29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIDxVSUNvbnRhaW5lckNvbmZpZz57XG4gICAgICBjc3NDbGFzczogJ3VpLXVpY29udGFpbmVyJyxcbiAgICAgIHJvbGU6ICdyZWdpb24nLFxuICAgICAgYXJpYUxhYmVsOiBpMThuLmdldExvY2FsaXplcigncGxheWVyJyksXG4gICAgICBoaWRlRGVsYXk6IDUwMDAsXG4gICAgICBoaWRlSW1tZWRpYXRlbHlPbk1vdXNlTGVhdmU6IGZhbHNlLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcblxuICAgIHRoaXMucGxheWVyU3RhdGVDaGFuZ2UgPSBuZXcgRXZlbnREaXNwYXRjaGVyPFVJQ29udGFpbmVyLCBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZT4oKTtcbiAgICB0aGlzLmhpZGluZ1ByZXZlbnRlZCA9ICgpID0+IGZhbHNlO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcblxuICAgIGlmIChjb25maWcudXNlckludGVyYWN0aW9uRXZlbnRTb3VyY2UpIHtcbiAgICAgIHRoaXMudXNlckludGVyYWN0aW9uRXZlbnRTb3VyY2UgPSBuZXcgRE9NKGNvbmZpZy51c2VySW50ZXJhY3Rpb25FdmVudFNvdXJjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXNlckludGVyYWN0aW9uRXZlbnRTb3VyY2UgPSB0aGlzLmdldERvbUVsZW1lbnQoKTtcbiAgICB9XG5cbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgdGhpcy5jb25maWd1cmVVSVNob3dIaWRlKHBsYXllciwgdWltYW5hZ2VyKTtcbiAgICB0aGlzLmNvbmZpZ3VyZVBsYXllclN0YXRlcyhwbGF5ZXIsIHVpbWFuYWdlcik7XG4gIH1cblxuICBwcml2YXRlIGNvbmZpZ3VyZVVJU2hvd0hpZGUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBsZXQgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcblxuICAgIGlmIChjb25maWcuaGlkZURlbGF5ID09PSAtMSkge1xuICAgICAgdWltYW5hZ2VyLm9uQ29uZmlndXJlZC5zdWJzY3JpYmUoKCkgPT4gdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LmRpc3BhdGNoKHRoaXMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgaXNVaVNob3duID0gZmFsc2U7XG4gICAgbGV0IGlzU2Vla2luZyA9IGZhbHNlO1xuICAgIGxldCBpc0ZpcnN0VG91Y2ggPSB0cnVlO1xuICAgIGxldCBwbGF5ZXJTdGF0ZTogUGxheWVyVXRpbHMuUGxheWVyU3RhdGU7XG5cbiAgICB0aGlzLmhpZGluZ1ByZXZlbnRlZCA9ICgpOiBib29sZWFuID0+IHtcbiAgICAgIHJldHVybiBjb25maWcuaGlkZVBsYXllclN0YXRlRXhjZXB0aW9ucyAmJiBjb25maWcuaGlkZVBsYXllclN0YXRlRXhjZXB0aW9ucy5pbmRleE9mKHBsYXllclN0YXRlKSA+IC0xO1xuICAgIH07XG5cbiAgICB0aGlzLnNob3dVaSA9ICgpID0+IHtcbiAgICAgIGlmICghaXNVaVNob3duKSB7XG4gICAgICAgIC8vIExldCBzdWJzY3JpYmVycyBrbm93IHRoYXQgdGhleSBzaG91bGQgcmV2ZWFsIHRoZW1zZWx2ZXNcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LmRpc3BhdGNoKHRoaXMpO1xuICAgICAgICBpc1VpU2hvd24gPSB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gRG9uJ3QgdHJpZ2dlciB0aW1lb3V0IHdoaWxlIHNlZWtpbmcgKGl0IHdpbGwgYmUgdHJpZ2dlcmVkIG9uY2UgdGhlIHNlZWsgaXMgZmluaXNoZWQpIG9yIGNhc3RpbmdcbiAgICAgIGlmICghaXNTZWVraW5nICYmICFwbGF5ZXIuaXNDYXN0aW5nKCkgJiYgIXRoaXMuaGlkaW5nUHJldmVudGVkKCkpIHtcbiAgICAgICAgdGhpcy51aUhpZGVUaW1lb3V0LnN0YXJ0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaGlkZVVpID0gKCkgPT4ge1xuICAgICAgLy8gSGlkZSB0aGUgVUkgb25seSBpZiBpdCBpcyBzaG93biwgYW5kIGlmIG5vdCBjYXN0aW5nXG4gICAgICBpZiAoaXNVaVNob3duICYmICFwbGF5ZXIuaXNDYXN0aW5nKCkpIHtcbiAgICAgICAgLy8gSXNzdWUgYSBwcmV2aWV3IGV2ZW50IHRvIGNoZWNrIGlmIHdlIGFyZSBnb29kIHRvIGhpZGUgdGhlIGNvbnRyb2xzXG4gICAgICAgIGxldCBwcmV2aWV3SGlkZUV2ZW50QXJncyA9IDxDYW5jZWxFdmVudEFyZ3M+e307XG4gICAgICAgIHVpbWFuYWdlci5vblByZXZpZXdDb250cm9sc0hpZGUuZGlzcGF0Y2godGhpcywgcHJldmlld0hpZGVFdmVudEFyZ3MpO1xuXG4gICAgICAgIGlmICghcHJldmlld0hpZGVFdmVudEFyZ3MuY2FuY2VsKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHByZXZpZXcgd2Fzbid0IGNhbmNlbGVkLCBsZXQgc3Vic2NyaWJlcnMga25vdyB0aGF0IHRoZXkgc2hvdWxkIG5vdyBoaWRlIHRoZW1zZWx2ZXNcbiAgICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc0hpZGUuZGlzcGF0Y2godGhpcyk7XG4gICAgICAgICAgaXNVaVNob3duID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGhpZGUgcHJldmlldyB3YXMgY2FuY2VsZWQsIGNvbnRpbnVlIHRvIHNob3cgVUlcbiAgICAgICAgICB0aGlzLnNob3dVaSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFRpbWVvdXQgdG8gZGVmZXIgVUkgaGlkaW5nIGJ5IHRoZSBjb25maWd1cmVkIGRlbGF5IHRpbWVcbiAgICB0aGlzLnVpSGlkZVRpbWVvdXQgPSBuZXcgVGltZW91dChjb25maWcuaGlkZURlbGF5LCB0aGlzLmhpZGVVaSk7XG5cbiAgICB0aGlzLnVzZXJJbnRlcmFjdGlvbkV2ZW50cyA9IFt7XG4gICAgICAvLyBPbiB0b3VjaCBkaXNwbGF5cywgdGhlIGZpcnN0IHRvdWNoIHJldmVhbHMgdGhlIFVJXG4gICAgICBuYW1lOiAndG91Y2hlbmQnLFxuICAgICAgaGFuZGxlcjogKGUpID0+IHtcbiAgICAgICAgY29uc3Qgc2hvdWxkUHJldmVudERlZmF1bHQgPSAoKGU6IEV2ZW50KTogQm9vbGVhbiA9PiB7XG4gICAgICAgICAgY29uc3QgZmluZEJ1dHRvbkNvbXBvbmVudCA9ICgoZWxlbWVudDogSFRNTEVsZW1lbnRXaXRoQ29tcG9uZW50KTogQnV0dG9uPEJ1dHRvbkNvbmZpZz4gfCBudWxsID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhZWxlbWVudFxuICAgICAgICAgICAgICAgICAgfHwgZWxlbWVudCA9PT0gdGhpcy51c2VySW50ZXJhY3Rpb25FdmVudFNvdXJjZS5nZXQoMClcbiAgICAgICAgICAgICAgICAgIHx8IGVsZW1lbnQuY29tcG9uZW50IGluc3RhbmNlb2YgVUlDb250YWluZXJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY29tcG9uZW50ICYmIGVsZW1lbnQuY29tcG9uZW50IGluc3RhbmNlb2YgQnV0dG9uKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmNvbXBvbmVudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBmaW5kQnV0dG9uQ29tcG9uZW50KGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCBidXR0b25Db21wb25lbnQgPSBmaW5kQnV0dG9uQ29tcG9uZW50KGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50V2l0aENvbXBvbmVudCk7XG4gICAgICAgICAgcmV0dXJuICEoYnV0dG9uQ29tcG9uZW50ICYmIGJ1dHRvbkNvbXBvbmVudC5nZXRDb25maWcoKS5hY2NlcHRzVG91Y2hXaXRoVWlIaWRkZW4pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWlzVWlTaG93bikge1xuICAgICAgICAgIC8vIE9ubHkgaWYgdGhlIFVJIGlzIGhpZGRlbiwgd2UgcHJldmVudCBvdGhlciBhY3Rpb25zIChleGNlcHQgZm9yIHRoZSBmaXJzdCB0b3VjaCkgYW5kIHJldmVhbCB0aGUgVUlcbiAgICAgICAgICAvLyBpbnN0ZWFkLiBUaGUgZmlyc3QgdG91Y2ggaXMgbm90IHByZXZlbnRlZCB0byBsZXQgb3RoZXIgbGlzdGVuZXJzIHJlY2VpdmUgdGhlIGV2ZW50IGFuZCB0cmlnZ2VyIGFuXG4gICAgICAgICAgLy8gaW5pdGlhbCBhY3Rpb24sIGUuZy4gdGhlIGh1Z2UgcGxheWJhY2sgYnV0dG9uIGNhbiBkaXJlY3RseSBzdGFydCBwbGF5YmFjayBpbnN0ZWFkIG9mIHJlcXVpcmluZyBhIGRvdWJsZVxuICAgICAgICAgIC8vIHRhcCB3aGljaCAxLiByZXZlYWxzIHRoZSBVSSBhbmQgMi4gc3RhcnRzIHBsYXliYWNrLlxuICAgICAgICAgIGlmIChpc0ZpcnN0VG91Y2ggJiYgIXBsYXllci5pc1BsYXlpbmcoKSkge1xuICAgICAgICAgICAgaXNGaXJzdFRvdWNoID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE9uIHRvdWNoIGlucHV0IGRldmljZXMsIHRoZSBmaXJzdCB0b3VjaCBpcyBleHBlY3RlZCB0byBkaXNwbGF5IHRoZSBVSSBjb250cm9scyBhbmQgbm90IGJlIHByb3BhZ2F0ZWQgdG9cbiAgICAgICAgICAgIC8vIG90aGVyIGNvbXBvbmVudHMuXG4gICAgICAgICAgICAvLyBXaGVuIGJ1dHRvbnMgYXJlIGFsd2F5cyB2aXNpYmxlIHRoaXMgY2F1c2VzIFVYIHByb2JsZW1zLCBhcyB0aGUgZmlyc3QgdG91Y2ggaXMgbm90IHJlY29nbml6ZWQuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBjYXNlIGZvciB0aGUge0BsaW5rIEFkU2tpcEJ1dHRvbn0gYW5kIHtAbGluayBBZENsaWNrT3ZlcmxheX0uXG4gICAgICAgICAgICAvLyBUbyBwcmV2ZW50IFVYIGlzc3VlcyB3aGVyZSB0aGUgYnV0dG9ucyBuZWVkIHRvIGJlIHRvdWNoZWQgdHdpY2UsIHdlIGRvIG5vdCBwcmV2ZW50IHRoZSBmaXJzdCB0b3VjaCBldmVudC5cbiAgICAgICAgICAgIGlmIChzaG91bGRQcmV2ZW50RGVmYXVsdChlKSkge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc2hvd1VpKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSwge1xuICAgICAgLy8gV2hlbiB0aGUgbW91c2UgZW50ZXJzLCB3ZSBzaG93IHRoZSBVSVxuICAgICAgbmFtZTogJ21vdXNlZW50ZXInLFxuICAgICAgaGFuZGxlcjogKCkgPT4ge1xuICAgICAgICB0aGlzLnNob3dVaSgpO1xuICAgICAgfSxcbiAgICB9LCB7XG4gICAgICAvLyBXaGVuIHRoZSBtb3VzZSBtb3ZlcyB3aXRoaW4sIHdlIHNob3cgdGhlIFVJXG4gICAgICBuYW1lOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGhhbmRsZXI6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zaG93VWkoKTtcbiAgICAgIH0sXG4gICAgfSwge1xuICAgICAgbmFtZTogJ2ZvY3VzaW4nLFxuICAgICAgaGFuZGxlcjogKCkgPT4ge1xuICAgICAgICB0aGlzLnNob3dVaSgpO1xuICAgICAgfSxcbiAgICB9LCB7XG4gICAgICBuYW1lOiAna2V5ZG93bicsXG4gICAgICBoYW5kbGVyOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvd1VpKCk7XG4gICAgICB9LFxuICAgIH0sIHtcbiAgICAgIC8vIFdoZW4gdGhlIG1vdXNlIGxlYXZlcywgd2UgY2FuIHByZXBhcmUgdG8gaGlkZSB0aGUgVUksIGV4Y2VwdCBhIHNlZWsgaXMgZ29pbmcgb25cbiAgICAgIG5hbWU6ICdtb3VzZWxlYXZlJyxcbiAgICAgIGhhbmRsZXI6ICgpID0+IHtcbiAgICAgICAgLy8gV2hlbiBhIHNlZWsgaXMgZ29pbmcgb24sIHRoZSBzZWVrIHNjcnViIHBvaW50ZXIgbWF5IGV4aXQgdGhlIFVJIGFyZWEgd2hpbGUgc3RpbGwgc2Vla2luZywgYW5kIHdlIGRvIG5vdFxuICAgICAgICAvLyBoaWRlIHRoZSBVSSBpbiBzdWNoIGNhc2VzXG4gICAgICAgIGlmICghaXNTZWVraW5nICYmICF0aGlzLmhpZGluZ1ByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmhpZGVJbW1lZGlhdGVseU9uTW91c2VMZWF2ZSkge1xuICAgICAgICAgICAgdGhpcy5oaWRlVWkoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51aUhpZGVUaW1lb3V0LnN0YXJ0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH1dO1xuXG4gICAgdGhpcy51c2VySW50ZXJhY3Rpb25FdmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHRoaXMudXNlckludGVyYWN0aW9uRXZlbnRTb3VyY2Uub24oZXZlbnQubmFtZSwgZXZlbnQuaGFuZGxlcikpO1xuXG4gICAgdWltYW5hZ2VyLm9uU2Vlay5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy51aUhpZGVUaW1lb3V0LmNsZWFyKCk7IC8vIERvbid0IGhpZGUgVUkgd2hpbGUgYSBzZWVrIGlzIGluIHByb2dyZXNzXG4gICAgICBpc1NlZWtpbmcgPSB0cnVlO1xuICAgIH0pO1xuICAgIHVpbWFuYWdlci5vblNlZWtlZC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgaXNTZWVraW5nID0gZmFsc2U7XG4gICAgICBpZiAoIXRoaXMuaGlkaW5nUHJldmVudGVkKCkpIHtcbiAgICAgICAgdGhpcy51aUhpZGVUaW1lb3V0LnN0YXJ0KCk7IC8vIFJlLWVuYWJsZSBVSSBoaWRlIHRpbWVvdXQgYWZ0ZXIgYSBzZWVrXG4gICAgICB9XG4gICAgfSk7XG4gICAgdWltYW5hZ2VyLm9uQ29tcG9uZW50Vmlld01vZGVDaGFuZ2VkLnN1YnNjcmliZSgoXywgeyBtb2RlIH0pID0+IHRoaXMudHJhY2tDb21wb25lbnRWaWV3TW9kZShtb2RlKSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkNhc3RTdGFydGVkLCAoKSA9PiB7XG4gICAgICB0aGlzLnNob3dVaSgpOyAvLyBTaG93IFVJIHdoZW4gYSBDYXN0IHNlc3Npb24gaGFzIHN0YXJ0ZWQgKFVJIHdpbGwgdGhlbiBzdGF5IHBlcm1hbmVudGx5IG9uIGR1cmluZyB0aGUgc2Vzc2lvbilcbiAgICB9KTtcbiAgICB0aGlzLnBsYXllclN0YXRlQ2hhbmdlLnN1YnNjcmliZSgoXywgc3RhdGUpID0+IHtcbiAgICAgIHBsYXllclN0YXRlID0gc3RhdGU7XG4gICAgICBpZiAodGhpcy5oaWRpbmdQcmV2ZW50ZWQoKSkge1xuICAgICAgICAvLyBFbnRlcmluZyBhIHBsYXllciBzdGF0ZSB0aGF0IHByZXZlbnRzIGhpZGluZyBhbmQgZm9yY2VzIHRoZSBjb250cm9scyB0byBiZSBzaG93blxuICAgICAgICB0aGlzLnVpSGlkZVRpbWVvdXQuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zaG93VWkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVudGVyaW5nIGEgcGxheWVyIHN0YXRlIHRoYXQgYWxsb3dzIGhpZGluZ1xuICAgICAgICB0aGlzLnVpSGlkZVRpbWVvdXQuc3RhcnQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY29uZmlndXJlUGxheWVyU3RhdGVzKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgbGV0IGNvbnRhaW5lciA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpO1xuXG4gICAgLy8gQ29udmVydCBwbGF5ZXIgc3RhdGVzIGludG8gQ1NTIGNsYXNzIG5hbWVzXG4gICAgbGV0IHN0YXRlQ2xhc3NOYW1lcyA9IDxhbnk+W107XG4gICAgZm9yIChsZXQgc3RhdGUgaW4gUGxheWVyVXRpbHMuUGxheWVyU3RhdGUpIHtcbiAgICAgIGlmIChpc05hTihOdW1iZXIoc3RhdGUpKSkge1xuICAgICAgICBsZXQgZW51bU5hbWUgPSBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZVs8YW55PlBsYXllclV0aWxzLlBsYXllclN0YXRlW3N0YXRlXV07XG4gICAgICAgIHN0YXRlQ2xhc3NOYW1lc1tQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZVtzdGF0ZV1dID1cbiAgICAgICAgICB0aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5TVEFURV9QUkVGSVggKyBlbnVtTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcmVtb3ZlU3RhdGVzID0gKCkgPT4ge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHN0YXRlQ2xhc3NOYW1lc1tQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5JZGxlXSk7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3Moc3RhdGVDbGFzc05hbWVzW1BsYXllclV0aWxzLlBsYXllclN0YXRlLlByZXBhcmVkXSk7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3Moc3RhdGVDbGFzc05hbWVzW1BsYXllclV0aWxzLlBsYXllclN0YXRlLlBsYXlpbmddKTtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUGF1c2VkXSk7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3Moc3RhdGVDbGFzc05hbWVzW1BsYXllclV0aWxzLlBsYXllclN0YXRlLkZpbmlzaGVkXSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZVN0YXRlID0gKHN0YXRlOiBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZSkgPT4ge1xuICAgICAgcmVtb3ZlU3RhdGVzKCk7XG4gICAgICBjb250YWluZXIuYWRkQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3N0YXRlXSk7XG4gICAgICB0aGlzLnBsYXllclN0YXRlQ2hhbmdlLmRpc3BhdGNoKHRoaXMsIHN0YXRlKTtcbiAgICB9O1xuXG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNvdXJjZUxvYWRlZCwgKCkgPT4ge1xuICAgICAgdXBkYXRlU3RhdGUoUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUHJlcGFyZWQpO1xuICAgIH0pO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5LCAoKSA9PiB7XG4gICAgICB1cGRhdGVTdGF0ZShQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QbGF5aW5nKTtcbiAgICB9KTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheWluZywgKCkgPT4ge1xuICAgICAgdXBkYXRlU3RhdGUoUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUGxheWluZyk7XG4gICAgfSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlBhdXNlZCwgKCkgPT4ge1xuICAgICAgdXBkYXRlU3RhdGUoUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUGF1c2VkKTtcbiAgICB9KTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheWJhY2tGaW5pc2hlZCwgKCkgPT4ge1xuICAgICAgdXBkYXRlU3RhdGUoUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuRmluaXNoZWQpO1xuICAgIH0pO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5Tb3VyY2VVbmxvYWRlZCwgKCkgPT4ge1xuICAgICAgdXBkYXRlU3RhdGUoUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuSWRsZSk7XG4gICAgfSk7XG4gICAgdWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHVwZGF0ZVN0YXRlKFBsYXllclV0aWxzLmdldFN0YXRlKHBsYXllcikpO1xuICAgIH0pO1xuXG4gICAgLy8gRnVsbHNjcmVlbiBtYXJrZXIgY2xhc3NcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuVmlld01vZGVDaGFuZ2VkLCAoKSA9PiB7XG4gICAgICBpZiAocGxheWVyLmdldFZpZXdNb2RlKCkgPT09IHBsYXllci5leHBvcnRzLlZpZXdNb2RlLkZ1bGxzY3JlZW4pIHtcbiAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkZVTExTQ1JFRU4pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5GVUxMU0NSRUVOKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gSW5pdCBmdWxsc2NyZWVuIHN0YXRlXG4gICAgaWYgKHBsYXllci5nZXRWaWV3TW9kZSgpID09PSBwbGF5ZXIuZXhwb3J0cy5WaWV3TW9kZS5GdWxsc2NyZWVuKSB7XG4gICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuRlVMTFNDUkVFTikpO1xuICAgIH1cblxuICAgIC8vIEJ1ZmZlcmluZyBtYXJrZXIgY2xhc3NcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU3RhbGxTdGFydGVkLCAoKSA9PiB7XG4gICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQlVGRkVSSU5HKSk7XG4gICAgfSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlN0YWxsRW5kZWQsICgpID0+IHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5CVUZGRVJJTkcpKTtcbiAgICB9KTtcbiAgICAvLyBJbml0IGJ1ZmZlcmluZyBzdGF0ZVxuICAgIGlmIChwbGF5ZXIuaXNTdGFsbGVkKCkpIHtcbiAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5CVUZGRVJJTkcpKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdGVDb250cm9sIG1hcmtlciBjbGFzc1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5DYXN0U3RhcnRlZCwgKCkgPT4ge1xuICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLlJFTU9URV9DT05UUk9MKSk7XG4gICAgfSk7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkNhc3RTdG9wcGVkLCAoKSA9PiB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuUkVNT1RFX0NPTlRST0wpKTtcbiAgICB9KTtcbiAgICAvLyBJbml0IFJlbW90ZUNvbnRyb2wgc3RhdGVcbiAgICBpZiAocGxheWVyLmlzQ2FzdGluZygpKSB7XG4gICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuUkVNT1RFX0NPTlRST0wpKTtcbiAgICB9XG5cbiAgICAvLyBDb250cm9scyB2aXNpYmlsaXR5IG1hcmtlciBjbGFzc1xuICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzU2hvdy5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkNPTlRST0xTX0hJRERFTikpO1xuICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkNPTlRST0xTX1NIT1dOKSk7XG4gICAgfSk7XG4gICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQ09OVFJPTFNfU0hPV04pKTtcbiAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5DT05UUk9MU19ISURERU4pKTtcbiAgICB9KTtcblxuICAgIC8vIExheW91dCBzaXplIGNsYXNzZXNcbiAgICBsZXQgdXBkYXRlTGF5b3V0U2l6ZUNsYXNzZXMgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC00MDAnKSk7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtNjAwJykpO1xuICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTgwMCcpKTtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC0xMjAwJykpO1xuXG4gICAgICBpZiAod2lkdGggPD0gNDAwKSB7XG4gICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC00MDAnKSk7XG4gICAgICB9IGVsc2UgaWYgKHdpZHRoIDw9IDYwMCkge1xuICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtNjAwJykpO1xuICAgICAgfSBlbHNlIGlmICh3aWR0aCA8PSA4MDApIHtcbiAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTgwMCcpKTtcbiAgICAgIH0gZWxzZSBpZiAod2lkdGggPD0gMTIwMCkge1xuICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtMTIwMCcpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5ZXJSZXNpemVkLCAoZTogUGxheWVyUmVzaXplZEV2ZW50KSA9PiB7XG4gICAgICAvLyBDb252ZXJ0IHN0cmluZ3MgKHdpdGggXCJweFwiIHN1ZmZpeCkgdG8gaW50c1xuICAgICAgbGV0IHdpZHRoID0gTWF0aC5yb3VuZChOdW1iZXIoZS53aWR0aC5zdWJzdHJpbmcoMCwgZS53aWR0aC5sZW5ndGggLSAyKSkpO1xuICAgICAgbGV0IGhlaWdodCA9IE1hdGgucm91bmQoTnVtYmVyKGUuaGVpZ2h0LnN1YnN0cmluZygwLCBlLmhlaWdodC5sZW5ndGggLSAyKSkpO1xuXG4gICAgICB1cGRhdGVMYXlvdXRTaXplQ2xhc3Nlcyh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9KTtcbiAgICAvLyBJbml0IGxheW91dCBzdGF0ZVxuICAgIHVwZGF0ZUxheW91dFNpemVDbGFzc2VzKG5ldyBET00ocGxheWVyLmdldENvbnRhaW5lcigpKS53aWR0aCgpLCBuZXcgRE9NKHBsYXllci5nZXRDb250YWluZXIoKSkuaGVpZ2h0KCkpO1xuICB9XG5cbiAgcmVsZWFzZSgpOiB2b2lkIHtcbiAgICAvLyBFeHBsaWNpdGx5IHVuc3Vic2NyaWJlIHVzZXIgaW50ZXJhY3Rpb24gZXZlbnQgaGFuZGxlcnMgYmVjYXVzZSB0aGV5IGNvdWxkIGJlIGF0dGFjaGVkIHRvIGFuIGV4dGVybmFsIGVsZW1lbnRcbiAgICAvLyB0aGF0IGlzbid0IG93bmVkIGJ5IHRoZSBVSSBhbmQgdGhlcmVmb3JlIG5vdCByZW1vdmVkIG9uIHJlbGVhc2UuXG4gICAgaWYgKHRoaXMudXNlckludGVyYWN0aW9uRXZlbnRzKSB7XG4gICAgICB0aGlzLnVzZXJJbnRlcmFjdGlvbkV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4gdGhpcy51c2VySW50ZXJhY3Rpb25FdmVudFNvdXJjZS5vZmYoZXZlbnQubmFtZSwgZXZlbnQuaGFuZGxlcikpO1xuICAgIH1cblxuICAgIHN1cGVyLnJlbGVhc2UoKTtcblxuICAgIGlmICh0aGlzLnVpSGlkZVRpbWVvdXQpIHtcbiAgICAgIHRoaXMudWlIaWRlVGltZW91dC5jbGVhcigpO1xuICAgIH1cbiAgfVxuXG4gIG9uUGxheWVyU3RhdGVDaGFuZ2UoKTogVWlFdmVudDxVSUNvbnRhaW5lciwgUGxheWVyVXRpbHMuUGxheWVyU3RhdGU+IHtcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJTdGF0ZUNoYW5nZS5nZXRFdmVudCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHN1c3BlbmRIaWRlVGltZW91dCgpIHtcbiAgICB0aGlzLnVpSGlkZVRpbWVvdXQuc3VzcGVuZCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlc3VtZUhpZGVUaW1lb3V0KCkge1xuICAgIHRoaXMudWlIaWRlVGltZW91dC5yZXN1bWUoIXRoaXMuaGlkaW5nUHJldmVudGVkKCkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHRvRG9tRWxlbWVudCgpOiBET00ge1xuICAgIGxldCBjb250YWluZXIgPSBzdXBlci50b0RvbUVsZW1lbnQoKTtcblxuICAgIC8vIERldGVjdCBmbGV4Ym94IHN1cHBvcnQgKG5vdCBzdXBwb3J0ZWQgaW4gSUU5KVxuICAgIGlmIChkb2N1bWVudCAmJiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLnN0eWxlLmZsZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoJ2ZsZXhib3gnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLnByZWZpeENzcygnbm8tZmxleGJveCcpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG59XG4iLCJpbXBvcnQge1NlbGVjdEJveH0gZnJvbSAnLi9zZWxlY3Rib3gnO1xuaW1wb3J0IHtMaXN0U2VsZWN0b3JDb25maWd9IGZyb20gJy4vbGlzdHNlbGVjdG9yJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEkgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9pMThuJztcblxuLyoqXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIGJldHdlZW4gJ2F1dG8nIGFuZCB0aGUgYXZhaWxhYmxlIHZpZGVvIHF1YWxpdGllcy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgVmlkZW9RdWFsaXR5U2VsZWN0Qm94IGV4dGVuZHMgU2VsZWN0Qm94IHtcblxuICBwcml2YXRlIGhhc0F1dG86IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBMaXN0U2VsZWN0b3JDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzc2VzOiBbJ3VpLXZpZGVvcXVhbGl0eXNlbGVjdGJveCddLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICBsZXQgc2VsZWN0Q3VycmVudFZpZGVvUXVhbGl0eSA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2VsZWN0SXRlbShwbGF5ZXIuZ2V0VmlkZW9RdWFsaXR5KCkuaWQpO1xuICAgIH07XG5cbiAgICBsZXQgdXBkYXRlVmlkZW9RdWFsaXRpZXMgPSAoKSA9PiB7XG4gICAgICBsZXQgdmlkZW9RdWFsaXRpZXMgPSBwbGF5ZXIuZ2V0QXZhaWxhYmxlVmlkZW9RdWFsaXRpZXMoKTtcblxuICAgICAgdGhpcy5jbGVhckl0ZW1zKCk7XG5cbiAgICAgIC8vIFByb2dyZXNzaXZlIHN0cmVhbXMgZG8gbm90IHN1cHBvcnQgYXV0b21hdGljIHF1YWxpdHkgc2VsZWN0aW9uXG4gICAgICB0aGlzLmhhc0F1dG8gPSBwbGF5ZXIuZ2V0U3RyZWFtVHlwZSgpICE9PSAncHJvZ3Jlc3NpdmUnO1xuXG4gICAgICBpZiAodGhpcy5oYXNBdXRvKSB7XG4gICAgICAgIC8vIEFkZCBlbnRyeSBmb3IgYXV0b21hdGljIHF1YWxpdHkgc3dpdGNoaW5nIChkZWZhdWx0IHNldHRpbmcpXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnYXV0bycsIGkxOG4uZ2V0TG9jYWxpemVyKCdhdXRvJykpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgdmlkZW8gcXVhbGl0aWVzXG4gICAgICBmb3IgKGxldCB2aWRlb1F1YWxpdHkgb2YgdmlkZW9RdWFsaXRpZXMpIHtcbiAgICAgICAgdGhpcy5hZGRJdGVtKHZpZGVvUXVhbGl0eS5pZCwgdmlkZW9RdWFsaXR5LmxhYmVsKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2VsZWN0IGluaXRpYWwgcXVhbGl0eVxuICAgICAgc2VsZWN0Q3VycmVudFZpZGVvUXVhbGl0eSgpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZSgoc2VuZGVyOiBWaWRlb1F1YWxpdHlTZWxlY3RCb3gsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgIHBsYXllci5zZXRWaWRlb1F1YWxpdHkodmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIHNvdXJjZSBnb2VzIGF3YXlcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU291cmNlVW5sb2FkZWQsIHVwZGF0ZVZpZGVvUXVhbGl0aWVzKTtcbiAgICAvLyBVcGRhdGUgcXVhbGl0aWVzIHdoZW4gdGhlIHBlcmlvZCB3aXRoaW4gYSBzb3VyY2UgY2hhbmdlc1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QZXJpb2RTd2l0Y2hlZCwgdXBkYXRlVmlkZW9RdWFsaXRpZXMpO1xuICAgIC8vIFVwZGF0ZSBxdWFsaXR5IHNlbGVjdGlvbiB3aGVuIHF1YWxpdHkgaXMgY2hhbmdlZCAoZnJvbSBvdXRzaWRlKVxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5WaWRlb1F1YWxpdHlDaGFuZ2VkLCBzZWxlY3RDdXJyZW50VmlkZW9RdWFsaXR5KTtcblxuICAgIGlmICgocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQgYXMgYW55KS5WaWRlb1F1YWxpdHlBZGRlZCkge1xuICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIHRoZWlyIGF2YWlsYWJpbGl0eSBjaGFuZ2VkXG4gICAgICAvLyBUT0RPOiByZW1vdmUgYW55IGNhc3QgYWZ0ZXIgbmV4dCBwbGF5ZXIgcmVsZWFzZVxuICAgICAgcGxheWVyLm9uKChwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudCBhcyBhbnkpLlZpZGVvUXVhbGl0eUFkZGVkLCB1cGRhdGVWaWRlb1F1YWxpdGllcyk7XG4gICAgICBwbGF5ZXIub24oKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50IGFzIGFueSkuVmlkZW9RdWFsaXR5UmVtb3ZlZCwgdXBkYXRlVmlkZW9RdWFsaXRpZXMpO1xuICAgIH1cblxuICAgIHVpbWFuYWdlci5nZXRDb25maWcoKS5ldmVudHMub25VcGRhdGVkLnN1YnNjcmliZSh1cGRhdGVWaWRlb1F1YWxpdGllcyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzZWxlY3QgYm94IGNvbnRhaW5zIGFuICdhdXRvJyBpdGVtIGZvciBhdXRvbWF0aWMgcXVhbGl0eSBzZWxlY3Rpb24gbW9kZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGhhc0F1dG9JdGVtKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmhhc0F1dG87XG4gIH1cbn0iLCJpbXBvcnQge0NvbnRhaW5lciwgQ29udGFpbmVyQ29uZmlnfSBmcm9tICcuL2NvbnRhaW5lcic7XG5pbXBvcnQge1ZvbHVtZVNsaWRlcn0gZnJvbSAnLi92b2x1bWVzbGlkZXInO1xuaW1wb3J0IHtWb2x1bWVUb2dnbGVCdXR0b259IGZyb20gJy4vdm9sdW1ldG9nZ2xlYnV0dG9uJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQge1RpbWVvdXR9IGZyb20gJy4uL3RpbWVvdXQnO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgYSB7QGxpbmsgVm9sdW1lQ29udHJvbEJ1dHRvbn0uXG4gKlxuICogQGNhdGVnb3J5IENvbmZpZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWb2x1bWVDb250cm9sQnV0dG9uQ29uZmlnIGV4dGVuZHMgQ29udGFpbmVyQ29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBkZWxheSBhZnRlciB3aGljaCB0aGUgdm9sdW1lIHNsaWRlciB3aWxsIGJlIGhpZGRlbiB3aGVuIHRoZXJlIGlzIG5vIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAqIENhcmUgbXVzdCBiZSB0YWtlbiB0aGF0IHRoZSBkZWxheSBpcyBsb25nIGVub3VnaCBzbyB1c2VycyBjYW4gcmVhY2ggdGhlIHNsaWRlciBmcm9tIHRoZSB0b2dnbGUgYnV0dG9uLCBlLmcuIGJ5XG4gICAqIG1vdXNlIG1vdmVtZW50LiBJZiB0aGUgZGVsYXkgaXMgdG9vIHNob3J0LCB0aGUgc2xpZGVycyBkaXNhcHBlYXJzIGJlZm9yZSB0aGUgbW91c2UgcG9pbnRlciBoYXMgcmVhY2hlZCBpdCBhbmRcbiAgICogdGhlIHVzZXIgaXMgbm90IGFibGUgdG8gdXNlIGl0LlxuICAgKiBEZWZhdWx0OiA1MDBtc1xuICAgKi9cbiAgaGlkZURlbGF5PzogbnVtYmVyO1xuICAvKipcbiAgICogU3BlY2lmaWVzIGlmIHRoZSB2b2x1bWUgc2xpZGVyIHNob3VsZCBiZSB2ZXJ0aWNhbGx5IG9yIGhvcml6b250YWxseSBhbGlnbmVkLlxuICAgKiBEZWZhdWx0OiB0cnVlXG4gICAqL1xuICB2ZXJ0aWNhbD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQSBjb21wb3NpdGUgdm9sdW1lIGNvbnRyb2wgdGhhdCBjb25zaXN0cyBvZiBhbmQgaW50ZXJuYWxseSBtYW5hZ2VzIGEgdm9sdW1lIGNvbnRyb2wgYnV0dG9uIHRoYXQgY2FuIGJlIHVzZWRcbiAqIGZvciBtdXRpbmcsIGFuZCBhIChkZXBlbmRpbmcgb24gdGhlIENTUyBzdHlsZSwgZS5nLiBzbGlkZS1vdXQpIHZvbHVtZSBjb250cm9sIGJhci5cbiAqXG4gKiBAY2F0ZWdvcnkgQnV0dG9uc1xuICovXG5leHBvcnQgY2xhc3MgVm9sdW1lQ29udHJvbEJ1dHRvbiBleHRlbmRzIENvbnRhaW5lcjxWb2x1bWVDb250cm9sQnV0dG9uQ29uZmlnPiB7XG5cbiAgcHJpdmF0ZSB2b2x1bWVUb2dnbGVCdXR0b246IFZvbHVtZVRvZ2dsZUJ1dHRvbjtcbiAgcHJpdmF0ZSB2b2x1bWVTbGlkZXI6IFZvbHVtZVNsaWRlcjtcblxuICBwcml2YXRlIHZvbHVtZVNsaWRlckhpZGVUaW1lb3V0OiBUaW1lb3V0O1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogVm9sdW1lQ29udHJvbEJ1dHRvbkNvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMudm9sdW1lVG9nZ2xlQnV0dG9uID0gbmV3IFZvbHVtZVRvZ2dsZUJ1dHRvbigpO1xuICAgIHRoaXMudm9sdW1lU2xpZGVyID0gbmV3IFZvbHVtZVNsaWRlcih7XG4gICAgICB2ZXJ0aWNhbDogY29uZmlnLnZlcnRpY2FsICE9IG51bGwgPyBjb25maWcudmVydGljYWwgOiB0cnVlLFxuICAgICAgaGlkZGVuOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xuICAgICAgY3NzQ2xhc3M6ICd1aS12b2x1bWVjb250cm9sYnV0dG9uJyxcbiAgICAgIGNvbXBvbmVudHM6IFt0aGlzLnZvbHVtZVRvZ2dsZUJ1dHRvbiwgdGhpcy52b2x1bWVTbGlkZXJdLFxuICAgICAgaGlkZURlbGF5OiA1MDAsXG4gICAgfSwgPFZvbHVtZUNvbnRyb2xCdXR0b25Db25maWc+dGhpcy5jb25maWcpO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcblxuICAgIGxldCB2b2x1bWVUb2dnbGVCdXR0b24gPSB0aGlzLmdldFZvbHVtZVRvZ2dsZUJ1dHRvbigpO1xuICAgIGxldCB2b2x1bWVTbGlkZXIgPSB0aGlzLmdldFZvbHVtZVNsaWRlcigpO1xuXG4gICAgdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dCA9IG5ldyBUaW1lb3V0KHRoaXMuZ2V0Q29uZmlnKCkuaGlkZURlbGF5LCAoKSA9PiB7XG4gICAgICB2b2x1bWVTbGlkZXIuaGlkZSgpO1xuICAgIH0pO1xuXG4gICAgLypcbiAgICAgKiBWb2x1bWUgU2xpZGVyIHZpc2liaWxpdHkgaGFuZGxpbmdcbiAgICAgKlxuICAgICAqIFRoZSB2b2x1bWUgc2xpZGVyIHNoYWxsIGJlIHZpc2libGUgd2hpbGUgdGhlIHVzZXIgaG92ZXJzIHRoZSBtdXRlIHRvZ2dsZSBidXR0b24sIHdoaWxlIHRoZSB1c2VyIGhvdmVycyB0aGVcbiAgICAgKiB2b2x1bWUgc2xpZGVyLCBhbmQgd2hpbGUgdGhlIHVzZXIgc2xpZGVzIHRoZSB2b2x1bWUgc2xpZGVyLiBJZiBub25lIG9mIHRoZXNlIHNpdHVhdGlvbnMgYXJlIHRydWUsIHRoZSBzbGlkZXJcbiAgICAgKiBzaGFsbCBkaXNhcHBlYXIuXG4gICAgICovXG4gICAgbGV0IHZvbHVtZVNsaWRlckhvdmVyZWQgPSBmYWxzZTtcbiAgICB2b2x1bWVUb2dnbGVCdXR0b24uZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWVudGVyJywgKCkgPT4ge1xuICAgICAgLy8gU2hvdyB2b2x1bWUgc2xpZGVyIHdoZW4gbW91c2UgZW50ZXJzIHRoZSBidXR0b24gYXJlYVxuICAgICAgaWYgKHZvbHVtZVNsaWRlci5pc0hpZGRlbigpKSB7XG4gICAgICAgIHZvbHVtZVNsaWRlci5zaG93KCk7XG4gICAgICB9XG4gICAgICAvLyBBdm9pZCBoaWRpbmcgb2YgdGhlIHNsaWRlciB3aGVuIGJ1dHRvbiBpcyBob3ZlcmVkXG4gICAgICB0aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LmNsZWFyKCk7XG4gICAgfSk7XG4gICAgdm9sdW1lVG9nZ2xlQnV0dG9uLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgIC8vIEhpZGUgc2xpZGVyIGRlbGF5ZWQgd2hlbiBidXR0b24gaXMgbGVmdFxuICAgICAgdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5yZXNldCgpO1xuICAgIH0pO1xuICAgIHZvbHVtZVNsaWRlci5nZXREb21FbGVtZW50KCkub24oJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgICAvLyBXaGVuIHRoZSBzbGlkZXIgaXMgZW50ZXJlZCwgY2FuY2VsIHRoZSBoaWRlIHRpbWVvdXQgYWN0aXZhdGVkIGJ5IGxlYXZpbmcgdGhlIGJ1dHRvblxuICAgICAgdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5jbGVhcigpO1xuICAgICAgdm9sdW1lU2xpZGVySG92ZXJlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgdm9sdW1lU2xpZGVyLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgIC8vIFdoZW4gbW91c2UgbGVhdmVzIHRoZSBzbGlkZXIsIG9ubHkgaGlkZSBpdCBpZiB0aGVyZSBpcyBubyBzbGlkZSBvcGVyYXRpb24gaW4gcHJvZ3Jlc3NcbiAgICAgIGlmICh2b2x1bWVTbGlkZXIuaXNTZWVraW5nKCkpIHtcbiAgICAgICAgdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5jbGVhcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5yZXNldCgpO1xuICAgICAgfVxuICAgICAgdm9sdW1lU2xpZGVySG92ZXJlZCA9IGZhbHNlO1xuICAgIH0pO1xuICAgIHZvbHVtZVNsaWRlci5vblNlZWtlZC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgLy8gV2hlbiBhIHNsaWRlIG9wZXJhdGlvbiBpcyBkb25lIGFuZCB0aGUgc2xpZGVyIG5vdCBob3ZlcmVkIChtb3VzZSBvdXRzaWRlIHNsaWRlciksIGhpZGUgc2xpZGVyIGRlbGF5ZWRcbiAgICAgIGlmICghdm9sdW1lU2xpZGVySG92ZXJlZCkge1xuICAgICAgICB0aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LnJlc2V0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZWxlYXNlKCk6IHZvaWQge1xuICAgIHN1cGVyLnJlbGVhc2UoKTtcbiAgICB0aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBpbnRlcm5hbGx5IG1hbmFnZWQgdm9sdW1lIHRvZ2dsZSBidXR0b24uXG4gICAqIEByZXR1cm5zIHtWb2x1bWVUb2dnbGVCdXR0b259XG4gICAqL1xuICBnZXRWb2x1bWVUb2dnbGVCdXR0b24oKTogVm9sdW1lVG9nZ2xlQnV0dG9uIHtcbiAgICByZXR1cm4gdGhpcy52b2x1bWVUb2dnbGVCdXR0b247XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBpbnRlcm5hbGx5IG1hbmFnZWQgdm9sdW1lIHNpbGRlci5cbiAgICogQHJldHVybnMge1ZvbHVtZVNsaWRlcn1cbiAgICovXG4gIGdldFZvbHVtZVNsaWRlcigpOiBWb2x1bWVTbGlkZXIge1xuICAgIHJldHVybiB0aGlzLnZvbHVtZVNsaWRlcjtcbiAgfVxufSIsImltcG9ydCB7IFNlZWtCYXIsIFNlZWtCYXJDb25maWcsIFNlZWtQcmV2aWV3RXZlbnRBcmdzIH0gZnJvbSAnLi9zZWVrYmFyJztcbmltcG9ydCB7IFVJSW5zdGFuY2VNYW5hZ2VyIH0gZnJvbSAnLi4vdWltYW5hZ2VyJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBWb2x1bWVUcmFuc2l0aW9uIH0gZnJvbSAnLi4vdm9sdW1lY29udHJvbGxlcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gaW50ZXJmYWNlIGZvciB0aGUge0BsaW5rIFZvbHVtZVNsaWRlcn0gY29tcG9uZW50LlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVm9sdW1lU2xpZGVyQ29uZmlnIGV4dGVuZHMgU2Vla0JhckNvbmZpZyB7XG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgaWYgdGhlIHZvbHVtZSBzbGlkZXIgc2hvdWxkIGJlIGF1dG9tYXRpY2FsbHkgaGlkZGVuIHdoZW4gdm9sdW1lIGNvbnRyb2wgaXMgcHJvaGliaXRlZCBieSB0aGVcbiAgICogYnJvd3NlciBvciBwbGF0Zm9ybS4gVGhpcyBjdXJyZW50bHkgb25seSBhcHBsaWVzIHRvIGlPUy5cbiAgICogRGVmYXVsdDogdHJ1ZVxuICAgKi9cbiAgaGlkZUlmVm9sdW1lQ29udHJvbFByb2hpYml0ZWQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEEgc2ltcGxlIHZvbHVtZSBzbGlkZXIgY29tcG9uZW50IHRvIGFkanVzdCB0aGUgcGxheWVyJ3Mgdm9sdW1lIHNldHRpbmcuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFZvbHVtZVNsaWRlciBleHRlbmRzIFNlZWtCYXIge1xuICBwcml2YXRlIHZvbHVtZVRyYW5zaXRpb246IFZvbHVtZVRyYW5zaXRpb247XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBWb2x1bWVTbGlkZXJDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCA8Vm9sdW1lU2xpZGVyQ29uZmlnPntcbiAgICAgIGNzc0NsYXNzOiAndWktdm9sdW1lc2xpZGVyJyxcbiAgICAgIGhpZGVJZlZvbHVtZUNvbnRyb2xQcm9oaWJpdGVkOiB0cnVlLFxuICAgICAgYXJpYUxhYmVsOiBpMThuLmdldExvY2FsaXplcignc2V0dGluZ3MuYXVkaW8udm9sdW1lJyksXG4gICAgICB0YWJJbmRleDogMCxcbiAgICB9LCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBwcml2YXRlIHNldFZvbHVtZUFyaWFTbGlkZXJWYWx1ZXModmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmF0dHIoJ2FyaWEtdmFsdWVub3cnLCBNYXRoLmNlaWwodmFsdWUpLnRvU3RyaW5nKCkpO1xuICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmF0dHIoJ2FyaWEtdmFsdWV0ZXh0JywgYCR7aTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKGkxOG4uZ2V0TG9jYWxpemVyKCdzZWVrQmFyLnZhbHVlJykpfTogJHtNYXRoLmNlaWwodmFsdWUpfWApO1xuICB9XG5cbiAgY29uZmlndXJlKHBsYXllcjogUGxheWVyQVBJLCB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgc3VwZXIuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyLCBmYWxzZSk7XG5cbiAgICB0aGlzLnNldEFyaWFTbGlkZXJNaW5NYXgoJzAnLCAnMTAwJyk7XG5cbiAgICBsZXQgY29uZmlnID0gPFZvbHVtZVNsaWRlckNvbmZpZz50aGlzLmdldENvbmZpZygpO1xuXG4gICAgY29uc3Qgdm9sdW1lQ29udHJvbGxlciA9IHVpbWFuYWdlci5nZXRDb25maWcoKS52b2x1bWVDb250cm9sbGVyO1xuXG4gICAgaWYgKGNvbmZpZy5oaWRlSWZWb2x1bWVDb250cm9sUHJvaGliaXRlZCAmJiAhdGhpcy5kZXRlY3RWb2x1bWVDb250cm9sQXZhaWxhYmlsaXR5KCkpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuXG4gICAgICAvLyBXZSBjYW4ganVzdCByZXR1cm4gZnJvbSBoZXJlLCBiZWNhdXNlIHRoZSB1c2VyIHdpbGwgbmV2ZXIgaW50ZXJhY3Qgd2l0aCB0aGUgY29udHJvbCBhbmQgYW55IGNvbmZpZ3VyZWRcbiAgICAgIC8vIGZ1bmN0aW9uYWxpdHkgd291bGQgb25seSBlYXQgcmVzb3VyY2VzIGZvciBubyByZWFzb24uXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdm9sdW1lQ29udHJvbGxlci5vbkNoYW5nZWQuc3Vic2NyaWJlKChfLCBhcmdzKSA9PiB7XG4gICAgICBpZiAoYXJncy5tdXRlZCkge1xuICAgICAgICB0aGlzLnNldFZvbHVtZUFyaWFTbGlkZXJWYWx1ZXMoMCk7XG4gICAgICAgIHRoaXMuc2V0UGxheWJhY2tQb3NpdGlvbigwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0UGxheWJhY2tQb3NpdGlvbihhcmdzLnZvbHVtZSk7XG4gICAgICAgIHRoaXMuc2V0Vm9sdW1lQXJpYVNsaWRlclZhbHVlcyhhcmdzLnZvbHVtZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uU2Vlay5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy52b2x1bWVUcmFuc2l0aW9uID0gdm9sdW1lQ29udHJvbGxlci5zdGFydFRyYW5zaXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMub25TZWVrUHJldmlldy5zdWJzY3JpYmVSYXRlTGltaXRlZCh0aGlzLnVwZGF0ZVZvbHVtZVdoaWxlU2NydWJiaW5nLCA1MCk7XG4gICAgdGhpcy5vblNlZWtlZC5zdWJzY3JpYmUoKHNlbmRlciwgcGVyY2VudGFnZSkgPT4ge1xuICAgICAgaWYgKHRoaXMudm9sdW1lVHJhbnNpdGlvbikge1xuICAgICAgICB0aGlzLnZvbHVtZVRyYW5zaXRpb24uZmluaXNoKHBlcmNlbnRhZ2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgc2xpZGVyIG1hcmtlciB3aGVuIHRoZSBwbGF5ZXIgcmVzaXplZCwgYSBzb3VyY2UgaXMgbG9hZGVkLFxuICAgIC8vIG9yIHRoZSBVSSBpcyBjb25maWd1cmVkLiBDaGVjayB0aGUgc2Vla2JhciBmb3IgYSBkZXRhaWxlZCBkZXNjcmlwdGlvbi5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuUGxheWVyUmVzaXplZCwgKCkgPT4ge1xuICAgICAgdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xuICAgIH0pO1xuICAgIHVpbWFuYWdlci5vbkNvbmZpZ3VyZWQuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHRoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcbiAgICB9KTtcblxuICAgIHVpbWFuYWdlci5nZXRDb25maWcoKS5ldmVudHMub25VcGRhdGVkLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB1aW1hbmFnZXIub25Db21wb25lbnRTaG93LnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XG4gICAgfSk7XG4gICAgdWltYW5hZ2VyLm9uQ29tcG9uZW50SGlkZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xuICAgIH0pO1xuXG4gICAgLy8gSW5pdCB2b2x1bWUgYmFyXG4gICAgdm9sdW1lQ29udHJvbGxlci5vbkNoYW5nZWRFdmVudCgpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVWb2x1bWVXaGlsZVNjcnViYmluZyA9IChzZW5kZXI6IFZvbHVtZVNsaWRlciwgYXJnczogU2Vla1ByZXZpZXdFdmVudEFyZ3MpID0+IHtcbiAgICBpZiAoYXJncy5zY3J1YmJpbmcgJiYgdGhpcy52b2x1bWVUcmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLnZvbHVtZVRyYW5zaXRpb24udXBkYXRlKGFyZ3MucG9zaXRpb24pO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGRldGVjdFZvbHVtZUNvbnRyb2xBdmFpbGFiaWxpdHkoKTogYm9vbGVhbiB7XG4gICAgLypcbiAgICAgKiBcIk9uIGlPUyBkZXZpY2VzLCB0aGUgYXVkaW8gbGV2ZWwgaXMgYWx3YXlzIHVuZGVyIHRoZSB1c2Vy4oCZcyBwaHlzaWNhbCBjb250cm9sLiBUaGUgdm9sdW1lIHByb3BlcnR5IGlzIG5vdFxuICAgICAqIHNldHRhYmxlIGluIEphdmFTY3JpcHQuIFJlYWRpbmcgdGhlIHZvbHVtZSBwcm9wZXJ0eSBhbHdheXMgcmV0dXJucyAxLlwiXG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvY29udGVudC9kb2N1bWVudGF0aW9uL0F1ZGlvVmlkZW8vQ29uY2VwdHVhbC9Vc2luZ19IVE1MNV9BdWRpb19WaWRlby9EZXZpY2UtU3BlY2lmaWNDb25zaWRlcmF0aW9ucy9EZXZpY2UtU3BlY2lmaWNDb25zaWRlcmF0aW9ucy5odG1sXG4gICAgICovXG4gICAgLy8gYXMgbXV0ZWQgYXV0b3BsYXkgZ2V0cyBwYXVzZWQgYXMgc29vbiBhcyB3ZSB1bm11dGUgaXQsIHdlIG1heSBub3QgdG91Y2ggdGhlIHZvbHVtZSBvZiB0aGUgYWN0dWFsIHBsYXllciBzbyB3ZVxuICAgIC8vIHByb2JlIGEgZHVtbXkgYXVkaW8gZWxlbWVudFxuICAgIGNvbnN0IGR1bW15VmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAvLyB0cnkgc2V0dGluZyB0aGUgdm9sdW1lIHRvIDAuNyBhbmQgaWYgaXQncyBzdGlsbCAxIHdlIGFyZSBvbiBhIHZvbHVtZSBjb250cm9sIHJlc3RyaWN0ZWQgZGV2aWNlXG4gICAgZHVtbXlWaWRlb0VsZW1lbnQudm9sdW1lID0gMC43O1xuICAgIHJldHVybiBkdW1teVZpZGVvRWxlbWVudC52b2x1bWUgIT09IDE7XG4gIH1cblxuICByZWxlYXNlKCk6IHZvaWQge1xuICAgIHN1cGVyLnJlbGVhc2UoKTtcblxuICAgIHRoaXMub25TZWVrUHJldmlldy51bnN1YnNjcmliZSh0aGlzLnVwZGF0ZVZvbHVtZVdoaWxlU2NydWJiaW5nKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtUb2dnbGVCdXR0b24sIFRvZ2dsZUJ1dHRvbkNvbmZpZ30gZnJvbSAnLi90b2dnbGVidXR0b24nO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIGF1ZGlvIG11dGluZy5cbiAqXG4gKiBAY2F0ZWdvcnkgQnV0dG9uc1xuICovXG5leHBvcnQgY2xhc3MgVm9sdW1lVG9nZ2xlQnV0dG9uIGV4dGVuZHMgVG9nZ2xlQnV0dG9uPFRvZ2dsZUJ1dHRvbkNvbmZpZz4ge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogVG9nZ2xlQnV0dG9uQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihjb25maWcpO1xuXG4gICAgY29uc3QgZGVmYXVsdENvbmZpZzogVG9nZ2xlQnV0dG9uQ29uZmlnID0ge1xuICAgICAgY3NzQ2xhc3M6ICd1aS12b2x1bWV0b2dnbGVidXR0b24nLFxuICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLmF1ZGlvLm11dGUnKSxcbiAgICAgIG9uQ2xhc3M6ICdtdXRlZCcsXG4gICAgICBvZmZDbGFzczogJ3VubXV0ZWQnLFxuICAgICAgYXJpYUxhYmVsOiBpMThuLmdldExvY2FsaXplcignc2V0dGluZ3MuYXVkaW8ubXV0ZScpLFxuICAgIH07XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCBkZWZhdWx0Q29uZmlnLCB0aGlzLmNvbmZpZyk7XG4gIH1cblxuICBjb25maWd1cmUocGxheWVyOiBQbGF5ZXJBUEksIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICBzdXBlci5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xuXG4gICAgY29uc3Qgdm9sdW1lQ29udHJvbGxlciA9IHVpbWFuYWdlci5nZXRDb25maWcoKS52b2x1bWVDb250cm9sbGVyO1xuXG4gICAgdm9sdW1lQ29udHJvbGxlci5vbkNoYW5nZWQuc3Vic2NyaWJlKChfLCBhcmdzKSA9PiB7XG4gICAgICBpZiAoYXJncy5tdXRlZCkge1xuICAgICAgICB0aGlzLm9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9mZigpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2b2x1bWVMZXZlbFRlbnMgPSBNYXRoLmNlaWwoYXJncy52b2x1bWUgLyAxMCk7XG4gICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5kYXRhKHRoaXMucHJlZml4Q3NzKCd2b2x1bWUtbGV2ZWwtdGVucycpLCBTdHJpbmcodm9sdW1lTGV2ZWxUZW5zKSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHZvbHVtZUNvbnRyb2xsZXIudG9nZ2xlTXV0ZWQoKTtcbiAgICB9KTtcblxuICAgIC8vIFN0YXJ0dXAgaW5pdFxuICAgIHZvbHVtZUNvbnRyb2xsZXIub25DaGFuZ2VkRXZlbnQoKTtcbiAgfVxufSIsImltcG9ydCB7VG9nZ2xlQnV0dG9uLCBUb2dnbGVCdXR0b25Db25maWd9IGZyb20gJy4vdG9nZ2xlYnV0dG9uJztcbmltcG9ydCB7VUlJbnN0YW5jZU1hbmFnZXJ9IGZyb20gJy4uL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEksIFBsYXllckV2ZW50QmFzZSwgV2FybmluZ0V2ZW50IH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IGkxOG4gfSBmcm9tICcuLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSB2aWRlbyB2aWV3IGJldHdlZW4gbm9ybWFsL21vbm8gYW5kIFZSL3N0ZXJlby5cbiAqXG4gKiBAY2F0ZWdvcnkgQnV0dG9uc1xuICovXG5leHBvcnQgY2xhc3MgVlJUb2dnbGVCdXR0b24gZXh0ZW5kcyBUb2dnbGVCdXR0b248VG9nZ2xlQnV0dG9uQ29uZmlnPiB7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBUb2dnbGVCdXR0b25Db25maWcgPSB7fSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XG4gICAgICBjc3NDbGFzczogJ3VpLXZydG9nZ2xlYnV0dG9uJyxcbiAgICAgIHRleHQ6IGkxOG4uZ2V0TG9jYWxpemVyKCd2cicpLFxuICAgIH0sIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcik6IHZvaWQge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XG5cbiAgICBsZXQgaXNWUkNvbmZpZ3VyZWQgPSAoKSA9PiB7XG4gICAgICAvLyBWUiBhdmFpbGFiaWxpdHkgY2Fubm90IGJlIGNoZWNrZWQgdGhyb3VnaCBnZXRWUlN0YXR1cygpIGJlY2F1c2UgaXQgaXMgYXN5bmNocm9ub3VzbHkgcG9wdWxhdGVkIGFuZCBub3RcbiAgICAgIC8vIGF2YWlsYWJsZSBhdCBVSSBpbml0aWFsaXphdGlvbi4gQXMgYW4gYWx0ZXJuYXRpdmUsIHdlIGNoZWNrIHRoZSBWUiBzZXR0aW5ncyBpbiB0aGUgY29uZmlnLlxuICAgICAgLy8gVE9ETyB1c2UgZ2V0VlJTdGF0dXMoKSB0aHJvdWdoIGlzVlJTdGVyZW9BdmFpbGFibGUoKSBvbmNlIHRoZSBwbGF5ZXIgaGFzIGJlZW4gcmV3cml0dGVuIGFuZCB0aGUgc3RhdHVzIGlzXG4gICAgICAvLyBhdmFpbGFibGUgaW4gUmVhZHlcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHBsYXllci5nZXRTb3VyY2UoKTtcbiAgICAgIHJldHVybiBzb3VyY2UgJiYgQm9vbGVhbihzb3VyY2UudnIpO1xuICAgIH07XG5cbiAgICBsZXQgaXNWUlN0ZXJlb0F2YWlsYWJsZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHBsYXllci5nZXRTb3VyY2UoKTtcbiAgICAgIHJldHVybiBwbGF5ZXIudnIgJiYgQm9vbGVhbihzb3VyY2UudnIpO1xuICAgIH07XG5cbiAgICBsZXQgdnJTdGF0ZUhhbmRsZXIgPSAoZXY6IFBsYXllckV2ZW50QmFzZSkgPT4ge1xuICAgICAgaWYgKGV2LnR5cGUgPT09IHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50Lldhcm5pbmdcbiAgICAgICAgJiYgKGV2IGFzIFdhcm5pbmdFdmVudCkuY29kZSAhPT0gcGxheWVyLmV4cG9ydHMuV2FybmluZ0NvZGUuVlJfUkVOREVSSU5HX0VSUk9SKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzVlJDb25maWd1cmVkKCkgJiYgaXNWUlN0ZXJlb0F2YWlsYWJsZSgpKSB7XG4gICAgICAgIHRoaXMuc2hvdygpOyAvLyBzaG93IGJ1dHRvbiBpbiBjYXNlIGl0IGlzIGhpZGRlblxuXG4gICAgICAgIGlmIChwbGF5ZXIudnIgJiYgcGxheWVyLnZyLmdldFN0ZXJlbygpKSB7XG4gICAgICAgICAgdGhpcy5vbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub2ZmKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZSgpOyAvLyBoaWRlIGJ1dHRvbiBpZiBubyBzdGVyZW8gbW9kZSBhdmFpbGFibGVcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IHZyQnV0dG9uVmlzaWJpbGl0eUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoaXNWUkNvbmZpZ3VyZWQoKSkge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuVlJTdGVyZW9DaGFuZ2VkLCB2clN0YXRlSGFuZGxlcik7XG4gICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50Lldhcm5pbmcsIHZyU3RhdGVIYW5kbGVyKTtcbiAgICAvLyBIaWRlIGJ1dHRvbiB3aGVuIFZSIHNvdXJjZSBnb2VzIGF3YXlcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU291cmNlVW5sb2FkZWQsIHZyQnV0dG9uVmlzaWJpbGl0eUhhbmRsZXIpO1xuICAgIHVpbWFuYWdlci5nZXRDb25maWcoKS5ldmVudHMub25VcGRhdGVkLnN1YnNjcmliZSh2ckJ1dHRvblZpc2liaWxpdHlIYW5kbGVyKTtcblxuICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgaWYgKCFpc1ZSU3RlcmVvQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgaWYgKGNvbnNvbGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gVlIgY29udGVudCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGxheWVyLnZyICYmIHBsYXllci52ci5nZXRTdGVyZW8oKSkge1xuICAgICAgICAgIHBsYXllci52ci5zZXRTdGVyZW8oZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBsYXllci52ci5zZXRTdGVyZW8odHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNldCBzdGFydHVwIHZpc2liaWxpdHlcbiAgICB2ckJ1dHRvblZpc2liaWxpdHlIYW5kbGVyKCk7XG4gIH1cbn0iLCJpbXBvcnQge0NsaWNrT3ZlcmxheSwgQ2xpY2tPdmVybGF5Q29uZmlnfSBmcm9tICcuL2NsaWNrb3ZlcmxheSc7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gaW50ZXJmYWNlIGZvciBhIHtAbGluayBDbGlja092ZXJsYXl9LlxuICpcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV2F0ZXJtYXJrQ29uZmlnIGV4dGVuZHMgQ2xpY2tPdmVybGF5Q29uZmlnIHtcbiAgLy8gbm90aGluZyB5ZXRcbn1cblxuLyoqXG4gKiBBIHdhdGVybWFyayBvdmVybGF5IHdpdGggYSBjbGlja2FibGUgbG9nby5cbiAqXG4gKiBAY2F0ZWdvcnkgQ29tcG9uZW50c1xuICovXG5leHBvcnQgY2xhc3MgV2F0ZXJtYXJrIGV4dGVuZHMgQ2xpY2tPdmVybGF5IHtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFdhdGVybWFya0NvbmZpZyA9IHt9KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcbiAgICAgIGNzc0NsYXNzOiAndWktd2F0ZXJtYXJrJyxcbiAgICAgIHVybDogJ2h0dHA6Ly9iaXRtb3Zpbi5jb20nLFxuICAgICAgcm9sZTogJ2xpbmsnLFxuICAgICAgdGV4dDogJ2xvZ28nLFxuICAgICAgYXJpYUxhYmVsOiBpMThuLmdldExvY2FsaXplcignd2F0ZXJtYXJrTGluaycpLFxuICAgIH0sIDxXYXRlcm1hcmtDb25maWc+dGhpcy5jb25maWcpO1xuICB9XG59IiwiaW1wb3J0IHtWUlRvZ2dsZUJ1dHRvbn0gZnJvbSAnLi9jb21wb25lbnRzL3ZydG9nZ2xlYnV0dG9uJztcbmltcG9ydCB7U2V0dGluZ3NUb2dnbGVCdXR0b259IGZyb20gJy4vY29tcG9uZW50cy9zZXR0aW5nc3RvZ2dsZWJ1dHRvbic7XG5pbXBvcnQge1ZvbHVtZVNsaWRlcn0gZnJvbSAnLi9jb21wb25lbnRzL3ZvbHVtZXNsaWRlcic7XG5pbXBvcnQge1BsYXliYWNrVGltZUxhYmVsLCBQbGF5YmFja1RpbWVMYWJlbE1vZGV9IGZyb20gJy4vY29tcG9uZW50cy9wbGF5YmFja3RpbWVsYWJlbCc7XG5pbXBvcnQge0FpclBsYXlUb2dnbGVCdXR0b259IGZyb20gJy4vY29tcG9uZW50cy9haXJwbGF5dG9nZ2xlYnV0dG9uJztcbmltcG9ydCB7RXJyb3JNZXNzYWdlT3ZlcmxheX0gZnJvbSAnLi9jb21wb25lbnRzL2Vycm9ybWVzc2FnZW92ZXJsYXknO1xuaW1wb3J0IHtDb250cm9sQmFyfSBmcm9tICcuL2NvbXBvbmVudHMvY29udHJvbGJhcic7XG5pbXBvcnQge0Nhc3RUb2dnbGVCdXR0b259IGZyb20gJy4vY29tcG9uZW50cy9jYXN0dG9nZ2xlYnV0dG9uJztcbmltcG9ydCB7RnVsbHNjcmVlblRvZ2dsZUJ1dHRvbn0gZnJvbSAnLi9jb21wb25lbnRzL2Z1bGxzY3JlZW50b2dnbGVidXR0b24nO1xuaW1wb3J0IHtSZWNvbW1lbmRhdGlvbk92ZXJsYXl9IGZyb20gJy4vY29tcG9uZW50cy9yZWNvbW1lbmRhdGlvbm92ZXJsYXknO1xuaW1wb3J0IHtQbGF5YmFja1NwZWVkU2VsZWN0Qm94fSBmcm9tICcuL2NvbXBvbmVudHMvcGxheWJhY2tzcGVlZHNlbGVjdGJveCc7XG5pbXBvcnQge0F1ZGlvUXVhbGl0eVNlbGVjdEJveH0gZnJvbSAnLi9jb21wb25lbnRzL2F1ZGlvcXVhbGl0eXNlbGVjdGJveCc7XG5pbXBvcnQge0Nhc3RTdGF0dXNPdmVybGF5fSBmcm9tICcuL2NvbXBvbmVudHMvY2FzdHN0YXR1c292ZXJsYXknO1xuaW1wb3J0IHtVSUNvbnRhaW5lcn0gZnJvbSAnLi9jb21wb25lbnRzL3VpY29udGFpbmVyJztcbmltcG9ydCB7V2F0ZXJtYXJrfSBmcm9tICcuL2NvbXBvbmVudHMvd2F0ZXJtYXJrJztcbmltcG9ydCB7U3VidGl0bGVPdmVybGF5fSBmcm9tICcuL2NvbXBvbmVudHMvc3VidGl0bGVvdmVybGF5JztcbmltcG9ydCB7U2V0dGluZ3NQYW5lbH0gZnJvbSAnLi9jb21wb25lbnRzL3NldHRpbmdzcGFuZWwnO1xuaW1wb3J0IHtTZWVrQmFyTGFiZWx9IGZyb20gJy4vY29tcG9uZW50cy9zZWVrYmFybGFiZWwnO1xuaW1wb3J0IHtQbGF5YmFja1RvZ2dsZU92ZXJsYXl9IGZyb20gJy4vY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZW92ZXJsYXknO1xuaW1wb3J0IHtQaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9ufSBmcm9tICcuL2NvbXBvbmVudHMvcGljdHVyZWlucGljdHVyZXRvZ2dsZWJ1dHRvbic7XG5pbXBvcnQge1NwYWNlcn0gZnJvbSAnLi9jb21wb25lbnRzL3NwYWNlcic7XG5pbXBvcnQge0NvbnRhaW5lcn0gZnJvbSAnLi9jb21wb25lbnRzL2NvbnRhaW5lcic7XG5pbXBvcnQge1ZvbHVtZVRvZ2dsZUJ1dHRvbn0gZnJvbSAnLi9jb21wb25lbnRzL3ZvbHVtZXRvZ2dsZWJ1dHRvbic7XG5pbXBvcnQge1BsYXliYWNrVG9nZ2xlQnV0dG9ufSBmcm9tICcuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b24nO1xuaW1wb3J0IHtTZWVrQmFyfSBmcm9tICcuL2NvbXBvbmVudHMvc2Vla2Jhcic7XG5pbXBvcnQge1ZpZGVvUXVhbGl0eVNlbGVjdEJveH0gZnJvbSAnLi9jb21wb25lbnRzL3ZpZGVvcXVhbGl0eXNlbGVjdGJveCc7XG5pbXBvcnQge1VJQ29uZGl0aW9uQ29udGV4dCwgVUlNYW5hZ2VyfSBmcm9tICcuL3VpbWFuYWdlcic7XG5pbXBvcnQge1RpdGxlQmFyfSBmcm9tICcuL2NvbXBvbmVudHMvdGl0bGViYXInO1xuaW1wb3J0IHtCdWZmZXJpbmdPdmVybGF5fSBmcm9tICcuL2NvbXBvbmVudHMvYnVmZmVyaW5nb3ZlcmxheSc7XG5pbXBvcnQge1N1YnRpdGxlTGlzdEJveH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlbGlzdGJveCc7XG5pbXBvcnQge0F1ZGlvVHJhY2tMaXN0Qm94fSBmcm9tICcuL2NvbXBvbmVudHMvYXVkaW90cmFja2xpc3Rib3gnO1xuaW1wb3J0IHtTZXR0aW5nc1BhbmVsSXRlbX0gZnJvbSAnLi9jb21wb25lbnRzL3NldHRpbmdzcGFuZWxpdGVtJztcbmltcG9ydCB7U2V0dGluZ3NQYW5lbFBhZ2V9IGZyb20gJy4vY29tcG9uZW50cy9zZXR0aW5nc3BhbmVscGFnZSc7XG5pbXBvcnQgeyBVSUZhY3RvcnkgfSBmcm9tICcuL3VpZmFjdG9yeSc7XG5pbXBvcnQgeyBVSUNvbmZpZyB9IGZyb20gJy4vdWljb25maWcnO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IFF1aWNrU2Vla0J1dHRvbiB9IGZyb20gJy4vbWFpbic7XG5cbmV4cG9ydCBuYW1lc3BhY2UgRGVtb0ZhY3Rvcnkge1xuXG4gIGV4cG9ydCBmdW5jdGlvbiBidWlsZERlbW9XaXRoU2VwYXJhdGVBdWRpb1N1YnRpdGxlc0J1dHRvbnMocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XG4gICAgLy8gc2hvdyBzbWFsbFNjcmVlbiBVSSBvbmx5IG9uIG1vYmlsZS9oYW5kaGVsZCBkZXZpY2VzXG4gICAgbGV0IHNtYWxsU2NyZWVuU3dpdGNoV2lkdGggPSA2MDA7XG5cbiAgICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIFt7XG4gICAgICB1aTogVUlGYWN0b3J5Lm1vZGVyblNtYWxsU2NyZWVuQWRzVUkoKSxcbiAgICAgIGNvbmRpdGlvbjogKGNvbnRleHQ6IFVJQ29uZGl0aW9uQ29udGV4dCkgPT4ge1xuICAgICAgICByZXR1cm4gY29udGV4dC5pc01vYmlsZSAmJiBjb250ZXh0LmRvY3VtZW50V2lkdGggPCBzbWFsbFNjcmVlblN3aXRjaFdpZHRoXG4gICAgICAgICAgJiYgY29udGV4dC5pc0FkICYmIGNvbnRleHQuYWRSZXF1aXJlc1VpO1xuICAgICAgfSxcbiAgICB9LCB7XG4gICAgICB1aTogVUlGYWN0b3J5Lm1vZGVybkFkc1VJKCksXG4gICAgICBjb25kaXRpb246IChjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuaXNBZCAmJiBjb250ZXh0LmFkUmVxdWlyZXNVaTtcbiAgICAgIH0sXG4gICAgfSwge1xuICAgICAgdWk6IFVJRmFjdG9yeS5tb2Rlcm5TbWFsbFNjcmVlblVJKCksXG4gICAgICBjb25kaXRpb246IChjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuaXNNb2JpbGUgJiYgY29udGV4dC5kb2N1bWVudFdpZHRoIDwgc21hbGxTY3JlZW5Td2l0Y2hXaWR0aDtcbiAgICAgIH0sXG4gICAgfSwge1xuICAgICAgdWk6IG1vZGVyblVJV2l0aFNlcGFyYXRlQXVkaW9TdWJ0aXRsZXNCdXR0b25zKCksXG4gICAgfV0sIGNvbmZpZyk7XG4gIH1cblxuICBmdW5jdGlvbiBtb2Rlcm5VSVdpdGhTZXBhcmF0ZUF1ZGlvU3VidGl0bGVzQnV0dG9ucygpIHtcbiAgICBsZXQgc3VidGl0bGVPdmVybGF5ID0gbmV3IFN1YnRpdGxlT3ZlcmxheSgpO1xuXG4gICAgbGV0IHNldHRpbmdzUGFuZWwgPSBuZXcgU2V0dGluZ3NQYW5lbCh7XG4gICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsUGFnZSh7XG4gICAgICAgICAgY29tcG9uZW50czogW1xuICAgICAgICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKCdWaWRlbyBRdWFsaXR5JywgbmV3IFZpZGVvUXVhbGl0eVNlbGVjdEJveCgpKSxcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbSgnU3BlZWQnLCBuZXcgUGxheWJhY2tTcGVlZFNlbGVjdEJveCgpKSxcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gUXVhbGl0eScsIG5ldyBBdWRpb1F1YWxpdHlTZWxlY3RCb3goKSksXG4gICAgICAgICAgXSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgaGlkZGVuOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgbGV0IHN1YnRpdGxlTGlzdEJveCA9IG5ldyBTdWJ0aXRsZUxpc3RCb3goKTtcbiAgICBsZXQgc3VidGl0bGVTZXR0aW5nc1BhbmVsID0gbmV3IFNldHRpbmdzUGFuZWwoe1xuICAgICAgY29tcG9uZW50czogW1xuICAgICAgICBuZXcgU2V0dGluZ3NQYW5lbFBhZ2Uoe1xuICAgICAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbShudWxsLCBzdWJ0aXRsZUxpc3RCb3gpLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIGhpZGRlbjogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGxldCBhdWRpb1RyYWNrTGlzdEJveCA9IG5ldyBBdWRpb1RyYWNrTGlzdEJveCgpO1xuICAgIGxldCBhdWRpb1RyYWNrU2V0dGluZ3NQYW5lbCA9IG5ldyBTZXR0aW5nc1BhbmVsKHtcbiAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgbmV3IFNldHRpbmdzUGFuZWxQYWdlKHtcbiAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0obnVsbCwgYXVkaW9UcmFja0xpc3RCb3gpLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIGhpZGRlbjogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGxldCBjb250cm9sQmFyID0gbmV3IENvbnRyb2xCYXIoe1xuICAgICAgY29tcG9uZW50czogW1xuICAgICAgICBhdWRpb1RyYWNrU2V0dGluZ3NQYW5lbCxcbiAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsLFxuICAgICAgICBzZXR0aW5nc1BhbmVsLFxuICAgICAgICBuZXcgQ29udGFpbmVyKHtcbiAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICBuZXcgUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBQbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudFRpbWUsIGhpZGVJbkxpdmVQbGF5YmFjazogdHJ1ZSB9KSxcbiAgICAgICAgICAgIG5ldyBTZWVrQmFyKHsgbGFiZWw6IG5ldyBTZWVrQmFyTGFiZWwoKSB9KSxcbiAgICAgICAgICAgIG5ldyBQbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IFBsYXliYWNrVGltZUxhYmVsTW9kZS5Ub3RhbFRpbWUsIGNzc0NsYXNzZXM6IFsndGV4dC1yaWdodCddIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLXRvcCddLFxuICAgICAgICB9KSxcbiAgICAgICAgbmV3IENvbnRhaW5lcih7XG4gICAgICAgICAgY29tcG9uZW50czogW1xuICAgICAgICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlQnV0dG9uKCksXG4gICAgICAgICAgICBuZXcgUXVpY2tTZWVrQnV0dG9uKHsgc2Vla1NlY29uZHM6IC0xMCB9KSxcbiAgICAgICAgICAgIG5ldyBRdWlja1NlZWtCdXR0b24oeyBzZWVrU2Vjb25kczogMTAgfSksXG4gICAgICAgICAgICBuZXcgVm9sdW1lVG9nZ2xlQnV0dG9uKCksXG4gICAgICAgICAgICBuZXcgVm9sdW1lU2xpZGVyKCksXG4gICAgICAgICAgICBuZXcgU3BhY2VyKCksXG4gICAgICAgICAgICBuZXcgUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbigpLFxuICAgICAgICAgICAgbmV3IEFpclBsYXlUb2dnbGVCdXR0b24oKSxcbiAgICAgICAgICAgIG5ldyBDYXN0VG9nZ2xlQnV0dG9uKCksXG4gICAgICAgICAgICBuZXcgVlJUb2dnbGVCdXR0b24oKSxcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nc1RvZ2dsZUJ1dHRvbih7XG4gICAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IGF1ZGlvVHJhY2tTZXR0aW5nc1BhbmVsLFxuICAgICAgICAgICAgICBjc3NDbGFzczogJ3VpLWF1ZGlvdHJhY2tzZXR0aW5nc3RvZ2dsZWJ1dHRvbicsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nc1RvZ2dsZUJ1dHRvbih7XG4gICAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IHN1YnRpdGxlU2V0dGluZ3NQYW5lbCxcbiAgICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zdWJ0aXRsZXNldHRpbmdzdG9nZ2xlYnV0dG9uJyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbmV3IFNldHRpbmdzVG9nZ2xlQnV0dG9uKHsgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCB9KSxcbiAgICAgICAgICAgIG5ldyBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKCksXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItYm90dG9tJ10sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICB9KTtcblxuICAgIHJldHVybiBuZXcgVUlDb250YWluZXIoe1xuICAgICAgY29tcG9uZW50czogW1xuICAgICAgICBzdWJ0aXRsZU92ZXJsYXksXG4gICAgICAgIG5ldyBCdWZmZXJpbmdPdmVybGF5KCksXG4gICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcbiAgICAgICAgbmV3IENhc3RTdGF0dXNPdmVybGF5KCksXG4gICAgICAgIGNvbnRyb2xCYXIsXG4gICAgICAgIG5ldyBUaXRsZUJhcigpLFxuICAgICAgICBuZXcgUmVjb21tZW5kYXRpb25PdmVybGF5KCksXG4gICAgICAgIG5ldyBXYXRlcm1hcmsoKSxcbiAgICAgICAgbmV3IEVycm9yTWVzc2FnZU92ZXJsYXkoKSxcbiAgICAgIF0sXG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBDb21wb25lbnQsIENvbXBvbmVudENvbmZpZyB9IGZyb20gJy4vY29tcG9uZW50cy9jb21wb25lbnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9mZnNldCB7XG4gIGxlZnQ6IG51bWJlcjtcbiAgdG9wOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2l6ZSB7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENzc1Byb3BlcnRpZXMge1xuICBbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBzdHJpbmc7XG59XG5cbi8qKlxuICogRXh0ZW5kcyB0aGUge0BsaW5rIEhUTUxFbGVtZW50fSBpbnRlcmZhY2Ugd2l0aCBhIGNvbXBvbmVudCBhdHRyaWJ1dGUgdG8gc3RvcmUgdGhlIGFzc29jaWF0ZWQgY29tcG9uZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhUTUxFbGVtZW50V2l0aENvbXBvbmVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29tcG9uZW50PzogQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz47XG59XG5cbi8qKlxuICogU2ltcGxlIERPTSBtYW5pcHVsYXRpb24gYW5kIERPTSBlbGVtZW50IGV2ZW50IGhhbmRsaW5nIG1vZGVsZWQgYWZ0ZXIgalF1ZXJ5IChhcyByZXBsYWNlbWVudCBmb3IgalF1ZXJ5KS5cbiAqXG4gKiBMaWtlIGpRdWVyeSwgRE9NIG9wZXJhdGVzIG9uIHNpbmdsZSBlbGVtZW50cyBhbmQgbGlzdHMgb2YgZWxlbWVudHMuIEZvciBleGFtcGxlOiBjcmVhdGluZyBhbiBlbGVtZW50IHJldHVybnMgYSBET01cbiAqIGluc3RhbmNlIHdpdGggYSBzaW5nbGUgZWxlbWVudCwgc2VsZWN0aW5nIGVsZW1lbnRzIHJldHVybnMgYSBET00gaW5zdGFuY2Ugd2l0aCB6ZXJvLCBvbmUsIG9yIG1hbnkgZWxlbWVudHMuIFNpbWlsYXJcbiAqIHRvIGpRdWVyeSwgc2V0dGVycyB1c3VhbGx5IGFmZmVjdCBhbGwgZWxlbWVudHMsIHdoaWxlIGdldHRlcnMgb3BlcmF0ZSBvbiBvbmx5IHRoZSBmaXJzdCBlbGVtZW50LlxuICogQWxzbyBzaW1pbGFyIHRvIGpRdWVyeSwgbW9zdCBtZXRob2RzIChleGNlcHQgZ2V0dGVycykgcmV0dXJuIHRoZSBET00gaW5zdGFuY2UgZmFjaWxpdGF0aW5nIGVhc3kgY2hhaW5pbmcgb2YgbWV0aG9kXG4gKiBjYWxscy5cbiAqXG4gKiBCdWlsdCB3aXRoIHRoZSBoZWxwIG9mOiBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS9cbiAqL1xuZXhwb3J0IGNsYXNzIERPTSB7XG5cbiAgcHJpdmF0ZSBkb2N1bWVudDogRG9jdW1lbnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGVsZW1lbnRzIHRoYXQgdGhlIGluc3RhbmNlIHdyYXBzLiBUYWtlIGNhcmUgdGhhdCBub3QgYWxsIG1ldGhvZHMgY2FuIG9wZXJhdGUgb24gdGhlIHdob2xlIGxpc3QsXG4gICAqIGdldHRlcnMgdXN1YWxseSBqdXN0IHdvcmsgb24gdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAqL1xuICBwcml2YXRlIGVsZW1lbnRzOiBIVE1MRWxlbWVudFdpdGhDb21wb25lbnRbXTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIERPTSBlbGVtZW50LlxuICAgKiBAcGFyYW0gdGFnTmFtZSB0aGUgdGFnIG5hbWUgb2YgdGhlIERPTSBlbGVtZW50XG4gICAqIEBwYXJhbSBhdHRyaWJ1dGVzIGEgbGlzdCBvZiBhdHRyaWJ1dGVzIG9mIHRoZSBlbGVtZW50XG4gICAqIEBwYXJhbSBjb21wb25lbnQgdGhlIHtAbGluayBDb21wb25lbnR9IHRoZSBET00gZWxlbWVudCBpcyBhc3NvY2lhdGVkIHdpdGhcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRhZ05hbWU6IHN0cmluZywgYXR0cmlidXRlczoge1tuYW1lOiBzdHJpbmddOiBzdHJpbmd9LCBjb21wb25lbnQ/OiBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPik7XG4gIC8qKlxuICAgKiBTZWxlY3RzIGFsbCBlbGVtZW50cyBmcm9tIHRoZSBET00gdGhhdCBtYXRjaCB0aGUgc3BlY2lmaWVkIHNlbGVjdG9yLlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgdGhlIHNlbGVjdG9yIHRvIG1hdGNoIERPTSBlbGVtZW50cyB3aXRoXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rvcjogc3RyaW5nKTtcbiAgLyoqXG4gICAqIFdyYXBzIGEgcGxhaW4gSFRNTEVsZW1lbnQgd2l0aCBhIERPTSBpbnN0YW5jZS5cbiAgICogQHBhcmFtIGVsZW1lbnQgdGhlIEhUTUxFbGVtZW50IHRvIHdyYXAgd2l0aCBET01cbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTtcbiAgLyoqXG4gICAqIFdyYXBzIGEgbGlzdCBvZiBwbGFpbiBIVE1MRWxlbWVudHMgd2l0aCBhIERPTSBpbnN0YW5jZS5cbiAgICogQHBhcmFtIGVsZW1lbnRzIHRoZSBIVE1MRWxlbWVudHMgdG8gd3JhcCB3aXRoIERPTVxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudHM6IEhUTUxFbGVtZW50W10pO1xuICAvKipcbiAgICogV3JhcHMgdGhlIGRvY3VtZW50IHdpdGggYSBET00gaW5zdGFuY2UuIFVzZWZ1bCB0byBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBkb2N1bWVudC5cbiAgICogQHBhcmFtIGRvY3VtZW50IHRoZSBkb2N1bWVudCB0byB3cmFwXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkb2N1bWVudDogRG9jdW1lbnQpO1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIHNvbWV0aGluZzogc3RyaW5nIHwgSFRNTEVsZW1lbnQgfCBIVE1MRWxlbWVudFtdIHwgRG9jdW1lbnQsXG4gICAgICBhdHRyaWJ1dGVzPzoge1tuYW1lOiBzdHJpbmddOiBzdHJpbmd9LFxuICAgICAgY29tcG9uZW50PzogQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz4sXG4gICkge1xuICAgIHRoaXMuZG9jdW1lbnQgPSBkb2N1bWVudDsgLy8gU2V0IHRoZSBnbG9iYWwgZG9jdW1lbnQgdG8gdGhlIGxvY2FsIGRvY3VtZW50IGZpZWxkXG5cbiAgICBpZiAoc29tZXRoaW5nIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIGlmIChzb21ldGhpbmcubGVuZ3RoID4gMCAmJiBzb21ldGhpbmdbMF0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICBsZXQgZWxlbWVudHMgPSBzb21ldGhpbmcgYXMgSFRNTEVsZW1lbnRXaXRoQ29tcG9uZW50W107XG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoc29tZXRoaW5nIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGxldCBlbGVtZW50ID0gc29tZXRoaW5nIGFzIEhUTUxFbGVtZW50V2l0aENvbXBvbmVudDtcbiAgICAgIHRoaXMuZWxlbWVudHMgPSBbZWxlbWVudF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHNvbWV0aGluZyBpbnN0YW5jZW9mIERvY3VtZW50KSB7XG4gICAgICAvLyBXaGVuIGEgZG9jdW1lbnQgaXMgcGFzc2VkIGluLCB3ZSBkbyBub3QgZG8gYW55dGhpbmcgd2l0aCBpdCwgYnV0IGJ5IHNldHRpbmcgdGhpcy5lbGVtZW50cyB0byBudWxsXG4gICAgICAvLyB3ZSBnaXZlIHRoZSBldmVudCBoYW5kbGluZyBtZXRob2QgYSBtZWFucyB0byBkZXRlY3QgaWYgdGhlIGV2ZW50cyBzaG91bGQgYmUgcmVnaXN0ZXJlZCBvbiB0aGUgZG9jdW1lbnRcbiAgICAgIC8vIGluc3RlYWQgb2YgZWxlbWVudHMuXG4gICAgICB0aGlzLmVsZW1lbnRzID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0cmlidXRlcykge1xuICAgICAgbGV0IHRhZ05hbWUgPSBzb21ldGhpbmc7XG4gICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSkgYXMgSFRNTEVsZW1lbnRXaXRoQ29tcG9uZW50O1xuXG4gICAgICBmb3IgKGxldCBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgbGV0IGF0dHJpYnV0ZVZhbHVlID0gYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZVZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICBlbGVtZW50LmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbGVtZW50cyA9IFtlbGVtZW50XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBsZXQgc2VsZWN0b3IgPSBzb21ldGhpbmc7XG4gICAgICB0aGlzLmVsZW1lbnRzID0gdGhpcy5maW5kQ2hpbGRFbGVtZW50cyhzZWxlY3RvcikgYXMgSFRNTEVsZW1lbnRXaXRoQ29tcG9uZW50W107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0aGF0IHRoaXMgRE9NIGluc3RhbmNlIGN1cnJlbnRseSBob2xkcy5cbiAgICogQHJldHVybnMge251bWJlcn0gdGhlIG51bWJlciBvZiBlbGVtZW50c1xuICAgKi9cbiAgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzID8gdGhpcy5lbGVtZW50cy5sZW5ndGggOiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIEhUTUwgZWxlbWVudHMgdGhhdCB0aGlzIERPTSBpbnN0YW5jZSBjdXJyZW50bHkgaG9sZHMuXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFtdfSB0aGUgcmF3IEhUTUwgZWxlbWVudHNcbiAgICovXG4gIGdldCgpOiBIVE1MRWxlbWVudFdpdGhDb21wb25lbnRbXTtcbiAgLyoqXG4gICAqIEdldHMgYW4gSFRNTCBlbGVtZW50IGZyb20gdGhlIGxpc3QgZWxlbWVudHMgdGhhdCB0aGlzIERPTSBpbnN0YW5jZSBjdXJyZW50bHkgaG9sZHMuXG4gICAqIEBwYXJhbSBpbmRleCBUaGUgemVyby1iYXNlZCBpbmRleCBpbnRvIHRoZSBlbGVtZW50IGxpc3QuIENhbiBiZSBuZWdhdGl2ZSB0byByZXR1cm4gYW4gZWxlbWVudCBmcm9tIHRoZSBlbmQsXG4gICAqICAgIGUuZy4gLTEgcmV0dXJucyB0aGUgbGFzdCBlbGVtZW50LlxuICAgKi9cbiAgZ2V0KGluZGV4OiBudW1iZXIpOiBIVE1MRWxlbWVudFdpdGhDb21wb25lbnQ7XG4gIGdldChpbmRleD86IG51bWJlcik6IEhUTUxFbGVtZW50V2l0aENvbXBvbmVudCB8IEhUTUxFbGVtZW50V2l0aENvbXBvbmVudFtdIHtcbiAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHM7XG4gICAgfSBlbHNlIGlmICghdGhpcy5lbGVtZW50cyB8fCBpbmRleCA+PSB0aGlzLmVsZW1lbnRzLmxlbmd0aCB8fCBpbmRleCA8IC10aGlzLmVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKGluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbdGhpcy5lbGVtZW50cy5sZW5ndGggLSBpbmRleF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzW2luZGV4XTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQSBzaG9ydGN1dCBtZXRob2QgZm9yIGl0ZXJhdGluZyBhbGwgZWxlbWVudHMuIFNob3J0cyB0aGlzLmVsZW1lbnRzLmZvckVhY2goLi4uKSB0byB0aGlzLmZvckVhY2goLi4uKS5cbiAgICogQHBhcmFtIGhhbmRsZXIgdGhlIGhhbmRsZXIgdG8gZXhlY3V0ZSBhbiBvcGVyYXRpb24gb24gYW4gZWxlbWVudFxuICAgKi9cbiAgcHJpdmF0ZSBmb3JFYWNoKGhhbmRsZXI6IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5lbGVtZW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGhhbmRsZXIoZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGZpbmRDaGlsZEVsZW1lbnRzT2ZFbGVtZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnQsIHNlbGVjdG9yOiBzdHJpbmcpOiBIVE1MRWxlbWVudFtdIHtcbiAgICBsZXQgY2hpbGRFbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cbiAgICAvLyBDb252ZXJ0IE5vZGVMaXN0IHRvIEFycmF5XG4gICAgLy8gaHR0cHM6Ly90b2RkbW90dG8uY29tL2EtY29tcHJlaGVuc2l2ZS1kaXZlLWludG8tbm9kZWxpc3RzLWFycmF5cy1jb252ZXJ0aW5nLW5vZGVsaXN0cy1hbmQtdW5kZXJzdGFuZGluZy10aGUtZG9tL1xuICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGNoaWxkRWxlbWVudHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kQ2hpbGRFbGVtZW50cyhzZWxlY3Rvcjogc3RyaW5nKTogSFRNTEVsZW1lbnRbXSB7XG4gICAgbGV0IGFsbENoaWxkRWxlbWVudHMgPSA8SFRNTEVsZW1lbnRbXT5bXTtcblxuICAgIGlmICh0aGlzLmVsZW1lbnRzKSB7XG4gICAgICB0aGlzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgYWxsQ2hpbGRFbGVtZW50cyA9IGFsbENoaWxkRWxlbWVudHMuY29uY2F0KHRoaXMuZmluZENoaWxkRWxlbWVudHNPZkVsZW1lbnQoZWxlbWVudCwgc2VsZWN0b3IpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmRDaGlsZEVsZW1lbnRzT2ZFbGVtZW50KGRvY3VtZW50LCBzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFsbENoaWxkRWxlbWVudHM7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgYWxsIGNoaWxkIGVsZW1lbnRzIG9mIGFsbCBlbGVtZW50cyBtYXRjaGluZyB0aGUgc3VwcGxpZWQgc2VsZWN0b3IuXG4gICAqIEBwYXJhbSBzZWxlY3RvciB0aGUgc2VsZWN0b3IgdG8gbWF0Y2ggd2l0aCBjaGlsZCBlbGVtZW50c1xuICAgKiBAcmV0dXJucyB7RE9NfSBhIG5ldyBET00gaW5zdGFuY2UgcmVwcmVzZW50aW5nIGFsbCBtYXRjaGVkIGNoaWxkcmVuXG4gICAqL1xuICBmaW5kKHNlbGVjdG9yOiBzdHJpbmcpOiBET00ge1xuICAgIGxldCBhbGxDaGlsZEVsZW1lbnRzID0gdGhpcy5maW5kQ2hpbGRFbGVtZW50cyhzZWxlY3RvcikgYXMgSFRNTEVsZW1lbnRXaXRoQ29tcG9uZW50W107XG4gICAgcmV0dXJuIG5ldyBET00oYWxsQ2hpbGRFbGVtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogRm9jdXNlcyB0byB0aGUgZmlyc3QgaW5wdXQgZWxlbWVudFxuICAgKi9cbiAgZm9jdXNUb0ZpcnN0SW5wdXQoKSB7XG4gICAgY29uc3QgaW5wdXRFbGVtZW50cyA9IHRoaXMuZmluZENoaWxkRWxlbWVudHMoJ2J1dHRvbiwgW2hyZWZdLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJyk7XG5cbiAgICBpZiAoaW5wdXRFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBpbnB1dEVsZW1lbnRzWzBdLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzZXMgdG8gdGhlIGZpcnN0IGlucHV0IGVsZW1lbnRcbiAgICovXG4gIHNjcm9sbFRvKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy5lbGVtZW50c1swXS5zY3JvbGxUbyh4LCB5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIG9mIHRoZSBpbm5lciBIVE1MIGNvbnRlbnQgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAqL1xuICBodG1sKCk6IHN0cmluZztcbiAgLyoqXG4gICAqIFNldHMgdGhlIGlubmVyIEhUTUwgY29udGVudCBvZiBhbGwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBjb250ZW50IGEgc3RyaW5nIG9mIHBsYWluIHRleHQgb3IgSFRNTCBtYXJrdXBcbiAgICovXG4gIGh0bWwoY29udGVudDogc3RyaW5nKTogRE9NO1xuICBodG1sKGNvbnRlbnQ/OiBzdHJpbmcpOiBzdHJpbmcgfCBET00ge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0SHRtbChjb250ZW50KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRIdG1sKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRIdG1sKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLmlubmVySFRNTDtcbiAgfVxuXG4gIHByaXZhdGUgc2V0SHRtbChjb250ZW50OiBzdHJpbmcpOiBET00ge1xuICAgIGlmIChjb250ZW50ID09PSB1bmRlZmluZWQgfHwgY29udGVudCA9PSBudWxsKSB7XG4gICAgICAvLyBTZXQgdG8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIGlubmVySFRNTCBnZXR0aW5nIHNldCB0byAndW5kZWZpbmVkJyAoYWxsIGJyb3dzZXJzKSBvciAnbnVsbCcgKElFOSlcbiAgICAgIGNvbnRlbnQgPSAnJztcbiAgICB9XG5cbiAgICB0aGlzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgaW5uZXIgSFRNTCBvZiBhbGwgZWxlbWVudHMgKGRlbGV0ZXMgYWxsIGNoaWxkcmVuKS5cbiAgICogQHJldHVybnMge0RPTX1cbiAgICovXG4gIGVtcHR5KCk6IERPTSB7XG4gICAgdGhpcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGZpcnN0IGZvcm0gZWxlbWVudCwgZS5nLiB0aGUgc2VsZWN0ZWQgdmFsdWUgb2YgYSBzZWxlY3QgYm94IG9yIHRoZSB0ZXh0IGlmIGFuXG4gICAqIGlucHV0IGZpZWxkLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgdmFsdWUgb2YgYSBmb3JtIGVsZW1lbnRcbiAgICovXG4gIHZhbCgpOiBzdHJpbmcge1xuICAgIGxldCBlbGVtZW50ID0gdGhpcy5lbGVtZW50c1swXTtcblxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQgfHwgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIFRPRE8gYWRkIHN1cHBvcnQgZm9yIG1pc3NpbmcgZm9ybSBlbGVtZW50c1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB2YWwoKSBub3Qgc3VwcG9ydGVkIGZvciAke3R5cGVvZiBlbGVtZW50fWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBhbiBhdHRyaWJ1dGUgb24gdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSBhdHRyaWJ1dGVcbiAgICovXG4gIGF0dHIoYXR0cmlidXRlOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsO1xuICAvKipcbiAgICogU2V0cyBhbiBhdHRyaWJ1dGUgb24gYWxsIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gYXR0cmlidXRlIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGVcbiAgICogQHBhcmFtIHZhbHVlIHRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlXG4gICAqL1xuICBhdHRyKGF0dHJpYnV0ZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogRE9NO1xuICBhdHRyKGF0dHJpYnV0ZTogc3RyaW5nLCB2YWx1ZT86IHN0cmluZyk6IHN0cmluZyB8IG51bGwgfCBET00ge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0QXR0cihhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRBdHRyKGF0dHJpYnV0ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGF0dHJpYnV0ZSBvZiB0aGUgZWxlbWVudC5cbiAgICogQHBhcmFtIGF0dHJpYnV0ZVxuICAgKi9cbiAgcmVtb3ZlQXR0cihhdHRyaWJ1dGU6IHN0cmluZykge1xuICAgIHRoaXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0QXR0cihhdHRyaWJ1dGU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRBdHRyKGF0dHJpYnV0ZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogRE9NIHtcbiAgICB0aGlzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgZGF0YSBlbGVtZW50IG9uIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgKiBAcGFyYW0gZGF0YUF0dHJpYnV0ZSB0aGUgbmFtZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgd2l0aG91dCB0aGUgJ2RhdGEtJyBwcmVmaXhcbiAgICovXG4gIGRhdGEoZGF0YUF0dHJpYnV0ZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbDtcbiAgLyoqXG4gICAqIFNldHMgYSBkYXRhIGF0dHJpYnV0ZSBvbiBhbGwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBkYXRhQXR0cmlidXRlIHRoZSBuYW1lIG9mIHRoZSBkYXRhIGF0dHJpYnV0ZSB3aXRob3V0IHRoZSAnZGF0YS0nIHByZWZpeFxuICAgKiBAcGFyYW0gdmFsdWUgdGhlIHZhbHVlIG9mIHRoZSBkYXRhIGF0dHJpYnV0ZVxuICAgKi9cbiAgZGF0YShkYXRhQXR0cmlidXRlOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBET007XG4gIGRhdGEoZGF0YUF0dHJpYnV0ZTogc3RyaW5nLCB2YWx1ZT86IHN0cmluZyk6IHN0cmluZyB8IG51bGwgfCBET00ge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0RGF0YShkYXRhQXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YShkYXRhQXR0cmlidXRlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldERhdGEoZGF0YUF0dHJpYnV0ZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLScgKyBkYXRhQXR0cmlidXRlKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0RGF0YShkYXRhQXR0cmlidXRlOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBET00ge1xuICAgIHRoaXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGRhdGFBdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIG9uZSBvciBtb3JlIERPTSBlbGVtZW50cyBhcyBjaGlsZHJlbiB0byBhbGwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBjaGlsZEVsZW1lbnRzIHRoZSBjaHJpbGQgZWxlbWVudHMgdG8gYXBwZW5kXG4gICAqIEByZXR1cm5zIHtET019XG4gICAqL1xuICBhcHBlbmQoLi4uY2hpbGRFbGVtZW50czogRE9NW10pOiBET00ge1xuICAgIHRoaXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgY2hpbGRFbGVtZW50cy5mb3JFYWNoKChjaGlsZEVsZW1lbnQpID0+IHtcbiAgICAgICAgY2hpbGRFbGVtZW50LmVsZW1lbnRzLmZvckVhY2goKF8sIGluZGV4KSA9PiB7XG4gICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZEVsZW1lbnQuZWxlbWVudHNbaW5kZXhdKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIHRoZSBET00uXG4gICAqL1xuICByZW1vdmUoKTogdm9pZCB7XG4gICAgdGhpcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBsZXQgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgb2Zmc2V0IG9mIHRoZSBmaXJzdCBlbGVtZW50IGZyb20gdGhlIGRvY3VtZW50J3MgdG9wIGxlZnQgY29ybmVyLlxuICAgKiBAcmV0dXJucyB7T2Zmc2V0fVxuICAgKi9cbiAgb2Zmc2V0KCk6IE9mZnNldCB7XG4gICAgbGV0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzWzBdO1xuICAgIGxldCBlbGVtZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGh0bWxSZWN0ID0gZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgLy8gVmlydHVhbCB2aWV3cG9ydCBzY3JvbGwgaGFuZGxpbmcgKGUuZy4gcGluY2ggem9vbWVkIHZpZXdwb3J0cyBpbiBtb2JpbGUgYnJvd3NlcnMgb3IgZGVza3RvcCBDaHJvbWUvRWRnZSlcbiAgICAvLyAnbm9ybWFsJyB6b29tcyBhbmQgdmlydHVhbCB2aWV3cG9ydCB6b29tcyAoYWthIGxheW91dCB2aWV3cG9ydCkgcmVzdWx0IGluIGRpZmZlcmVudFxuICAgIC8vIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgcmVzdWx0czpcbiAgICAvLyAgLSB3aXRoIG5vcm1hbCBzY3JvbGxzLCB0aGUgY2xpZW50UmVjdCBkZWNyZWFzZXMgd2l0aCBhbiBpbmNyZWFzZSBpbiBzY3JvbGwoVG9wfExlZnQpL3BhZ2UoWHxZKU9mZnNldFxuICAgIC8vICAtIHdpdGggcGluY2ggem9vbSBzY3JvbGxzLCB0aGUgY2xpZW50UmVjdCBzdGF5cyB0aGUgc2FtZSB3aGlsZSBzY3JvbGwvcGFnZU9mZnNldCBjaGFuZ2VzXG4gICAgLy8gVGhpcyBtZWFucywgdGhhdCB0aGUgY29tYmluYXRpb24gb2YgY2xpZW50UmVjdCArIHNjcm9sbC9wYWdlT2Zmc2V0IGRvZXMgbm90IHdvcmsgdG8gY2FsY3VsYXRlIHRoZSBvZmZzZXRcbiAgICAvLyBmcm9tIHRoZSBkb2N1bWVudCdzIHVwcGVyIGxlZnQgb3JpZ2luIHdoZW4gcGluY2ggem9vbSBpcyB1c2VkLlxuICAgIC8vIFRvIHdvcmsgYXJvdW5kIHRoaXMgaXNzdWUsIHdlIGRvIG5vdCB1c2Ugc2Nyb2xsL3BhZ2VPZmZzZXQgYnV0IGdldCB0aGUgY2xpZW50UmVjdCBvZiB0aGUgaHRtbCBlbGVtZW50IGFuZFxuICAgIC8vIHN1YnRyYWN0IGl0IGZyb20gdGhlIGVsZW1lbnQncyByZWN0LCB3aGljaCBhbHdheXMgcmVzdWx0cyBpbiB0aGUgb2Zmc2V0IGZyb20gdGhlIGRvY3VtZW50IG9yaWdpbi5cbiAgICAvLyBOT1RFOiB0aGUgY3VycmVudCB3YXkgb2Ygb2Zmc2V0IGNhbGN1bGF0aW9uIHdhcyBpbXBsZW1lbnRlZCBzcGVjaWZpY2FsbHkgdG8gdHJhY2sgZXZlbnQgcG9zaXRpb25zIG9uIHRoZVxuICAgIC8vIHNlZWsgYmFyLCBhbmQgaXQgbWlnaHQgYnJlYWsgY29tcGF0aWJpbGl0eSB3aXRoIGpRdWVyeSdzIG9mZnNldCgpIG1ldGhvZC4gSWYgdGhpcyBldmVyIHR1cm5zIG91dCB0byBiZSBhXG4gICAgLy8gcHJvYmxlbSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIHJldmVydGVkIHRvIHRoZSBvbGQgdmVyc2lvbiBhbmQgdGhlIG9mZnNldCBjYWxjdWxhdGlvbiBtb3ZlZCB0byB0aGUgc2VlayBiYXIuXG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBlbGVtZW50UmVjdC50b3AgLSBodG1sUmVjdC50b3AsXG4gICAgICBsZWZ0OiBlbGVtZW50UmVjdC5sZWZ0IC0gaHRtbFJlY3QubGVmdCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHdpZHRoIG9mIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICovXG4gIHdpZHRoKCk6IG51bWJlciB7XG4gICAgLy8gVE9ETyBjaGVjayBpZiB0aGlzIGlzIHRoZSBzYW1lIGFzIGpRdWVyeSdzIHdpZHRoKCkgKHByb2JhYmx5IG5vdClcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50c1swXS5vZmZzZXRXaWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBoZWlnaHQgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICovXG4gIGhlaWdodCgpOiBudW1iZXIge1xuICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyB0aGUgc2FtZSBhcyBqUXVlcnkncyBoZWlnaHQoKSAocHJvYmFibHkgbm90KVxuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLm9mZnNldEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgKiBAcmV0dXJuIHtTaXplfSB0aGUgc2l6ZSBvZiB0aGUgZmlyc3QgZWxlbWVudFxuICAgKi9cbiAgc2l6ZSgpOiBTaXplIHtcbiAgICByZXR1cm4geyB3aWR0aDogdGhpcy53aWR0aCgpLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0KCkgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhbiBldmVudCBoYW5kbGVyIHRvIG9uZSBvciBtb3JlIGV2ZW50cyBvbiBhbGwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUgKG9yIG11bHRpcGxlIG5hbWVzIHNlcGFyYXRlZCBieSBzcGFjZSkgdG8gbGlzdGVuIHRvXG4gICAqIEBwYXJhbSBldmVudEhhbmRsZXIgdGhlIGV2ZW50IGhhbmRsZXIgdG8gY2FsbCB3aGVuIHRoZSBldmVudCBmaXJlc1xuICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBmb3IgdGhpcyBldmVudCBoYW5kbGVyXG4gICAqIEByZXR1cm5zIHtET019XG4gICAqL1xuICBvbihldmVudE5hbWU6IHN0cmluZywgZXZlbnRIYW5kbGVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LCBvcHRpb25zPzogYm9vbGVhbiB8IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zKTogRE9NIHtcbiAgICBsZXQgZXZlbnRzID0gZXZlbnROYW1lLnNwbGl0KCcgJyk7XG5cbiAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRzID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZXZlbnRIYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGV2ZW50IGhhbmRsZXIgZnJvbSBvbmUgb3IgbW9yZSBldmVudHMgb24gYWxsIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lIChvciBtdWx0aXBsZSBuYW1lcyBzZXBhcmF0ZWQgYnkgc3BhY2UpIHRvIHJlbW92ZSB0aGUgaGFuZGxlciBmcm9tXG4gICAqIEBwYXJhbSBldmVudEhhbmRsZXIgdGhlIGV2ZW50IGhhbmRsZXIgdG8gcmVtb3ZlXG4gICAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25zIGZvciB0aGlzIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybnMge0RPTX1cbiAgICovXG4gIG9mZihldmVudE5hbWU6IHN0cmluZywgZXZlbnRIYW5kbGVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LCBvcHRpb25zPzogYm9vbGVhbiB8IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zKTogRE9NIHtcbiAgICBsZXQgZXZlbnRzID0gZXZlbnROYW1lLnNwbGl0KCcgJyk7XG5cbiAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRzID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZXZlbnRIYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpIHRvIGFsbCBlbGVtZW50cy5cbiAgICogQHBhcmFtIGNsYXNzTmFtZSB0aGUgY2xhc3MoZXMpIHRvIGFkZCwgbXVsdGlwbGUgY2xhc3NlcyBzZXBhcmF0ZWQgYnkgc3BhY2VcbiAgICogQHJldHVybnMge0RPTX1cbiAgICovXG4gIGFkZENsYXNzKGNsYXNzTmFtZTogc3RyaW5nKTogRE9NIHtcbiAgICB0aGlzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgICBjb25zdCBjbGFzc05hbWVzID0gY2xhc3NOYW1lLnNwbGl0KCcgJylcbiAgICAgICAgICAuZmlsdGVyKGNsYXNzTmFtZSA9PiBjbGFzc05hbWUubGVuZ3RoID4gMCk7XG5cbiAgICAgICAgaWYgKGNsYXNzTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZWQgdGhlIHNwZWNpZmllZCBjbGFzcyhlcykgZnJvbSBhbGwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBjbGFzc05hbWUgdGhlIGNsYXNzKGVzKSB0byByZW1vdmUsIG11bHRpcGxlIGNsYXNzZXMgc2VwYXJhdGVkIGJ5IHNwYWNlXG4gICAqIEByZXR1cm5zIHtET019XG4gICAqL1xuICByZW1vdmVDbGFzcyhjbGFzc05hbWU6IHN0cmluZyk6IERPTSB7XG4gICAgdGhpcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgY29uc3QgY2xhc3NOYW1lcyA9IGNsYXNzTmFtZS5zcGxpdCgnICcpXG4gICAgICAgICAgLmZpbHRlcihjbGFzc05hbWUgPT4gY2xhc3NOYW1lLmxlbmd0aCA+IDApO1xuXG4gICAgICAgIGlmIChjbGFzc05hbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3NOYW1lcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoXG4gICAgICAgICAgbmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhbnkgb2YgdGhlIGVsZW1lbnRzIGhhcyB0aGUgc3BlY2lmaWVkIGNsYXNzLlxuICAgKiBAcGFyYW0gY2xhc3NOYW1lIHRoZSBjbGFzcyBuYW1lIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIG9uZSBvZiB0aGUgZWxlbWVudHMgaGFzIHRoZSBjbGFzcyBhdHRhY2hlZCwgZWxzZSBpZiBubyBlbGVtZW50IGhhcyBpdCBhdHRhY2hlZFxuICAgKi9cbiAgaGFzQ2xhc3MoY2xhc3NOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBsZXQgaGFzQ2xhc3MgPSBmYWxzZTtcblxuICAgIHRoaXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgICAgICAgLy8gU2luY2Ugd2UgYXJlIGluc2lkZSBhIGhhbmRsZXIsIHdlIGNhbid0IGp1c3QgJ3JldHVybiB0cnVlJy4gSW5zdGVhZCwgd2Ugc2F2ZSBpdCB0byBhIHZhcmlhYmxlXG4gICAgICAgICAgLy8gYW5kIHJldHVybiBpdCBhdCB0aGUgZW5kIG9mIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgICAgIGhhc0NsYXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChuZXcgUmVnRXhwKCcoXnwgKScgKyBjbGFzc05hbWUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKSkge1xuICAgICAgICAgIC8vIFNlZSBjb21tZW50IGFib3ZlXG4gICAgICAgICAgaGFzQ2xhc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaGFzQ2xhc3M7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBDU1MgcHJvcGVydHkgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgdGhlIG5hbWUgb2YgdGhlIENTUyBwcm9wZXJ0eSB0byByZXRyaWV2ZSB0aGUgdmFsdWUgb2ZcbiAgICovXG4gIGNzcyhwcm9wZXJ0eU5hbWU6IHN0cmluZyk6IHN0cmluZyB8IG51bGw7XG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIENTUyBwcm9wZXJ0eSBvbiBhbGwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgdGhlIG5hbWUgb2YgdGhlIENTUyBwcm9wZXJ0eSB0byBzZXQgdGhlIHZhbHVlIGZvclxuICAgKiBAcGFyYW0gdmFsdWUgdGhlIHZhbHVlIHRvIHNldCBmb3IgdGhlIGdpdmVuIENTUyBwcm9wZXJ0eVxuICAgKi9cbiAgY3NzKHByb3BlcnR5TmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogRE9NO1xuICAvKipcbiAgICogU2V0cyBhIGNvbGxlY3Rpb24gb2YgQ1NTIHByb3BlcnRpZXMgYW5kIHRoZWlyIHZhbHVlcyBvbiBhbGwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBwcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbiBhbiBvYmplY3QgY29udGFpbmluZyBwYWlycyBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgdGhlaXIgdmFsdWVzXG4gICAqL1xuICBjc3MocHJvcGVydHlWYWx1ZUNvbGxlY3Rpb246IENzc1Byb3BlcnRpZXMpOiBET007XG4gIGNzcyhwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb246IHN0cmluZyB8IENzc1Byb3BlcnRpZXMsIHZhbHVlPzogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB8IERPTSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgcHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lT3JDb2xsZWN0aW9uO1xuXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRDc3MocHJvcGVydHlOYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3NzKHByb3BlcnR5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbGV0IHByb3BlcnR5VmFsdWVDb2xsZWN0aW9uID0gcHJvcGVydHlOYW1lT3JDb2xsZWN0aW9uO1xuICAgICAgcmV0dXJuIHRoaXMuc2V0Q3NzQ29sbGVjdGlvbihwcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gaW5saW5lIENTUyBwcm9wZXJ0eSBpZiBpdCBleGlzdHNcbiAgICogQHBhcmFtIHByb3BlcnR5TmFtZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byByZW1vdmVcbiAgICogQHBhcmFtIGVsZW1lbnRJbmRleCBpbmRleCBvZiB0aGUgZWxlbWVudCB3aG9zZSBDU1MgcHJvcGVydHkgc2hvdWxkIGdldCByZW1vdmVkXG4gICAqL1xuICByZW1vdmVDc3MocHJvcGVydHlOYW1lOiBzdHJpbmcsIGVsZW1lbnRJbmRleCA9IDApOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzW2VsZW1lbnRJbmRleF0uc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcGVydHlOYW1lKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q3NzKHByb3BlcnR5TmFtZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50c1swXSlbPGFueT5wcm9wZXJ0eU5hbWVdO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRDc3MocHJvcGVydHlOYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBET00ge1xuICAgIHRoaXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgLy8gPGFueT4gY2FzdCB0byByZXNvbHZlIFRTNzAxNTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzY2MjcxMTQvMzcwMjUyXG4gICAgICBlbGVtZW50LnN0eWxlWzxhbnk+cHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRDc3NDb2xsZWN0aW9uKHJ1bGVWYWx1ZUNvbGxlY3Rpb246IHtbcnVsZU5hbWU6IHN0cmluZ106IHN0cmluZ30pOiBET00ge1xuICAgIHRoaXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzQ0OTA1NzMvMzcwMjUyXG4gICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHJ1bGVWYWx1ZUNvbGxlY3Rpb24pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiIsImltcG9ydCB7RXJyb3JNZXNzYWdlTWFwLCBFcnJvck1lc3NhZ2VUcmFuc2xhdG9yfSBmcm9tICcuL2NvbXBvbmVudHMvZXJyb3JtZXNzYWdlb3ZlcmxheSc7XG5pbXBvcnQgeyBFcnJvckV2ZW50IH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcbmltcG9ydCB7IE1vYmlsZVYzUGxheWVyRXJyb3JFdmVudCwgTW9iaWxlVjNTb3VyY2VFcnJvckV2ZW50IH0gZnJvbSAnLi9tb2JpbGV2M3BsYXllcmFwaSc7XG5cbi8qKlxuICogQGNhdGVnb3J5IFV0aWxzXG4gKi9cbmV4cG9ydCBuYW1lc3BhY2UgRXJyb3JVdGlscyB7XG5cbiAgZXhwb3J0IGNvbnN0IGRlZmF1bHRFcnJvck1lc3NhZ2VzOiBFcnJvck1lc3NhZ2VNYXAgPSB7XG4gICAgMTAwMDogJ0Vycm9yIGlzIHVua25vd24nLFxuICAgIDEwMDE6ICdUaGUgcGxheWVyIEFQSSBpcyBub3QgYXZhaWxhYmxlIGFmdGVyIGEgY2FsbCB0byBQbGF5ZXJBUEkuZGVzdHJveS4nLFxuICAgIDExMDA6ICdHZW5lcmFsIHNldHVwIGVycm9yJyxcbiAgICAxMTAxOiAnVGhlcmUgd2FzIGFuIGVycm9yIHdoZW4gaW5zZXJ0aW5nIHRoZSBIVE1MIHZpZGVvIGVsZW1lbnQnLFxuICAgIDExMDI6ICdObyBjb25maWd1cmF0aW9uIHdhcyBwcm92aWRlZCcsXG4gICAgMTEwMzogJ1RoZSBsaWNlbnNlIGlzIG5vdCB2YWxpZCcsXG4gICAgMTEwNDogJ1RoZSB0aGUgZG9tYWluLWxvY2tlZCBwbGF5ZXIgaXMgbm90IGF1dGhvcml6ZWQgdG8gcGxheWJhY2sgb24gdGhpcyBkb21haW4nLFxuICAgIDExMDU6ICdUaGUgZG9tYWluIGlzIG5vdCBhbGxvd2xpc3RlZCcsXG4gICAgMTEwNjogJ1RoZSBsaWNlbnNlIHNlcnZlciBVUkwgaXMgaW52YWxpZCcsXG4gICAgMTEwNzogJ1RoZSBpbXByZXNzaW9uIHNlcnZlciBVUkwgaXMgaW52YWxpZCcsXG4gICAgMTEwODogJ0NvdWxkIG5vdCBpbml0aWFsaXplIGEgcmVuZGVyaW5nIGVuZ2luZScsXG4gICAgMTEwOTogJ1RoZSB1c2VkIGZsYXNoIHZlcnNpb24gZG9lcyBub3Qgc3VwcG9ydCBwbGF5YmFjaycsXG4gICAgMTExMDogJ05hdGl2ZSBGbGFzaCBpcyBub3QgYXV0aG9yaXplZCBieSBhIHZhbGlkIEFkb2JlIHRva2VuJyxcbiAgICAxMTExOiAnRmxhc2ggZG9lc25cXCd0IGhhdmUgc3VmZmljaWVudCByZXNvdXJjZXMnLFxuICAgIDExMTI6ICdGbGFzaCBjb250YWluZXIgQVBJIG5vdCBhdmFpbGFibGUnLFxuICAgIDExMTM6ICdQcm90b2NvbCBub3Qgc3VwcG9ydGVkLiBUaGlzIHNpdGUgaGFzIGJlZW4gbG9hZGVkIHVzaW5nIFwiZmlsZVwiIHByb3RvY29sLCBidXQgdW5mb3J0dW5hdGVseSB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSBsb2FkIHRoZSBwYWdlIHVzaW5nIGEgd2ViIHNlcnZlciAodXNpbmcgaHR0cCBvciBodHRwcyknLFxuICAgIDEyMDA6ICdHZW5lcmFsIHNvdXJjZSBlcnJvcicsXG4gICAgMTIwMTogJ05vIHZhbGlkIHNvdXJjZSB3YXMgcHJvdmlkZWQnLFxuICAgIDEyMDI6ICdUaGUgZG93bmxvYWRlZCBtYW5pZmVzdCBpcyBpbnZhbGlkJyxcbiAgICAxMjAzOiAnVGhlcmUgd2FzIG5vIHRlY2hub2xvZ3kgZGV0ZWN0ZWQgdG8gcGxheWJhY2sgdGhlIHByb3ZpZGVkIHNvdXJjZScsXG4gICAgMTIwNDogJ1RoZSBzdHJlYW0gdHlwZSBpcyBub3Qgc3VwcG9ydGVkJyxcbiAgICAxMjA1OiAnVGhlIGZvcmNlZCB0ZWNobm9sb2d5IGlzIG5vdCBzdXBwb3J0ZWQnLFxuICAgIDEyMDY6ICdObyBzdHJlYW0gZm91bmQgZm9yIHN1cHBvcnRlZCB0ZWNobm9sb2dpZXMuJyxcbiAgICAxMjA3OiAnVGhlIGRvd25sb2FkZWQgc2VnbWVudCBpcyBlbXB0eScsXG4gICAgMTIwODogJ1RoZSBtYW5pZmVzdCBjb3VsZCBub3QgYmUgbG9hZGVkJyxcbiAgICAxMjA5OiAnUHJvZ3Jlc3NpdmUgc3RyZWFtIHR5cGUgbm90IHN1cHBvcnRlZCBvciB0aGUgc3RyZWFtIGhhcyBhbiBlcnJvcicsXG4gICAgMTIxMDogJ0hMUyBzdHJlYW0gaGFzIGFuIGVycm9yJyxcbiAgICAxMjExOiAnVGhlIGVuY3J5cHRpb24gbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQnLFxuICAgIDEzMDA6ICdHZW5lcmFsIHBsYXliYWNrIGVycm9yJyxcbiAgICAxMzAxOiAnVmlkZW8gZGVjb2RlciBvciBkZW11eGVyIGhhZCBhbiBlcnJvciB3aXRoIHRoZSBjb250ZW50JyxcbiAgICAxMzAyOiAnR2VuZXJhbCBlcnJvciBpZiBGbGFzaCByZW5kZXJlciBoYXMgYW4gZXJyb3InLFxuICAgIDEzMDM6ICdGbGFzaCBkb2VzblxcJ3QgaGF2ZSBzdWZmaWNpZW50IHJlc291cmNlcycsXG4gICAgMTMwNDogJ1RoZSB0cmFuc211eGVyIGNvdWxkIG5vdCBiZSBpbml0aWFsaXplZCcsXG4gICAgMTQwMDogJ05ldHdvcmsgZXJyb3Igd2hpbGUgZG93bmxvYWRpbmcnLFxuICAgIDE0MDE6ICdUaGUgbWFuaWZlc3QgZG93bmxvYWQgdGltZWQgb3V0JyxcbiAgICAxNDAyOiAnVGhlIHNlZ21lbnQgZG93bmxvYWQgdGltZWQgb3V0JyxcbiAgICAxNDAzOiAnVGhlIHByb2dyZXNzaXZlIHN0cmVhbSBkb3dubG9hZCB0aW1lZCBvdXQnLFxuICAgIDE0MDQ6ICdUaGUgQ2VydGlmaWNhdGUgY291bGQgbm90IGJlIGxvYWRlZCcsXG4gICAgMjAwMDogJ0dlbmVyYWwgRFJNIGVycm9yJyxcbiAgICAyMDAxOiAnUmVxdWlyZWQgRFJNIGNvbmZpZ3VyYXRpb24gaXMgbWlzc2luZycsXG4gICAgMjAwMjogJ1RoZSBsaWNlbnNpbmcgc2VydmVyIFVSTCBpcyBtaXNzaW5nJyxcbiAgICAyMDAzOiAnTGljZW5zZSByZXF1ZXN0IGZhaWxlZCcsXG4gICAgMjAwNDogJ0tleSBvciBLZXlJZCBpcyBtaXNzaW5nJyxcbiAgICAyMDA1OiAnS2V5IHNpemUgaXMgbm90IHN1cHBvcnRlZCcsXG4gICAgMjAwNjogJ1VuYWJsZSB0byBpbnN0YW50aWF0ZSBhIGtleSBzeXN0ZW0gc3VwcG9ydGluZyB0aGUgcmVxdWlyZWQgY29tYmluYXRpb25zJyxcbiAgICAyMDA3OiAnVW5hYmxlIHRvIGNyZWF0ZSBvciBpbml0aWFsaXplIGtleSBzZXNzaW9uJyxcbiAgICAyMDA4OiAnVGhlIE1lZGlhS2V5IG9iamVjdCBjb3VsZCBub3QgYmUgY3JlYXRlZC9pbml0aWFsaXplZCcsXG4gICAgMjAwOTogJ0tleSBlcnJvcicsXG4gICAgMjAxMDogJ1RoZSBrZXkgc3lzdGVtIGlzIG5vdCBzdXBwb3J0ZWQnLFxuICAgIDIwMTE6ICdUaGUgY2VydGlmaWNhdGUgaXMgbm90IHZhbGlkJyxcbiAgICAyMDEyOiAnSW52YWxpZCBoZWFkZXIga2V5L3ZhbHVlIHBhaXIgZm9yIFBsYXlSZWFkeSBsaWNlbnNlIHJlcXVlc3QnLFxuICAgIDIwMTM6ICdDb250ZW50IGNhbm5vdCBiZSBwbGF5ZWQgYmFjayBiZWNhdXNlIHRoZSBvdXRwdXQgaXMgcmVzdHJpY3RlZCBvbiB0aGlzIG1hY2hpbmUnLFxuICAgIDIwMTQ6ICdEUk0gZXJyb3IgZm9yIHRoZSBGbGFzaCByZW5kZXJlcicsXG4gICAgMjEwMDogJ0dlbmVyYWwgVlIgZXJyb3InLFxuICAgIDIxMDE6ICdQbGF5ZXIgdGVjaG5vbG9neSBub3QgY29tcGF0aWJsZSB3aXRoIFZSIHBsYXliYWNrJyxcbiAgICAzMDAwOiAnR2VuZXJhbCBtb2R1bGUgZXJyb3InLFxuICAgIDMwMDE6ICdUaGUgZGVmaW5pdGlvbiBvZiB0aGUgbW9kdWxlIGlzIGludmFsaWQgKGUuZy4gaW5jb21wbGV0ZSkuJyxcbiAgICAzMDAyOiAnVGhlIG1vZHVsZSBkZWZpbml0aW9uIHNwZWNpZmllcyBkZXBlbmRlbmNpZXMgYnV0IHRoZSBtb2R1bGUgaXMgbm90IHByb3ZpZGVkIHZpYSBhIGZ1bmN0aW9uIGZvciBkZWZlcnJlZCBsb2FkaW5nLicsXG4gICAgMzAwMzogJ0EgbW9kdWxlIGNhbm5vdCBiZSBsb2FkZWQgYmVjYXVzZSBpdCBoYXMgbm90IGJlZW4gYWRkZWQgdG8gdGhlIHBsYXllciBjb3JlLicsXG4gICAgMzAwNDogJ0EgbW9kdWxlIGNhbm5vdCBiZSBsb2FkZWQgYmVjYXVzZSBvbmUgb3IgbW9yZSBkZXBlbmRlbmNpZXMgYXJlIG1pc3NpbmcuJyxcbiAgICAzMTAwOiAnQW4gQWR2ZXJ0aXNpbmcgbW9kdWxlIGVycm9yIGhhcyBvY2N1cnJlZC4gUmVmZXIgdG8gdGhlIGF0dGFjaGVkIEFkdmVydGlzaW5nRXJyb3IuJyxcbiAgfTtcblxuICBleHBvcnQgY29uc3QgZGVmYXVsdE1vYmlsZVYzRXJyb3JNZXNzYWdlVHJhbnNsYXRvciA9IChlcnJvcjogTW9iaWxlVjNQbGF5ZXJFcnJvckV2ZW50IHwgTW9iaWxlVjNTb3VyY2VFcnJvckV2ZW50KSA9PiB7XG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gIH07XG5cbiAgZXhwb3J0IGNvbnN0IGRlZmF1bHRXZWJFcnJvck1lc3NhZ2VUcmFuc2xhdG9yOiBFcnJvck1lc3NhZ2VUcmFuc2xhdG9yID0gKGVycm9yOiBFcnJvckV2ZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gRXJyb3JVdGlscy5kZWZhdWx0RXJyb3JNZXNzYWdlc1tlcnJvci5jb2RlXTtcblxuICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgIC8vIFVzZSB0aGUgZXJyb3IgbWVzc2FnZSB0ZXh0IGlmIHRoZXJlIGlzIG9uZVxuICAgICAgcmV0dXJuIGAke2Vycm9yTWVzc2FnZSBhcyBzdHJpbmd9XFxuKCR7ZXJyb3IubmFtZX0pYDsgLy8gZGVmYXVsdCBlcnJvciBtZXNzYWdlIHN0eWxlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZhbGxiYWNrIHRvIGVycm9yIGNvZGUvbmFtZSBpZiBubyBtZXNzYWdlIGlzIGRlZmluZWRcbiAgICAgIHJldHVybiBgJHtlcnJvci5jb2RlfSAke2Vycm9yLm5hbWV9YDtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQge0FycmF5VXRpbHN9IGZyb20gJy4vYXJyYXl1dGlscyc7XG5pbXBvcnQgeyBUaW1lb3V0IH0gZnJvbSAnLi90aW1lb3V0Jztcbi8qKlxuICogRnVuY3Rpb24gaW50ZXJmYWNlIGZvciBldmVudCBsaXN0ZW5lcnMgb24gdGhlIHtAbGluayBFdmVudERpc3BhdGNoZXJ9LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50TGlzdGVuZXI8U2VuZGVyLCBBcmdzPiB7XG4gIChzZW5kZXI6IFNlbmRlciwgYXJnczogQXJncyk6IHZvaWQ7XG59XG5cbi8qKlxuICogRW1wdHkgdHlwZSBmb3IgY3JlYXRpbmcge0BsaW5rIEV2ZW50RGlzcGF0Y2hlciBldmVudCBkaXNwYXRjaGVyc30gdGhhdCBkbyBub3QgY2FycnkgYW55IGFyZ3VtZW50cy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOb0FyZ3Mge1xufVxuXG4vKipcbiAqIEV2ZW50IGFyZ3MgZm9yIGFuIGV2ZW50IHRoYXQgY2FuIGJlIGNhbmNlbGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbmNlbEV2ZW50QXJncyBleHRlbmRzIE5vQXJncyB7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgYSBmbGFnIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSBjYW5jZWxlZC5cbiAgICovXG4gIGNhbmNlbD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogUHVibGljIGludGVyZmFjZSB0aGF0IHJlcHJlc2VudHMgYW4gZXZlbnQuIENhbiBiZSB1c2VkIHRvIHN1YnNjcmliZSB0byBhbmQgdW5zdWJzY3JpYmUgZnJvbSBldmVudHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnQ8U2VuZGVyLCBBcmdzPiB7XG4gIC8qKlxuICAgKiBTdWJzY3JpYmVzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoaXMgZXZlbnQgZGlzcGF0Y2hlci5cbiAgICogQHBhcmFtIGxpc3RlbmVyIHRoZSBsaXN0ZW5lciB0byBhZGRcbiAgICovXG4gIHN1YnNjcmliZShsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjxTZW5kZXIsIEFyZ3M+KTogdm9pZDtcblxuICAvKipcbiAgICogU3Vic2NyaWJlcyBhbiBldmVudCBsaXN0ZW5lciB0byB0aGlzIGV2ZW50IGRpc3BhdGNoZXIgdGhhdCBpcyBvbmx5IGNhbGxlZCBvbmNlLlxuICAgKiBAcGFyYW0gbGlzdGVuZXIgdGhlIGxpc3RlbmVyIHRvIGFkZFxuICAgKi9cbiAgc3Vic2NyaWJlT25jZShsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjxTZW5kZXIsIEFyZ3M+KTogdm9pZDtcblxuICAvKipcbiAgICogU3Vic2NyaWJlcyBhbiBldmVudCBsaXN0ZW5lciB0byB0aGlzIGV2ZW50IGRpc3BhdGNoZXIgdGhhdCB3aWxsIGJlIGNhbGxlZCBhdCBhIGxpbWl0ZWQgcmF0ZSB3aXRoIGEgbWluaW11bVxuICAgKiBpbnRlcnZhbCBvZiB0aGUgc3BlY2lmaWVkIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIGxpc3RlbmVyIHRoZSBsaXN0ZW5lciB0byBhZGRcbiAgICogQHBhcmFtIHJhdGVNcyB0aGUgcmF0ZSBpbiBtaWxsaXNlY29uZHMgdG8gd2hpY2ggY2FsbGluZyBvZiB0aGUgbGlzdGVuZXJzIHNob3VsZCBiZSBsaW1pdGVkXG4gICAqL1xuICBzdWJzY3JpYmVSYXRlTGltaXRlZChsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjxTZW5kZXIsIEFyZ3M+LCByYXRlTXM6IG51bWJlcik6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlcyBhIHN1YnNjcmliZWQgZXZlbnQgbGlzdGVuZXIgZnJvbSB0aGlzIGRpc3BhdGNoZXIuXG4gICAqIEBwYXJhbSBsaXN0ZW5lciB0aGUgbGlzdGVuZXIgdG8gcmVtb3ZlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBsaXN0ZW5lciB3YXMgc3VjY2Vzc2Z1bGx5IHVuc3Vic2NyaWJlZCwgZmFsc2UgaWYgaXQgaXNuJ3Qgc3Vic2NyaWJlZCBvbiB0aGlzXG4gICAqICAgZGlzcGF0Y2hlclxuICAgKi9cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXI6IEV2ZW50TGlzdGVuZXI8U2VuZGVyLCBBcmdzPik6IGJvb2xlYW47XG59XG5cbi8qKlxuICogRXZlbnQgZGlzcGF0Y2hlciB0byBzdWJzY3JpYmUgYW5kIHRyaWdnZXIgZXZlbnRzLiBFYWNoIGV2ZW50IHNob3VsZCBoYXZlIGl0cyBvd24gZGlzcGF0Y2hlci5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50RGlzcGF0Y2hlcjxTZW5kZXIsIEFyZ3M+IGltcGxlbWVudHMgRXZlbnQ8U2VuZGVyLCBBcmdzPiB7XG5cbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IEV2ZW50TGlzdGVuZXJXcmFwcGVyPFNlbmRlciwgQXJncz5bXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgLyoqXG4gICAqIHtAaW5oZXJpdERvY31cbiAgICovXG4gIHN1YnNjcmliZShsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjxTZW5kZXIsIEFyZ3M+KSB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChuZXcgRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGluaGVyaXREb2N9XG4gICAqL1xuICBzdWJzY3JpYmVPbmNlKGxpc3RlbmVyOiBFdmVudExpc3RlbmVyPFNlbmRlciwgQXJncz4pIHtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKG5ldyBFdmVudExpc3RlbmVyV3JhcHBlcihsaXN0ZW5lciwgdHJ1ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAaW5oZXJpdERvY31cbiAgICovXG4gIHN1YnNjcmliZVJhdGVMaW1pdGVkKGxpc3RlbmVyOiBFdmVudExpc3RlbmVyPFNlbmRlciwgQXJncz4sIHJhdGVNczogbnVtYmVyKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChuZXcgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlcihsaXN0ZW5lciwgcmF0ZU1zKSk7XG4gIH1cblxuICAvKipcbiAgICoge0Bpbmhlcml0RG9jfVxuICAgKi9cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXI6IEV2ZW50TGlzdGVuZXI8U2VuZGVyLCBBcmdzPik6IGJvb2xlYW4ge1xuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBsaXN0ZW5lcnMsIGNvbXBhcmUgd2l0aCBwYXJhbWV0ZXIsIGFuZCByZW1vdmUgaWYgZm91bmRcbiAgICAvLyBOT1RFOiBJbiBjYXNlIHdlIGV2ZXIgcmVtb3ZlIGFsbCBtYXRjaGluZyBsaXN0ZW5lcnMgaW5zdGVhZCBvZiBqdXN0IHRoZSBmaXJzdCwgd2UgbmVlZCB0byByZXZlcnNlLWl0ZXJhdGUgaGVyZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBzdWJzY3JpYmVkTGlzdGVuZXIgPSB0aGlzLmxpc3RlbmVyc1tpXTtcbiAgICAgIGlmIChzdWJzY3JpYmVkTGlzdGVuZXIubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIHN1YnNjcmliZWRMaXN0ZW5lci5jbGVhcigpO1xuICAgICAgICBBcnJheVV0aWxzLnJlbW92ZSh0aGlzLmxpc3RlbmVycywgc3Vic2NyaWJlZExpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBmcm9tIHRoaXMgZGlzcGF0Y2hlci5cbiAgICovXG4gIHVuc3Vic2NyaWJlQWxsKCk6IHZvaWQge1xuICAgIC8vIEluIGNhc2Ugb2YgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlciB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSB0aW1lb3V0IGNhbGxiYWNrIHdvbid0IGJlIGNhbGxlZFxuICAgIGZvciAobGV0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lci5jbGVhcigpO1xuICAgIH1cblxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBldmVudCB0byBhbGwgc3Vic2NyaWJlZCBsaXN0ZW5lcnMuXG4gICAqIEBwYXJhbSBzZW5kZXIgdGhlIHNvdXJjZSBvZiB0aGUgZXZlbnRcbiAgICogQHBhcmFtIGFyZ3MgdGhlIGFyZ3VtZW50cyBmb3IgdGhlIGV2ZW50XG4gICAqL1xuICBkaXNwYXRjaChzZW5kZXI6IFNlbmRlciwgYXJnczogQXJncyA9IG51bGwpIHtcbiAgICBsZXQgbGlzdGVuZXJzVG9SZW1vdmUgPSBbXTtcblxuICAgIC8vIENhbGwgZXZlcnkgbGlzdGVuZXJcbiAgICAvLyBXZSBpdGVyYXRlIG92ZXIgYSBjb3B5IG9mIHRoZSBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYXZvaWQgdGhlIGNhc2Ugd2hlcmUgZXZlbnRzIGFyZSBub3QgZmlyZWQgb24gbGlzdGVuZXJzIHdoZW5cbiAgICAvLyBsaXN0ZW5lcnMgYXJlIHVuc3Vic2NyaWJlZCBmcm9tIHdpdGhpbiB0aGUgZXZlbnQgaGFuZGxlcnMgZHVyaW5nIGEgZGlzcGF0Y2ggKGJlY2F1c2UgdGhlIGluZGljZXMgY2hhbmdlIGFuZFxuICAgIC8vIGxpc3RlbmVycyBhcmUgc2hpZnRlZCB3aXRoaW4gdGhlIGFycmF5KS5cbiAgICAvLyBUaGlzIG1lYW5zIHRoYXQgbGlzdGVuZXIgeCsxIHdpbGwgc3RpbGwgYmUgY2FsbGVkIGlmIHVuc3Vic2NyaWJlZCBmcm9tIHdpdGhpbiB0aGUgaGFuZGxlciBvZiBsaXN0ZW5lciB4LCBhcyB3ZWxsXG4gICAgLy8gYXMgbGlzdGVuZXIgeSsxIHdpbGwgbm90IGJlIGNhbGxlZCB3aGVuIHN1YnNjcmliZWQgZnJvbSB3aXRoaW4gdGhlIGhhbmRsZXIgb2YgbGlzdGVuZXIgeS5cbiAgICAvLyBBcnJheS5zbGljZSgwKSBpcyB0aGUgZmFzdGVzdCBhcnJheSBjb3B5IG1ldGhvZCBhY2NvcmRpbmcgdG86IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTUxNDI1NC8zNzAyNTJcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5zbGljZSgwKTtcbiAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVyLmZpcmUoc2VuZGVyLCBhcmdzKTtcblxuICAgICAgaWYgKGxpc3RlbmVyLmlzT25jZSgpKSB7XG4gICAgICAgIGxpc3RlbmVyc1RvUmVtb3ZlLnB1c2gobGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lclxuICAgIGZvciAobGV0IGxpc3RlbmVyVG9SZW1vdmUgb2YgbGlzdGVuZXJzVG9SZW1vdmUpIHtcbiAgICAgIEFycmF5VXRpbHMucmVtb3ZlKHRoaXMubGlzdGVuZXJzLCBsaXN0ZW5lclRvUmVtb3ZlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZXZlbnQgdGhhdCB0aGlzIGRpc3BhdGNoZXIgbWFuYWdlcyBhbmQgb24gd2hpY2ggbGlzdGVuZXJzIGNhbiBzdWJzY3JpYmUgYW5kIHVuc3Vic2NyaWJlIGV2ZW50IGhhbmRsZXJzLlxuICAgKiBAcmV0dXJucyB7RXZlbnR9XG4gICAqL1xuICBnZXRFdmVudCgpOiBFdmVudDxTZW5kZXIsIEFyZ3M+IHtcbiAgICAvLyBGb3Igbm93LCBqdXN0IGNhc3QgdGhlIGV2ZW50IGRpc3BhdGNoZXIgdG8gdGhlIGV2ZW50IGludGVyZmFjZS4gQXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlIHdoZW4gdGhlXG4gICAgLy8gY29kZWJhc2UgZ3Jvd3MsIGl0IG1pZ2h0IG1ha2Ugc2Vuc2UgdG8gc3BsaXQgdGhlIGRpc3BhdGNoZXIgaW50byBzZXBhcmF0ZSBkaXNwYXRjaGVyIGFuZCBldmVudCBjbGFzc2VzLlxuICAgIHJldHVybiA8RXZlbnQ8U2VuZGVyLCBBcmdzPj50aGlzO1xuICB9XG59XG5cbi8qKlxuICogQSBiYXNpYyBldmVudCBsaXN0ZW5lciB3cmFwcGVyIHRvIG1hbmFnZSBsaXN0ZW5lcnMgd2l0aGluIHRoZSB7QGxpbmsgRXZlbnREaXNwYXRjaGVyfS4gVGhpcyBpcyBhICdwcml2YXRlJyBjbGFzc1xuICogZm9yIGludGVybmFsIGRpc3BhdGNoZXIgdXNlIGFuZCBpdCBpcyB0aGVyZWZvcmUgbm90IGV4cG9ydGVkLlxuICovXG5jbGFzcyBFdmVudExpc3RlbmVyV3JhcHBlcjxTZW5kZXIsIEFyZ3M+IHtcblxuICBwcml2YXRlIGV2ZW50TGlzdGVuZXI6IEV2ZW50TGlzdGVuZXI8U2VuZGVyLCBBcmdzPjtcbiAgcHJpdmF0ZSBvbmNlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKGxpc3RlbmVyOiBFdmVudExpc3RlbmVyPFNlbmRlciwgQXJncz4sIG9uY2U6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIHRoaXMub25jZSA9IG9uY2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgd3JhcHBlZCBldmVudCBsaXN0ZW5lci5cbiAgICogQHJldHVybnMge0V2ZW50TGlzdGVuZXI8U2VuZGVyLCBBcmdzPn1cbiAgICovXG4gIGdldCBsaXN0ZW5lcigpOiBFdmVudExpc3RlbmVyPFNlbmRlciwgQXJncz4ge1xuICAgIHJldHVybiB0aGlzLmV2ZW50TGlzdGVuZXI7XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgdGhlIHdyYXBwZWQgZXZlbnQgbGlzdGVuZXIgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzLlxuICAgKiBAcGFyYW0gc2VuZGVyXG4gICAqIEBwYXJhbSBhcmdzXG4gICAqL1xuICBmaXJlKHNlbmRlcjogU2VuZGVyLCBhcmdzOiBBcmdzKSB7XG4gICAgdGhpcy5ldmVudExpc3RlbmVyKHNlbmRlciwgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoaXMgbGlzdGVuZXIgaXMgc2NoZWR1bGVkIHRvIGJlIGNhbGxlZCBvbmx5IG9uY2UuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBvbmNlIGlmIHRydWVcbiAgICovXG4gIGlzT25jZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5vbmNlO1xuICB9XG5cbiAgY2xlYXIoKTogdm9pZCB7XG4gIH1cbn1cblxuaW50ZXJmYWNlIEV2ZW50QXR0cmlidXRlczxTZW5kZXIsIEFyZ3M+IHtcbiAgc2VuZGVyOiBTZW5kZXI7XG4gIGFyZ3M6IEFyZ3M7XG59XG5cbi8qKlxuICogRXh0ZW5kcyB0aGUgYmFzaWMge0BsaW5rIEV2ZW50TGlzdGVuZXJXcmFwcGVyfSB3aXRoIHJhdGUtbGltaXRpbmcgZnVuY3Rpb25hbGl0eS5cbiAqL1xuY2xhc3MgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlcjxTZW5kZXIsIEFyZ3M+IGV4dGVuZHMgRXZlbnRMaXN0ZW5lcldyYXBwZXI8U2VuZGVyLCBBcmdzPiB7XG5cbiAgcHJpdmF0ZSByZWFkb25seSByYXRlTXM6IG51bWJlcjtcbiAgcHJpdmF0ZSByZWFkb25seSByYXRlTGltaXRpbmdFdmVudExpc3RlbmVyOiBFdmVudExpc3RlbmVyPFNlbmRlciwgQXJncz47XG5cbiAgLy8gc2F2ZSBsYXN0IHNlZW4gZXZlbnQgYXR0cmlidXRlc1xuICBwcml2YXRlIGxhc3RTZWVuRXZlbnQ6IEV2ZW50QXR0cmlidXRlczxTZW5kZXIsIEFyZ3M+O1xuXG4gIHByaXZhdGUgcmF0ZUxpbWl0VGltb3V0OiBUaW1lb3V0O1xuXG4gIGNvbnN0cnVjdG9yKGxpc3RlbmVyOiBFdmVudExpc3RlbmVyPFNlbmRlciwgQXJncz4sIHJhdGVNczogbnVtYmVyKSB7XG4gICAgc3VwZXIobGlzdGVuZXIpOyAvLyBzZXRzIHRoZSBldmVudCBsaXN0ZW5lciBzaW5rXG5cbiAgICB0aGlzLnJhdGVNcyA9IHJhdGVNcztcblxuICAgIC8vIHN0YXJ0aW5nIGxpbWl0aW5nIHRoZSBldmVudHMgdG8gdGhlIGdpdmVuIHZhbHVlXG4gICAgY29uc3Qgc3RhcnRSYXRlTGltaXRpbmcgPSAoKSA9PiB7XG4gICAgICB0aGlzLnJhdGVMaW1pdFRpbW91dC5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvLyB0aW1vdXQgZm9yIGxpbWl0aW5nIHRoZSBldmVudHNcbiAgICB0aGlzLnJhdGVMaW1pdFRpbW91dCA9IG5ldyBUaW1lb3V0KHRoaXMucmF0ZU1zLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5sYXN0U2VlbkV2ZW50KSB7XG4gICAgICAgIHRoaXMuZmlyZVN1cGVyKHRoaXMubGFzdFNlZW5FdmVudC5zZW5kZXIsIHRoaXMubGFzdFNlZW5FdmVudC5hcmdzKTtcbiAgICAgICAgc3RhcnRSYXRlTGltaXRpbmcoKTsgLy8gc3RhcnQgcmF0ZUxpbWl0aW5nIGFnYWluIHRvIGtlZXAgcmF0ZSBsaW1pdCBhY3RpdmUgZXZlbiBhZnRlciBmaXJpbmcgdGhlIGxhc3Qgc2VlbiBldmVudFxuICAgICAgICB0aGlzLmxhc3RTZWVuRXZlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW4gY2FzZSB0aGUgZXZlbnRzIHN0b3BwaW5nIGR1cmluZyB0aGUgcmF0ZUxpbWl0aW5nIHdlIG5lZWQgdG8gdHJhY2sgdGhlIGxhc3Qgc2VlbiBvbmUgYW5kIGRlbGVnYXRlIGFmdGVyIHRoZVxuICAgIC8vIHJhdGUgbGltaXRpbmcgaXMgZmluaXNoZWQuIFRoaXMgcHJldmVudHMgbWlzc2luZyB0aGUgbGFzdCB1cGRhdGUgZHVlIHRvIHRoZSByYXRlIGxpbWl0LlxuICAgIHRoaXMucmF0ZUxpbWl0aW5nRXZlbnRMaXN0ZW5lciA9IChzZW5kZXI6IFNlbmRlciwgYXJnczogQXJncykgPT4ge1xuICAgICAgLy8gb25seSBmaXJlIGV2ZW50cyBpZiB0aGUgcmF0ZUxpbWl0aW5nIGlzIG5vdCBydW5uaW5nXG4gICAgICBpZiAodGhpcy5zaG91bGRGaXJlRXZlbnQoKSkge1xuICAgICAgICB0aGlzLmZpcmVTdXBlcihzZW5kZXIsIGFyZ3MpO1xuICAgICAgICBzdGFydFJhdGVMaW1pdGluZygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGFzdFNlZW5FdmVudCA9IHtcbiAgICAgICAgc2VuZGVyOiBzZW5kZXIsXG4gICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICB9O1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHNob3VsZEZpcmVFdmVudCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMucmF0ZUxpbWl0VGltb3V0LmlzQWN0aXZlKCk7XG4gIH1cblxuICBwcml2YXRlIGZpcmVTdXBlcihzZW5kZXI6IFNlbmRlciwgYXJnczogQXJncykge1xuICAgIC8vIEZpcmUgdGhlIGFjdHVhbCBleHRlcm5hbCBldmVudCBsaXN0ZW5lclxuICAgIHN1cGVyLmZpcmUoc2VuZGVyLCBhcmdzKTtcbiAgfVxuXG4gIGZpcmUoc2VuZGVyOiBTZW5kZXIsIGFyZ3M6IEFyZ3MpIHtcbiAgICAvLyBGaXJlIHRoZSBpbnRlcm5hbCByYXRlLWxpbWl0aW5nIGxpc3RlbmVyIGluc3RlYWQgb2YgdGhlIGV4dGVybmFsIGV2ZW50IGxpc3RlbmVyXG4gICAgdGhpcy5yYXRlTGltaXRpbmdFdmVudExpc3RlbmVyKHNlbmRlciwgYXJncyk7XG4gIH1cblxuICBjbGVhcigpOiB2b2lkIHtcbiAgICBzdXBlci5jbGVhcigpO1xuICAgIHRoaXMucmF0ZUxpbWl0VGltb3V0LmNsZWFyKCk7XG4gIH1cbn1cbiIsImNvbnN0IEZvY3VzVmlzaWJsZUNzc0NsYXNzTmFtZSA9ICd7e1BSRUZJWH19LWZvY3VzLXZpc2libGUnO1xuXG5leHBvcnQgY2xhc3MgRm9jdXNWaXNpYmlsaXR5VHJhY2tlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZXZlbnRIYW5kbGVyTWFwOiB7IFtldmVudE5hbWU6IHN0cmluZ106IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QgfTtcbiAgcHJpdmF0ZSBsYXN0SW50ZXJhY3Rpb25XYXNLZXlib2FyZDogYm9vbGVhbiA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBiaXRtb3ZpblVpUHJlZml4OiBzdHJpbmcpIHtcbiAgICB0aGlzLmV2ZW50SGFuZGxlck1hcCA9IHtcbiAgICAgIG1vdXNlZG93bjogdGhpcy5vbk1vdXNlT3JQb2ludGVyT3JUb3VjaCxcbiAgICAgIHBvaW50ZXJkb3duOiB0aGlzLm9uTW91c2VPclBvaW50ZXJPclRvdWNoLFxuICAgICAgdG91Y2hzdGFydDogdGhpcy5vbk1vdXNlT3JQb2ludGVyT3JUb3VjaCxcbiAgICAgIGtleWRvd246IHRoaXMub25LZXlEb3duLFxuICAgICAgZm9jdXM6IHRoaXMub25Gb2N1cyxcbiAgICAgIGJsdXI6IHRoaXMub25CbHVyLFxuICAgIH07XG4gICAgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBwcml2YXRlIG9uS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKGUubWV0YUtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RJbnRlcmFjdGlvbldhc0tleWJvYXJkID0gdHJ1ZTtcbiAgfTtcblxuICBwcml2YXRlIG9uTW91c2VPclBvaW50ZXJPclRvdWNoID0gKCkgPT4gKHRoaXMubGFzdEludGVyYWN0aW9uV2FzS2V5Ym9hcmQgPSBmYWxzZSk7XG5cbiAgcHJpdmF0ZSBvbkZvY3VzID0gKHsgdGFyZ2V0OiBlbGVtZW50IH06IEZvY3VzRXZlbnQpID0+IHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmxhc3RJbnRlcmFjdGlvbldhc0tleWJvYXJkICYmXG4gICAgICBpc0h0bWxFbGVtZW50KGVsZW1lbnQpICYmXG4gICAgICBpc0JpdG1vdmluVWkoZWxlbWVudCwgdGhpcy5iaXRtb3ZpblVpUHJlZml4KSAmJlxuICAgICAgIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKEZvY3VzVmlzaWJsZUNzc0NsYXNzTmFtZSlcbiAgICApIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChGb2N1c1Zpc2libGVDc3NDbGFzc05hbWUpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIG9uQmx1ciA9ICh7IHRhcmdldDogZWxlbWVudCB9OiBGb2N1c0V2ZW50KSA9PiB7XG4gICAgaWYgKGlzSHRtbEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShGb2N1c1Zpc2libGVDc3NDbGFzc05hbWUpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBldmVudCBpbiB0aGlzLmV2ZW50SGFuZGxlck1hcCkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy5ldmVudEhhbmRsZXJNYXBbZXZlbnRdLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVucmVnaXN0ZXJFdmVudExpc3RlbmVycygpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IGV2ZW50IGluIHRoaXMuZXZlbnRIYW5kbGVyTWFwKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLmV2ZW50SGFuZGxlck1hcFtldmVudF0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgIHRoaXMudW5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNCaXRtb3ZpblVpKGVsZW1lbnQ6IEVsZW1lbnQsIGJpdG1vdmluVWlQcmVmaXg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gZWxlbWVudC5pZC5pbmRleE9mKGJpdG1vdmluVWlQcmVmaXgpID09PSAwO1xufVxuXG5mdW5jdGlvbiBpc0h0bWxFbGVtZW50KGVsZW1lbnQ6IHVua25vd24pOiBlbGVtZW50IGlzIEhUTUxFbGVtZW50ICYgeyBjbGFzc0xpc3Q6IERPTVRva2VuTGlzdCB9IHtcbiAgcmV0dXJuIChcbiAgICBlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgZWxlbWVudC5jbGFzc0xpc3QgaW5zdGFuY2VvZiBET01Ub2tlbkxpc3RcbiAgKTtcbn1cbiIsImltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG4vKipcbiAqIFRoZSBHcm91cCBQbGF5YmFjayBBUEkgb2ZmZXJzIGNvbnRyb2wgb3ZlciBzeW5jaHJvbml6ZWQgcGxheWJhY2sgb2YgYSBncm91cCBvZiBjbGllbnRzLCBlLmcuIGZvciBBcHBsZSBTaGFyZVBsYXlcbiAqIHNlc3Npb25zLlxuXG4gKiBOb3RlOiBUaGUgQVBJIGN1cnJlbnRseSBvbmx5IGNvdmVycyB0aGUgaW1tZWRpYXRlIG5lZWRzIG9mIHRoZSBpT1MgU0RLIGluIGNvbWJpbmF0aW9uIHdpdGggb3VyIFVJIHdoaWNoIGlzIHJlZ2FyZGluZ1xuICogdGVtcG9yYXJpbHkgc3VzcGVuZGluZyBzeW5jaHJvbml6YXRpb24gb2YgdGhlIHBsYXllciBmcm9tIHRoZSBncm91cC4gQnV0IGl0IGlzIG9wZW4gdG8gYmUgZXh0ZW5kZWQgYXMgbmVlZGVkIGluIHRoZVxuICogZnV0dXJlLlxuICovXG5cbi8qKlxuICogUmVhc29uIGZvciBzdXNwZW5kaW5nIHRoZSBzeW5jaHJvbml6YXRpb24gd2l0aCB0aGUgZ3JvdXAuXG4gKi9cbmV4cG9ydCBlbnVtIEdyb3VwUGxheWJhY2tTdXNwZW5zaW9uUmVhc29uIHtcbiAgVXNlcklzU2NydWJiaW5nID0gJ3VzZXJJc1NjcnViYmluZycsXG59XG5cbi8qKlxuICogQSByZXByZXNlbnRhdGlvbiBvZiBhIHRlbXBvcmFyeSBicmVhayBpbiBwYXJ0aWNpcGF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwUGxheWJhY2tTdXNwZW5zaW9uIHtcbiAgLyoqXG4gICAqIFRoZSByZWFzb24gZm9yIHRoZSBzdXNwZW5zaW9uLlxuICAgKi9cbiAgcmVhc29uOiBHcm91cFBsYXliYWNrU3VzcGVuc2lvblJlYXNvbjtcblxuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllci5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG59XG5cbi8qKlxuICogT3B0aW9ucyB0byBiZSBjb25zaWRlcmVkIHVwb24gZW5kaW5nIGEgc3VzcGVuc2lvbi5cbiAqL1xuaW50ZXJmYWNlIEVuZEdyb3VwUGxheWJhY2tTdXNwZW5zaW9uT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBBIHByb3Bvc2VkIHRpbWUgZm9yIHRoZSBncm91cCB0byBzZWVrIHRvLlxuICAgKi9cbiAgcHJvcG9zZWRQbGF5YmFja1RpbWU/OiBudW1iZXI7XG59XG5cbi8qKlxuICogR3JvdXAgUGxheWJhY2sgQVBJIG9mZmVyaW5nIGNvbnRyb2wgb3ZlciB0aGUgcGxheWVyJ3MgcGFydGljaXBhdGlvbiBpbiBzeW5jaHJvbml6ZWQgcGxheWJhY2sgb2YgYSBncm91cCBvZiBjbGllbnRzLlxuICogRm9yIGV4YW1wbGUsIGFuIEFwcGxlIFNoYXJlUGxheSBzZXNzaW9uLlxuICovXG5pbnRlcmZhY2UgR3JvdXBQbGF5YmFja0FQSSB7XG4gIC8qKlxuICAgKiBCZWdpbnMgYSBuZXcgc3VzcGVuc2lvbi5cbiAgICpcbiAgICogVGVtcG9yYXJpbHkgc3VzcGVuZHMgdGhlIGxvY2FsIHBsYXllcidzIHN5bmNocm9uaXphdGlvbiB3aXRoIHRoZSBncm91cC4gV2hpbGUgc3VzcGVuZGVkLCBhbnkgbG9jYWwgcGxheWJhY2sgY29udHJvbFxuICAgKiBhY3Rpb24gKGUuZy4gcGxheSwgcGF1c2UsIHNlZWspIHdpbGwgbm90IGJlIGZvcndhcmRlZCB0byB0aGUgZ3JvdXAgYW5kIGFueSBhY3Rpb24gb3JpZ2luYXRpbmcgZnJvbSBhbm90aGVyIGdyb3VwXG4gICAqIHBhcnRpY2lwYW50IHdpbGwgbm90IGJlIHBlcmZvcm1lZCBvbiB0aGUgbG9jYWwgcGxheWVyLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBJdCBpcyBwb3NzaWJsZSBmb3IgbXVsdGlwbGUgc3VzcGVuc2lvbnMgdG8gZXhpc3QgZXhpc3Qgc2ltdWx0YW5lb3VzbHkgd2l0aCBkaWZmZXJlbnQgc3VzcGVuc2lvbiByZWFzb25zLiBUaGUgcGxheWVyXG4gICAqIHdpbGwgcmUtc3luY2hyb25pemUgd2l0aCB0aGUgZ3JvdXAgb25jZSBhbGwgZXhpc3Rpbmcgc3VzcGVuc2lvbnMgaGF2ZSBlbmRlZC5cbiAgICpcbiAgICogQHBhcmFtIHJlYXNvbiAtIFRoZSByZWFzb24gZm9yIHRoZSBzdXNwZW5zaW9uLlxuICAgKiBAcmV0dXJucyBBIHN1c3BlbnNpb24gb2JqZWN0LlxuICAgKi9cbiAgYmVnaW5TdXNwZW5zaW9uKHJlYXNvbjogR3JvdXBQbGF5YmFja1N1c3BlbnNpb25SZWFzb24pOiBHcm91cFBsYXliYWNrU3VzcGVuc2lvbjtcblxuICAvKipcbiAgICogRW5kcyB0aGUgZ2l2ZW4gc3VzcGVuc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIHN1c3BlbnNpb24gLSBUaGUgc3VzcGVuc2lvbiB0byBiZSBlbmRlZC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbC4gT3B0aW9ucyB0byBiZSBjb25zaWRlcmVkIHdoZW4gZW5kaW5nIHRoZSBzdXNwZW5zaW9uLCBlLmcuIGEgcHJvcG9zZWQgc2VlayB0aW1lIGZvciB0aGUgZ3JvdXAuXG4gICAqL1xuICBlbmRTdXNwZW5zaW9uKHN1c3BlbnNpb246IEdyb3VwUGxheWJhY2tTdXNwZW5zaW9uLCBvcHRpb25zPzogRW5kR3JvdXBQbGF5YmFja1N1c3BlbnNpb25PcHRpb25zKTogdm9pZDtcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgcGxheWVyIGlzIGN1cnJlbnRseSBwYXJ0aWNpcGF0aW5nIGluIGEgZ3JvdXAgcGxheWJhY2sgc2Vzc2lvbi5cbiAgICovXG4gIGhhc0pvaW5lZCgpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBwbGF5ZXIgaXMgY3VycmVudGx5IHN1c3BlbmRpbmcgc3luY2hyb25pemF0aW9uIHdpdGggdGhlIGdyb3VwLlxuICAgKiBDYW4gb25seSByZXR1cm4gdHJ1ZSBpZiBgaGFzSm9pbmVkKClgIGFsc28gaXMgdHJ1ZS5cbiAgICovXG4gIGlzU3VzcGVuZGVkKCk6IGJvb2xlYW47XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBFeHRlbmRlZFBsYXllckFQSSBleHRlbmRzIFBsYXllckFQSSB7XG4gIC8qKlxuICAgKiBHcm91cCBQbGF5YmFjayBBUElcbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBBUEkgaXMgb3B0aW9uYWwgYXMgbm90IGV2ZXJ5IHBsYXRmb3JtIHN1cHBvcnRzIGdyb3VwIHBsYXliYWNrLlxuICAgKi9cbiAgZ3JvdXBQbGF5YmFjaz86IEdyb3VwUGxheWJhY2tBUEk7XG59XG4iLCJleHBvcnQgbmFtZXNwYWNlIEd1aWQge1xuXG4gIGxldCBndWlkID0gMTtcblxuICBleHBvcnQgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICByZXR1cm4gZ3VpZCsrO1xuICB9XG59XG4iLCJpbXBvcnQge0RPTX0gZnJvbSAnLi9kb20nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlTG9hZGVkQ2FsbGJhY2sge1xuICAodXJsOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIEltYWdlTG9hZGVyU3RhdGUge1xuICB1cmw6IHN0cmluZztcbiAgaW1hZ2U6IERPTTtcbiAgbG9hZGVkQ2FsbGJhY2s6IEltYWdlTG9hZGVkQ2FsbGJhY2s7XG4gIGxvYWRlZDogYm9vbGVhbjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59XG5cbi8qKlxuICogVHJhY2tzIHRoZSBsb2FkaW5nIHN0YXRlIG9mIGltYWdlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEltYWdlTG9hZGVyIHtcblxuICBwcml2YXRlIHN0YXRlOiB7IFt1cmw6IHN0cmluZ106IEltYWdlTG9hZGVyU3RhdGU7IH0gPSB7fTtcblxuICAvKipcbiAgICogTG9hZHMgYW4gaW1hZ2UgYW5kIGNhbGwgdGhlIGNhbGxiYWNrIG9uY2UgdGhlIGltYWdlIGlzIGxvYWRlZC4gSWYgdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCB0aGUgY2FsbGJhY2tcbiAgICogaXMgY2FsbGVkIGltbWVkaWF0ZWx5LCBlbHNlIGl0IGlzIGNhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIGZpbmlzaGVkLiBDYWxsaW5nIHRoaXMgbWV0aG9kIG11bHRpcGxlIHRpbWVzIGZvciB0aGVcbiAgICogc2FtZSBpbWFnZSB3aGlsZSBpdCBpcyBsb2FkaW5nIGNhbGxzIG9ubHkgbGV0IGNhbGxiYWNrIHBhc3NlZCBpbnRvIHRoZSBsYXN0IGNhbGwuXG4gICAqIEBwYXJhbSB1cmwgVGhlIHVybCB0byB0aGUgaW1hZ2UgdG8gbG9hZFxuICAgKiBAcGFyYW0gbG9hZGVkQ2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGltYWdlIGlzIGxvYWRlZFxuICAgKi9cbiAgbG9hZCh1cmw6IHN0cmluZywgbG9hZGVkQ2FsbGJhY2s6IEltYWdlTG9hZGVkQ2FsbGJhY2spOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc3RhdGVbdXJsXSkge1xuICAgICAgLy8gV2hlbiB0aGUgaW1hZ2Ugd2FzIG5ldmVyIGF0dGVtcHRlZCB0byBiZSBsb2FkZWQgYmVmb3JlLCB3ZSBjcmVhdGUgYSBzdGF0ZSBhbmQgc3RvcmUgaXQgaW4gdGhlIHN0YXRlIG1hcFxuICAgICAgLy8gZm9yIGxhdGVyIHVzZSB3aGVuIHRoZSBzYW1lIGltYWdlIGlzIHJlcXVlc3RlZCB0byBiZSBsb2FkZWQgYWdhaW4uXG4gICAgICBsZXQgc3RhdGU6IEltYWdlTG9hZGVyU3RhdGUgPSB7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBpbWFnZTogbmV3IERPTSgnaW1nJywge30pLFxuICAgICAgICBsb2FkZWRDYWxsYmFjazogbG9hZGVkQ2FsbGJhY2ssXG4gICAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICB9O1xuICAgICAgdGhpcy5zdGF0ZVt1cmxdID0gc3RhdGU7XG5cbiAgICAgIC8vIExpc3RlbiB0byB0aGUgbG9hZCBldmVudCwgdXBkYXRlIHRoZSBzdGF0ZSBhbmQgY2FsbCB0aGUgY2FsbGJhY2sgb25jZSB0aGUgaW1hZ2UgaXMgbG9hZGVkXG4gICAgICBzdGF0ZS5pbWFnZS5vbignbG9hZCcsIChlKSA9PiB7XG4gICAgICAgIHN0YXRlLmxvYWRlZCA9IHRydWU7XG4gICAgICAgIHN0YXRlLndpZHRoID0gKDxIVE1MSW1hZ2VFbGVtZW50PnN0YXRlLmltYWdlLmdldCgwKSkud2lkdGg7XG4gICAgICAgIHN0YXRlLmhlaWdodCA9ICg8SFRNTEltYWdlRWxlbWVudD5zdGF0ZS5pbWFnZS5nZXQoMCkpLmhlaWdodDtcblxuICAgICAgICB0aGlzLmNhbGxMb2FkZWRDYWxsYmFjayhzdGF0ZSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0IHRoZSBpbWFnZSBVUkwgdG8gc3RhcnQgdGhlIGxvYWRpbmdcbiAgICAgIHN0YXRlLmltYWdlLmF0dHIoJ3NyYycsIHN0YXRlLnVybCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIGhhdmUgYSBzdGF0ZSBmb3IgdGhlIHJlcXVlc3RlZCBpbWFnZSwgc28gaXQgaXMgZWl0aGVyIGFscmVhZHkgbG9hZGVkIG9yIGN1cnJlbnRseSBsb2FkaW5nXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlW3VybF07XG5cbiAgICAgIC8vIFdlIG92ZXJ3cml0ZSB0aGUgY2FsbGJhY2sgdG8gbWFrZSBzdXJlIHRoYXQgb25seSB0aGUgY2FsbGJhY2sgb2YgdGhlIGxhdGVzdCBjYWxsIGdldHMgZXhlY3V0ZWQuXG4gICAgICAvLyBFYXJsaWVyIGNhbGxiYWNrcyBiZWNvbWUgaW52YWxpZCBvbmNlIGEgbmV3IGxvYWQgY2FsbCBhcnJpdmVzLCBhbmQgdGhleSBhcmUgbm90IGNhbGxlZCBhcyBsb25nIGFzIHRoZSBpbWFnZVxuICAgICAgLy8gaXMgbm90IGxvYWRlZC5cbiAgICAgIHN0YXRlLmxvYWRlZENhbGxiYWNrID0gbG9hZGVkQ2FsbGJhY2s7XG5cbiAgICAgIC8vIFdoZW4gdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCB3ZSBkaXJlY3RseSBleGVjdXRlIHRoZSBjYWxsYmFjayBpbnN0ZWFkIG9mIHdhaXRpbmcgZm9yIHRoZSBsb2FkIGV2ZW50XG4gICAgICBpZiAoc3RhdGUubG9hZGVkKSB7XG4gICAgICAgIHRoaXMuY2FsbExvYWRlZENhbGxiYWNrKHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNhbGxMb2FkZWRDYWxsYmFjayhzdGF0ZTogSW1hZ2VMb2FkZXJTdGF0ZSk6IHZvaWQge1xuICAgIHN0YXRlLmxvYWRlZENhbGxiYWNrKHN0YXRlLnVybCwgc3RhdGUud2lkdGgsIHN0YXRlLmhlaWdodCk7XG4gIH1cbn1cbiIsImltcG9ydCB2b2NhYnVsYXJ5RGUgZnJvbSAnLi9sYW5ndWFnZXMvZGUuanNvbic7XG5pbXBvcnQgdm9jYWJ1bGFyeUVuIGZyb20gJy4vbGFuZ3VhZ2VzL2VuLmpzb24nO1xuaW1wb3J0IHZvY2FidWxhcnlFcyBmcm9tICcuL2xhbmd1YWdlcy9lcy5qc29uJztcbmltcG9ydCB2b2NhYnVsYXJ5TmwgZnJvbSAnLi9sYW5ndWFnZXMvbmwuanNvbic7XG5cbmltcG9ydCB7IExvY2FsaXphdGlvbkNvbmZpZyB9IGZyb20gJy4uL3VpbWFuYWdlci5qcyc7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Vm9jYWJ1bGFyaWVzOiBWb2NhYnVsYXJpZXMgPSB7XG4gICdlbic6IHZvY2FidWxhcnlFbixcbiAgJ2RlJzogdm9jYWJ1bGFyeURlLFxuICAnZXMnOiB2b2NhYnVsYXJ5RXMsXG4gICdubCc6IHZvY2FidWxhcnlObCxcbn07XG5cbmNvbnN0IGRlZmF1bHRMb2NhbGl6YXRpb25Db25maWc6IExvY2FsaXphdGlvbkNvbmZpZyA9IHtcbiAgbGFuZ3VhZ2U6ICdlbicsXG4gIHZvY2FidWxhcmllczogZGVmYXVsdFZvY2FidWxhcmllcyxcbn07XG5cbi8qKlxuICogQGNhdGVnb3J5IExvY2FsaXphdGlvblxuICovXG5leHBvcnQgdHlwZSBMb2NhbGl6ZXIgPSAoKSA9PiBzdHJpbmc7XG4vKipcbiAqIEBjYXRlZ29yeSBMb2NhbGl6YXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgTG9jYWxpemFibGVUZXh0ID0gc3RyaW5nIHwgTG9jYWxpemVyO1xuXG4vKipcbiAqIEBjYXRlZ29yeSBMb2NhbGl6YXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWb2NhYnVsYXJ5IHtcbiAgJ3NldHRpbmdzLnZpZGVvLnF1YWxpdHknOiBzdHJpbmc7XG4gICdzZXR0aW5ncy5hdWRpby5xdWFsaXR5Jzogc3RyaW5nO1xuICAnc2V0dGluZ3MuYXVkaW8udHJhY2snOiBzdHJpbmc7XG4gICdzZXR0aW5ncy5hdWRpby5tdXRlJzogc3RyaW5nO1xuICAnc2V0dGluZ3MuYXVkaW8udm9sdW1lJzogc3RyaW5nO1xuICAnc2V0dGluZ3Muc3VidGl0bGVzJzogc3RyaW5nO1xuICAnc2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuY29sb3InOiBzdHJpbmc7XG4gICdzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5vcGFjaXR5Jzogc3RyaW5nO1xuICAnc2V0dGluZ3Muc3VidGl0bGVzLmJhY2tncm91bmQuY29sb3InOiBzdHJpbmc7XG4gICdzZXR0aW5ncy5zdWJ0aXRsZXMuYmFja2dyb3VuZC5vcGFjaXR5Jzogc3RyaW5nO1xuICAnc2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuc2l6ZSc6IHN0cmluZztcbiAgJ3NldHRpbmdzLnN1YnRpdGxlcy5jaGFyYWN0ZXJFZGdlJzogc3RyaW5nO1xuICAnc2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UucmFpc2VkJzogc3RyaW5nO1xuICAnc2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UuZGVwcmVzc2VkJzogc3RyaW5nO1xuICAnc2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UudW5pZm9ybSc6IHN0cmluZztcbiAgJ3NldHRpbmdzLnN1YnRpdGxlcy5jaGFyYWN0ZXJFZGdlLmRyb3BzaGFkb3dlZCc6IHN0cmluZztcbiAgJ3NldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseSc6IHN0cmluZztcbiAgJ3NldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5tb25vc3BhY2Vkc2VyaWYnOiBzdHJpbmc7XG4gICdzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkucHJvcG9ydGlvbmFsc2VyaWYnOiBzdHJpbmc7XG4gICdzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkubW9ub3NwYWNlZHNhbnNzZXJpZic6IHN0cmluZztcbiAgJ3NldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5wcm9wb3J0aW9uYWxzYW5zc2VyaWYnOiBzdHJpbmc7XG4gICdzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkuY2FzdWFsJzogc3RyaW5nO1xuICAnc2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuZmFtaWx5LmN1cnNpdmUnOiBzdHJpbmc7XG4gICdzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkuc21hbGxjYXBpdGFsJzogc3RyaW5nO1xuICAnc2V0dGluZ3Muc3VidGl0bGVzLndpbmRvdy5jb2xvcic6IHN0cmluZztcbiAgJ3NldHRpbmdzLnN1YnRpdGxlcy53aW5kb3cub3BhY2l0eSc6IHN0cmluZztcbiAgJ3BsYXknOiBzdHJpbmc7XG4gICdzZXR0aW5ncy50aW1lLmhvdXJzJzogc3RyaW5nO1xuICAnc2V0dGluZ3MudGltZS5taW51dGVzJzogc3RyaW5nO1xuICAnc2V0dGluZ3MudGltZS5zZWNvbmRzJzogc3RyaW5nO1xuICAnY29sb3JzLndoaXRlJzogc3RyaW5nO1xuICAnY29sb3JzLmJsYWNrJzogc3RyaW5nO1xuICAnY29sb3JzLnJlZCc6IHN0cmluZztcbiAgJ2NvbG9ycy5ncmVlbic6IHN0cmluZztcbiAgJ2NvbG9ycy5ibHVlJzogc3RyaW5nO1xuICAnY29sb3JzLmN5YW4nOiBzdHJpbmc7XG4gICdjb2xvcnMueWVsbG93Jzogc3RyaW5nO1xuICAnY29sb3JzLm1hZ2VudGEnOiBzdHJpbmc7XG4gICdwZXJjZW50Jzogc3RyaW5nO1xuICAnc2V0dGluZ3MnOiBzdHJpbmc7XG4gICdhZHMucmVtYWluaW5nVGltZSc6IHN0cmluZztcbiAgJ3BpY3R1cmVJblBpY3R1cmUnOiBzdHJpbmc7XG4gICdhcHBsZUFpcnBsYXknOiBzdHJpbmc7XG4gICdnb29nbGVDYXN0Jzogc3RyaW5nO1xuICAndnInOiBzdHJpbmc7XG4gICdvZmYnOiBzdHJpbmc7XG4gICdhdXRvJzogc3RyaW5nO1xuICAnYmFjayc6IHN0cmluZztcbiAgJ3Jlc2V0Jzogc3RyaW5nO1xuICAncmVwbGF5Jzogc3RyaW5nO1xuICAnbm9ybWFsJzogc3RyaW5nO1xuICAnZGVmYXVsdCc6IHN0cmluZztcbiAgJ29wZW4nOiBzdHJpbmc7XG4gICdjbG9zZSc6IHN0cmluZztcbiAgJ2Z1bGxzY3JlZW4nOiBzdHJpbmc7XG4gICdzcGVlZCc6IHN0cmluZztcbiAgJ3BsYXlQYXVzZSc6IHN0cmluZztcbiAgJ2xpdmUnOiBzdHJpbmc7XG4gICdzdWJ0aXRsZS5leGFtcGxlJzogc3RyaW5nO1xuICAnc3VidGl0bGUuc2VsZWN0Jzogc3RyaW5nO1xuICAncGxheWluZ09uJzogc3RyaW5nO1xuICAnY29ubmVjdGluZ1RvJzogc3RyaW5nO1xuICAnd2F0ZXJtYXJrTGluayc6IHN0cmluZztcbiAgJ2NvbnRyb2xCYXInOiBzdHJpbmc7XG4gICdwbGF5ZXInOiBzdHJpbmc7XG4gICdzZWVrQmFyJzogc3RyaW5nO1xuICAnc2Vla0Jhci52YWx1ZSc6IHN0cmluZztcbiAgJ3NlZWtCYXIudGltZXNoaWZ0Jzogc3RyaW5nO1xuICAnc2Vla0Jhci5kdXJhdGlvblRleHQnOiBzdHJpbmc7XG4gICdlY29Nb2RlJzogc3RyaW5nO1xuICAnZWNvTW9kZS50aXRsZSc6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgTG9jYWxpemF0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIEN1c3RvbVZvY2FidWxhcnk8Vj4gPSBWICYgUGFydGlhbDxWb2NhYnVsYXJ5PjtcblxuLyoqXG4gKiBAY2F0ZWdvcnkgTG9jYWxpemF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVm9jYWJ1bGFyaWVzIHtcbiAgW2tleTogc3RyaW5nXTogQ3VzdG9tVm9jYWJ1bGFyeTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+Pjtcbn1cblxuLyoqXG4gKiBAY2F0ZWdvcnkgTG9jYWxpemF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBJMThuIHtcbiAgcHJpdmF0ZSBsYW5ndWFnZTogc3RyaW5nO1xuICBwcml2YXRlIHZvY2FidWxhcnk6IEN1c3RvbVZvY2FidWxhcnk8UmVjb3JkPHN0cmluZywgc3RyaW5nPj47XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBMb2NhbGl6YXRpb25Db25maWcpIHtcbiAgICB0aGlzLnNldENvbmZpZyhjb25maWcpO1xuICB9XG5cbiAgcHVibGljIHNldENvbmZpZyhjb25maWc6IExvY2FsaXphdGlvbkNvbmZpZykge1xuICAgIGNvbnN0IG1lcmdlZENvbmZpZyA9IHsgLi4uZGVmYXVsdExvY2FsaXphdGlvbkNvbmZpZywgLi4uY29uZmlnIH07XG4gICAgY29uc3QgZGV0ZWN0QnJvd3Nlckxhbmd1YWdlID0gbWVyZ2VkQ29uZmlnLmxhbmd1YWdlID09PSAnYXV0byc7XG4gICAgY29uc3Qgdm9jYWJ1bGFyaWVzID0gdGhpcy5tZXJnZVZvY2FidWxhcmllc1dpdGhEZWZhdWx0Vm9jYWJ1bGFyaWVzKG1lcmdlZENvbmZpZy52b2NhYnVsYXJpZXMpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZUxhbmd1YWdlKG1lcmdlZENvbmZpZy5sYW5ndWFnZSwgZGV0ZWN0QnJvd3Nlckxhbmd1YWdlLCB2b2NhYnVsYXJpZXMpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZVZvY2FidWxhcnkodm9jYWJ1bGFyaWVzKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNvbnRhaW5zTGFuZ3VhZ2Uodm9jYWJ1bGFyaWVzOiBWb2NhYnVsYXJpZXMsIGxhbmd1YWdlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdm9jYWJ1bGFyaWVzLmhhc093blByb3BlcnR5KGxhbmd1YWdlKTtcbiAgfVxuXG4gIHByaXZhdGUgbWVyZ2VWb2NhYnVsYXJpZXNXaXRoRGVmYXVsdFZvY2FidWxhcmllcyh2b2NhYnVsYXJpZXM6IFZvY2FidWxhcmllcyA9IHt9KSB7XG4gICAgY29uc3QgcmF3Vm9jYWJ1bGFyaWVzOiBWb2NhYnVsYXJpZXMgPSB7IC4uLmRlZmF1bHRWb2NhYnVsYXJpZXMsIC4uLnZvY2FidWxhcmllcyB9O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhyYXdWb2NhYnVsYXJpZXMpLnJlZHVjZSgobWVyZ2VkVm9jYWJ1bGFyaWVzLCBsYW5ndWFnZSkgPT4ge1xuICAgICAgbGV0IHZvY2FidWxhcnkgPSByYXdWb2NhYnVsYXJpZXNbbGFuZ3VhZ2VdO1xuICAgICAgaWYgKEkxOG4uY29udGFpbnNMYW5ndWFnZShkZWZhdWx0Vm9jYWJ1bGFyaWVzLCBsYW5ndWFnZSkgJiYgSTE4bi5jb250YWluc0xhbmd1YWdlKHZvY2FidWxhcmllcywgbGFuZ3VhZ2UpKSB7XG4gICAgICAgIHZvY2FidWxhcnkgPSB7IC4uLmRlZmF1bHRWb2NhYnVsYXJpZXNbbGFuZ3VhZ2VdLCAuLi52b2NhYnVsYXJpZXNbbGFuZ3VhZ2VdIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyAuLi5tZXJnZWRWb2NhYnVsYXJpZXMsIFtsYW5ndWFnZV06IHZvY2FidWxhcnkgfTtcbiAgICB9LCB7fSk7XG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVMYW5ndWFnZShcbiAgICBsYW5ndWFnZTogc3RyaW5nLFxuICAgIGJyb3dzZXJMYW5ndWFnZURldGVjdGlvbkVuYWJsZWQ6IGJvb2xlYW4sXG4gICAgdm9jYWJ1bGFyaWVzOiBWb2NhYnVsYXJpZXMsXG4gICkge1xuICAgIGlmIChicm93c2VyTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkKSB7XG4gICAgICBjb25zdCB1c2VyTGFuZ3VhZ2UgPSB3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlO1xuXG4gICAgICBpZiAoSTE4bi5jb250YWluc0xhbmd1YWdlKHZvY2FidWxhcmllcywgdXNlckxhbmd1YWdlKSkge1xuICAgICAgICB0aGlzLmxhbmd1YWdlID0gdXNlckxhbmd1YWdlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaG9ydGVuZWRVc2VyTGFuZ3VhZ2UgPSB1c2VyTGFuZ3VhZ2Uuc2xpY2UoMCwgMik7XG4gICAgICBpZiAoSTE4bi5jb250YWluc0xhbmd1YWdlKHZvY2FidWxhcmllcywgc2hvcnRlbmVkVXNlckxhbmd1YWdlKSkge1xuICAgICAgICB0aGlzLmxhbmd1YWdlID0gc2hvcnRlbmVkVXNlckxhbmd1YWdlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplVm9jYWJ1bGFyeSh2b2NhYnVsYXJpZXM6IFZvY2FidWxhcmllcykge1xuICAgIHRoaXMudm9jYWJ1bGFyeSA9IFsnZW4nLCB0aGlzLmxhbmd1YWdlXVxuICAgICAgLnJlZHVjZSgodm9jYWIsIGxhbmcpID0+ICh7IC4uLnZvY2FiLCAuLi4odm9jYWJ1bGFyaWVzW2xhbmddIHx8IHt9KSB9KSwge30pO1xuICB9XG5cbiAgcHJpdmF0ZSByZXBsYWNlVmFyaWFibGVXaXRoUGxhY2Vob2xkZXJJZkV4aXN0cyh0ZXh0OiBzdHJpbmcsIGNvbmZpZzogYW55KSB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IHRleHQubWF0Y2gobmV3IFJlZ0V4cCgne1thLXpBLVowLTldK30nLCAnZycpKTtcbiAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaGVzXG4gICAgICAubWFwKChtOiBzdHJpbmcpID0+ICh7IG1hdGNoOiBtLCBrZXk6IG0uc2xpY2UoMSwgLTEpIH0pKVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbFxuICAgICAgLnJlZHVjZSgoc3RyLCB7IGtleSwgbWF0Y2ggfSkgPT4gY29uZmlnLmhhc093blByb3BlcnR5KGtleSkgPyBzdHIucmVwbGFjZShtYXRjaCwgY29uZmlnW2tleV0pIDogc3RyLCB0ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMb2NhbGl6ZXI8ViBleHRlbmRzIEN1c3RvbVZvY2FidWxhcnk8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4gPSBDdXN0b21Wb2NhYnVsYXJ5PFJlY29yZDxzdHJpbmcsIHN0cmluZz4+PihcbiAgICBrZXk6IGtleW9mIFYsXG4gICAgY29uZmlnPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPixcbiAgKTogTG9jYWxpemVyIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGtleSA9PSBudWxsKSB7IC8vIGJlY2F1c2Ugc29tZXRpbWVzIHdlIGNhbGwgdG9Eb21FbGVtZW50KCkgd2l0aG91dCBjb25maWd1cmluZyB0aGUgY29tcG9uZW50IG9yIHNldHRpbmcgdGV4dC4uLlxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGV0IHZvY2FidWxhcnlTdHJpbmcgPSB0aGlzLnZvY2FidWxhcnlba2V5IGFzIHN0cmluZ107XG5cbiAgICAgIGlmICh2b2NhYnVsYXJ5U3RyaW5nID09IG51bGwpIHtcbiAgICAgICAgdm9jYWJ1bGFyeVN0cmluZyA9IGtleSBhcyBzdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICB2b2NhYnVsYXJ5U3RyaW5nID0gdGhpcy5yZXBsYWNlVmFyaWFibGVXaXRoUGxhY2Vob2xkZXJJZkV4aXN0cyh2b2NhYnVsYXJ5U3RyaW5nLCBjb25maWcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdm9jYWJ1bGFyeVN0cmluZztcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHBlcmZvcm1Mb2NhbGl6YXRpb24odGV4dDogTG9jYWxpemFibGVUZXh0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0ZXh0ID09PSAnZnVuY3Rpb24nID8gdGV4dCgpIDogdGV4dDtcbiAgfVxufVxuXG4vKipcbiAqIEBjYXRlZ29yeSBMb2NhbGl6YXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGkxOG4gPSBuZXcgSTE4bihkZWZhdWx0TG9jYWxpemF0aW9uQ29uZmlnKTtcbiIsIm1vZHVsZS5leHBvcnRzPXtcbiAgXCJzZXR0aW5ncy52aWRlby5xdWFsaXR5XCI6IFwiVmlkZW9xdWFsaXTDpHRcIixcbiAgXCJzZXR0aW5ncy5hdWRpby5xdWFsaXR5XCI6IFwiQXVkaW9xdWFsaXTDpHRcIixcbiAgXCJzZXR0aW5ncy5hdWRpby50cmFja1wiOiBcIkF1ZGlvc3B1clwiLFxuICBcInNwZWVkXCI6IFwiR2VzY2h3aW5kaWdrZWl0XCIsXG4gIFwicGxheVwiOiBcIkFic3BpZWxlblwiLFxuICBcInBhdXNlXCI6IFwiUGF1c2VcIixcbiAgXCJwbGF5UGF1c2VcIjogXCJBYnNwaWVsZW4vUGF1c2VcIixcbiAgXCJvcGVuXCI6IFwiw7ZmZm5lblwiLFxuICBcImNsb3NlXCI6IFwiU2NobGllw59lblwiLFxuICBcInNldHRpbmdzLmF1ZGlvLm11dGVcIjogXCJTdHVtbXNjaGFsdHVuZ1wiLFxuICBcInNldHRpbmdzLmF1ZGlvLnZvbHVtZVwiOiBcIkxhdXRzdMOkcmtlXCIsXG4gIFwicGljdHVyZUluUGljdHVyZVwiOiBcIkJpbGQgaW0gQmlsZFwiLFxuICBcImFwcGxlQWlycGxheVwiOiBcIkFwcGxlIEFpclBsYXlcIixcbiAgXCJnb29nbGVDYXN0XCI6IFwiR29vZ2xlIENhc3RcIixcbiAgXCJ2clwiOiBcIlZSXCIsXG4gIFwic2V0dGluZ3NcIjogXCJFaW5zdGVsbHVuZ2VuXCIsXG4gIFwiZnVsbHNjcmVlblwiOiBcIlZvbGxiaWxkXCIsXG4gIFwib2ZmXCI6IFwiYXVzXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzXCI6IFwiVW50ZXJ0aXRlbFwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LnNpemVcIjogXCJHcsO2w59lXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuc3R5bGVcIjogXCJTY2hyaWZ0c3RpbFwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LnN0eWxlLmJvbGRcIjogXCJGZXR0XCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuc3R5bGUuaXRhbGljXCI6IFwiS3Vyc2l2XCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuZmFtaWx5XCI6IFwiU2NocmlmdGFydFwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmNvbG9yXCI6IFwiRmFyYmVcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5vcGFjaXR5XCI6IFwiRGVja2tyYWZ0XCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2VcIjogXCJSw6RuZGVyXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UuY29sb3JcIjogXCJCdWNoc3RhYmVucmFuZGZhcmJlXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmJhY2tncm91bmQuY29sb3JcIjogXCJIaW50ZXJncnVuZGZhcmJlXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmJhY2tncm91bmQub3BhY2l0eVwiOiBcIkhpbnRlcmdydW5kZGVja2tyYWZ0XCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLndpbmRvdy5jb2xvclwiOiBcIkhpbnRlcmdydW5kZmFyYmVcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMud2luZG93Lm9wYWNpdHlcIjogXCJIaW50ZXJncnVuZGRlY2trcmFmdFwiLFxuICBcInNldHRpbmdzLnRpbWUuaG91cnNcIjogXCJTdHVuZGVuXCIsXG4gIFwic2V0dGluZ3MudGltZS5taW51dGVzXCI6IFwiTWludXRlblwiLFxuICBcInNldHRpbmdzLnRpbWUuc2Vjb25kc1wiOiBcIlNla3VuZGVuXCIsXG4gIFwiYmFja1wiOiBcIlp1csO8Y2tcIixcbiAgXCJyZXNldFwiOiBcIlp1csO8Y2tzZXR6ZW5cIixcbiAgXCJyZXBsYXlcIjogXCJXaWVkZXJob2xlblwiLFxuICBcImFkcy5yZW1haW5pbmdUaW1lXCI6IFwiRGllc2UgQW56ZWlnZSBlbmRldCBpbiB7cmVtYWluaW5nVGltZX0gU2VrdW5kZW5cIixcbiAgXCJkZWZhdWx0XCI6IFwic3RhbmRhcmRcIixcbiAgXCJjb2xvcnMud2hpdGVcIjogXCJ3ZWnDn1wiLFxuICBcImNvbG9ycy5ibGFja1wiOiBcInNjaHdhcnpcIixcbiAgXCJjb2xvcnMucmVkXCI6IFwicm90XCIsXG4gIFwiY29sb3JzLmdyZWVuXCI6IFwiZ3LDvG5cIixcbiAgXCJjb2xvcnMuYmx1ZVwiOiBcImJsYXVcIixcbiAgXCJjb2xvcnMueWVsbG93XCI6IFwiZ2VsYlwiLFxuICBcInN1YnRpdGxlLmV4YW1wbGVcIjogXCJCZWlzcGllbCBVbnRlcnRpdGVsXCIsXG4gIFwic3VidGl0bGUuc2VsZWN0XCI6IFwiVW50ZXJ0aXRlbCBhdXN3w6RobGVuXCIsXG4gIFwicGxheWluZ09uXCI6IFwiU3BpZWx0IGF1ZiA8c3Ryb25nPntjYXN0RGV2aWNlTmFtZX08L3N0cm9uZz5cIixcbiAgXCJjb25uZWN0aW5nVG9cIjogXCJWZXJiaW5kdW5nIG1pdCA8c3Ryb25nPntjYXN0RGV2aWNlTmFtZX08L3N0cm9uZz4gd2lyZCBoZXJnZXN0ZWxsdC4uLlwiLFxuICBcIndhdGVybWFya0xpbmtcIjogXCJMaW5rIHp1bSBIb21lcGFnZVwiLFxuICBcImNvbnRyb2xCYXJcIjogXCJWaWRlb3BsYXllciBLb250cm9sbGVuXCIsXG4gIFwicGxheWVyXCI6IFwiVmlkZW8gcGxheWVyXCIsXG4gIFwic2Vla0JhclwiOiBcIlZpZGVvLVRpbWVsaW5lXCIsXG4gIFwic2Vla0Jhci52YWx1ZVwiOiBcIldlcnRcIixcbiAgXCJzZWVrQmFyLnRpbWVzaGlmdFwiOiBcIlRpbWVzaGlmdFwiLFxuICBcInNlZWtCYXIuZHVyYXRpb25UZXh0XCI6IFwiYXVzXCIsXG4gIFwicXVpY2tzZWVrLmZvcndhcmRcIjogXCJWb3JcIixcbiAgXCJxdWlja3NlZWsucmV3aW5kXCI6IFwiWnVyw7xja1wiLFxuICBcImVjb01vZGVcIjogXCJlY29Nb2RlXCIsXG4gIFwiZWNvTW9kZS50aXRsZVwiOlwiRWNvIE1vZGVcIlxufVxuIiwibW9kdWxlLmV4cG9ydHM9e1xuICBcInNldHRpbmdzLnZpZGVvLnF1YWxpdHlcIjogXCJWaWRlbyBRdWFsaXR5XCIsXG4gIFwic2V0dGluZ3MuYXVkaW8ucXVhbGl0eVwiOiBcIkF1ZGlvIFF1YWxpdHlcIixcbiAgXCJzZXR0aW5ncy5hdWRpby50cmFja1wiOiBcIkF1ZGlvIFRyYWNrXCIsXG4gIFwic2V0dGluZ3MuYXVkaW8ubXV0ZVwiIDogXCJNdXRlXCIsXG4gIFwic2V0dGluZ3MuYXVkaW8udm9sdW1lXCIgOiBcIlZvbHVtZVwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy53aW5kb3cuY29sb3JcIiA6IFwiV2luZG93IGNvbG9yXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLndpbmRvdy5vcGFjaXR5XCIgOiBcIldpbmRvdyBvcGFjaXR5XCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzXCIgOiBcIlN1YnRpdGxlc1wiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmNvbG9yXCIgOiBcIkZvbnQgY29sb3JcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5vcGFjaXR5XCIgOiBcIkZvbnQgb3BhY2l0eVwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5iYWNrZ3JvdW5kLmNvbG9yXCIgOiBcIkJhY2tncm91bmQgY29sb3JcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuYmFja2dyb3VuZC5vcGFjaXR5XCI6IFwiQmFja2dyb3VuZCBvcGFjaXR5XCIsXG4gIFwiY29sb3JzLndoaXRlXCI6IFwid2hpdGVcIixcbiAgXCJjb2xvcnMuYmxhY2tcIjogXCJibGFja1wiLFxuICBcImNvbG9ycy5yZWRcIjogXCJyZWRcIixcbiAgXCJjb2xvcnMuZ3JlZW5cIjogXCJncmVlblwiLFxuICBcImNvbG9ycy5ibHVlXCI6IFwiYmx1ZVwiLFxuICBcImNvbG9ycy5jeWFuXCI6IFwiY3lhblwiLFxuICBcImNvbG9ycy55ZWxsb3dcIjogXCJ5ZWxsb3dcIixcbiAgXCJjb2xvcnMubWFnZW50YVwiOiBcIm1hZ2VudGFcIixcbiAgXCJwZXJjZW50XCI6IFwie3ZhbHVlfSVcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5zaXplXCI6IFwiRm9udCBzaXplXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuc3R5bGVcIjogXCJGb250IHN0eWxlXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuc3R5bGUuYm9sZFwiOiBcImJvbGRcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5zdHlsZS5pdGFsaWNcIjogXCJpdGFsaWNcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuY2hhcmFjdGVyRWRnZVwiOiBcIkNoYXJhY3RlciBlZGdlXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UucmFpc2VkXCI6IFwicmFpc2VkXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UuZGVwcmVzc2VkXCI6IFwiZGVwcmVzc2VkXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UudW5pZm9ybVwiOiBcInVuaWZvcm1cIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuY2hhcmFjdGVyRWRnZS5kcm9wc2hhZG93ZWRcIjogXCJkcm9wIHNoYWRvd2VkXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UuY29sb3JcIjogXCJDaGFyYWN0ZXIgZWRnZSBjb2xvclwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseVwiOiBcIkZvbnQgZmFtaWx5XCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuZmFtaWx5Lm1vbm9zcGFjZWRzZXJpZlwiOiBcIm1vbm9zcGFjZWQgc2VyaWZcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkucHJvcG9ydGlvbmFsc2VyaWZcIjogXCJwcm9wb3J0aW9uYWwgc2VyaWZcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkubW9ub3NwYWNlZHNhbnNzZXJpZlwiOiBcIm1vbm9zcGFjZWQgc2FucyBzZXJpZlwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5wcm9wb3J0aW9uYWxzYW5zc2VyaWZcIjogXCJwcm9wb3J0aW9uYWwgc2FucyBzZXJpZlwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5jYXN1YWxcIjogXCJjYXN1YWxcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkuY3Vyc2l2ZVwiOiBcImN1cnNpdmVcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkuc21hbGxjYXBpdGFsXCI6IFwic21hbGwgY2FwaXRhbFwiLFxuICBcInNldHRpbmdzLnRpbWUuaG91cnNcIjogXCJIb3Vyc1wiLFxuICBcInNldHRpbmdzLnRpbWUubWludXRlc1wiOiBcIk1pbnV0ZXNcIixcbiAgXCJzZXR0aW5ncy50aW1lLnNlY29uZHNcIjogXCJTZWNvbmRzXCIsXG4gIFwiYWRzLnJlbWFpbmluZ1RpbWVcIjogXCJUaGlzIGFkIHdpbGwgZW5kIGluIHtyZW1haW5pbmdUaW1lfSBzZWNvbmRzLlwiLFxuICBcInNldHRpbmdzXCI6IFwiU2V0dGluZ3NcIixcbiAgXCJmdWxsc2NyZWVuXCIgOiBcIkZ1bGxzY3JlZW5cIixcbiAgXCJzcGVlZFwiOiBcIlNwZWVkXCIsXG4gIFwicGxheVBhdXNlXCIgOiBcIlBsYXkvUGF1c2VcIixcbiAgXCJwbGF5XCI6IFwiUGxheVwiLFxuICBcInBhdXNlXCI6IFwiUGF1c2VcIixcbiAgXCJvcGVuXCI6IFwib3BlblwiLFxuICBcImNsb3NlXCI6IFwiQ2xvc2VcIixcbiAgXCJwaWN0dXJlSW5QaWN0dXJlXCI6IFwiUGljdHVyZS1pbi1QaWN0dXJlXCIsXG4gIFwiYXBwbGVBaXJwbGF5XCIgOiBcIkFwcGxlIEFpclBsYXlcIixcbiAgXCJnb29nbGVDYXN0XCI6IFwiR29vZ2xlIENhc3RcIixcbiAgXCJ2clwiIDogXCJWUlwiLFxuICBcIm9mZlwiOiBcIm9mZlwiLFxuICBcImF1dG9cIjogXCJhdXRvXCIsXG4gIFwiZWNvTW9kZVwiOiBcImVjb01vZGVcIixcbiAgXCJlY29Nb2RlLnRpdGxlXCI6XCJFY28gTW9kZVwiLFxuICBcImJhY2tcIiA6IFwiQmFja1wiLFxuICBcInJlc2V0XCI6IFwiUmVzZXRcIixcbiAgXCJyZXBsYXlcIjogXCJSZXBsYXlcIixcbiAgXCJub3JtYWxcIjogXCJub3JtYWxcIixcbiAgXCJkZWZhdWx0XCI6IFwiZGVmYXVsdFwiLFxuICBcImxpdmVcIjogXCJMaXZlXCIsXG4gIFwic3VidGl0bGUuZXhhbXBsZVwiOiBcImV4YW1wbGUgc3VidGl0bGVcIixcbiAgXCJzdWJ0aXRsZS5zZWxlY3RcIjogXCJTZWxlY3Qgc3VidGl0bGVcIixcbiAgXCJwbGF5aW5nT25cIjogXCJQbGF5aW5nIG9uIDxzdHJvbmc+e2Nhc3REZXZpY2VOYW1lfTwvc3Ryb25nPlwiLFxuICBcImNvbm5lY3RpbmdUb1wiOiBcIkNvbm5lY3RpbmcgdG8gPHN0cm9uZz57Y2FzdERldmljZU5hbWV9PC9zdHJvbmc+Li4uXCIsXG4gIFwid2F0ZXJtYXJrTGlua1wiOiBcIkxpbmsgdG8gSG9tZXBhZ2VcIixcbiAgXCJjb250cm9sQmFyXCI6IFwiVmlkZW8gcGxheWVyIGNvbnRyb2xzXCIsXG4gIFwicGxheWVyXCI6IFwiVmlkZW8gcGxheWVyXCIsXG4gIFwic2Vla0JhclwiOiBcIlZpZGVvIHRpbWVsaW5lXCIsXG4gIFwic2Vla0Jhci52YWx1ZVwiOiBcIlZhbHVlXCIsXG4gIFwic2Vla0Jhci50aW1lc2hpZnRcIjogXCJUaW1lc2hpZnRcIixcbiAgXCJzZWVrQmFyLmR1cmF0aW9uVGV4dFwiOiBcIm91dCBvZlwiLFxuICBcInF1aWNrc2Vlay5mb3J3YXJkXCI6IFwiRmFzdCBGb3J3YXJkXCIsXG4gIFwicXVpY2tzZWVrLnJld2luZFwiOiBcIlJld2luZFwiXG59XG4iLCJtb2R1bGUuZXhwb3J0cz17XG4gIFwic2V0dGluZ3MudmlkZW8ucXVhbGl0eVwiOiBcIkNhbGlkYWQgZGUgVmlkZW9cIixcbiAgXCJzZXR0aW5ncy5hdWRpby5xdWFsaXR5XCI6IFwiQ2FsaWRhZCBkZSBBdWRpb1wiLFxuICBcInNldHRpbmdzLmF1ZGlvLnRyYWNrXCI6IFwiUGlzdGEgZGUgQXVkaW9cIixcbiAgXCJzZXR0aW5ncy5hdWRpby5tdXRlXCIgOiBcIlNpbGVuY2lvXCIsXG4gIFwic2V0dGluZ3MuYXVkaW8udm9sdW1lXCIgOiBcIlZvbHVtZW5cIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMud2luZG93LmNvbG9yXCIgOiBcImNvbG9yIGRlIFZlbnRhbmFcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMud2luZG93Lm9wYWNpdHlcIiA6IFwib3BhY2lkYWQgZGUgVmVudGFuYVwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlc1wiIDogXCJTdWJ0w610dWxvc1wiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmNvbG9yXCIgOiBcImNvbG9yIGRlIEZ1ZW50ZVwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250Lm9wYWNpdHlcIiA6IFwib3BhY2lkYWQgZGUgRnVlbnRlXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmJhY2tncm91bmQuY29sb3JcIiA6IFwiY29sb3IgZGUgRm9uZG9cIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuYmFja2dyb3VuZC5vcGFjaXR5XCI6IFwib3BhY2lkYWQgZGUgRm9uZG9cIixcbiAgXCJjb2xvcnMud2hpdGVcIjogXCJibGFuY29cIixcbiAgXCJjb2xvcnMuYmxhY2tcIjogXCJuZWdyb1wiLFxuICBcImNvbG9ycy5yZWRcIjogXCJyb2pvXCIsXG4gIFwiY29sb3JzLmdyZWVuXCI6IFwidmVyZGVcIixcbiAgXCJjb2xvcnMuYmx1ZVwiOiBcImF6dWxcIixcbiAgXCJjb2xvcnMuY3lhblwiOiBcImNpYW5cIixcbiAgXCJjb2xvcnMueWVsbG93XCI6IFwiYW1hcmlsbG9cIixcbiAgXCJjb2xvcnMubWFnZW50YVwiOiBcIm1hZ2VudGFcIixcbiAgXCJwZXJjZW50XCI6IFwie3ZhbHVlfSVcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5zaXplXCI6IFwidGFtYcOxbyBkZSBGdWVudGVcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5zdHlsZVwiOiBcIkVzdGlsbyBkZSBGdWVudGVcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5zdHlsZS5ib2xkXCI6IFwibmVncml0YVwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LnN0eWxlLml0YWxpY1wiOiBcImN1cnNpdmFcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuY2hhcmFjdGVyRWRnZVwiOiBcImJvcmRlIGRlbCBDYXJhY3RlclwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5jaGFyYWN0ZXJFZGdlLnJhaXNlZFwiOiBcImFsemFkb1wiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5jaGFyYWN0ZXJFZGdlLmRlcHJlc3NlZFwiOiBcImRpc2NyZXRvXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UudW5pZm9ybVwiOiBcInVuaWZvcm1lXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UuZHJvcHNoYWRvd2VkXCI6IFwic29tYnJlYWRvXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UuY29sb3JcIjogXCJjb2xvciBkZSBjb250b3JubyBkZSB0ZXh0b1wiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseVwiOiBcInRpcG8gZGUgRnVlbnRlXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuZmFtaWx5Lm1vbm9zcGFjZWRzZXJpZlwiOiBcIm1vbm9zcGFjZWQgc2VyaWZcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkucHJvcG9ydGlvbmFsc2VyaWZcIjogXCJwcm9wb3J0aW9uYWwgc2VyaWZcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkubW9ub3NwYWNlZHNhbnNzZXJpZlwiOiBcIm1vbm9zcGFjZWQgc2FucyBzZXJpZlwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5wcm9wb3J0aW9uYWxzYW5zc2VyaWZcIjogXCJwcm9wb3J0aW9uYWwgc2FucyBzZXJpZlwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5jYXN1YWxcIjogXCJjYXN1YWxcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkuY3Vyc2l2ZVwiOiBcImN1cnNpdmFcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkuc21hbGxjYXBpdGFsXCI6IFwic21hbGwgY2FwaXRhbFwiLFxuICBcInNldHRpbmdzLnRpbWUuaG91cnNcIjogXCJIb3Jhc1wiLFxuICBcInNldHRpbmdzLnRpbWUubWludXRlc1wiOiBcIk1pbnV0b3NcIixcbiAgXCJzZXR0aW5ncy50aW1lLnNlY29uZHNcIjogXCJTZWd1bmRvc1wiLFxuICBcImFkcy5yZW1haW5pbmdUaW1lXCI6IFwiRXN0ZSBhbnVuY2lvIGFjYWJhcsOhIGVuIHtyZW1haW5pbmdUaW1lfSBzZWd1bmRvcy5cIixcbiAgXCJzZXR0aW5nc1wiOiBcIkNvbmZpZ3VyYWNpw7NuXCIsXG4gIFwiZnVsbHNjcmVlblwiIDogXCJQYW50YWxsYSBDb21wbGV0YVwiLFxuICBcInNwZWVkXCI6IFwiVmVsb2NpZGFkXCIsXG4gIFwicGxheVBhdXNlXCIgOiBcIlJlcHJvZHVjaXIvUGF1c2FcIixcbiAgXCJwbGF5XCI6IFwiUmVwcm9kdWNpclwiLFxuICBcInBhdXNlXCI6IFwiUGF1c2FcIixcbiAgXCJvcGVuXCI6IFwiQWJyaXJcIixcbiAgXCJjbG9zZVwiOiBcIkNlcnJhclwiLFxuICBcInBpY3R1cmVJblBpY3R1cmVcIjogXCJJbWFnZW4gZW4gSW1hZ2VuXCIsXG4gIFwiYXBwbGVBaXJwbGF5XCIgOiBcIkFwcGxlIEFpclBsYXlcIixcbiAgXCJnb29nbGVDYXN0XCI6IFwiR29vZ2xlIENhc3RcIixcbiAgXCJ2clwiIDogXCJWUlwiLFxuICBcIm9mZlwiOiBcIm9mZlwiLFxuICBcImF1dG9cIjogXCJhdXRvXCIsXG4gIFwiZWNvTW9kZVwiOiBcImVjb01vZGVcIixcbiAgXCJlY29Nb2RlLnRpdGxlXCI6IFwiRWNvIE1vZGVcIixcbiAgXCJiYWNrXCIgOiBcIkF0csOhc1wiLFxuICBcInJlc2V0XCI6IFwiUmVpbmljaWFyXCIsXG4gIFwicmVwbGF5XCI6IFwiUmVib2JpbmFyXCIsXG4gIFwibm9ybWFsXCI6IFwibm9ybWFsXCIsXG4gIFwiZGVmYXVsdFwiOiBcInByZWRldGVybWluYWRvXCIsXG4gIFwibGl2ZVwiOiBcIkRpcmVjdG9cIixcbiAgXCJzdWJ0aXRsZS5leGFtcGxlXCI6IFwiRWplbXBsbyBkZSBTdWJ0w610dWxvXCIsXG4gIFwic3VidGl0bGUuc2VsZWN0XCI6IFwiU2VsZWNjaW9uYXIgc3VidMOtdHVsb1wiLFxuICBcInBsYXlpbmdPblwiOiBcIlJlcHJvZHVjaWVuZG8gZW4gPHN0cm9uZz57Y2FzdERldmljZU5hbWV9PC9zdHJvbmc+XCIsXG4gIFwiY29ubmVjdGluZ1RvXCI6IFwiQ29uZWN0YW5kbyBhIDxzdHJvbmc+e2Nhc3REZXZpY2VOYW1lfTwvc3Ryb25nPi4uLlwiLFxuICBcIndhdGVybWFya0xpbmtcIjogXCJFbmxhY2UgYWwgaW5pY2lvXCIsXG4gIFwiY29udHJvbEJhclwiOiBcIkNvbnRyb2xlcyBkZWwgUmVwcm9kdWN0b3JcIixcbiAgXCJwbGF5ZXJcIjogXCJSZXByb2R1Y3RvciBkZSBWaWRlb1wiLFxuICBcInNlZWtCYXJcIjogXCJMw61uZWEgZGUgVGllbXBvXCIsXG4gIFwic2Vla0Jhci52YWx1ZVwiOiBcInBvc2ljacOzblwiLFxuICBcInNlZWtCYXIudGltZXNoaWZ0XCI6IFwiY2FtYmlvIGRlIHBvc2ljacOzblwiLFxuICBcInNlZWtCYXIuZHVyYXRpb25UZXh0XCI6IFwiZGVcIixcbiAgXCJxdWlja3NlZWsuZm9yd2FyZFwiOiBcIkFkZWxhbnRhclwiLFxuICBcInF1aWNrc2Vlay5yZXdpbmRcIjogXCJSZWJvYmluYXJcIlxufSIsIm1vZHVsZS5leHBvcnRzPXtcbiAgXCJzZXR0aW5ncy52aWRlby5xdWFsaXR5XCI6IFwiVmlkZW9rd2FsaXRlaXRcIixcbiAgXCJzZXR0aW5ncy5hdWRpby5xdWFsaXR5XCI6IFwiQXVkaW9rd2FsaXRlaXRcIixcbiAgXCJzZXR0aW5ncy5hdWRpby50cmFja1wiOiBcIkF1ZGlvc3Bvb3JcIixcbiAgXCJzZXR0aW5ncy5hdWRpby5tdXRlXCI6IFwiRGVtcGVuXCIsXG4gIFwic2V0dGluZ3MuYXVkaW8udm9sdW1lXCI6IFwiVm9sdW1lXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLndpbmRvdy5jb2xvclwiOiBcIlZlbnN0ZXJrbGV1clwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy53aW5kb3cub3BhY2l0eVwiOiBcIlZlbnN0ZXIgZG9vcnppY2h0aWdoZWlkXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzXCI6IFwiT25kZXJ0aXRlbGluZ1wiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmNvbG9yXCI6IFwiTGV0dGVydHlwZSBrbGV1clwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250Lm9wYWNpdHlcIjogXCJMZXR0ZXJ0eXBlIGRvb3J6aWNodGlnaGVpZFwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5iYWNrZ3JvdW5kLmNvbG9yXCI6IFwiQWNodGVyZ3JvbmRrbGV1clwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5iYWNrZ3JvdW5kLm9wYWNpdHlcIjogXCJBY2h0ZXJncm9uZCBkb29yemljaHRpZ2hlaWRcIixcbiAgXCJjb2xvcnMud2hpdGVcIjogXCJ3aXRcIixcbiAgXCJjb2xvcnMuYmxhY2tcIjogXCJ6d2FydFwiLFxuICBcImNvbG9ycy5yZWRcIjogXCJyb29kXCIsXG4gIFwiY29sb3JzLmdyZWVuXCI6IFwiZ3JvZW5cIixcbiAgXCJjb2xvcnMuYmx1ZVwiOiBcImJsYXV3XCIsXG4gIFwiY29sb3JzLmN5YW5cIjogXCJjeWFhblwiLFxuICBcImNvbG9ycy55ZWxsb3dcIjogXCJnZWVsXCIsXG4gIFwiY29sb3JzLm1hZ2VudGFcIjogXCJtYWdlbnRhXCIsXG4gIFwicGVyY2VudFwiOiBcInt2YWx1ZX0lXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuc2l6ZVwiOiBcIkxldHRlcnR5cGUgZ3Jvb3R0ZVwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5jaGFyYWN0ZXJFZGdlXCI6IFwiTGV0dGVydHlwZSByYW5kXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UucmFpc2VkXCI6IFwidmVyaG9vZ2RcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuY2hhcmFjdGVyRWRnZS5kZXByZXNzZWRcIjogXCJ2ZXJsYWFnZFwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5jaGFyYWN0ZXJFZGdlLnVuaWZvcm1cIjogXCJ1bmlmb3JtXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmNoYXJhY3RlckVkZ2UuZHJvcHNoYWRvd2VkXCI6IFwic2NoYWR1d1wiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseVwiOiBcIlN0YW5kYWFyZCBsZXR0ZXJ0eXBlXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuZmFtaWx5Lm1vbm9zcGFjZWRzZXJpZlwiOiBcIm1vbm9zcGFjZSBzZXJpZlwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5wcm9wb3J0aW9uYWxzZXJpZlwiOiBcInByb3BvcnRpb25lZWwgc2VyaWZcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkubW9ub3NwYWNlZHNhbnNzZXJpZlwiOiBcIm1vbm9zcGFjZSBzYW5zLXNlcmlmXCIsXG4gIFwic2V0dGluZ3Muc3VidGl0bGVzLmZvbnQuZmFtaWx5LnByb3BvcnRpb25hbHNhbnNzZXJpZlwiOiBcInByb3BvcnRpb25lZWwgc2Fucy1zZXJpZlwiLFxuICBcInNldHRpbmdzLnN1YnRpdGxlcy5mb250LmZhbWlseS5jYXN1YWxcIjogXCJjYXN1YWxcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkuY3Vyc2l2ZVwiOiBcImN1cnNpZWZcIixcbiAgXCJzZXR0aW5ncy5zdWJ0aXRsZXMuZm9udC5mYW1pbHkuc21hbGxjYXBpdGFsXCI6IFwia2xlaW5lIGhvb2ZkbGV0dGVyc1wiLFxuICBcInNldHRpbmdzLnRpbWUuaG91cnNcIjogXCJVcmVuXCIsXG4gIFwic2V0dGluZ3MudGltZS5taW51dGVzXCI6IFwiTWludXRlblwiLFxuICBcInNldHRpbmdzLnRpbWUuc2Vjb25kc1wiOiBcIlNlY29uZGVuXCIsXG4gIFwiYWRzLnJlbWFpbmluZ1RpbWVcIjogXCJEZXplIGFkdmVydGVudGllIGVpbmRpZ3QgaW4ge3JlbWFpbmluZ1RpbWV9IHNlY29uZGVuLlwiLFxuICBcInNldHRpbmdzXCI6IFwiSW5zdGVsbGluZ2VuXCIsXG4gIFwiZnVsbHNjcmVlblwiOiBcIlZvbGxlZGlnIHNjaGVybVwiLFxuICBcInNwZWVkXCI6IFwiU25lbGhlaWRcIixcbiAgXCJwbGF5UGF1c2VcIjogXCJBZnNwZWxlbi9QYXV6ZXJlblwiLFxuICBcInBsYXlcIjogXCJBZnNwZWxlblwiLFxuICBcInBhdXNlXCI6IFwiUGF1emVyZW5cIixcbiAgXCJvcGVuXCI6IFwiT3BlbmVuXCIsXG4gIFwiY2xvc2VcIjogXCJTbHVpdGVuXCIsXG4gIFwicGljdHVyZUluUGljdHVyZVwiOiBcIlBpY3R1cmUtaW4tUGljdHVyZVwiLFxuICBcImFwcGxlQWlycGxheVwiOiBcIkFwcGxlIEFpclBsYXlcIixcbiAgXCJnb29nbGVDYXN0XCI6IFwiR29vZ2xlIENhc3RcIixcbiAgXCJ2clwiOiBcIlZSXCIsXG4gIFwib2ZmXCI6IFwidWl0XCIsXG4gIFwiYXV0b1wiOiBcImF1dG9tYXRpc2NoXCIsXG4gIFwiZWNvTW9kZVwiOiBcIkVjby1tb2R1c1wiLFxuICBcImVjb01vZGUudGl0bGVcIjogXCJFY28tbW9kdXNcIixcbiAgXCJiYWNrXCI6IFwiVGVydWdcIixcbiAgXCJyZXNldFwiOiBcIlJlc2V0XCIsXG4gIFwicmVwbGF5XCI6IFwiT3BuaWV1dyBhZnNwZWxlblwiLFxuICBcIm5vcm1hbFwiOiBcIm5vcm1hYWxcIixcbiAgXCJkZWZhdWx0XCI6IFwic3RhbmRhYXJkXCIsXG4gIFwibGl2ZVwiOiBcIkxpdmVcIixcbiAgXCJzdWJ0aXRsZS5leGFtcGxlXCI6IFwidm9vcmJlZWxkIG9uZGVydGl0ZWxpbmdcIixcbiAgXCJzdWJ0aXRsZS5zZWxlY3RcIjogXCJTZWxlY3RlZXIgb25kZXJ0aXRlbGluZ1wiLFxuICBcInBsYXlpbmdPblwiOiBcIlNwZWVsdCBhZiBvcCA8c3Ryb25nPntjYXN0RGV2aWNlTmFtZX08L3N0cm9uZz5cIixcbiAgXCJjb25uZWN0aW5nVG9cIjogXCJWZXJiaW5kZW4gbWV0IDxzdHJvbmc+e2Nhc3REZXZpY2VOYW1lfTwvc3Ryb25nPi4uLlwiLFxuICBcIndhdGVybWFya0xpbmtcIjogXCJMaW5rIG5hYXIgaG9tZXBhZ2VcIixcbiAgXCJjb250cm9sQmFyXCI6IFwiVmlkZW9zcGVsZXIgYmVkaWVuaW5nXCIsXG4gIFwicGxheWVyXCI6IFwiVmlkZW9zcGVsZXJcIixcbiAgXCJzZWVrQmFyXCI6IFwiVmlkZW8gdGlqZGxpam5cIixcbiAgXCJzZWVrQmFyLnZhbHVlXCI6IFwiV2FhcmRlXCIsXG4gIFwic2Vla0Jhci50aW1lc2hpZnRcIjogXCJUaWpkdmVyc2NodWl2aW5nXCIsXG4gIFwic2Vla0Jhci5kdXJhdGlvblRleHRcIjogXCJ2YW5cIixcbiAgXCJxdWlja3NlZWsuZm9yd2FyZFwiOiBcIlZvb3J1aXRzcG9lbGVuXCIsXG4gIFwicXVpY2tzZWVrLnJld2luZFwiOiBcIlRlcnVnc3BvZWxlblwiXG59IiwiZXhwb3J0IGNvbnN0IHZlcnNpb246IHN0cmluZyA9ICd7e1ZFUlNJT059fSc7XG4vLyBNYW5hZ2VtZW50XG5leHBvcnQgKiBmcm9tICcuL3VpbWFuYWdlcic7XG5leHBvcnQgKiBmcm9tICcuL3VpY29uZmlnJztcbi8vIEZhY3Rvcmllc1xuZXhwb3J0IHsgVUlGYWN0b3J5IH0gZnJvbSAnLi91aWZhY3RvcnknO1xuZXhwb3J0IHsgRGVtb0ZhY3RvcnkgfSBmcm9tICcuL2RlbW9mYWN0b3J5Jztcbi8vIFV0aWxzXG5leHBvcnQgeyBBcnJheVV0aWxzIH0gZnJvbSAnLi9hcnJheXV0aWxzJztcbmV4cG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi9zdHJpbmd1dGlscyc7XG5leHBvcnQgeyBQbGF5ZXJVdGlscyB9IGZyb20gJy4vcGxheWVydXRpbHMnO1xuZXhwb3J0IHsgVUlVdGlscyB9IGZyb20gJy4vdWl1dGlscyc7XG5leHBvcnQgeyBCcm93c2VyVXRpbHMgfSBmcm9tICcuL2Jyb3dzZXJ1dGlscyc7XG5leHBvcnQgeyBTdG9yYWdlVXRpbHMgfSBmcm9tICcuL3N0b3JhZ2V1dGlscyc7XG5leHBvcnQgeyBFcnJvclV0aWxzIH0gZnJvbSAnLi9lcnJvcnV0aWxzJztcbi8vIExvY2FsaXphdGlvblxuZXhwb3J0IHsgaTE4biwgSTE4biwgVm9jYWJ1bGFyeSwgVm9jYWJ1bGFyaWVzLCBDdXN0b21Wb2NhYnVsYXJ5LCBMb2NhbGl6YWJsZVRleHQsIExvY2FsaXplciB9IGZyb20gJy4vbG9jYWxpemF0aW9uL2kxOG4nO1xuLy8gU3BhdGlhbCBOYXZpZ2F0aW9uXG5leHBvcnQgeyBTcGF0aWFsTmF2aWdhdGlvbiB9IGZyb20gJy4vc3BhdGlhbG5hdmlnYXRpb24vc3BhdGlhbG5hdmlnYXRpb24nO1xuZXhwb3J0IHsgTmF2aWdhdGlvbkdyb3VwIH0gZnJvbSAnLi9zcGF0aWFsbmF2aWdhdGlvbi9uYXZpZ2F0aW9uZ3JvdXAnO1xuZXhwb3J0IHsgUm9vdE5hdmlnYXRpb25Hcm91cCB9IGZyb20gJy4vc3BhdGlhbG5hdmlnYXRpb24vcm9vdG5hdmlnYXRpb25ncm91cCc7XG5leHBvcnQgeyBMaXN0TmF2aWdhdGlvbkdyb3VwLCBMaXN0T3JpZW50YXRpb24gfSBmcm9tICcuL3NwYXRpYWxuYXZpZ2F0aW9uL0xpc3ROYXZpZ2F0aW9uR3JvdXAnO1xuLy8gQ29tcG9uZW50c1xuZXhwb3J0IHsgQnV0dG9uLCBCdXR0b25Db25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvYnV0dG9uJztcbmV4cG9ydCB7IENvbnRyb2xCYXIsIENvbnRyb2xCYXJDb25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvY29udHJvbGJhcic7XG5leHBvcnQgeyBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL2Z1bGxzY3JlZW50b2dnbGVidXR0b24nO1xuZXhwb3J0IHsgSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbic7XG5leHBvcnQgeyBQbGF5YmFja1RpbWVMYWJlbCwgUGxheWJhY2tUaW1lTGFiZWxDb25maWcsIFBsYXliYWNrVGltZUxhYmVsTW9kZSB9IGZyb20gJy4vY29tcG9uZW50cy9wbGF5YmFja3RpbWVsYWJlbCc7XG5leHBvcnQgeyBQbGF5YmFja1RvZ2dsZUJ1dHRvbiwgUGxheWJhY2tUb2dnbGVCdXR0b25Db25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b24nO1xuZXhwb3J0IHsgU2Vla0JhciwgU2Vla0JhckNvbmZpZywgU2Vla1ByZXZpZXdFdmVudEFyZ3MsIFNlZWtCYXJNYXJrZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvc2Vla2Jhcic7XG5leHBvcnQgeyBTZWxlY3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvc2VsZWN0Ym94JztcbmV4cG9ydCB7IEl0ZW1TZWxlY3Rpb25MaXN0IH0gZnJvbSAnLi9jb21wb25lbnRzL2l0ZW1zZWxlY3Rpb25saXN0JztcbmV4cG9ydCB7IFNldHRpbmdzUGFuZWwsIFNldHRpbmdzUGFuZWxDb25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvc2V0dGluZ3NwYW5lbCc7XG5leHBvcnQgeyBTZXR0aW5nc1RvZ2dsZUJ1dHRvbiwgU2V0dGluZ3NUb2dnbGVCdXR0b25Db25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvc2V0dGluZ3N0b2dnbGVidXR0b24nO1xuZXhwb3J0IHsgVG9nZ2xlQnV0dG9uLCBUb2dnbGVCdXR0b25Db25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvdG9nZ2xlYnV0dG9uJztcbmV4cG9ydCB7IFZpZGVvUXVhbGl0eVNlbGVjdEJveCB9IGZyb20gJy4vY29tcG9uZW50cy92aWRlb3F1YWxpdHlzZWxlY3Rib3gnO1xuZXhwb3J0IHsgVm9sdW1lVG9nZ2xlQnV0dG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL3ZvbHVtZXRvZ2dsZWJ1dHRvbic7XG5leHBvcnQgeyBWUlRvZ2dsZUJ1dHRvbiB9IGZyb20gJy4vY29tcG9uZW50cy92cnRvZ2dsZWJ1dHRvbic7XG5leHBvcnQgeyBXYXRlcm1hcmssIFdhdGVybWFya0NvbmZpZyB9IGZyb20gJy4vY29tcG9uZW50cy93YXRlcm1hcmsnO1xuZXhwb3J0IHsgVUlDb250YWluZXIsIFVJQ29udGFpbmVyQ29uZmlnIH0gZnJvbSAnLi9jb21wb25lbnRzL3VpY29udGFpbmVyJztcbmV4cG9ydCB7IENvbnRhaW5lciwgQ29udGFpbmVyQ29uZmlnIH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbnRhaW5lcic7XG5leHBvcnQgeyBMYWJlbCwgTGFiZWxDb25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvbGFiZWwnO1xuZXhwb3J0IHsgQXVkaW9RdWFsaXR5U2VsZWN0Qm94IH0gZnJvbSAnLi9jb21wb25lbnRzL2F1ZGlvcXVhbGl0eXNlbGVjdGJveCc7XG5leHBvcnQgeyBBdWRpb1RyYWNrU2VsZWN0Qm94IH0gZnJvbSAnLi9jb21wb25lbnRzL2F1ZGlvdHJhY2tzZWxlY3Rib3gnO1xuZXhwb3J0IHsgQ2FzdFN0YXR1c092ZXJsYXkgfSBmcm9tICcuL2NvbXBvbmVudHMvY2FzdHN0YXR1c292ZXJsYXknO1xuZXhwb3J0IHsgQ2FzdFRvZ2dsZUJ1dHRvbiB9IGZyb20gJy4vY29tcG9uZW50cy9jYXN0dG9nZ2xlYnV0dG9uJztcbmV4cG9ydCB7IENvbXBvbmVudCwgQ29tcG9uZW50Q29uZmlnLCBDb21wb25lbnRIb3ZlckNoYW5nZWRFdmVudEFyZ3MgfSBmcm9tICcuL2NvbXBvbmVudHMvY29tcG9uZW50JztcbmV4cG9ydCB7IEVycm9yTWVzc2FnZU92ZXJsYXksIEVycm9yTWVzc2FnZU92ZXJsYXlDb25maWcsIEVycm9yTWVzc2FnZVRyYW5zbGF0b3IsIEVycm9yTWVzc2FnZU1hcCB9IGZyb20gJy4vY29tcG9uZW50cy9lcnJvcm1lc3NhZ2VvdmVybGF5JztcbmV4cG9ydCB7IFJlY29tbWVuZGF0aW9uT3ZlcmxheSB9IGZyb20gJy4vY29tcG9uZW50cy9yZWNvbW1lbmRhdGlvbm92ZXJsYXknO1xuZXhwb3J0IHsgU2Vla0JhckxhYmVsLCBTZWVrQmFyTGFiZWxDb25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvc2Vla2JhcmxhYmVsJztcbmV4cG9ydCB7IFN1YnRpdGxlT3ZlcmxheSB9IGZyb20gJy4vY29tcG9uZW50cy9zdWJ0aXRsZW92ZXJsYXknO1xuZXhwb3J0IHsgU3VidGl0bGVTZWxlY3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvc3VidGl0bGVzZWxlY3Rib3gnO1xuZXhwb3J0IHsgVGl0bGVCYXIsIFRpdGxlQmFyQ29uZmlnIH0gZnJvbSAnLi9jb21wb25lbnRzL3RpdGxlYmFyJztcbmV4cG9ydCB7IFZvbHVtZUNvbnRyb2xCdXR0b24sIFZvbHVtZUNvbnRyb2xCdXR0b25Db25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvdm9sdW1lY29udHJvbGJ1dHRvbic7XG5leHBvcnQgeyBDbGlja092ZXJsYXksIENsaWNrT3ZlcmxheUNvbmZpZyB9IGZyb20gJy4vY29tcG9uZW50cy9jbGlja292ZXJsYXknO1xuZXhwb3J0IHsgQWRTa2lwQnV0dG9uLCBBZFNraXBCdXR0b25Db25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvYWRza2lwYnV0dG9uJztcbmV4cG9ydCB7IEFkTWVzc2FnZUxhYmVsIH0gZnJvbSAnLi9jb21wb25lbnRzL2FkbWVzc2FnZWxhYmVsJztcbmV4cG9ydCB7IEFkQ2xpY2tPdmVybGF5IH0gZnJvbSAnLi9jb21wb25lbnRzL2FkY2xpY2tvdmVybGF5JztcbmV4cG9ydCB7IFBsYXliYWNrU3BlZWRTZWxlY3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvcGxheWJhY2tzcGVlZHNlbGVjdGJveCc7XG5leHBvcnQgeyBIdWdlUmVwbGF5QnV0dG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL2h1Z2VyZXBsYXlidXR0b24nO1xuZXhwb3J0IHsgQnVmZmVyaW5nT3ZlcmxheSwgQnVmZmVyaW5nT3ZlcmxheUNvbmZpZyB9IGZyb20gJy4vY29tcG9uZW50cy9idWZmZXJpbmdvdmVybGF5JztcbmV4cG9ydCB7IENhc3RVSUNvbnRhaW5lciB9IGZyb20gJy4vY29tcG9uZW50cy9jYXN0dWljb250YWluZXInO1xuZXhwb3J0IHsgUGxheWJhY2tUb2dnbGVPdmVybGF5LCBQbGF5YmFja1RvZ2dsZU92ZXJsYXlDb25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5JztcbmV4cG9ydCB7IENsb3NlQnV0dG9uLCBDbG9zZUJ1dHRvbkNvbmZpZyB9IGZyb20gJy4vY29tcG9uZW50cy9jbG9zZWJ1dHRvbic7XG5leHBvcnQgeyBNZXRhZGF0YUxhYmVsLCBNZXRhZGF0YUxhYmVsQ29udGVudCwgTWV0YWRhdGFMYWJlbENvbmZpZyB9IGZyb20gJy4vY29tcG9uZW50cy9tZXRhZGF0YWxhYmVsJztcbmV4cG9ydCB7IEFpclBsYXlUb2dnbGVCdXR0b24gfSBmcm9tICcuL2NvbXBvbmVudHMvYWlycGxheXRvZ2dsZWJ1dHRvbic7XG5leHBvcnQgeyBWb2x1bWVTbGlkZXIsIFZvbHVtZVNsaWRlckNvbmZpZyB9IGZyb20gJy4vY29tcG9uZW50cy92b2x1bWVzbGlkZXInO1xuZXhwb3J0IHsgUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbiB9IGZyb20gJy4vY29tcG9uZW50cy9waWN0dXJlaW5waWN0dXJldG9nZ2xlYnV0dG9uJztcbmV4cG9ydCB7IFNwYWNlciB9IGZyb20gJy4vY29tcG9uZW50cy9zcGFjZXInO1xuZXhwb3J0IHsgQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94IH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvYmFja2dyb3VuZGNvbG9yc2VsZWN0Ym94JztcbmV4cG9ydCB7IEJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94IH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvYmFja2dyb3VuZG9wYWNpdHlzZWxlY3Rib3gnO1xuZXhwb3J0IHsgQ2hhcmFjdGVyRWRnZVNlbGVjdEJveCB9IGZyb20gJy4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2NoYXJhY3RlcmVkZ2VzZWxlY3Rib3gnO1xuZXhwb3J0IHsgRm9udENvbG9yU2VsZWN0Qm94IH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvZm9udGNvbG9yc2VsZWN0Ym94JztcbmV4cG9ydCB7IEZvbnRGYW1pbHlTZWxlY3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250ZmFtaWx5c2VsZWN0Ym94JztcbmV4cG9ydCB7IEZvbnRPcGFjaXR5U2VsZWN0Qm94IH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvZm9udG9wYWNpdHlzZWxlY3Rib3gnO1xuZXhwb3J0IHsgRm9udFNpemVTZWxlY3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250c2l6ZXNlbGVjdGJveCc7XG5leHBvcnQgeyBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3gnO1xuZXhwb3J0IHsgU3VidGl0bGVTZXR0aW5nc0xhYmVsIH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2xhYmVsJztcbmV4cG9ydCB7IFdpbmRvd0NvbG9yU2VsZWN0Qm94IH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93Y29sb3JzZWxlY3Rib3gnO1xuZXhwb3J0IHsgV2luZG93T3BhY2l0eVNlbGVjdEJveCB9IGZyb20gJy4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3dpbmRvd29wYWNpdHlzZWxlY3Rib3gnO1xuZXhwb3J0IHsgU3VidGl0bGVTZXR0aW5nc1Jlc2V0QnV0dG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uJztcbmV4cG9ydCB7IExpc3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvbGlzdGJveCc7XG5leHBvcnQgeyBTdWJ0aXRsZUxpc3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvc3VidGl0bGVsaXN0Ym94JztcbmV4cG9ydCB7IEF1ZGlvVHJhY2tMaXN0Qm94IH0gZnJvbSAnLi9jb21wb25lbnRzL2F1ZGlvdHJhY2tsaXN0Ym94JztcbmV4cG9ydCB7IFNldHRpbmdzUGFuZWxQYWdlIH0gZnJvbSAnLi9jb21wb25lbnRzL3NldHRpbmdzcGFuZWxwYWdlJztcbmV4cG9ydCB7IFNldHRpbmdzUGFuZWxQYWdlQmFja0J1dHRvbiB9IGZyb20gJy4vY29tcG9uZW50cy9zZXR0aW5nc3BhbmVscGFnZWJhY2tidXR0b24nO1xuZXhwb3J0IHsgU2V0dGluZ3NQYW5lbFBhZ2VPcGVuQnV0dG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL3NldHRpbmdzcGFuZWxwYWdlb3BlbmJ1dHRvbic7XG5leHBvcnQgeyBTdWJ0aXRsZVNldHRpbmdzUGFuZWxQYWdlLCBTdWJ0aXRsZVNldHRpbmdzUGFuZWxQYWdlQ29uZmlnIH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3BhbmVscGFnZSc7XG5leHBvcnQgeyBTZXR0aW5nc1BhbmVsSXRlbSB9IGZyb20gJy4vY29tcG9uZW50cy9zZXR0aW5nc3BhbmVsaXRlbSc7XG5leHBvcnQgeyBSZXBsYXlCdXR0b24gfSBmcm9tICcuL2NvbXBvbmVudHMvcmVwbGF5YnV0dG9uJztcbmV4cG9ydCB7IFF1aWNrU2Vla0J1dHRvbiwgUXVpY2tTZWVrQnV0dG9uQ29uZmlnIH0gZnJvbSAnLi9jb21wb25lbnRzL3F1aWNrc2Vla2J1dHRvbic7XG5leHBvcnQgeyBMaXN0U2VsZWN0b3IsIExpc3RTZWxlY3RvckNvbmZpZywgTGlzdEl0ZW0sIExpc3RJdGVtRmlsdGVyLCBMaXN0SXRlbUxhYmVsVHJhbnNsYXRvciB9IGZyb20gJy4vY29tcG9uZW50cy9saXN0c2VsZWN0b3InO1xuXG4vLyBPYmplY3QuYXNzaWduIHBvbHlmaWxsIGZvciBFUzUvSUU5XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kZS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduXG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcbiAgT2JqZWN0LmFzc2lnbiA9IGZ1bmN0aW9uKHRhcmdldDogYW55KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgdGFyZ2V0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgZm9yIChsZXQgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGxldCBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgaWYgKHNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbn1cbiIsImltcG9ydCB7IFBsYXllckFQSSwgUGxheWVyRXZlbnQsIFBsYXllckV2ZW50QmFzZSwgUGxheWVyRXZlbnRDYWxsYmFjayB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBXcmFwcGVkUGxheWVyIH0gZnJvbSAnLi91aW1hbmFnZXInO1xuXG5leHBvcnQgZW51bSBNb2JpbGVWM1BsYXllckV2ZW50IHtcbiAgU291cmNlRXJyb3IgPSAnc291cmNlZXJyb3InLFxuICBQbGF5ZXJFcnJvciA9ICdwbGF5ZXJlcnJvcicsXG4gIFBsYXlsaXN0VHJhbnNpdGlvbiA9ICdwbGF5bGlzdHRyYW5zaXRpb24nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vYmlsZVYzUGxheWVyRXJyb3JFdmVudCBleHRlbmRzIFBsYXllckV2ZW50QmFzZSB7XG4gIGNvZGU6IG51bWJlcjtcbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vYmlsZVYzU291cmNlRXJyb3JFdmVudCBleHRlbmRzIFBsYXllckV2ZW50QmFzZSB7XG4gIGNvZGU6IG51bWJlcjtcbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBNb2JpbGVWM1BsYXllckV2ZW50VHlwZSA9IFBsYXllckV2ZW50IHwgTW9iaWxlVjNQbGF5ZXJFdmVudDtcblxuZXhwb3J0IGludGVyZmFjZSBNb2JpbGVWM1BsYXllckFQSSBleHRlbmRzIFBsYXllckFQSSB7XG4gIG9uKGV2ZW50VHlwZTogTW9iaWxlVjNQbGF5ZXJFdmVudFR5cGUsIGNhbGxiYWNrOiBQbGF5ZXJFdmVudENhbGxiYWNrKTogdm9pZDtcbiAgZXhwb3J0czogUGxheWVyQVBJWydleHBvcnRzJ10gJiB7IFBsYXllckV2ZW50OiBNb2JpbGVWM1BsYXllckV2ZW50VHlwZSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNNb2JpbGVWM1BsYXllckFQSShwbGF5ZXI6IFdyYXBwZWRQbGF5ZXIgfCBQbGF5ZXJBUEkgfCBNb2JpbGVWM1BsYXllckFQSSk6IHBsYXllciBpcyBNb2JpbGVWM1BsYXllckFQSSB7XG4gIGZvciAoY29uc3Qga2V5IGluIE1vYmlsZVYzUGxheWVyRXZlbnQpIHtcbiAgICBpZiAoTW9iaWxlVjNQbGF5ZXJFdmVudC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4iLCJpbXBvcnQge0V2ZW50LCBFdmVudERpc3BhdGNoZXIsIE5vQXJnc30gZnJvbSAnLi9ldmVudGRpc3BhdGNoZXInO1xuaW1wb3J0IHtCcm93c2VyVXRpbHN9IGZyb20gJy4vYnJvd3NlcnV0aWxzJztcbmltcG9ydCB7IFVJSW5zdGFuY2VNYW5hZ2VyIH0gZnJvbSAnLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJLCBUaW1lUmFuZ2UgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuXG4vKipcbiAqIEBjYXRlZ29yeSBVdGlsc1xuICovXG5leHBvcnQgbmFtZXNwYWNlIFBsYXllclV0aWxzIHtcblxuICBleHBvcnQgZW51bSBQbGF5ZXJTdGF0ZSB7XG4gICAgSWRsZSxcbiAgICBQcmVwYXJlZCxcbiAgICBQbGF5aW5nLFxuICAgIFBhdXNlZCxcbiAgICBGaW5pc2hlZCxcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc1RpbWVTaGlmdEF2YWlsYWJsZShwbGF5ZXI6IFBsYXllckFQSSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBwbGF5ZXIuaXNMaXZlKCkgJiYgcGxheWVyLmdldE1heFRpbWVTaGlmdCgpICE9PSAwO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRlKHBsYXllcjogUGxheWVyQVBJKTogUGxheWVyU3RhdGUge1xuICAgIGlmIChwbGF5ZXIuaGFzRW5kZWQoKSkge1xuICAgICAgcmV0dXJuIFBsYXllclN0YXRlLkZpbmlzaGVkO1xuICAgIH0gZWxzZSBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XG4gICAgICByZXR1cm4gUGxheWVyU3RhdGUuUGxheWluZztcbiAgICB9IGVsc2UgaWYgKHBsYXllci5pc1BhdXNlZCgpKSB7XG4gICAgICByZXR1cm4gUGxheWVyU3RhdGUuUGF1c2VkO1xuICAgIH0gZWxzZSBpZiAocGxheWVyLmdldFNvdXJjZSgpICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBQbGF5ZXJTdGF0ZS5QcmVwYXJlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFBsYXllclN0YXRlLklkbGU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnRUaW1lIC0gc2Vla2FibGVSYW5nZS5zdGFydC4gVGhpcyBlbnN1cmVzIGEgdXNlci1mcmllbmRseSBjdXJyZW50VGltZSBhZnRlciBhIGxpdmUgc3RyZWFtXG4gICAqIHRyYW5zaXRpb25lZCB0byBWb0QuXG4gICAqIEBwYXJhbSBwbGF5ZXJcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50VGltZVJlbGF0aXZlVG9TZWVrYWJsZVJhbmdlKHBsYXllcjogUGxheWVyQVBJKTogbnVtYmVyIHtcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xuICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcbiAgICAgIHJldHVybiBjdXJyZW50VGltZTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWVrYWJsZVJhbmdlU3RhcnQgPSBQbGF5ZXJVdGlscy5nZXRTZWVrYWJsZVJhbmdlU3RhcnQocGxheWVyLCAwKTtcbiAgICByZXR1cm4gY3VycmVudFRpbWUgLSBzZWVrYWJsZVJhbmdlU3RhcnQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgc3RhcnQgdmFsdWUgb2YgdGhlIHNlZWthYmxlIHJhbmdlIG9yIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gc2Vla2FibGVSYW5nZSBpcyBwcmVzZW50LlxuICAgKiBGb3Igbm93IHRoaXMgaGFwcGVucyBvbmx5IGluIGNvbWJpbmF0aW9uIHdpdGggTW9iaWxlIFNES3MuXG4gICAqXG4gICAqIFRPRE86IHJlbW92ZSB0aGlzIGZ1bmN0aW9uIGluIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgKlxuICAgKiBAcGFyYW0gcGxheWVyXG4gICAqIEBwYXJhbSBkZWZhdWx0VmFsdWVcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBnZXRTZWVrYWJsZVJhbmdlU3RhcnQocGxheWVyOiBQbGF5ZXJBUEksIGRlZmF1bHRWYWx1ZTogbnVtYmVyID0gMCkge1xuICAgIHJldHVybiBwbGF5ZXIuZ2V0U2Vla2FibGVSYW5nZSgpICYmIHBsYXllci5nZXRTZWVrYWJsZVJhbmdlKCkuc3RhcnQgfHwgZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgcGxheWVyIHNlZWthYmxlIHRpbWUgcmFuZ2UgZm9yIGxpdmUuXG4gICAqIEFzIHRoZSBwbGF5ZXIgcmV0dXJucyBgeyBzdGFydDogLTEsIGVuZDogLTEgfWAgZm9yIGxpdmUgc3RyZWFtcyB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSB0aGUgYHNlZWthYmxlUmFuZ2VgIGJhc2VkIG9uIGBtYXhUaW1lc2hpZnRgLlxuICAgKlxuICAgKiBAcGFyYW0gcGxheWVyXG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gZ2V0U2Vla2FibGVSYW5nZVJlc3BlY3RpbmdMaXZlKHBsYXllcjogUGxheWVyQVBJKTogVGltZVJhbmdlIHtcbiAgICBpZiAoIXBsYXllci5pc0xpdmUoKSkge1xuICAgICAgcmV0dXJuIHBsYXllci5nZXRTZWVrYWJsZVJhbmdlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudFRpbWVzaGlmdCA9IC1wbGF5ZXIuZ2V0VGltZVNoaWZ0KCk7XG4gICAgY29uc3QgbWF4VGltZXNoaWZ0ID0gLXBsYXllci5nZXRNYXhUaW1lU2hpZnQoKTtcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xuXG4gICAgY29uc3QgZW5kID0gY3VycmVudFRpbWUgKyAoY3VycmVudFRpbWVzaGlmdCk7XG4gICAgY29uc3Qgc3RhcnQgPSBjdXJyZW50VGltZSAtIChtYXhUaW1lc2hpZnQgLSBjdXJyZW50VGltZXNoaWZ0KTtcblxuICAgIHJldHVybiB7IHN0YXJ0LCBlbmQgfTtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZEFyZ3MgZXh0ZW5kcyBOb0FyZ3Mge1xuICAgIHRpbWVTaGlmdEF2YWlsYWJsZTogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBjbGFzcyBUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvciB7XG5cbiAgICBwcml2YXRlIHBsYXllcjogUGxheWVyQVBJO1xuICAgIHByaXZhdGUgdGltZVNoaWZ0QXZhaWxhYmxlOiBib29sZWFuO1xuICAgIHByaXZhdGUgdGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZEV2ZW50ID0gbmV3IEV2ZW50RGlzcGF0Y2hlcjxQbGF5ZXJBUEksIFRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWRBcmdzPigpO1xuXG4gICAgY29uc3RydWN0b3IocGxheWVyOiBQbGF5ZXJBUEkpIHtcbiAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFibGUgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGxldCB0aW1lU2hpZnREZXRlY3RvciA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5kZXRlY3QoKTtcbiAgICAgIH07XG4gICAgICAvLyBUcnkgdG8gZGV0ZWN0IHRpbWVzaGlmdCBhdmFpbGFiaWxpdHkgd2hlbiBzb3VyY2UgaXMgbG9hZGVkLCB3aGljaCB3b3JrcyBmb3IgREFTSCBzdHJlYW1zXG4gICAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU291cmNlTG9hZGVkLCB0aW1lU2hpZnREZXRlY3Rvcik7XG4gICAgICAvLyBXaXRoIEhMUy9OYXRpdmVQbGF5ZXIgc3RyZWFtcywgZ2V0TWF4VGltZVNoaWZ0IGNhbiBiZSAwIGJlZm9yZSB0aGUgYnVmZmVyIGZpbGxzLCBzbyB3ZSBuZWVkIHRvIGFkZGl0aW9uYWxseVxuICAgICAgLy8gY2hlY2sgdGltZXNoaWZ0IGF2YWlsYWJpbGl0eSBpbiBUaW1lQ2hhbmdlZFxuICAgICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlRpbWVDaGFuZ2VkLCB0aW1lU2hpZnREZXRlY3Rvcik7XG4gICAgfVxuXG4gICAgZGV0ZWN0KCk6IHZvaWQge1xuICAgICAgaWYgKHRoaXMucGxheWVyLmlzTGl2ZSgpKSB7XG4gICAgICAgIGxldCB0aW1lU2hpZnRBdmFpbGFibGVOb3cgPSBQbGF5ZXJVdGlscy5pc1RpbWVTaGlmdEF2YWlsYWJsZSh0aGlzLnBsYXllcik7XG5cbiAgICAgICAgLy8gV2hlbiB0aGUgYXZhaWxhYmlsaXR5IGNoYW5nZXMsIHdlIGZpcmUgdGhlIGV2ZW50XG4gICAgICAgIGlmICh0aW1lU2hpZnRBdmFpbGFibGVOb3cgIT09IHRoaXMudGltZVNoaWZ0QXZhaWxhYmxlKSB7XG4gICAgICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkRXZlbnQuZGlzcGF0Y2godGhpcy5wbGF5ZXIsIHsgdGltZVNoaWZ0QXZhaWxhYmxlOiB0aW1lU2hpZnRBdmFpbGFibGVOb3cgfSk7XG4gICAgICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFibGUgPSB0aW1lU2hpZnRBdmFpbGFibGVOb3c7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgb25UaW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkKCk6IEV2ZW50PFBsYXllckFQSSwgVGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZEFyZ3M+IHtcbiAgICAgIHJldHVybiB0aGlzLnRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWRFdmVudC5nZXRFdmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgTGl2ZVN0cmVhbURldGVjdG9yRXZlbnRBcmdzIGV4dGVuZHMgTm9BcmdzIHtcbiAgICBsaXZlOiBib29sZWFuO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdHMgY2hhbmdlcyBvZiB0aGUgc3RyZWFtIHR5cGUsIGkuZS4gY2hhbmdlcyBvZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwbGF5ZXIjaXNMaXZlIG1ldGhvZC5cbiAgICogTm9ybWFsbHksIGEgc3RyZWFtIGNhbm5vdCBjaGFuZ2UgaXRzIHR5cGUgZHVyaW5nIHBsYXliYWNrLCBpdCdzIGVpdGhlciBWT0Qgb3IgbGl2ZS4gRHVlIHRvIGJ1Z3Mgb24gc29tZVxuICAgKiBwbGF0Zm9ybXMgb3IgYnJvd3NlcnMsIGl0IGNhbiBzdGlsbCBjaGFuZ2UuIEl0IGlzIHRoZXJlZm9yZSB1bnJlbGlhYmxlIHRvIGp1c3QgY2hlY2sgI2lzTGl2ZSBhbmQgdGhpcyBkZXRlY3RvclxuICAgKiBzaG91bGQgYmUgdXNlZCBhcyBhIHdvcmthcm91bmQgaW5zdGVhZC5cbiAgICpcbiAgICogQWRkaXRpb25hbGx5IHN0YXJ0aW5nIHdpdGggcGxheWVyIHY4LjE5LjAgd2UgaGF2ZSB0aGUgdXNlLWNhc2UgdGhhdCBhIGxpdmUgc3RyZWFtIGNoYW5nZXMgaW50byBhIHZvZC5cbiAgICogVGhlIER1cmF0aW9uQ2hhbmdlZCBldmVudCBpbmRpY2F0ZXMgdGhpcyBzd2l0Y2guXG4gICAqXG4gICAqIEtub3duIGNhc2VzOlxuICAgKlxuICAgKiAtIEhMUyBWT0Qgb24gQW5kcm9pZCA0LjNcbiAgICogVmlkZW8gZHVyYXRpb24gaXMgaW5pdGlhbGx5ICdJbmZpbml0eScgYW5kIG9ubHkgZ2V0cyBhdmFpbGFibGUgYWZ0ZXIgcGxheWJhY2sgc3RhcnRzLCBzbyBzdHJlYW1zIGFyZSB3cm9uZ2x5XG4gICAqIHJlcG9ydGVkIGFzICdsaXZlJyBiZWZvcmUgcGxheWJhY2sgKHRoZSBsaXZlLWNoZWNrIGluIHRoZSBwbGF5ZXIgY2hlY2tzIGZvciBpbmZpbml0ZSBkdXJhdGlvbikuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIFVJIHYzLjkuMCBpbiBjb21iaW5hdGlvbiB3aXRoIHBsYXllciB2OC4xOS4wIHVzZSBQbGF5ZXJFdmVudC5EdXJhdGlvbkNoYW5nZWQgaW5zdGVhZFxuICAgKlxuICAgKiBUT0RPOiByZW1vdmUgdGhpcyBjbGFzcyBpbiBuZXh0IG1ham9yIHJlbGVhc2VcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBMaXZlU3RyZWFtRGV0ZWN0b3Ige1xuXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IFBsYXllckFQSTtcbiAgICBwcml2YXRlIGxpdmU6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBsaXZlQ2hhbmdlZEV2ZW50ID0gbmV3IEV2ZW50RGlzcGF0Y2hlcjxQbGF5ZXJBUEksIExpdmVTdHJlYW1EZXRlY3RvckV2ZW50QXJncz4oKTtcbiAgICBwcml2YXRlIHVpbWFuYWdlcjogVUlJbnN0YW5jZU1hbmFnZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXI6IFBsYXllckFQSSwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcikge1xuICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgICB0aGlzLnVpbWFuYWdlciA9IHVpbWFuYWdlcjtcbiAgICAgIHRoaXMubGl2ZSA9IHVuZGVmaW5lZDtcblxuICAgICAgbGV0IGxpdmVEZXRlY3RvciA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5kZXRlY3QoKTtcbiAgICAgIH07XG4gICAgICB0aGlzLnVpbWFuYWdlci5nZXRDb25maWcoKS5ldmVudHMub25VcGRhdGVkLnN1YnNjcmliZShsaXZlRGV0ZWN0b3IpO1xuICAgICAgLy8gUmUtZXZhbHVhdGUgd2hlbiBwbGF5YmFjayBzdGFydHNcbiAgICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5LCBsaXZlRGV0ZWN0b3IpO1xuXG4gICAgICAvLyBITFMgbGl2ZSBkZXRlY3Rpb24gd29ya2Fyb3VuZCBmb3IgQW5kcm9pZDpcbiAgICAgIC8vIEFsc28gcmUtZXZhbHVhdGUgZHVyaW5nIHBsYXliYWNrLCBiZWNhdXNlIHRoYXQgaXMgd2hlbiB0aGUgbGl2ZSBmbGFnIG1pZ2h0IGNoYW5nZS5cbiAgICAgIC8vIChEb2luZyBpdCBvbmx5IGluIEFuZHJvaWQgQ2hyb21lIHNhdmVzIHVubmVjZXNzYXJ5IG92ZXJoZWFkIG9uIG90aGVyIHBsYXRmb3JtcylcbiAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNBbmRyb2lkICYmIEJyb3dzZXJVdGlscy5pc0Nocm9tZSkge1xuICAgICAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuVGltZUNoYW5nZWQsIGxpdmVEZXRlY3Rvcik7XG4gICAgICB9XG5cbiAgICAgIC8vIER1cmF0aW9uQ2hhbmdlZCBldmVudCB3YXMgaW50cm9kdWNlZCB3aXRoIHBsYXllciB2OC4xOS4wXG4gICAgICBpZiAocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuRHVyYXRpb25DaGFuZ2VkKSB7XG4gICAgICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5EdXJhdGlvbkNoYW5nZWQsIGxpdmVEZXRlY3Rvcik7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkIHZpZGVvJ3MgaXNMaXZlKCkgbWlnaHQgYmUgZGlmZmVyZW50IHRoYW4gdGhlIGFjdHVhbCB2aWRlbydzIGlzTGl2ZSgpLlxuICAgICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkFkQnJlYWtTdGFydGVkLCBsaXZlRGV0ZWN0b3IpO1xuICAgICAgcGxheWVyLm9uKHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkFkQnJlYWtGaW5pc2hlZCwgbGl2ZURldGVjdG9yKTtcbiAgICB9XG5cbiAgICBkZXRlY3QoKTogdm9pZCB7XG4gICAgICBsZXQgbGl2ZU5vdyA9IHRoaXMucGxheWVyLmlzTGl2ZSgpO1xuXG4gICAgICAvLyBDb21wYXJlIGN1cnJlbnQgdG8gcHJldmlvdXMgbGl2ZSBzdGF0ZSBmbGFnIGFuZCBmaXJlIGV2ZW50IHdoZW4gaXQgY2hhbmdlcy4gU2luY2Ugd2UgaW5pdGlhbGl6ZSB0aGUgZmxhZ1xuICAgICAgLy8gd2l0aCB1bmRlZmluZWQsIHRoZXJlIGlzIGFsd2F5cyBhdCBsZWFzdCBhbiBpbml0aWFsIGV2ZW50IGZpcmVkIHRoYXQgdGVsbHMgbGlzdGVuZXJzIHRoZSBsaXZlIHN0YXRlLlxuICAgICAgaWYgKGxpdmVOb3cgIT09IHRoaXMubGl2ZSkge1xuICAgICAgICB0aGlzLmxpdmVDaGFuZ2VkRXZlbnQuZGlzcGF0Y2godGhpcy5wbGF5ZXIsIHsgbGl2ZTogbGl2ZU5vdyB9KTtcbiAgICAgICAgdGhpcy5saXZlID0gbGl2ZU5vdztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgb25MaXZlQ2hhbmdlZCgpOiBFdmVudDxQbGF5ZXJBUEksIExpdmVTdHJlYW1EZXRlY3RvckV2ZW50QXJncz4ge1xuICAgICAgcmV0dXJuIHRoaXMubGl2ZUNoYW5nZWRFdmVudC5nZXRFdmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBjbGFtcFZhbHVlVG9SYW5nZSh2YWx1ZTogbnVtYmVyLCBib3VuZGFyeTE6IG51bWJlciwgYm91bmRhcnkyOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGxvd2VyQm91bmRhcnkgPSBNYXRoLm1pbihib3VuZGFyeTEsIGJvdW5kYXJ5Mik7XG4gICAgY29uc3QgdXBwZXJCb3VuZGFyeSA9IE1hdGgubWF4KGJvdW5kYXJ5MSwgYm91bmRhcnkyKTtcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIGxvd2VyQm91bmRhcnkpLCB1cHBlckJvdW5kYXJ5KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTmF2aWdhdGlvbkdyb3VwIH0gZnJvbSAnLi9uYXZpZ2F0aW9uZ3JvdXAnO1xuaW1wb3J0IHsgQWN0aW9uLCBEaXJlY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJy4uL2NvbXBvbmVudHMvY29udGFpbmVyJztcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvY29tcG9uZW50JztcblxuZXhwb3J0IGVudW0gTGlzdE9yaWVudGF0aW9uIHtcbiAgSG9yaXpvbnRhbCA9ICdob3Jpem9udGFsJyxcbiAgVmVydGljYWwgPSAndmVydGljYWwnLFxufVxuXG4vKipcbiAqIEBjYXRlZ29yeSBDb21wb25lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0TmF2aWdhdGlvbkdyb3VwIGV4dGVuZHMgTmF2aWdhdGlvbkdyb3VwIHtcbiAgcHJpdmF0ZSByZWFkb25seSBsaXN0TmF2aWdhdGlvbkRpcmVjdGlvbnM6IERpcmVjdGlvbltdO1xuXG4gIGNvbnN0cnVjdG9yKG9yaWVudGF0aW9uOiBMaXN0T3JpZW50YXRpb24sIGNvbnRhaW5lcjogQ29udGFpbmVyPHVua25vd24+LCAuLi5jb21wb25lbnRzOiBDb21wb25lbnQ8dW5rbm93bj5bXSkge1xuICAgIHN1cGVyKGNvbnRhaW5lciwgLi4uY29tcG9uZW50cyk7XG5cbiAgICBzd2l0Y2ggKG9yaWVudGF0aW9uKSB7XG4gICAgICBjYXNlIExpc3RPcmllbnRhdGlvbi5WZXJ0aWNhbDpcbiAgICAgICAgdGhpcy5saXN0TmF2aWdhdGlvbkRpcmVjdGlvbnMgPSBbRGlyZWN0aW9uLlVQLCBEaXJlY3Rpb24uRE9XTl07XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIExpc3RPcmllbnRhdGlvbi5Ib3Jpem9udGFsOlxuICAgICAgICB0aGlzLmxpc3ROYXZpZ2F0aW9uRGlyZWN0aW9ucyA9IFtEaXJlY3Rpb24uTEVGVCwgRGlyZWN0aW9uLlJJR0hUXTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGhhbmRsZUFjdGlvbihhY3Rpb246IEFjdGlvbik6IHZvaWQge1xuICAgIHN1cGVyLmhhbmRsZUFjdGlvbihhY3Rpb24pO1xuXG4gICAgaWYgKGFjdGlvbiA9PT0gQWN0aW9uLlNFTEVDVCkge1xuICAgICAgLy8gY2xvc2UgdGhlIGNvbnRhaW5lciB3aGVuIGEgbGlzdCBlbnRyeSBpcyBzZWxlY3RlZFxuICAgICAgdGhpcy5oYW5kbGVBY3Rpb24oQWN0aW9uLkJBQ0spO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVOYXZpZ2F0aW9uKGRpcmVjdGlvbjogRGlyZWN0aW9uKTogdm9pZCB7XG4gICAgc3VwZXIuaGFuZGxlTmF2aWdhdGlvbihkaXJlY3Rpb24pO1xuXG4gICAgaWYgKCF0aGlzLmxpc3ROYXZpZ2F0aW9uRGlyZWN0aW9ucy5pbmNsdWRlcyhkaXJlY3Rpb24pKSB7XG4gICAgICAvLyBjbG9zZSB0aGUgY29udGFpbmVyIG9uIG5hdmlnYXRpb24gaW5wdXRzIHRoYXQgZG9uJ3QgYWxpZ25cbiAgICAgIC8vIHdpdGggdGhlIG9yaWVudGF0aW9uIG9mIHRoZSBsaXN0XG4gICAgICB0aGlzLmhhbmRsZUFjdGlvbihBY3Rpb24uQkFDSyk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbnRhaW5lcic7XG5pbXBvcnQgeyBpc0NvbXBvbmVudCwgaXNDb250YWluZXIsIGlzTGlzdEJveCB9IGZyb20gJy4vdHlwZWd1YXJkcyc7XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgcmVzb2x2ZXMgYSBjb250YWluZXIgYW5kIHRoZSBjb21wb25lbnRzIGNvbnRhaW5lZCB3aXRoaW4gdGhlbSwgYnVpbGRpbmcgYSBmbGF0IGxpc3Qgb2YgY29tcG9uZW50cy5cbiAqXG4gKiBAcGFyYW0gY29udGFpbmVyIFRoZSBjb250YWluZXIgdG8gZ2V0IHRoZSBjb250YWluZWQgY29tcG9uZW50cyBmcm9tXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVBbGxDb21wb25lbnRzKGNvbnRhaW5lcjogQ29udGFpbmVyPHVua25vd24+KTogQ29tcG9uZW50PHVua25vd24+W10ge1xuICBjb25zdCBjaGlsZENvbXBvbmVudHM6IENvbXBvbmVudDx1bmtub3duPltdID0gW107XG5cbiAgY29udGFpbmVyLmdldENvbXBvbmVudHMoKS5mb3JFYWNoKGNvbnRhaW5lck9yQ29tcG9uZW50ID0+IHtcbiAgICBpZiAoaXNDb250YWluZXIoY29udGFpbmVyT3JDb21wb25lbnQpKSB7XG4gICAgICBjaGlsZENvbXBvbmVudHMucHVzaCguLi5yZXNvbHZlQWxsQ29tcG9uZW50cyhjb250YWluZXJPckNvbXBvbmVudCkpO1xuICAgIH0gZWxzZSBpZiAoaXNDb21wb25lbnQoY29udGFpbmVyT3JDb21wb25lbnQpKSB7XG4gICAgICBjaGlsZENvbXBvbmVudHMucHVzaChjb250YWluZXJPckNvbXBvbmVudCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY2hpbGRDb21wb25lbnRzO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudHMgYXNzb2NpYXRlZCB0byB0aGUgcHJvdmlkZWQgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgVGhlIGNvbXBvbmVudCB0byBnZXQgdGhlIEhUTUwgZWxlbWVudHMgZnJvbVxuICovXG5mdW5jdGlvbiB0b0h0bWxFbGVtZW50KGNvbXBvbmVudDogQ29tcG9uZW50PHVua25vd24+KTogSFRNTEVsZW1lbnRbXSB7XG4gIGlmIChpc0xpc3RCb3goY29tcG9uZW50KSkge1xuICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGNvbXBvbmVudC5nZXREb21FbGVtZW50KCkuZ2V0KClbMF0uY2hpbGRyZW4pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wb25lbnQuZ2V0RG9tRWxlbWVudCgpLmdldCgpLnNsaWNlKDAsIDEpO1xuICB9XG59XG5cbi8qKlxuICogVGFrZXMgdGhlIHByb3ZpZGVkIGxpc3Qgb2YgY29tcG9uZW50cyBhbmQgZmxhdC1tYXBzIHRoZW0gdG8gYSBsaXN0IG9mIHRoZWlyIHJlc3BlY3RpdmUgSFRNTCBlbGVtZW50cy4gSW4gY2FzZSBhXG4gKiBwcm92aWRlZCBjb21wb25lbnQgaXMgYSBjb250YWluZXIsIHRoZSBjaGlsZHJlbiBvZiB0aGF0IGNvbnRhaW5lciB3aWxsIGJlIHJlc29sdmVkIHJlY3Vyc2l2ZWx5LiBJZ25vcmVzIGNvbXBvbmVudHNcbiAqIHRoYXQgYXJlIGhpZGRlbi5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50cyBUaGUgY29tcG9uZW50cyB0byBtYXAgdG8gSFRNTCBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SHRtbEVsZW1lbnRzRnJvbUNvbXBvbmVudHMoY29tcG9uZW50czogQ29tcG9uZW50PHVua25vd24+W10pOiBIVE1MRWxlbWVudFtdIHtcbiAgY29uc3QgaHRtbEVsZW1lbnRzOiBIVE1MRWxlbWVudFtdID0gW107XG5cbiAgY29tcG9uZW50c1xuICAgIC5maWx0ZXIoY29tcG9uZW50ID0+ICFjb21wb25lbnQuaXNIaWRkZW4oKSlcbiAgICAuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudHNUb0NvbnNpZGVyID0gY29tcG9uZW50IGluc3RhbmNlb2YgQ29udGFpbmVyID8gcmVzb2x2ZUFsbENvbXBvbmVudHMoY29tcG9uZW50KSA6IFtjb21wb25lbnRdO1xuXG4gICAgICBlbGVtZW50c1RvQ29uc2lkZXIuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgICBodG1sRWxlbWVudHMucHVzaCguLi50b0h0bWxFbGVtZW50KGNvbXBvbmVudCkpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgcmV0dXJuIGh0bWxFbGVtZW50cztcbn1cbiIsImltcG9ydCB7IEFjdGlvbiwgRGlyZWN0aW9uLCBLZXlNYXAgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEJyb3dzZXJVdGlscyB9IGZyb20gJy4uL2Jyb3dzZXJ1dGlscyc7XG5cbmNvbnN0IFRpemVuS2V5TWFwID0ge1xuICBpc0FwcGxpY2FibGU6ICgpID0+IEJyb3dzZXJVdGlscy5pc1RpemVuLFxuICBrZXlDb2Rlczoge1xuICAgIC8vIEQtcGFkIFVwXG4gICAgMzg6IERpcmVjdGlvbi5VUCxcbiAgICAvLyBELXBhZCBEb3duXG4gICAgNDA6IERpcmVjdGlvbi5ET1dOLFxuICAgIC8vIEQtcGFkIExlZnRcbiAgICAzNzogRGlyZWN0aW9uLkxFRlQsXG4gICAgLy8gRC1wYWQgUmlnaHRcbiAgICAzOTogRGlyZWN0aW9uLlJJR0hULFxuICAgIC8vIEQtcGFkIE9LXG4gICAgMTM6IEFjdGlvbi5TRUxFQ1QsXG4gICAgLy8gQmFja1xuICAgIDEwMDA5OiBBY3Rpb24uQkFDSyxcbiAgfSxcbn07XG5cbmNvbnN0IFdlYk9zS2V5TWFwID0ge1xuICBpc0FwcGxpY2FibGU6ICgpID0+IEJyb3dzZXJVdGlscy5pc1dlYk9zLFxuICBrZXlDb2Rlczoge1xuICAgIC8vIEQtcGFkIFVwXG4gICAgMzg6IERpcmVjdGlvbi5VUCxcbiAgICAvLyBELXBhZCBEb3duXG4gICAgNDA6IERpcmVjdGlvbi5ET1dOLFxuICAgIC8vIEQtcGFkIExlZnRcbiAgICAzNzogRGlyZWN0aW9uLkxFRlQsXG4gICAgLy8gRC1wYWQgUmlnaHRcbiAgICAzOTogRGlyZWN0aW9uLlJJR0hULFxuICAgIC8vIEQtcGFkIE9LXG4gICAgMTM6IEFjdGlvbi5TRUxFQ1QsXG4gICAgLy8gQmFja1xuICAgIDQ2MTogQWN0aW9uLkJBQ0ssXG4gIH0sXG59O1xuXG5jb25zdCBQbGF5U3RhdGlvbktleU1hcCA9IHtcbiAgaXNBcHBsaWNhYmxlOiAoKSA9PiBCcm93c2VyVXRpbHMuaXNQbGF5U3RhdGlvbixcbiAga2V5Q29kZXM6IHtcbiAgICAvLyBELXBhZCBVcFxuICAgIDM4OiBEaXJlY3Rpb24uVVAsXG4gICAgLy8gRC1wYWQgRG93blxuICAgIDQwOiBEaXJlY3Rpb24uRE9XTixcbiAgICAvLyBELXBhZCBMZWZ0XG4gICAgMzc6IERpcmVjdGlvbi5MRUZULFxuICAgIC8vIEQtcGFkIFJpZ2h0XG4gICAgMzk6IERpcmVjdGlvbi5SSUdIVCxcbiAgICAvLyBDcm9zc1xuICAgIDEzOiBBY3Rpb24uU0VMRUNULFxuICAgIC8vIENpcmNsZVxuICAgIDI3OiBBY3Rpb24uQkFDSyxcbiAgfSxcbn07XG5cbmNvbnN0IEFuZHJvaWRLZXlNYXAgPSB7XG4gIGlzQXBwbGljYWJsZTogKCkgPT4gQnJvd3NlclV0aWxzLmlzQW5kcm9pZCxcbiAga2V5Q29kZXM6IHtcbiAgICAvLyBELXBhZCBVcFxuICAgIDM4OiBEaXJlY3Rpb24uVVAsXG4gICAgLy8gRC1wYWQgRG93blxuICAgIDQwOiBEaXJlY3Rpb24uRE9XTixcbiAgICAvLyBELXBhZCBMZWZ0XG4gICAgMzc6IERpcmVjdGlvbi5MRUZULFxuICAgIC8vIEQtcGFkIFJpZ2h0XG4gICAgMzk6IERpcmVjdGlvbi5SSUdIVCxcbiAgICAvLyBELXBhZCBPS1xuICAgIDEzOiBBY3Rpb24uU0VMRUNULFxuICAgIC8vIEJhY2tcbiAgICAyNzogQWN0aW9uLkJBQ0ssXG4gIH0sXG59O1xuXG5jb25zdCBIaXNlbnNlS2V5TWFwID0ge1xuICBpc0FwcGxpY2FibGU6ICgpID0+IEJyb3dzZXJVdGlscy5pc0hpc2Vuc2UsXG4gIGtleUNvZGVzOiB7XG4gICAgLy8gRC1wYWQgVXBcbiAgICAzODogRGlyZWN0aW9uLlVQLFxuICAgIC8vIEQtcGFkIERvd25cbiAgICA0MDogRGlyZWN0aW9uLkRPV04sXG4gICAgLy8gRC1wYWQgTGVmdFxuICAgIDM3OiBEaXJlY3Rpb24uTEVGVCxcbiAgICAvLyBELXBhZCBSaWdodFxuICAgIDM5OiBEaXJlY3Rpb24uUklHSFQsXG4gICAgLy8gT0tcbiAgICAxMzogQWN0aW9uLlNFTEVDVCxcbiAgICAvLyBCYWNrXG4gICAgODogQWN0aW9uLkJBQ0ssXG4gIH0sXG59O1xuXG4vLyBEZWZhdWx0IGtleSBtYXAgdXNlZCBvbiBkZXNrdG9wc1xuY29uc3QgRGVmYXVsdEtleU1hcCA9IHtcbiAgLy8gQXJyb3cgVXBcbiAgMzg6IERpcmVjdGlvbi5VUCxcbiAgLy8gQXJyb3cgRG93blxuICA0MDogRGlyZWN0aW9uLkRPV04sXG4gIC8vIEFycm93IExlZnRcbiAgMzc6IERpcmVjdGlvbi5MRUZULFxuICAvLyBBcnJvdyBSaWdodFxuICAzOTogRGlyZWN0aW9uLlJJR0hULFxuICAvLyBFbnRlclxuICAxMzogQWN0aW9uLlNFTEVDVCxcbiAgLy8gRXNjYXBlXG4gIDI3OiBBY3Rpb24uQkFDSyxcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWF0Y2hpbmcga2V5IG1hcCBmb3IgdGhlIGN1cnJlbnQgcGxhdGZvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXlNYXBGb3JQbGF0Zm9ybSgpOiBLZXlNYXAge1xuICBjb25zdCBhcHBsaWNhYmxlS2V5TWFwID0gW1xuICAgIFdlYk9zS2V5TWFwLFxuICAgIFRpemVuS2V5TWFwLFxuICAgIFBsYXlTdGF0aW9uS2V5TWFwLFxuICAgIEhpc2Vuc2VLZXlNYXAsXG4gICAgQW5kcm9pZEtleU1hcCxcbiAgXS5maW5kKGtleU1hcCA9PiBrZXlNYXAuaXNBcHBsaWNhYmxlKCkpO1xuXG4gIGlmIChhcHBsaWNhYmxlS2V5TWFwKSB7XG4gICAgcmV0dXJuIGFwcGxpY2FibGVLZXlNYXAua2V5Q29kZXM7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIERlZmF1bHRLZXlNYXA7XG4gIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgVmVjdG9yIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjdG9yLlxuICpcbiAqIEBwYXJhbSB2ZWN0b3IgVGhlIHZlY3RvciB0byBjYWxjdWxhdGUgdGhlIGxlbmd0aCBvZlxuICovXG5mdW5jdGlvbiBsZW5ndGgodmVjdG9yOiBWZWN0b3IpOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHZlY3Rvci54LCAyKSArIE1hdGgucG93KHZlY3Rvci55LCAyKSk7XG59XG5cbi8qKlxuICogTm9ybWFsaXplcyB0aGUgZ2l2ZW4gdmVjdG9yLlxuICpcbiAqIEBwYXJhbSB2ZWN0b3IgVGhlIHZlY3RvciB0byBub3JtYWxpemVcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplKHZlY3RvcjogVmVjdG9yKTogVmVjdG9yIHtcbiAgY29uc3QgbGVuID0gbGVuZ3RoKHZlY3Rvcik7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiB2ZWN0b3IueCAvIGxlbixcbiAgICB5OiB2ZWN0b3IueSAvIGxlbixcbiAgfTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBiZXR3ZWVuIDIgdmVjdG9ycy5cbiAqXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIHZlY3RvclxuICovXG5mdW5jdGlvbiBkb3RQcm9kdWN0KGE6IFZlY3RvciwgYjogVmVjdG9yKTogbnVtYmVyIHtcbiAgcmV0dXJuIGEueCAqIGIueCArIGEueSAqIGIueTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSAyIHBvaW50cyBwb2ludGVkIHRvIGJ5IHRoZSBwcm92aWRlZCB2ZWN0b3JzLlxuICpcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCB2ZWN0b3JcbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgdmVjdG9yXG4gKi9cbmZ1bmN0aW9uIGRpc3RhbmNlKGE6IFZlY3RvciwgYjogVmVjdG9yKTogbnVtYmVyIHtcbiAgcmV0dXJuIGxlbmd0aCh7XG4gICAgeDogYi54IC0gYS54LFxuICAgIHk6IGIueSAtIGEueSxcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHZlY3RvciB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHByb3ZpZGVkIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gZ2V0IHRoZSBjZW50ZXIgb2ZcbiAqL1xuZnVuY3Rpb24gZ2V0RWxlbWVudFZlY3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCk6IFZlY3RvciB7XG4gIGNvbnN0IGJvdW5kaW5nUmVjdCA9IGdldEJvdW5kaW5nUmVjdEZyb21FbGVtZW50KGVsZW1lbnQpO1xuXG4gIHJldHVybiB7XG4gICAgeDogYm91bmRpbmdSZWN0LnggKyBib3VuZGluZ1JlY3Qud2lkdGggLyAyLFxuICAgIHk6IGJvdW5kaW5nUmVjdC55ICsgYm91bmRpbmdSZWN0LmhlaWdodCAvIDIsXG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYW5nbGUgaW4gZGVncmVlcyBiZXR3ZWVuIHRoZSB1bml0IHZlY3RvciBwb2ludGluZyBpbiB0aGUgZ2l2ZW4ge0RpcmVjdGlvbn0gYW5kIHRoZSB1bml0IHZlY3RvciB0aGF0XG4gKiBwb2ludHMgZnJvbSB0aGUgY3VycmVudCBlbGVtZW50IHRvIGFub3RoZXIgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gYSBUaGUgdmVjdG9yIG9mIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAqIEBwYXJhbSBiIFRoZSB2ZWN0b3Igb2YgdGhlIG90aGVyIGVsZW1lbnRcbiAqIEBwYXJhbSBkaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiB0byBtb3ZlIGFsb25nXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUFuZ2xlKGE6IFZlY3RvciwgYjogVmVjdG9yLCBkaXJlY3Rpb246IERpcmVjdGlvbik6IG51bWJlciB7XG4gIGNvbnN0IGRpcmVjdGlvblZlY3RvciA9IHtcbiAgICB4OiAoZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uTEVGVCA/IC0xIDogZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uUklHSFQgPyAxIDogMCksXG4gICAgeTogKGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLlVQID8gLTEgOiBkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5ET1dOID8gMSA6IDApLFxuICB9O1xuXG4gIGNvbnN0IGVsZW1lbnRWZWN0b3IgPSBub3JtYWxpemUoe1xuICAgIHg6IGIueCAtIGEueCxcbiAgICB5OiBiLnkgLSBhLnksXG4gIH0pO1xuXG4gIGNvbnN0IGFuZ2xlQ29zID0gZG90UHJvZHVjdChkaXJlY3Rpb25WZWN0b3IsIGVsZW1lbnRWZWN0b3IpIC8gKGxlbmd0aChkaXJlY3Rpb25WZWN0b3IpICogbGVuZ3RoKGVsZW1lbnRWZWN0b3IpKTtcblxuICByZXR1cm4gTWF0aC5hY29zKGFuZ2xlQ29zKSAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY2xvc2VzdCBlbGVtZW50IHRvIHRoZSBjdXJyZW50IGVsZW1lbnQgd2hlbiB0cnlpbmcgdG8gbmF2aWdhdGUgaW4gdGhlIHByb3ZpZGVkIGRpcmVjdGlvbi4gUmV0dXJuc1xuICogdW5kZWZpbmVkLCBpZiB0aGVyZSBpcyBub3QgZWxlbWVudCBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uLlxuICpcbiAqIEBwYXJhbSBhY3RpdmVFbGVtZW50IFRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZWxlbWVudFxuICogQHBhcmFtIGVsZW1lbnRzIFRoZSBsaXN0IG9mIGFsbCBlbGVtZW50cyB0aGF0IGNhbiBiZSBuYXZpZ2F0ZWQgdG9cbiAqIEBwYXJhbSBkaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiBpbiB3aGljaCB0byBuYXZpZ2F0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudEluRGlyZWN0aW9uKFxuICBhY3RpdmVFbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgZWxlbWVudHM6IEhUTUxFbGVtZW50W10sXG4gIGRpcmVjdGlvbjogRGlyZWN0aW9uLFxuKTogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQge1xuICBpZiAoIWFjdGl2ZUVsZW1lbnQpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgY29uc3QgY3V0b2ZmQW5nbGUgPSA0NTtcbiAgY29uc3QgYWN0aXZlRWxlbVZlY3RvciA9IGdldEVsZW1lbnRWZWN0b3IoYWN0aXZlRWxlbWVudCk7XG5cbiAgcmV0dXJuIGVsZW1lbnRzXG4gICAgLy8gZG9uJ3QgdGFrZSB0aGUgY3VycmVudCBlbGVtZW50IGludG8gYWNjb3VudFxuICAgIC5maWx0ZXIoZWxlbSA9PiBlbGVtICE9PSBhY3RpdmVFbGVtZW50KVxuICAgIC8vIGdldCB0aGUgYW5nbGUgYmV0d2VlbiwgYW5kIGRpc3RhbmNlIHRvIGFueSBvdGhlciBlbGVtZW50IGZyb20gdGhlIGN1cnJlbnQgZWxlbWVudFxuICAgIC5tYXAoZWxlbWVudCA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50VmVjdG9yID0gZ2V0RWxlbWVudFZlY3RvcihlbGVtZW50KTtcbiAgICAgIGNvbnN0IGRpc3QgPSBkaXN0YW5jZShhY3RpdmVFbGVtVmVjdG9yLCBlbGVtZW50VmVjdG9yKTtcbiAgICAgIGNvbnN0IGFuZ2xlID0gY2FsY3VsYXRlQW5nbGUoYWN0aXZlRWxlbVZlY3RvciwgZWxlbWVudFZlY3RvciwgZGlyZWN0aW9uKTtcblxuICAgICAgcmV0dXJuIHsgYW5nbGUsIGRpc3QsIGVsZW1lbnQgfTtcbiAgICB9KVxuICAgIC8vIGZpbHRlciBvdXQgYW55IGVsZW1lbnRzIHRoYXQgZG9uJ3QgYWxpZ24gd2l0aCB0aGUgZGlyZWN0aW9uIHdlJ3JlIHRyeWluZyB0byBtb3ZlIGluXG4gICAgLmZpbHRlcigoeyBhbmdsZSB9KSA9PiBhbmdsZSA8PSBjdXRvZmZBbmdsZSlcbiAgICAvLyBzb3J0IHRoZSByZXN1bHRpbmcgZWxlbWVudHMgYmFzZWQgb24gdGhlaXIgZGlzdGFuY2UgdG8gdGhlIGN1cnJlbnQgZWxlbWVudCBpbiBhc2NlbmRpbmcgb3JkZXJcbiAgICAuc29ydCgoeyBhbmdsZTogYW5nbGVBLCBkaXN0OiBkaXN0QSB9LCB7IGFuZ2xlOiBhbmdsZUIsIGRpc3Q6IGRpc3RCIH0pID0+IChhbmdsZUEgLSBhbmdsZUIpICsgKGRpc3RBIC0gZGlzdEIpKVxuICAgIC8vIHJldHVybiB0aGUgZWxlbWVudCBjbG9zZXN0IHRvIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICAuc2hpZnQoKT8uZWxlbWVudDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIERPTVJlY3QgbGlrZSBvYmplY3QgY29udGFpbmluZyBob3Jpem9udGFsIFggYW5kIHZlcnRpY2FsIFkgY29vcmRpbmF0ZXMgZnJvbSBhbmQgSFRNTEVsZW1lbnQuXG4gKiBIYW5kbGVzIHVzZS1jYXNlcyBmb3IgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IHdoZW4gdGhlIHJldHVybiB0eXBlIGNhbiBiZSBlaXRoZXJcbiAqIGEgQ2xpZW50UmVjdCBvciBET01SZWN0IG9iamVjdCB0eXBlLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IFRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm91bmRpbmdSZWN0RnJvbUVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgYm91bmRpbmdSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICBpZiAodHlwZW9mIGJvdW5kaW5nUmVjdC54ICE9PSAnbnVtYmVyJyAmJiB0eXBlb2YgYm91bmRpbmdSZWN0LnkgIT09ICdudW1iZXInKSB7XG4gICAgYm91bmRpbmdSZWN0LnggPSBib3VuZGluZ1JlY3QubGVmdDtcbiAgICBib3VuZGluZ1JlY3QueSA9IGJvdW5kaW5nUmVjdC50b3A7XG4gIH1cblxuICByZXR1cm4gYm91bmRpbmdSZWN0O1xufVxuXG4iLCJpbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbnRhaW5lcic7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXRFbGVtZW50SW5EaXJlY3Rpb24gfSBmcm9tICcuL25hdmlnYXRpb25hbGdvcml0aG0nO1xuaW1wb3J0IHsgZ2V0SHRtbEVsZW1lbnRzRnJvbUNvbXBvbmVudHMgfSBmcm9tICcuL2dldGh0bWxlbGVtZW50c2Zyb21jb21wb25lbnRzJztcbmltcG9ydCB7IE5vZGVFdmVudFN1YnNjcmliZXIgfSBmcm9tICcuL25vZGVldmVudHN1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNTZXR0aW5nc1BhbmVsIH0gZnJvbSAnLi90eXBlZ3VhcmRzJztcbmltcG9ydCB7IEFjdGlvbiwgQWN0aW9uQ2FsbGJhY2ssIENhbGxiYWNrLCBEaXJlY3Rpb24sIE5hdmlnYXRpb25DYWxsYmFjayB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFVzZWQgYXMgcGFydCBvZiBzcGF0aWFsIG5hdmlnYXRpb24uIEdyb3VwcyB0b2dldGhlciBkaWZmZXJlbnQgY29tcG9uZW50cyB0byB3aGljaCB5b3UgY2FuIG5hdmlnYXRlIHRvLCBpbiBhIHNpbmdsZVxuICogbmF2aWdhdGlvbiBncm91cC5cbiAqXG4gKiBSZXNwb25zaWJsZSBmb3IgZmluZGluZyBlbGVtZW50cyBpbiBkaXJlY3Rpb24gb24gbmF2aWdhdGlvbiBhbmQgZm9yIHRyYWNraW5nIGFjdGl2ZSBlbGVtZW50IGluc2lkZSB0aGUgZ3JvdXAuXG4gKiBUcmlnZ2VycyBibHVyIGFuZCBmb2N1cyBvbiBlbGVtZW50IHdoZW4gYWN0aXZlIGVsZW1lbnQgaXMgY2hhbmdlZCwgYXMgd2VsbCBhcyBjbGljayBvbiBlbGVtZW50IG9uIGBBY3Rpb24uU0VMRUNUYC5cbiAqIFdpbGwgY2FsbCBgaGlkZVVpKClgIG9uIHBhc3NlZCBpbiBjb250YWluZXIgaWYgYEFjdGlvbi5CQUNLYCBpcyBjYWxsZWQuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25Hcm91cCB7XG4gIHByaXZhdGUgYWN0aXZlRWxlbWVudD86IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIGFjdGl2ZUVsZW1lbnRCZWZvcmVEaXNhYmxlPzogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29tcG9uZW50czogQ29tcG9uZW50PHVua25vd24+W107XG4gIHByaXZhdGUgcmVtb3ZlRWxlbWVudEhvdmVyRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7fTtcbiAgcHJpdmF0ZSByZWFkb25seSBldmVudFN1YnNjcmliZXI6IE5vZGVFdmVudFN1YnNjcmliZXI7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGNvbnRhaW5lcjogQ29udGFpbmVyPHVua25vd24+LCAuLi5jb21wb25lbnRzOiBDb21wb25lbnQ8dW5rbm93bj5bXSkge1xuICAgIHRoaXMuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG4gICAgdGhpcy5ldmVudFN1YnNjcmliZXIgPSBuZXcgTm9kZUV2ZW50U3Vic2NyaWJlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIG92ZXJ3cml0dGVuLCBhbGxvd3MgdG8gaW1wbGVtZW50IGN1c3RvbSBuYXZpZ2F0aW9uIGJlaGF2aW9yLiBQZXIgZGVmYXVsdCwgdGhlIGludGVybmFsIGhhbmRsZXIgd2lsbCBzdGlsbCBiZVxuICAgKiBleGVjdXRlZC4gVG8gcHJldmVudCBleGVjdXRpb24gb2YgdGhlIGRlZmF1bHQgbmF2aWdhdGlvbiBoYW5kbGVyLCBjYWxsIGBwcmV2ZW50RGVmYXVsdCgpYDtcbiAgICpcbiAgICogQHBhcmFtIGRpcmVjdGlvbiB7RGlyZWN0aW9ufSBUaGUgZGlyZWN0aW9uIHRvIG1vdmUgYWxvbmdcbiAgICogQHBhcmFtIHRhcmdldCB7SFRNTEVsZW1lbnR9IFRoZSB0YXJnZXQgZWxlbWVudCBmb3IgdGhlIGV2ZW50XG4gICAqIEBwYXJhbSBwcmV2ZW50RGVmYXVsdCB7KCkgPT4gdm9pZH0gQSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgd2lsbCBwcmV2ZW50IHRoZSBleGVjdXRpb24gb2YgdGhlIGRlZmF1bHQgaGFuZGxlclxuICAgKi9cbiAgcHVibGljIG9uTmF2aWdhdGlvbj86IE5hdmlnYXRpb25DYWxsYmFjaztcblxuICAvKipcbiAgICogSWYgb3ZlcndyaXR0ZW4sIGFsbG93cyB0byBpbXBsZW1lbnQgY3VzdG9tIGFjdGlvbiBiZWhhdmlvci4gUGVyIGRlZmF1bHQsIHRoZSBpbnRlcm5hbCBoYW5kbGVyIHdpbGwgc3RpbGwgYmVcbiAgICogZXhlY3V0ZWQuIFRvIHByZXZlbnQgZXhlY3V0aW9uIG9mIHRoZSBkZWZhdWx0IGFjdGlvbiBoYW5kbGVyLCBjYWxsIGBwcmV2ZW50RGVmYXVsdCgpYDtcbiAgICpcbiAgICogQHBhcmFtIGFjdGlvbiB7QWN0aW9ufSBUaGUgYWN0aW9uIHRoYXQgd2FzIGNhbGxlZFxuICAgKiBAcGFyYW0gdGFyZ2V0IHtIVE1MRWxlbWVudH0gVGhlIHRhcmdldCBlbGVtZW50IHRoYXQgYWN0aW9uIHdhcyBjYWxsZWQgb25cbiAgICogQHBhcmFtIHByZXZlbnREZWZhdWx0IHsoKSA9PiB2b2lkfSBBIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCB3aWxsIHByZXZlbnQgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgZGVmYXVsdCBoYW5kbGVyXG4gICAqL1xuICBwdWJsaWMgb25BY3Rpb24/OiBBY3Rpb25DYWxsYmFjaztcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYWN0aXZlIEhUTUxFbGVtZW50LlxuICAgKi9cbiAgcHVibGljIGdldEFjdGl2ZUVsZW1lbnQoKTogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZUVsZW1lbnQ7XG4gIH1cblxuICBwcml2YXRlIGZvY3VzRWxlbWVudChlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIHRoaXMuYmx1ckFjdGl2ZUVsZW1lbnQoKTtcbiAgICB0aGlzLmFjdGl2ZUVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuYWN0aXZlRWxlbWVudC5mb2N1cygpO1xuICB9XG5cbiAgcHJpdmF0ZSBibHVyQWN0aXZlRWxlbWVudCgpOiB2b2lkIHtcbiAgICB0aGlzLmFjdGl2ZUVsZW1lbnQ/LmJsdXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgZm9jdXNGaXJzdEVsZW1lbnQoKTogdm9pZCB7XG4gICAgY29uc3QgZWxlbWVudCA9IGdldEh0bWxFbGVtZW50c0Zyb21Db21wb25lbnRzKHRoaXMuY29tcG9uZW50cylbMF07XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZm9jdXNFbGVtZW50KGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBkZWZhdWx0TmF2aWdhdGlvbkhhbmRsZXIoZGlyZWN0aW9uOiBEaXJlY3Rpb24pOiB2b2lkIHtcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZ2V0RWxlbWVudEluRGlyZWN0aW9uKFxuICAgICAgdGhpcy5hY3RpdmVFbGVtZW50LFxuICAgICAgZ2V0SHRtbEVsZW1lbnRzRnJvbUNvbXBvbmVudHModGhpcy5jb21wb25lbnRzKSxcbiAgICAgIGRpcmVjdGlvbixcbiAgICApO1xuXG4gICAgaWYgKHRhcmdldEVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZm9jdXNFbGVtZW50KHRhcmdldEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBkZWZhdWx0QWN0aW9uSGFuZGxlcihhY3Rpb246IEFjdGlvbik6IHZvaWQge1xuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlKEFjdGlvbi5TRUxFQ1QpOlxuICAgICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQuY2xpY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlKEFjdGlvbi5CQUNLKTpcbiAgICAgICAgdGhpcy5jb250YWluZXIuaGlkZSgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUlucHV0PFQ+KGRhdGE6IFQsIGRlZmF1bHRIYW5kbGVyOiAoZGF0YTogVCkgPT4gdm9pZCwgdXNlckhhbmRsZXI/OiBDYWxsYmFjazxUPik6IHZvaWQge1xuICAgIGxldCBoYW5kbGVEZWZhdWx0ID0gdHJ1ZTtcbiAgICBjb25zdCBwcmV2ZW50RGVmYXVsdCA9ICgpID0+IChoYW5kbGVEZWZhdWx0ID0gZmFsc2UpO1xuXG4gICAgdXNlckhhbmRsZXI/LihkYXRhLCB0aGlzLmFjdGl2ZUVsZW1lbnQsIHByZXZlbnREZWZhdWx0KTtcblxuICAgIGlmIChoYW5kbGVEZWZhdWx0KSB7XG4gICAgICBkZWZhdWx0SGFuZGxlci5jYWxsKHRoaXMsIGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGEgbmF2aWdhdGlvbiBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIG9mIHRoZSBuYXZpZ2F0aW9uIGV2ZW50XG4gICAqL1xuICBwdWJsaWMgaGFuZGxlTmF2aWdhdGlvbihkaXJlY3Rpb246IERpcmVjdGlvbik6IHZvaWQge1xuICAgIGlmICghdGhpcy5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAvLyBJZiB3ZSBkbyBub3QgaGF2ZSBhbiBhY3RpdmUgZWxlbWVudCwgdGhlIGFjdGl2ZSBlbGVtZW50IGhhcyBiZWVuIGRpc2FibGVkIGJ5IGEgbW91c2VsZWF2ZVxuICAgICAgLy8gZXZlbnQuIFdlIHNob3VsZCBjb250aW51ZSB0aGUgbmF2aWdhdGlvbiBhdCB0aGUgZXhhY3QgcGxhY2Ugd2hlcmUgd2UgbGVmdCBvZmYuXG4gICAgICBpZiAodGhpcy5hY3RpdmVFbGVtZW50QmVmb3JlRGlzYWJsZSkge1xuICAgICAgICB0aGlzLmZvY3VzRWxlbWVudCh0aGlzLmFjdGl2ZUVsZW1lbnRCZWZvcmVEaXNhYmxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZm9jdXNGaXJzdEVsZW1lbnQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kXG4gICAgdGhpcy5oYW5kbGVJbnB1dChkaXJlY3Rpb24sIHRoaXMuZGVmYXVsdE5hdmlnYXRpb25IYW5kbGVyLCB0aGlzLm9uTmF2aWdhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhbiBhY3Rpb24gZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSBhY3Rpb24gVGhlIGFjdGlvbiBvZiB0aGUgZXZlbnRcbiAgICovXG4gIHB1YmxpYyBoYW5kbGVBY3Rpb24oYWN0aW9uOiBBY3Rpb24pOiB2b2lkIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kXG4gICAgdGhpcy5oYW5kbGVJbnB1dChhY3Rpb24sIHRoaXMuZGVmYXVsdEFjdGlvbkhhbmRsZXIsIHRoaXMub25BY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgbmF2aWdhdGlvbiBncm91cFxuICAgKlxuICAgKiBDYWxsIGJsdXIgb24gYWN0aXZlIGVsZW1lbnQsIHNldCBhcyB1bmRlZmluZWQsIGFuZCB0cmFjayBpdCBhcyBlbGVtZW50IGJlZm9yZSBkaXNhYmxlLlxuICAgKi9cbiAgcHVibGljIGRpc2FibGUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYWN0aXZlRWxlbWVudCkge1xuICAgICAgdGhpcy5hY3RpdmVFbGVtZW50QmVmb3JlRGlzYWJsZSA9IHRoaXMuYWN0aXZlRWxlbWVudDtcbiAgICAgIHRoaXMuYmx1ckFjdGl2ZUVsZW1lbnQoKTtcbiAgICAgIHRoaXMuYWN0aXZlRWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG5hdmlnYXRpb24gZ3JvdXBcbiAgICpcbiAgICogU2V0cyBhY3RpdmUgZWxlbWVudCB0byBlaXRoZXIgZWxlbWVudCB0aGF0IHdhcyBhY3RpdmUgYmVmb3JlIGRpc2FibGUsIG9yIGZpcnN0IGVsZW1lbnQgb2YgdHJhY2tlZCBlbGVtZW50cy5cbiAgICogSWYgaXQgaXMgc2V0dGluZ3MgcGFuZWwsIGl0IHdpbGwgYWx3YXlzIGZvY3VzIGZpcnN0IGVsZW1lbnQgaW4gdGhlIGxpc3QuXG4gICAqL1xuICBwdWJsaWMgZW5hYmxlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmFjdGl2ZUVsZW1lbnRCZWZvcmVEaXNhYmxlICYmICFpc1NldHRpbmdzUGFuZWwodGhpcy5jb250YWluZXIpKSB7XG4gICAgICB0aGlzLmZvY3VzRWxlbWVudCh0aGlzLmFjdGl2ZUVsZW1lbnRCZWZvcmVEaXNhYmxlKTtcbiAgICAgIHRoaXMuYWN0aXZlRWxlbWVudEJlZm9yZURpc2FibGUgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZm9jdXNGaXJzdEVsZW1lbnQoKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrRWxlbWVudEhvdmVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBldmVudCBsaXN0ZW5lciBmb3IgYG1vdXNlZW50ZXJgIG9uIHRyYWNrZWQgZWxlbWVudHMgdG8gZW5zdXJlIHRyYWNraW5nIG9mIGFjdGl2ZSBlbGVtZW50IHdpbGwgd29yayB0b2dldGhlclxuICAgKiBpbiBjb21iaW5hdGlvbiBvZiB1c2luZyBtb3VzZSBhbmQga2V5IGV2ZW50cy5cbiAgICovXG4gIHByaXZhdGUgdHJhY2tFbGVtZW50SG92ZXIoKTogdm9pZCB7XG4gICAgdGhpcy5yZW1vdmVFbGVtZW50SG92ZXJFdmVudExpc3RlbmVycygpO1xuXG4gICAgY29uc3QgcmVtb3ZlRXZlbnRMaXN0ZW5lckZ1bmN0aW9ucyA9IGdldEh0bWxFbGVtZW50c0Zyb21Db21wb25lbnRzKHRoaXMuY29tcG9uZW50cykubWFwKGh0bWxFbGVtID0+IHtcbiAgICAgIGNvbnN0IGVudGVyTGlzdGVuZXIgPSB0aGlzLmZvY3VzRWxlbWVudC5iaW5kKHRoaXMsIGh0bWxFbGVtKTtcbiAgICAgIGNvbnN0IGV4aXRMaXN0ZW5lciA9ICgpID0+IHRoaXMuZGlzYWJsZSgpO1xuXG4gICAgICB0aGlzLmV2ZW50U3Vic2NyaWJlci5vbihodG1sRWxlbSwgJ21vdXNlZW50ZXInLCBlbnRlckxpc3RlbmVyKTtcbiAgICAgIHRoaXMuZXZlbnRTdWJzY3JpYmVyLm9uKGh0bWxFbGVtLCAnbW91c2VsZWF2ZScsIGV4aXRMaXN0ZW5lcik7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHRoaXMuZXZlbnRTdWJzY3JpYmVyLm9mZihodG1sRWxlbSwgJ21vdXNlZW50ZXInLCBlbnRlckxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5ldmVudFN1YnNjcmliZXIub2ZmKGh0bWxFbGVtLCAnbW91c2VsZWF2ZScsIGV4aXRMaXN0ZW5lcik7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdGhpcy5yZW1vdmVFbGVtZW50SG92ZXJFdmVudExpc3RlbmVycyA9ICgpID0+IHJlbW92ZUV2ZW50TGlzdGVuZXJGdW5jdGlvbnMuZm9yRWFjaChmbiA9PiBmbigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlIG9mIG5hdmlnYXRpb24gZ3JvdXBcbiAgICovXG4gIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRTdWJzY3JpYmVyLnJlbGVhc2UoKTtcbiAgICB0aGlzLmFjdGl2ZUVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jb21wb25lbnRzLnNwbGljZSgwLCB0aGlzLmNvbXBvbmVudHMubGVuZ3RoKTtcbiAgICB0aGlzLnJlbW92ZUVsZW1lbnRIb3ZlckV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsInR5cGUgTGlzdGVuZXJzID0gKFtOb2RlLCBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LCBib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnNdKVtdO1xuXG4vKipcbiAqIEFsbG93cyB0byBzdWJzY3JpYmUgdG8gTm9kZSBldmVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb2RlRXZlbnRTdWJzY3JpYmVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBhdHRhY2hlZExpc3RlbmVyczogTWFwPGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXAsIExpc3RlbmVycz47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5hdHRhY2hlZExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RXZlbnRMaXN0ZW5lcnNPZlR5cGUodHlwZToga2V5b2YgSFRNTEVsZW1lbnRFdmVudE1hcCk6IExpc3RlbmVycyB7XG4gICAgaWYgKCF0aGlzLmF0dGFjaGVkTGlzdGVuZXJzLmhhcyh0eXBlKSkge1xuICAgICAgdGhpcy5hdHRhY2hlZExpc3RlbmVycy5zZXQodHlwZSwgW10pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmF0dGFjaGVkTGlzdGVuZXJzLmdldCh0eXBlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBnaXZlbiBldmVudCBsaXN0ZW5lciB0byB0aGUgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciBmcm9tXG4gICAqIEBwYXJhbSB0eXBlIFRoZSBldmVudCB0byBsaXN0ZW4gdG9cbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBsaXN0ZW5lciB0byByZW1vdmVcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnNcbiAgICovXG4gIHB1YmxpYyBvbihcbiAgICBub2RlOiBOb2RlLFxuICAgIHR5cGU6IGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXAsXG4gICAgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QsXG4gICAgb3B0aW9ucz86IGJvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyxcbiAgKTogdm9pZCB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB0aGlzLmdldEV2ZW50TGlzdGVuZXJzT2ZUeXBlKHR5cGUpLnB1c2goW25vZGUsIGxpc3RlbmVyLCBvcHRpb25zXSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gZXZlbnQgbGlzdGVuZXIgZnJvbSB0aGUgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIG5vZGUgVGhlIG5vZGUgdG8gYXR0YWNoIHRoZSBldmVudCBsaXN0ZW5lciB0b1xuICAgKiBAcGFyYW0gdHlwZSBUaGUgZXZlbnQgdG8gbGlzdGVuIHRvXG4gICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgdG8gYWRkXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBldmVudCBsaXN0ZW5lciBvcHRpb25zXG4gICAqL1xuICBwdWJsaWMgb2ZmKFxuICAgIG5vZGU6IE5vZGUsXG4gICAgdHlwZToga2V5b2YgSFRNTEVsZW1lbnRFdmVudE1hcCxcbiAgICBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCxcbiAgICBvcHRpb25zPzogYm9vbGVhbiB8IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBsaXN0ZW5lcnNPZlR5cGUgPSB0aGlzLmdldEV2ZW50TGlzdGVuZXJzT2ZUeXBlKHR5cGUpO1xuICAgIGNvbnN0IGxpc3RlbmVySW5kZXggPSBsaXN0ZW5lcnNPZlR5cGUuZmluZEluZGV4KChbb3RoZXJOb2RlLCBvdGhlckxpc3RlbmVyLCBvdGhlck9wdGlvbnNdKSA9PiB7XG4gICAgICByZXR1cm4gb3RoZXJOb2RlID09PSBub2RlICYmIG90aGVyTGlzdGVuZXIgPT09IGxpc3RlbmVyICYmIG90aGVyT3B0aW9ucyA9PT0gb3B0aW9ucztcbiAgICB9KTtcblxuICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cbiAgICBpZiAobGlzdGVuZXJJbmRleCA+IC0xKSB7XG4gICAgICBsaXN0ZW5lcnNPZlR5cGUuc3BsaWNlKGxpc3RlbmVySW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBhdHRhY2hlZCBldmVudCBsaXN0ZW5lcnMuXG4gICAqL1xuICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcbiAgICB0aGlzLmF0dGFjaGVkTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyc09mVHlwZSwgdHlwZSkgPT4ge1xuICAgICAgbGlzdGVuZXJzT2ZUeXBlLmZvckVhY2goKFtlbGVtZW50LCBsaXN0ZW5lciwgb3B0aW9uc10pID0+IHtcbiAgICAgICAgdGhpcy5vZmYoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5hdHRhY2hlZExpc3RlbmVycy5jbGVhcigpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBOYXZpZ2F0aW9uR3JvdXAgfSBmcm9tICcuL25hdmlnYXRpb25ncm91cCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBVSUNvbnRhaW5lciB9IGZyb20gJy4uL2NvbXBvbmVudHMvdWljb250YWluZXInO1xuaW1wb3J0IHsgQWN0aW9uLCBEaXJlY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBFeHRlbmRzIE5hdmlnYXRpb25Hcm91cCBhbmQgcHJvdmlkZXMgYWRkaXRpb25hbCBsb2dpYyBmb3IgaGlkaW5nIGFuZCBzaG93aW5nIHRoZSBVSSBvbiB0aGUgcm9vdCBjb250YWluZXIuXG4gKlxuICogQGNhdGVnb3J5IENvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFJvb3ROYXZpZ2F0aW9uR3JvdXAgZXh0ZW5kcyBOYXZpZ2F0aW9uR3JvdXAge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY29udGFpbmVyOiBVSUNvbnRhaW5lciwgLi4uZWxlbWVudHM6IENvbXBvbmVudDx1bmtub3duPltdKSB7XG4gICAgc3VwZXIoY29udGFpbmVyLCAuLi5lbGVtZW50cyk7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlQWN0aW9uKGFjdGlvbjogQWN0aW9uKSB7XG4gICAgdGhpcy5jb250YWluZXIuc2hvd1VpKCk7XG5cbiAgICBzdXBlci5oYW5kbGVBY3Rpb24oYWN0aW9uKTtcbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVOYXZpZ2F0aW9uKGRpcmVjdGlvbjogRGlyZWN0aW9uKSB7XG4gICAgdGhpcy5jb250YWluZXIuc2hvd1VpKCk7XG5cbiAgICBzdXBlci5oYW5kbGVOYXZpZ2F0aW9uKGRpcmVjdGlvbik7XG4gIH1cblxuICBwcm90ZWN0ZWQgZGVmYXVsdEFjdGlvbkhhbmRsZXIoYWN0aW9uOiBBY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoYWN0aW9uID09PSBBY3Rpb24uQkFDSykge1xuICAgICAgdGhpcy5jb250YWluZXIuaGlkZVVpKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLmRlZmF1bHRBY3Rpb25IYW5kbGVyKGFjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgc3VwZXIucmVsZWFzZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBSb290TmF2aWdhdGlvbkdyb3VwIH0gZnJvbSAnLi9yb290bmF2aWdhdGlvbmdyb3VwJztcbmltcG9ydCB7IE5vZGVFdmVudFN1YnNjcmliZXIgfSBmcm9tICcuL25vZGVldmVudHN1YnNjcmliZXInO1xuaW1wb3J0IHsgQWN0aW9uLCBEaXJlY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7Z2V0Qm91bmRpbmdSZWN0RnJvbUVsZW1lbnR9IGZyb20gJy4vbmF2aWdhdGlvbmFsZ29yaXRobSc7XG5cbmNvbnN0IERlZmF1bHRTY3J1YlNwZWVkUGVyY2VudGFnZSA9IDAuMDA1O1xuY29uc3QgU2NydWJTcGVlZENsZWFySW50ZXJ2YWwgPSAxMDA7XG5jb25zdCBTY3J1YlNwZWVkTXVsdGlwbGllciA9IDEuMTtcblxuLyoqXG4gKiBIYW5kbGVzIFNwYXRpYWwgTmF2aWdhdGlvbiBpbnRlcmFjdGlvbiB3aXRoIHRoZSBzZWVrIGJhci4gRW5zdXJlcywgdGhhdCBzZWVrIG9wZXJhdGlvbnMgY2FuIGJlIGV4ZWN1dGVkIGFuZCB0aGF0IHRoZVxuICogc2NydWJiaW5nIHRvb2x0aXAgaXMgc2hvd24gYXMgaWYgdGhlIHVzZXIgc2NydWJiZWQgdXNpbmcgdGhlIG1vdXNlL3RvdWNoc2NyZWVuLlxuICovXG5leHBvcnQgY2xhc3MgU2Vla0JhckhhbmRsZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGN1cnNvclBvc2l0aW9uID0geyB4OiAwLCB5OiAwfTtcbiAgcHJpdmF0ZSByZWFkb25seSBldmVudFN1YnNjcmliZXI6IE5vZGVFdmVudFN1YnNjcmliZXI7XG4gIHByaXZhdGUgaXNTY3J1YmJpbmcgPSBmYWxzZTtcbiAgcHJpdmF0ZSBzY3J1YlNwZWVkUmVzZXRUaW1lb3V0OiBudW1iZXI7XG4gIHByaXZhdGUgc2NydWJTcGVlZFBlcmNlbnRhZ2UgPSBEZWZhdWx0U2NydWJTcGVlZFBlcmNlbnRhZ2U7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSByb290TmF2aWdhdGlvbkdyb3VwOiBSb290TmF2aWdhdGlvbkdyb3VwKSB7XG4gICAgdGhpcy5yb290TmF2aWdhdGlvbkdyb3VwLm9uQWN0aW9uID0gdGhpcy5vbkFjdGlvbjtcbiAgICB0aGlzLmV2ZW50U3Vic2NyaWJlciA9IG5ldyBOb2RlRXZlbnRTdWJzY3JpYmVyKCk7XG4gICAgdGhpcy5yb290TmF2aWdhdGlvbkdyb3VwLm9uTmF2aWdhdGlvbiA9IHRoaXMub25OYXZpZ2F0aW9uO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVTY3J1YlNwZWVkUGVyY2VudGFnZSgpOiB2b2lkIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5zY3J1YlNwZWVkUmVzZXRUaW1lb3V0KTtcbiAgICB0aGlzLnNjcnViU3BlZWRQZXJjZW50YWdlICo9IFNjcnViU3BlZWRNdWx0aXBsaWVyO1xuICAgIHRoaXMuc2NydWJTcGVlZFJlc2V0VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KFxuICAgICAgKCkgPT4gdGhpcy5zY3J1YlNwZWVkUGVyY2VudGFnZSA9IERlZmF1bHRTY3J1YlNwZWVkUGVyY2VudGFnZSwgU2NydWJTcGVlZENsZWFySW50ZXJ2YWwsXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0SW5jcmVtZW50KGRpcmVjdGlvbjogRGlyZWN0aW9uLCBzZWVrQmFyV3JhcHBlcjogSFRNTEVsZW1lbnQpOiBudW1iZXIge1xuICAgIHRoaXMudXBkYXRlU2NydWJTcGVlZFBlcmNlbnRhZ2UoKTtcblxuICAgIGNvbnN0IHNlZWtCYXJXaWR0aCA9IHNlZWtCYXJXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgIGNvbnN0IGluY3JlbWVudCA9IHNlZWtCYXJXaWR0aCAqIHRoaXMuc2NydWJTcGVlZFBlcmNlbnRhZ2U7XG5cbiAgICByZXR1cm4gZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uUklHSFQgPyBpbmNyZW1lbnQgOiAtaW5jcmVtZW50O1xuICB9XG5cbiAgcHJpdmF0ZSByZXNldEN1cnNvclBvc2l0aW9uKCk6IHZvaWQge1xuICAgIHRoaXMuY3Vyc29yUG9zaXRpb24ueCA9IDA7XG4gICAgdGhpcy5jdXJzb3JQb3NpdGlvbi55ID0gMDtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQ3Vyc29yUG9zaXRpb24oZGlyZWN0aW9uOiBEaXJlY3Rpb24sIHNlZWtCYXJXcmFwcGVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIHRoaXMuY3Vyc29yUG9zaXRpb24ueCArPSB0aGlzLmdldEluY3JlbWVudChkaXJlY3Rpb24sIHNlZWtCYXJXcmFwcGVyKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUN1cnNvclBvc2l0aW9uKHNlZWtCYXJXcmFwcGVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IHBsYXliYWNrUG9zaXRpb25NYXJrZXIgPSBnZXRQbGF5YmFja1Bvc2l0aW9uTWFya2VyKHNlZWtCYXJXcmFwcGVyKTtcbiAgICBjb25zdCByZWN0ID0gZ2V0Qm91bmRpbmdSZWN0RnJvbUVsZW1lbnQocGxheWJhY2tQb3NpdGlvbk1hcmtlcik7XG5cblxuICAgIGNvbnN0IHN0YXJ0WCA9IHJlY3QueCArIChyZWN0LndpZHRoIC8gMik7XG4gICAgY29uc3Qgc3RhcnRZID0gcmVjdC55O1xuXG4gICAgdGhpcy5jdXJzb3JQb3NpdGlvbi54ID0gc3RhcnRYO1xuICAgIHRoaXMuY3Vyc29yUG9zaXRpb24ueSA9IHN0YXJ0WTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZU9yVXBkYXRlQ3Vyc29yUG9zaXRpb24oc2Vla0JhcldyYXBwZXI6IEhUTUxFbGVtZW50LCBkaXJlY3Rpb246IERpcmVjdGlvbik6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzU2NydWJiaW5nKSB7XG4gICAgICB0aGlzLnVwZGF0ZUN1cnNvclBvc2l0aW9uKGRpcmVjdGlvbiwgc2Vla0JhcldyYXBwZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRpYWxpemVDdXJzb3JQb3NpdGlvbihzZWVrQmFyV3JhcHBlcik7XG4gICAgfVxuXG4gICAgdGhpcy5pc1NjcnViYmluZyA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIGdldEN1cnNvclBvc2l0aW9uTW91c2VFdmVudEluaXQoKTogTW91c2VFdmVudEluaXQge1xuICAgIHJldHVybiB7XG4gICAgICBjbGllbnRYOiB0aGlzLmN1cnNvclBvc2l0aW9uLngsXG4gICAgICBjbGllbnRZOiB0aGlzLmN1cnNvclBvc2l0aW9uLnksXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZGlzcGF0Y2hNb3VzZU1vdmVFdmVudChzZWVrQmFyOiBFbGVtZW50KTogdm9pZCB7XG4gICAgc2Vla0Jhci5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdtb3VzZW1vdmUnLCB0aGlzLmdldEN1cnNvclBvc2l0aW9uTW91c2VFdmVudEluaXQoKSkpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWFkb25seSBvbk5hdmlnYXRpb24gPSAoZGlyZWN0aW9uOiBEaXJlY3Rpb24sIHRhcmdldDogSFRNTEVsZW1lbnQsIHByZXZlbnREZWZhdWx0OiAoKSA9PiB2b2lkKTogdm9pZCA9PiB7XG4gICAgaWYgKCFpc1NlZWtCYXJXcmFwcGVyKHRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uVVAgfHwgZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uRE9XTikge1xuICAgICAgdGhpcy5zdG9wU2Vla2luZyhnZXRTZWVrQmFyKHRhcmdldCkpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pbml0aWFsaXplT3JVcGRhdGVDdXJzb3JQb3NpdGlvbih0YXJnZXQsIGRpcmVjdGlvbik7XG4gICAgdGhpcy5kaXNwYXRjaE1vdXNlTW92ZUV2ZW50KGdldFNlZWtCYXIodGFyZ2V0KSk7XG5cbiAgICBwcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHByaXZhdGUgZGlzcGF0Y2hNb3VzZUNsaWNrRXZlbnQoc2Vla0JhcjogRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IG1vdXNlRG93bkhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBtb3VzZUV2ZW50SW5pdCA9IHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb25Nb3VzZUV2ZW50SW5pdCgpO1xuXG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdtb3VzZXVwJywgbW91c2VFdmVudEluaXQpKTtcbiAgICAgIHRoaXMuZXZlbnRTdWJzY3JpYmVyLm9mZihzZWVrQmFyLCAnbW91c2Vkb3duJywgbW91c2VEb3duSGFuZGxlcik7XG4gICAgICB0aGlzLnN0b3BTZWVraW5nKHNlZWtCYXIpO1xuICAgIH07XG5cbiAgICB0aGlzLmV2ZW50U3Vic2NyaWJlci5vbihzZWVrQmFyLCAnbW91c2Vkb3duJywgbW91c2VEb3duSGFuZGxlcik7XG4gICAgc2Vla0Jhci5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdtb3VzZWRvd24nKSk7XG4gIH1cblxuICBwcml2YXRlIHN0b3BTZWVraW5nKHNlZWtCYXI6IEVsZW1lbnQpOiB2b2lkIHtcbiAgICB0aGlzLnJlc2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB0aGlzLmlzU2NydWJiaW5nID0gZmFsc2U7XG4gICAgdGhpcy5kaXNwYXRjaE1vdXNlTGVhdmVFdmVudChzZWVrQmFyKTtcbiAgfVxuXG4gIHByaXZhdGUgZGlzcGF0Y2hNb3VzZUxlYXZlRXZlbnQoc2Vla0JhcjogRWxlbWVudCk6IHZvaWQge1xuICAgIHNlZWtCYXIuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnbW91c2VsZWF2ZScpKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVhZG9ubHkgb25BY3Rpb24gPSAoYWN0aW9uOiBBY3Rpb24sIHRhcmdldDogSFRNTEVsZW1lbnQsIHByZXZlbnREZWZhdWx0OiAoKSA9PiB2b2lkKTogdm9pZCA9PiB7XG4gICAgaWYgKCFpc1NlZWtCYXJXcmFwcGVyKHRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzZWVrQmFyID0gZ2V0U2Vla0Jhcih0YXJnZXQpO1xuXG4gICAgaWYgKGFjdGlvbiA9PT0gQWN0aW9uLlNFTEVDVCAmJiB0aGlzLmlzU2NydWJiaW5nKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoTW91c2VDbGlja0V2ZW50KHNlZWtCYXIpO1xuICAgICAgcHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gQWN0aW9uLkJBQ0spIHtcbiAgICAgIHRoaXMuc3RvcFNlZWtpbmcoc2Vla0Jhcik7XG4gICAgICBwcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVsZWFzZXMgdGhlIFNlZWtCcmFIYW5kbGVyLCBtYWtpbmcgc3VyZSBhbGwgZXZlbnQgc3Vic2NyaWJlcnMgYXJlIHJlbW92ZWQuXG4gICAqL1xuICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcbiAgICB0aGlzLmV2ZW50U3Vic2NyaWJlci5yZWxlYXNlKCk7XG4gICAgdGhpcy5yb290TmF2aWdhdGlvbkdyb3VwLm9uQWN0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucm9vdE5hdmlnYXRpb25Hcm91cC5vbk5hdmlnYXRpb24gPSB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTZWVrQmFyV3JhcHBlcihlbGVtZW50OiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICByZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50LmNsYXNzTGlzdCkuZmluZEluZGV4KGNsYXNzTmFtZSA9PiAvLXVpLXNlZWtiYXIkLy50ZXN0KGNsYXNzTmFtZSkpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGdldFNlZWtCYXIoc2Vla0JhcldyYXBwZXI6IEhUTUxFbGVtZW50KTogRWxlbWVudCB7XG4gIHJldHVybiBzZWVrQmFyV3JhcHBlci5jaGlsZHJlbi5pdGVtKDApO1xufVxuXG5mdW5jdGlvbiBnZXRQbGF5YmFja1Bvc2l0aW9uTWFya2VyKHNlZWtCYXJXcmFwcGVyOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50IHtcbiAgcmV0dXJuIHNlZWtCYXJXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9XCJzZWVrYmFyLXBsYXliYWNrcG9zaXRpb24tbWFya2VyXCJdJyk7XG59XG4iLCJpbXBvcnQgeyBOYXZpZ2F0aW9uR3JvdXAgfSBmcm9tICcuL25hdmlnYXRpb25ncm91cCc7XG5pbXBvcnQgeyBSb290TmF2aWdhdGlvbkdyb3VwIH0gZnJvbSAnLi9yb290bmF2aWdhdGlvbmdyb3VwJztcbmltcG9ydCB7IE5vZGVFdmVudFN1YnNjcmliZXIgfSBmcm9tICcuL25vZGVldmVudHN1YnNjcmliZXInO1xuaW1wb3J0IHsgU2Vla0JhckhhbmRsZXIgfSBmcm9tICcuL3NlZWtiYXJoYW5kbGVyJztcbmltcG9ydCB7IGdldEtleU1hcEZvclBsYXRmb3JtIH0gZnJvbSAnLi9rZXltYXAnO1xuaW1wb3J0IHsgQWN0aW9uLCBEaXJlY3Rpb24sIEtleU1hcCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgaXNBY3Rpb24sIGlzRGlyZWN0aW9uIH0gZnJvbSAnLi90eXBlZ3VhcmRzJztcblxuLyoqXG4gKiBTcGF0aWFsTmF2aWdhdGlvbiBrZWVwcyB0cmFjayBvZiBhbGwgbmF2aWdhdGlvbiBncm91cHMsIGFuZCB1cGRhdGVzIHRoZSBhY3RpdmUgbmF2aWdhdGlvbiBncm91cCB3aGVuIHZpc2liaWxpdHlcbiAqIGNoYW5nZXMgb24gZ3JvdXAgY29udGFpbmVyLlxuICpcbiAqIEl0IGxpc3RlbnMgdG8ga2V5IGV2ZW50cywgYW5kIHRyaWdnZXJzIGVpdGhlciBoYW5kbGVOYXZpZ2F0aW9uIG9yIGhhbmRsZUFjdGlvbiBvbiB0aGUgYWN0aXZlIGdyb3VwLlxuICogU2Vla0JhckhhbmRsZXIgd2lsbCBnZXQgaW5zdGFudGlhdGVkIHdpdGggcm9vdCBuYXZpZ2F0aW9uIGdyb3VwIGFuZCBkaXNwb3NlZCBvbiByZWxlYXNlIG9mIHRoZSBzcGF0aWFsIG5hdmlnYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBTcGF0aWFsTmF2aWdhdGlvbiB7XG4gIHByaXZhdGUgdW5zdWJzY3JpYmVWaXNpYmlsaXR5Q2hhbmdlc0ZuczogKCgpID0+IHZvaWQpW107XG4gIHByaXZhdGUgcmVhZG9ubHkgbmF2aWdhdGlvbkdyb3VwczogTmF2aWdhdGlvbkdyb3VwW10gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBhY3RpdmVOYXZpZ2F0aW9uR3JvdXBzOiBOYXZpZ2F0aW9uR3JvdXBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBldmVudFN1YnNjcmliZXI6IE5vZGVFdmVudFN1YnNjcmliZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgc2Vla0JhckhhbmRsZXI6IFNlZWtCYXJIYW5kbGVyO1xuICBwcml2YXRlIHJlYWRvbmx5IGtleU1hcDogS2V5TWFwO1xuXG4gIGNvbnN0cnVjdG9yKHJvb3ROYXZpZ2F0aW9uR3JvdXA6IFJvb3ROYXZpZ2F0aW9uR3JvdXAsIC4uLm5hdmlnYXRpb25Hcm91cHM6IE5hdmlnYXRpb25Hcm91cFtdKSB7XG4gICAgdGhpcy5zZWVrQmFySGFuZGxlciA9IG5ldyBTZWVrQmFySGFuZGxlcihyb290TmF2aWdhdGlvbkdyb3VwKTtcblxuICAgIHRoaXMuYWN0aXZlTmF2aWdhdGlvbkdyb3VwcyA9IFtdO1xuICAgIHRoaXMudW5zdWJzY3JpYmVWaXNpYmlsaXR5Q2hhbmdlc0ZucyA9IFtdO1xuICAgIHRoaXMuZXZlbnRTdWJzY3JpYmVyID0gbmV3IE5vZGVFdmVudFN1YnNjcmliZXIoKTtcbiAgICB0aGlzLm5hdmlnYXRpb25Hcm91cHMgPSBbcm9vdE5hdmlnYXRpb25Hcm91cCwgLi4ubmF2aWdhdGlvbkdyb3Vwc107XG4gICAgdGhpcy5rZXlNYXAgPSBnZXRLZXlNYXBGb3JQbGF0Zm9ybSgpO1xuXG4gICAgdGhpcy5zdWJzY3JpYmVUb05hdmlnYXRpb25Hcm91cFZpc2liaWxpdHlDaGFuZ2VzKCk7XG4gICAgdGhpcy5hdHRhY2hLZXlFdmVudEhhbmRsZXIoKTtcbiAgICB0aGlzLmVuYWJsZURlZmF1bHROYXZpZ2F0aW9uR3JvdXAoKTtcbiAgfVxuXG4gIHByaXZhdGUgYXR0YWNoS2V5RXZlbnRIYW5kbGVyKCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRTdWJzY3JpYmVyLm9uKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RXZlbnQsIHRydWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBvblNob3cgPSAoZ3JvdXA6IE5hdmlnYXRpb25Hcm91cCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuYWN0aXZlTmF2aWdhdGlvbkdyb3Vwcy5wdXNoKGdyb3VwKTtcbiAgICB0aGlzLnVwZGF0ZUVuYWJsZWROYXZpZ2F0aW9uR3JvdXAoKTtcbiAgfTtcblxuICBwcml2YXRlIG9uSGlkZSA9IChncm91cDogTmF2aWdhdGlvbkdyb3VwKTogdm9pZCA9PiB7XG4gICAgY29uc3QgZ3JvdXBJbmRleCA9IHRoaXMuYWN0aXZlTmF2aWdhdGlvbkdyb3Vwcy5maW5kSW5kZXgob3RoZXIgPT4gb3RoZXIgPT09IGdyb3VwKTtcblxuICAgIGlmIChncm91cEluZGV4ID4gLTEpIHtcbiAgICAgIGdyb3VwLmRpc2FibGUoKTtcbiAgICAgIHRoaXMuYWN0aXZlTmF2aWdhdGlvbkdyb3Vwcy5zcGxpY2UoZ3JvdXBJbmRleCwgMSk7XG4gICAgICB0aGlzLnVwZGF0ZUVuYWJsZWROYXZpZ2F0aW9uR3JvdXAoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZXMgdG8gb25IaWRlIGFuZCBvblNob3cgb24gYWxsIG5hdmlnYXRpb24gZ3JvdXBzIGNvbnRhaW5lcnMgYXMgU3BhdGlhbCBuYXZpZ2F0aW9uIHRyYWNrcyBhY3RpdmUgbmF2aWdhdGlvblxuICAgKiBncm91cCBiYXNlZCBvbiB0aGVpciBjb250YWluZXIgdmlzaWJpbGl0eS5cbiAgICovXG4gIHByaXZhdGUgc3Vic2NyaWJlVG9OYXZpZ2F0aW9uR3JvdXBWaXNpYmlsaXR5Q2hhbmdlcygpOiB2b2lkIHtcbiAgICB0aGlzLm5hdmlnYXRpb25Hcm91cHMuZm9yRWFjaChncm91cCA9PiB7XG4gICAgICBjb25zdCBvblNob3dIYW5kbGVyID0gKCkgPT4gdGhpcy5vblNob3coZ3JvdXApO1xuICAgICAgY29uc3Qgb25IaWRlSGFuZGxlciA9ICgpID0+IHRoaXMub25IaWRlKGdyb3VwKTtcblxuICAgICAgZ3JvdXAuY29udGFpbmVyLm9uU2hvdy5zdWJzY3JpYmUob25TaG93SGFuZGxlcik7XG4gICAgICBncm91cC5jb250YWluZXIub25IaWRlLnN1YnNjcmliZShvbkhpZGVIYW5kbGVyKTtcblxuICAgICAgdGhpcy51bnN1YnNjcmliZVZpc2liaWxpdHlDaGFuZ2VzRm5zLnB1c2goXG4gICAgICAgICgpID0+IGdyb3VwLmNvbnRhaW5lci5vblNob3cudW5zdWJzY3JpYmUob25TaG93SGFuZGxlciksXG4gICAgICAgICgpID0+IGdyb3VwLmNvbnRhaW5lci5vbkhpZGUudW5zdWJzY3JpYmUob25IaWRlSGFuZGxlciksXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnN1YnNjcmliZUZyb21OYXZpZ2F0aW9uR3JvdXBWaXNpYmlsaXR5Q2hhbmdlcygpOiB2b2lkIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlVmlzaWJpbGl0eUNoYW5nZXNGbnMuZm9yRWFjaCh1bnN1YiA9PiB1bnN1YigpKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlVmlzaWJpbGl0eUNoYW5nZXNGbnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJdCB3aWxsIGVuYWJsZSBncm91cCBvZiB3aGljaCBjb250YWluZXIgaXMgY3VycmVudGx5IHNob3duXG4gICAqIElmIHRoZXJlIGFyZSBubyBncm91cHMgd2l0aCBjb250YWluZXJzIHRoYXQgYXJlIGN1cnJlbnRseSB2aXNpYmxlLCBpdCB3aWxsIGVuYWJsZSByb290IG5hdmlnYXRpb24gZ3JvdXBcbiAgICovXG4gIHByaXZhdGUgZW5hYmxlRGVmYXVsdE5hdmlnYXRpb25Hcm91cCgpOiB2b2lkIHtcbiAgICBjb25zdCBpc1Nob3duID0gKGdyb3VwOiBOYXZpZ2F0aW9uR3JvdXApID0+IGdyb3VwLmNvbnRhaW5lci5pc1Nob3duKCk7XG4gICAgY29uc3QgZ3JvdXBUb0VuYWJsZSA9IHRoaXMubmF2aWdhdGlvbkdyb3Vwcy5maW5kKGlzU2hvd24pID8/IHRoaXMubmF2aWdhdGlvbkdyb3Vwc1swXTtcblxuICAgIGlmIChncm91cFRvRW5hYmxlKSB7XG4gICAgICB0aGlzLmFjdGl2ZU5hdmlnYXRpb25Hcm91cHMucHVzaChncm91cFRvRW5hYmxlKTtcbiAgICAgIHRoaXMudXBkYXRlRW5hYmxlZE5hdmlnYXRpb25Hcm91cCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBuYXZpZ2F0aW9uIGdyb3VwcyB0aGF0IGFyZSBubyBsb25nZXIgYWN0aXZlIGFuZCBjYWxscyBlbmFibGUgb24gbGFzdCBwdXNoZWQgbmF2aWdhdGlvbiBncm91cFxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVFbmFibGVkTmF2aWdhdGlvbkdyb3VwKCk6IHZvaWQge1xuICAgIHRoaXMuYWN0aXZlTmF2aWdhdGlvbkdyb3Vwcy5mb3JFYWNoKChncm91cCwgaWR4KSA9PiB7XG4gICAgICBpZiAoaWR4IDwgdGhpcy5hY3RpdmVOYXZpZ2F0aW9uR3JvdXBzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgZ3JvdXAuZGlzYWJsZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ3JvdXAuZW5hYmxlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBjdXJyZW50bHkgYWN0aXZlIG5hdmlnYXRpb24gZ3JvdXBcbiAgICovXG4gIHB1YmxpYyBnZXRBY3RpdmVOYXZpZ2F0aW9uR3JvdXAoKTogTmF2aWdhdGlvbkdyb3VwIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVOYXZpZ2F0aW9uR3JvdXBzW3RoaXMuYWN0aXZlTmF2aWdhdGlvbkdyb3Vwcy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYga2V5Ym9hcmQgZXZlbnQga2V5Y29kZSBpcyB0cmFja2VkIGVpdGhlciBhcyBEaXJlY3Rpb24gb3IgQWN0aW9uIGFuZCBjYWxscyBhcHByb3ByaWF0ZSBoYW5kbGVyIG9uIGFjdGl2ZVxuICAgKiBuYXZpZ2F0aW9uIGdyb3VwXG4gICAqXG4gICAqIEBwYXJhbSBlIHtLZXlib2FyZEV2ZW50fVxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVLZXlFdmVudCA9IChlOiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgY29uc3QgZXZlbnQ6IERpcmVjdGlvbiB8IEFjdGlvbiB8IHVuZGVmaW5lZCA9IHRoaXMua2V5TWFwW2dldEtleUNvZGUoZSldO1xuXG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5nZXRBY3RpdmVOYXZpZ2F0aW9uR3JvdXAoKTtcbiAgICBpZiAoIWFjdGl2ZSB8fCAhYWN0aXZlLmNvbnRhaW5lciB8fCBhY3RpdmUuY29udGFpbmVyLmlzSGlkZGVuKCkgfHwgYWN0aXZlLmNvbnRhaW5lci5pc0Rpc2FibGVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXJlY3Rpb24oZXZlbnQpKSB7XG4gICAgICBhY3RpdmUuaGFuZGxlTmF2aWdhdGlvbihldmVudCk7XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICAgIGlmIChpc0FjdGlvbihldmVudCkpIHtcbiAgICAgIGFjdGl2ZS5oYW5kbGVBY3Rpb24oZXZlbnQpO1xuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGlzcG9zZSBvZiBTcGF0aWFsTmF2aWdhdGlvblxuICAgKlxuICAgKiBSZW1vdmUgYWxsIGV2ZW50IGhhbmRsZXJzLCByZWxlYXNlIHNlZWtiYXIgaGFuZGxlciBhbmQgcmVsZWFzZSBhbGwgbmF2aWdhdGlvbiBncm91cHMuXG4gICAqL1xuICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlRnJvbU5hdmlnYXRpb25Hcm91cFZpc2liaWxpdHlDaGFuZ2VzKCk7XG4gICAgdGhpcy5ldmVudFN1YnNjcmliZXIucmVsZWFzZSgpO1xuICAgIHRoaXMubmF2aWdhdGlvbkdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IGdyb3VwLnJlbGVhc2UoKSk7XG4gICAgdGhpcy5zZWVrQmFySGFuZGxlci5yZWxlYXNlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0S2V5Q29kZShldmVudDogS2V5Ym9hcmRFdmVudCk6IG51bWJlciB7XG4gIHJldHVybiBldmVudC5rZXlDb2RlO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb21wb25lbnQnO1xuaW1wb3J0IHsgU2V0dGluZ3NQYW5lbCB9IGZyb20gJy4uL2NvbXBvbmVudHMvc2V0dGluZ3NwYW5lbCc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbnRhaW5lcic7XG5pbXBvcnQgeyBMaXN0Qm94IH0gZnJvbSAnLi4vY29tcG9uZW50cy9saXN0Ym94JztcbmltcG9ydCB7IEFjdGlvbiwgRGlyZWN0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NldHRpbmdzUGFuZWwoY29tcG9uZW50OiBDb21wb25lbnQ8dW5rbm93bj4pOiBjb21wb25lbnQgaXMgU2V0dGluZ3NQYW5lbCB7XG4gIHJldHVybiBjb21wb25lbnQgaW5zdGFuY2VvZiBTZXR0aW5nc1BhbmVsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb21wb25lbnQob2JqOiB1bmtub3duKTogb2JqIGlzIENvbXBvbmVudDx1bmtub3duPiB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgb2JqICE9PSB1bmRlZmluZWQgJiYgb2JqIGluc3RhbmNlb2YgQ29tcG9uZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb250YWluZXIob2JqOiB1bmtub3duKTogb2JqIGlzIENvbnRhaW5lcjx1bmtub3duPiB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgb2JqICE9PSB1bmRlZmluZWQgJiYgb2JqIGluc3RhbmNlb2YgQ29udGFpbmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNMaXN0Qm94KG9iajogdW5rbm93bik6IG9iaiBpcyBMaXN0Qm94IHtcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIExpc3RCb3g7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RpcmVjdGlvbihkaXJlY3Rpb246IHVua25vd24pOiBkaXJlY3Rpb24gaXMgRGlyZWN0aW9uIHtcbiAgcmV0dXJuIHR5cGVvZiBkaXJlY3Rpb24gPT09ICdzdHJpbmcnICYmIE9iamVjdC52YWx1ZXM8c3RyaW5nPihEaXJlY3Rpb24pLmluY2x1ZGVzKGRpcmVjdGlvbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FjdGlvbihhY3Rpb246IHVua25vd24pOiBhY3Rpb24gaXMgQWN0aW9uIHtcbiAgcmV0dXJuIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICYmIE9iamVjdC52YWx1ZXM8c3RyaW5nPihBY3Rpb24pLmluY2x1ZGVzKGFjdGlvbik7XG59XG4iLCJleHBvcnQgdHlwZSBDYWxsYmFjazxUPiA9IChkYXRhOiBULCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBwcmV2ZW50RGVmYXVsdDogKCkgPT4gdm9pZCkgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIE5hdmlnYXRpb25DYWxsYmFjayA9IENhbGxiYWNrPERpcmVjdGlvbj47XG5leHBvcnQgdHlwZSBBY3Rpb25DYWxsYmFjayA9IENhbGxiYWNrPEFjdGlvbj47XG5leHBvcnQgdHlwZSBLZXlNYXAgPSB7XG4gIFtrZXlDb2RlOiBudW1iZXJdOiBBY3Rpb24gfCBEaXJlY3Rpb247XG59O1xuXG5leHBvcnQgZW51bSBEaXJlY3Rpb24ge1xuICBVUCA9ICd1cCcsXG4gIERPV04gPSAnZG93bicsXG4gIExFRlQgPSAnbGVmdCcsXG4gIFJJR0hUID0gJ3JpZ2h0Jyxcbn1cblxuZXhwb3J0IGVudW0gQWN0aW9uIHtcbiAgU0VMRUNUID0gJ3NlbGVjdCcsXG4gIEJBQ0sgPSAnYmFjaycsXG59XG4iLCJpbXBvcnQgeyBVSUNvbmZpZyB9IGZyb20gJy4vdWljb25maWcnO1xuXG4vKipcbiAqIEBjYXRlZ29yeSBVdGlsc1xuICovXG5leHBvcnQgbmFtZXNwYWNlIFN0b3JhZ2VVdGlscyB7XG4gbGV0IGRpc2FibGVTdG9yYWdlQXBpOiBib29sZWFuO1xuXG4gIGV4cG9ydCBmdW5jdGlvbiBzZXRTdG9yYWdlQXBpRGlzYWJsZWQodWlDb25maWc6IFVJQ29uZmlnKSB7XG4gICAgZGlzYWJsZVN0b3JhZ2VBcGkgPSB1aUNvbmZpZy5kaXNhYmxlU3RvcmFnZUFwaTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZFVzZUxvY2FsU3RvcmFnZSgpOiBib29sZWFuIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgIWRpc2FibGVTdG9yYWdlQXBpICYmXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UgJiZcbiAgICAgICAgdHlwZW9mIGxvY2FsU3RvcmFnZS5nZXRJdGVtID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHR5cGVvZiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlcyBhIHN0cmluZyBpdGVtIGludG8gbG9jYWxTdG9yYWdlLlxuICAgKiBAcGFyYW0ga2V5IHRoZSBpdGVtJ3Mga2V5XG4gICAqIEBwYXJhbSBkYXRhIHRoZSBpdGVtJ3MgZGF0YVxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIHNldEl0ZW0oa2V5OiBzdHJpbmcsIGRhdGE6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChzaG91bGRVc2VMb2NhbFN0b3JhZ2UoKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoYEZhaWxlZCB0byBzZXQgc3RvcmFnZSBpdGVtICR7a2V5fWAsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFuIGl0ZW0ncyBzdHJpbmcgdmFsdWUgZnJvbSB0aGUgbG9jYWxTdG9yYWdlLlxuICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gbG9vayB1cCBpdHMgYXNzb2NpYXRlZCB2YWx1ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmcgfCBudWxsfSBSZXR1cm5zIHRoZSBzdHJpbmcgaWYgZm91bmQsIG51bGwgaWYgdGhlcmUgaXMgbm8gZGF0YSBzdG9yZWQgZm9yIHRoZSBrZXlcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKHNob3VsZFVzZUxvY2FsU3RvcmFnZSgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoYEZhaWxlZCB0byBnZXQgc3RvcmFnZSBpdGVtICR7a2V5fWAsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlcyBhbiBvYmplY3QgaW50byBsb2NhbFN0b3JhZ2UuIFRoZSBvYmplY3Qgd2lsbCBiZSBzZXJpYWxpemVkIHRvIEpTT04uIFRoZSBmb2xsb3dpbmcgdHlwZXMgYXJlIHN1cHBvcnRlZFxuICAgKiBpbiBhZGRpdGlvbiB0byB0aGUgZGVmYXVsdCB0eXBlczpcbiAgICogIC0gQ29sb3JVdGlscy5Db2xvclxuICAgKlxuICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gc3RvcmUgdGhlIGRhdGEgdG9cbiAgICogQHBhcmFtIGRhdGEgdGhlIG9iamVjdCB0byBzdG9yZVxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIHNldE9iamVjdDxUPihrZXk6IHN0cmluZywgZGF0YTogVCk6IHZvaWQge1xuICAgIGxldCBqc29uID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgc2V0SXRlbShrZXksIGpzb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gb2JqZWN0IGZvciB0aGUgZ2l2ZW4ga2V5IGZyb20gbG9jYWxTdG9yYWdlLiBUaGUgb2JqZWN0IHdpbGwgYmUgZGVzZXJpYWxpemVkIGZyb20gSlNPTi4gQmVzaWRlIHRoZVxuICAgKiBkZWZhdWx0IHR5cGVzLCB0aGUgZm9sbG93aW5nIHR5cGVzIGFyZSBzdXBwb3J0ZWQ6XG4gICAqICAtIENvbG9yVXRpbHMuQ29sb3JcbiAgICpcbiAgICogQHBhcmFtIGtleSB0aGUga2V5IHRvIGxvb2sgdXAgaXRzIGFzc29jaWF0ZWQgb2JqZWN0XG4gICAqIEByZXR1cm4ge2FueX0gUmV0dXJucyB0aGUgb2JqZWN0IGlmIGZvdW5kLCBudWxsIG90aGVyd2lzZVxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIGdldE9iamVjdDxUPihrZXk6IHN0cmluZyk6IFQgfCBudWxsIHtcbiAgICBsZXQganNvbiA9IGdldEl0ZW0oa2V5KTtcblxuICAgIGlmIChqc29uKSB7XG4gICAgICBsZXQgb2JqZWN0ID0gSlNPTi5wYXJzZShqc29uKTtcbiAgICAgIHJldHVybiA8VD5vYmplY3Q7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBZCwgTGluZWFyQWQsIFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi9sb2NhbGl6YXRpb24vaTE4bic7XG5cbi8qKlxuICogQGNhdGVnb3J5IFV0aWxzXG4gKi9cbmV4cG9ydCBuYW1lc3BhY2UgU3RyaW5nVXRpbHMge1xuXG4gIGV4cG9ydCBsZXQgRk9STUFUX0hITU1TUzogc3RyaW5nID0gJ2hoOm1tOnNzJztcbiAgZXhwb3J0IGxldCBGT1JNQVRfTU1TUzogc3RyaW5nID0gJ21tOnNzJztcblxuICAvKipcbiAgICogRm9ybWF0cyBhIG51bWJlciBvZiBzZWNvbmRzIGludG8gYSB0aW1lIHN0cmluZyB3aXRoIHRoZSBwYXR0ZXJuIGhoOm1tOnNzLlxuICAgKlxuICAgKiBAcGFyYW0gdG90YWxTZWNvbmRzIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2Vjb25kcyB0byBmb3JtYXQgdG8gc3RyaW5nXG4gICAqIEBwYXJhbSBmb3JtYXQgdGhlIHRpbWUgZm9ybWF0IHRvIG91dHB1dCAoZGVmYXVsdDogaGg6bW06c3MpXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBmb3JtYXR0ZWQgdGltZSBzdHJpbmdcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBzZWNvbmRzVG9UaW1lKHRvdGFsU2Vjb25kczogbnVtYmVyLCBmb3JtYXQ6IHN0cmluZyA9IEZPUk1BVF9ISE1NU1MpOiBzdHJpbmcge1xuICAgIGxldCBpc05lZ2F0aXZlID0gdG90YWxTZWNvbmRzIDwgMDtcblxuICAgIGlmIChpc05lZ2F0aXZlKSB7XG4gICAgICAvLyBJZiB0aGUgdGltZSBpcyBuZWdhdGl2ZSwgd2UgbWFrZSBpdCBwb3NpdGl2ZSBmb3IgdGhlIGNhbGN1bGF0aW9uIGJlbG93XG4gICAgICAvLyAoZWxzZSB3ZSdkIGdldCBhbGwgbmVnYXRpdmUgbnVtYmVycykgYW5kIHJlYXR0YWNoIHRoZSBuZWdhdGl2ZSBzaWduIGxhdGVyLlxuICAgICAgdG90YWxTZWNvbmRzID0gLXRvdGFsU2Vjb25kcztcbiAgICB9XG5cbiAgICAvLyBTcGxpdCBpbnRvIHNlcGFyYXRlIHRpbWUgcGFydHNcbiAgICBsZXQgaG91cnMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDM2MDApO1xuICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMgLyA2MCkgLSBob3VycyAqIDYwO1xuICAgIGxldCBzZWNvbmRzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMpICUgNjA7XG5cbiAgICByZXR1cm4gKGlzTmVnYXRpdmUgPyAnLScgOiAnJykgKyBmb3JtYXRcbiAgICAgICAgLnJlcGxhY2UoJ2hoJywgbGVmdFBhZFdpdGhaZXJvcyhob3VycywgMikpXG4gICAgICAgIC5yZXBsYWNlKCdtbScsIGxlZnRQYWRXaXRoWmVyb3MobWludXRlcywgMikpXG4gICAgICAgIC5yZXBsYWNlKCdzcycsIGxlZnRQYWRXaXRoWmVyb3Moc2Vjb25kcywgMikpO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIHNlY29uZHNUb1RleHQodG90YWxTZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGNvbnN0IGlzTmVnYXRpdmUgPSB0b3RhbFNlY29uZHMgPCAwO1xuXG4gICAgaWYgKGlzTmVnYXRpdmUpIHtcbiAgICAgIC8vIElmIHRoZSB0aW1lIGlzIG5lZ2F0aXZlLCB3ZSBtYWtlIGl0IHBvc2l0aXZlIGZvciB0aGUgY2FsY3VsYXRpb24gYmVsb3dcbiAgICAgIC8vIChlbHNlIHdlJ2QgZ2V0IGFsbCBuZWdhdGl2ZSBudW1iZXJzKSBhbmQgcmVhdHRhY2ggdGhlIG5lZ2F0aXZlIHNpZ24gbGF0ZXIuXG4gICAgICB0b3RhbFNlY29uZHMgPSAtdG90YWxTZWNvbmRzO1xuICAgIH1cblxuICAgIC8vIFNwbGl0IGludG8gc2VwYXJhdGUgdGltZSBwYXJ0c1xuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMgLyAzNjAwKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMgLyA2MCkgLSBob3VycyAqIDYwO1xuICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcykgJSA2MDtcblxuICAgIHJldHVybiAoaXNOZWdhdGl2ZSA/ICctJyA6ICcnKSArXG4gICAgKGhvdXJzICE9PSAwID8gYCR7bGVmdFBhZFdpdGhaZXJvcyhob3VycywgMil9ICR7aTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy50aW1lLmhvdXJzJykpfSBgIDogJycpICtcbiAgICAobWludXRlcyAhPT0gMCA/IGAke2xlZnRQYWRXaXRoWmVyb3MobWludXRlcywgMil9ICR7aTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy50aW1lLm1pbnV0ZXMnKSl9IGAgOiAnJykgK1xuICAgIGAke2xlZnRQYWRXaXRoWmVyb3Moc2Vjb25kcywgMil9ICR7aTE4bi5wZXJmb3JtTG9jYWxpemF0aW9uKGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy50aW1lLnNlY29uZHMnKSl9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIG51bWJlciB0byBhIHN0cmluZyBhbmQgbGVmdC1wYWRzIGl0IHdpdGggemVyb3MgdG8gdGhlIHNwZWNpZmllZCBsZW5ndGguXG4gICAqIEV4YW1wbGU6IGxlZnRQYWRXaXRoWmVyb3MoMTIzLCA1KSA9PiAnMDAxMjMnXG4gICAqXG4gICAqIEBwYXJhbSBudW0gdGhlIG51bWJlciB0byBjb252ZXJ0IHRvIHN0cmluZyBhbmQgcGFkIHdpdGggemVyb3NcbiAgICogQHBhcmFtIGxlbmd0aCB0aGUgZGVzaXJlZCBsZW5ndGggb2YgdGhlIHBhZGRlZCBzdHJpbmdcbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIHBhZGRlZCBudW1iZXIgYXMgc3RyaW5nXG4gICAqL1xuICBmdW5jdGlvbiBsZWZ0UGFkV2l0aFplcm9zKG51bTogbnVtYmVyIHwgc3RyaW5nLCBsZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XG4gICAgbGV0IHRleHQgPSBudW0gKyAnJztcbiAgICBsZXQgcGFkZGluZyA9ICcwMDAwMDAwMDAwJy5zdWJzdHIoMCwgbGVuZ3RoIC0gdGV4dC5sZW5ndGgpO1xuICAgIHJldHVybiBwYWRkaW5nICsgdGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWxscyBvdXQgcGxhY2Vob2xkZXJzIGluIGFuIGFkIG1lc3NhZ2UuXG4gICAqXG4gICAqIEhhcyB0aGUgcGxhY2Vob2xkZXJzICd7cmVtYWluaW5nVGltZVtmb3JtYXRTdHJpbmddfScsICd7cGxheWVkVGltZVtmb3JtYXRTdHJpbmddfScsXG4gICAqICd7YWREdXJhdGlvbltmb3JtYXRTdHJpbmddfScgYW5kIHthZEJyZWFrUmVtYWluaW5nVGltZVtmb3JtYXRTdHJpbmddfSwgd2hpY2ggYXJlIHJlcGxhY2VkIGJ5IHRoZSByZW1haW5pbmcgdGltZSB1bnRpbCB0aGUgYWQgY2FuIGJlIHNraXBwZWQsIHRoZSBjdXJyZW50XG4gICAqIHRpbWUgb3IgdGhlIGFkIGR1cmF0aW9uLiBUaGUgZm9ybWF0IHN0cmluZyBpcyBvcHRpb25hbC4gSWYgbm90IHNwZWNpZmllZCwgdGhlIHBsYWNlaG9sZGVyIGlzIHJlcGxhY2VkIGJ5IHRoZSB0aW1lXG4gICAqIGluIHNlY29uZHMuIElmIHNwZWNpZmllZCwgaXQgbXVzdCBiZSBvZiB0aGUgZm9sbG93aW5nIGZvcm1hdDpcbiAgICogLSAlZCAtIEluc2VydHMgdGhlIHRpbWUgYXMgYW4gaW50ZWdlci5cbiAgICogLSAlME5kIC0gSW5zZXJ0cyB0aGUgdGltZSBhcyBhbiBpbnRlZ2VyIHdpdGggbGVhZGluZyB6ZXJvZXMsIGlmIHRoZSBsZW5ndGggb2YgdGhlIHRpbWUgc3RyaW5nIGlzIHNtYWxsZXIgdGhhbiBOLlxuICAgKiAtICVmIC0gSW5zZXJ0cyB0aGUgdGltZSBhcyBhIGZsb2F0LlxuICAgKiAtICUwTmYgLSBJbnNlcnRzIHRoZSB0aW1lIGFzIGEgZmxvYXQgd2l0aCBsZWFkaW5nIHplcm9lcy5cbiAgICogLSAlLk1mIC0gSW5zZXJ0cyB0aGUgdGltZSBhcyBhIGZsb2F0IHdpdGggTSBkZWNpbWFsIHBsYWNlcy4gQ2FuIGJlIGNvbWJpbmVkIHdpdGggJTBOZiwgZS5nLiAlMDQuMmYgKHRoZSB0aW1lXG4gICAqIDEwLjEyMyB3b3VsZCBiZSBwcmludGVkIGFzIDAwMTAuMTIpLlxuICAgKiAtICVoaDptbTpzc1xuICAgKiAtICVtbTpzc1xuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICogLSB7IHRleHQ6ICdBZDoge3JlbWFpbmluZ1RpbWUlbW06c3N9IHNlY3MnIH1cbiAgICogQW4gaW5wdXQgdmFsdWUgb2YgMTAwIHdvdWxkIGJlIGRpc3BsYXllZCBhczogJ0FkOiAwMTo0MCBzZWNzJ1xuICAgKiAtIHsgdGV4dDogJ0FkOiB7cmVtYWluaW5nVGltZSVmfSBzZWNzJyB9XG4gICAqIEFuIGlucHV0IHZhbHVlIG9mIDEwMCB3b3VsZCBiZSBkaXNwbGF5ZWQgYXM6ICdBZDogMTAwLjAgc2VjcydcbiAgICogLSB7IHRleHQ6ICdBZGJyZWFrOiB7YWRCcmVha1JlbWFpbmluZ1RpbWUlZn0gc2VjcycgfVxuICAgKiBBZGJyZWFrIHdpdGggMiBhZHMgZWFjaCA1MCBzZWNvbmRzIHdvdWxkIGJlIGRpc3BsYXllZCBhczogJ0FkOiAxMDAuMCBzZWNzJ1xuICAgKlxuICAgKiBAcGFyYW0gYWRNZXNzYWdlIGFuIGFkIG1lc3NhZ2Ugd2l0aCBvcHRpb25hbCBwbGFjZWhvbGRlcnMgdG8gZmlsbFxuICAgKiBAcGFyYW0gc2tpcE9mZnNldCBpZiBzcGVjaWZpZWQsIHtyZW1haW5pbmdUaW1lfSB3aWxsIGJlIGZpbGxlZCB3aXRoIHRoZSByZW1haW5pbmcgdGltZSB1bnRpbCB0aGUgYWQgY2FuIGJlIHNraXBwZWRcbiAgICogQHBhcmFtIHBsYXllciB0aGUgcGxheWVyIHRvIGdldCB0aGUgdGltZSBkYXRhIGZyb21cbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGFkIG1lc3NhZ2Ugd2l0aCBmaWxsZWQgcGxhY2Vob2xkZXJzXG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gcmVwbGFjZUFkTWVzc2FnZVBsYWNlaG9sZGVycyhhZE1lc3NhZ2U6IHN0cmluZywgc2tpcE9mZnNldDogbnVtYmVyLCBwbGF5ZXI6IFBsYXllckFQSSkge1xuICAgIGxldCBhZE1lc3NhZ2VQbGFjZWhvbGRlclJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICdcXFxceyhyZW1haW5pbmdUaW1lfHBsYXllZFRpbWV8YWREdXJhdGlvbnxhZEJyZWFrUmVtYWluaW5nVGltZSkofXwlKCgwWzEtOV1cXFxcZCooXFxcXC5cXFxcZCsoZHxmKXxkfGYpfFxcXFwuXFxcXGQrZnxkfGYpfGhoOm1tOnNzfG1tOnNzKX0pJyxcbiAgICAgICdnJyxcbiAgICApO1xuXG4gICAgcmV0dXJuIGFkTWVzc2FnZS5yZXBsYWNlKGFkTWVzc2FnZVBsYWNlaG9sZGVyUmVnZXgsIChmb3JtYXRTdHJpbmcpID0+IHtcbiAgICAgIGxldCB0aW1lID0gMDtcbiAgICAgIGlmIChmb3JtYXRTdHJpbmcuaW5kZXhPZigncmVtYWluaW5nVGltZScpID4gLTEpIHtcbiAgICAgICAgaWYgKHNraXBPZmZzZXQpIHtcbiAgICAgICAgICB0aW1lID0gTWF0aC5jZWlsKHNraXBPZmZzZXQgLSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGltZSA9IHBsYXllci5nZXREdXJhdGlvbigpIC0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZm9ybWF0U3RyaW5nLmluZGV4T2YoJ3BsYXllZFRpbWUnKSA+IC0xKSB7XG4gICAgICAgIHRpbWUgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcbiAgICAgIH0gZWxzZSBpZiAoZm9ybWF0U3RyaW5nLmluZGV4T2YoJ2FkRHVyYXRpb24nKSA+IC0xKSB7XG4gICAgICAgIHRpbWUgPSBwbGF5ZXIuZ2V0RHVyYXRpb24oKTtcbiAgICAgIH0gZWxzZSBpZiAoZm9ybWF0U3RyaW5nLmluZGV4T2YoJ2FkQnJlYWtSZW1haW5pbmdUaW1lJykgPiAtMSkgeyAvLyBUbyBkaXNwbGF5IHRoZSByZW1haW5pbmcgdGltZSBpbiB0aGUgYWQgYnJlYWsgYXMgb3Bwb3NlZCB0byBpbiB0aGUgYWRcbiAgICAgICAgdGltZSA9IDA7XG5cbiAgICAgICAgLy8gY29tcHV0ZSBsaXN0IG9mIGFkcyBhbmQgY2FsY3VsYXRlIGR1cmF0aW9uIG9mIHJlbWFpbmluZyBhZHMgYmFzZWQgb24gaW5kZXggb2YgYWN0aXZlIGFkXG4gICAgICAgIGlmIChwbGF5ZXIuYWRzLmlzTGluZWFyQWRBY3RpdmUoKSkge1xuICAgICAgICAgIGNvbnN0IGlzQWN0aXZlQWQgPSAoYWQ6IEFkKSA9PiBwbGF5ZXIuYWRzLmdldEFjdGl2ZUFkKCkuaWQgPT09IGFkLmlkO1xuICAgICAgICAgIGNvbnN0IGluZGV4T2ZBY3RpdmVBZCA9IHBsYXllci5hZHMuZ2V0QWN0aXZlQWRCcmVhaygpLmFkcy5maW5kSW5kZXgoaXNBY3RpdmVBZCk7XG4gICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBwbGF5ZXIuYWRzLmdldEFjdGl2ZUFkQnJlYWsoKS5hZHNcbiAgICAgICAgICAuc2xpY2UoaW5kZXhPZkFjdGl2ZUFkKVxuICAgICAgICAgIC5yZWR1Y2UoKHRvdGFsLCBhZCkgPT4gdG90YWwgKyAoYWQuaXNMaW5lYXIgPyAoYWQgYXMgTGluZWFyQWQpLmR1cmF0aW9uIDogMCksIDApO1xuXG4gICAgICAgICAgLy8gQW5kIHJlbWFuaW5nIGFkcyBkdXJhdGlvbiBtaW51cyB0aW1lIHBsYXllZFxuICAgICAgICAgIHRpbWUgPSBkdXJhdGlvbiAtIHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3JtYXROdW1iZXIoTWF0aC5yb3VuZCh0aW1lKSwgZm9ybWF0U3RyaW5nKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdE51bWJlcih0aW1lOiBudW1iZXIsIGZvcm1hdDogc3RyaW5nKSB7XG4gICAgbGV0IGZvcm1hdFN0cmluZ1ZhbGlkYXRpb25SZWdleCA9IC8lKCgwWzEtOV1cXGQqKFxcLlxcZCsoZHxmKXxkfGYpfFxcLlxcZCtmfGR8Zil8aGg6bW06c3N8bW06c3MpLztcbiAgICBsZXQgbGVhZGluZ1plcm9lc1JlZ2V4ID0gLyglMFsxLTldXFxkKikoPz0oXFwuXFxkK2Z8ZnxkKSkvO1xuICAgIGxldCBkZWNpbWFsUGxhY2VzUmVnZXggPSAvXFwuXFxkKig/PWYpLztcblxuICAgIGlmICghZm9ybWF0U3RyaW5nVmFsaWRhdGlvblJlZ2V4LnRlc3QoZm9ybWF0KSkge1xuICAgICAgLy8gSWYgdGhlIGZvcm1hdCBpcyBpbnZhbGlkLCB3ZSBzZXQgYSBkZWZhdWx0IGZhbGxiYWNrIGZvcm1hdFxuICAgICAgZm9ybWF0ID0gJyVkJztcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zXG4gICAgbGV0IGxlYWRpbmdaZXJvZXMgPSAwO1xuICAgIGxldCBsZWFkaW5nWmVyb2VzTWF0Y2hlcyA9IGZvcm1hdC5tYXRjaChsZWFkaW5nWmVyb2VzUmVnZXgpO1xuICAgIGlmIChsZWFkaW5nWmVyb2VzTWF0Y2hlcykge1xuICAgICAgbGVhZGluZ1plcm9lcyA9IHBhcnNlSW50KGxlYWRpbmdaZXJvZXNNYXRjaGVzWzBdLnN1YnN0cmluZygyKSk7XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXNcbiAgICBsZXQgbnVtRGVjaW1hbFBsYWNlcyA9IG51bGw7XG4gICAgbGV0IGRlY2ltYWxQbGFjZXNNYXRjaGVzID0gZm9ybWF0Lm1hdGNoKGRlY2ltYWxQbGFjZXNSZWdleCk7XG4gICAgaWYgKGRlY2ltYWxQbGFjZXNNYXRjaGVzICYmICFpc05hTihwYXJzZUludChkZWNpbWFsUGxhY2VzTWF0Y2hlc1swXS5zdWJzdHJpbmcoMSkpKSkge1xuICAgICAgbnVtRGVjaW1hbFBsYWNlcyA9IHBhcnNlSW50KGRlY2ltYWxQbGFjZXNNYXRjaGVzWzBdLnN1YnN0cmluZygxKSk7XG4gICAgICBpZiAobnVtRGVjaW1hbFBsYWNlcyA+IDIwKSB7XG4gICAgICAgIG51bURlY2ltYWxQbGFjZXMgPSAyMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGbG9hdCBmb3JtYXRcbiAgICBpZiAoZm9ybWF0LmluZGV4T2YoJ2YnKSA+IC0xKSB7XG4gICAgICBsZXQgdGltZVN0cmluZyA9ICcnO1xuXG4gICAgICBpZiAobnVtRGVjaW1hbFBsYWNlcyAhPT0gbnVsbCkge1xuICAgICAgICAvLyBBcHBseSBmaXhlZCBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXNcbiAgICAgICAgdGltZVN0cmluZyA9IHRpbWUudG9GaXhlZChudW1EZWNpbWFsUGxhY2VzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpbWVTdHJpbmcgPSAnJyArIHRpbWU7XG4gICAgICB9XG5cbiAgICAgIC8vIEFwcGx5IGxlYWRpbmcgemVyb3NcbiAgICAgIGlmICh0aW1lU3RyaW5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBsZWZ0UGFkV2l0aFplcm9zKHRpbWVTdHJpbmcsIHRpbWVTdHJpbmcubGVuZ3RoICsgKGxlYWRpbmdaZXJvZXMgLSB0aW1lU3RyaW5nLmluZGV4T2YoJy4nKSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxlZnRQYWRXaXRoWmVyb3ModGltZVN0cmluZywgbGVhZGluZ1plcm9lcyk7XG4gICAgICB9XG5cbiAgICB9XG4gICAgLy8gVGltZSBmb3JtYXRcbiAgICBlbHNlIGlmIChmb3JtYXQuaW5kZXhPZignOicpID4gLTEpIHtcbiAgICAgIGxldCB0b3RhbFNlY29uZHMgPSBNYXRoLmNlaWwodGltZSk7XG5cbiAgICAgIC8vIGhoOm1tOnNzIGZvcm1hdFxuICAgICAgaWYgKGZvcm1hdC5pbmRleE9mKCdoaCcpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHNlY29uZHNUb1RpbWUodG90YWxTZWNvbmRzKTtcbiAgICAgIH1cbiAgICAgIC8vIG1tOnNzIGZvcm1hdFxuICAgICAgZWxzZSB7XG4gICAgICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMgLyA2MCk7XG4gICAgICAgIGxldCBzZWNvbmRzID0gdG90YWxTZWNvbmRzICUgNjA7XG5cbiAgICAgICAgcmV0dXJuIGxlZnRQYWRXaXRoWmVyb3MobWludXRlcywgMikgKyAnOicgKyBsZWZ0UGFkV2l0aFplcm9zKHNlY29uZHMsIDIpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBJbnRlZ2VyIGZvcm1hdFxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGxlZnRQYWRXaXRoWmVyb3MoTWF0aC5jZWlsKHRpbWUpLCBsZWFkaW5nWmVyb2VzKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IExpc3RJdGVtLCBMaXN0U2VsZWN0b3IsIExpc3RTZWxlY3RvckNvbmZpZyB9IGZyb20gJy4vY29tcG9uZW50cy9saXN0c2VsZWN0b3InO1xuaW1wb3J0IHsgVUlJbnN0YW5jZU1hbmFnZXIgfSBmcm9tICcuL3VpbWFuYWdlcic7XG5pbXBvcnQgeyBQbGF5ZXJBUEksIFN1YnRpdGxlRXZlbnQsIFN1YnRpdGxlVHJhY2sgfSBmcm9tICdiaXRtb3Zpbi1wbGF5ZXInO1xuaW1wb3J0IHsgaTE4biB9IGZyb20gJy4vbG9jYWxpemF0aW9uL2kxOG4nO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBoYW5kbGUgYWxsIHN1YnRpdGxlIHJlbGF0ZWQgZXZlbnRzXG4gKlxuICogVGhpcyBjbGFzcyBsaXN0ZW5zIHRvIHBsYXllciBldmVudHMgYXMgd2VsbCBhcyB0aGUgYExpc3RTZWxlY3RvcmAgZXZlbnQgaWYgc2VsZWN0aW9uIGNoYW5nZWRcbiAqXG4gKiBAY2F0ZWdvcnkgVXRpbHNcbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnRpdGxlU3dpdGNoSGFuZGxlciB7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgU1VCVElUTEVTX09GRl9LRVk6IHN0cmluZyA9ICdudWxsJztcblxuICBwcml2YXRlIHBsYXllcjogUGxheWVyQVBJO1xuICBwcml2YXRlIGxpc3RFbGVtZW50OiBMaXN0U2VsZWN0b3I8TGlzdFNlbGVjdG9yQ29uZmlnPjtcbiAgcHJpdmF0ZSB1aW1hbmFnZXI6IFVJSW5zdGFuY2VNYW5hZ2VyO1xuXG4gIGNvbnN0cnVjdG9yKHBsYXllcjogUGxheWVyQVBJLCBlbGVtZW50OiBMaXN0U2VsZWN0b3I8TGlzdFNlbGVjdG9yQ29uZmlnPiwgdWltYW5hZ2VyOiBVSUluc3RhbmNlTWFuYWdlcikge1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMubGlzdEVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMudWltYW5hZ2VyID0gdWltYW5hZ2VyO1xuXG4gICAgdGhpcy5iaW5kU2VsZWN0aW9uRXZlbnQoKTtcbiAgICB0aGlzLmJpbmRQbGF5ZXJFdmVudHMoKTtcbiAgICB0aGlzLnJlZnJlc2hTdWJ0aXRsZXMoKTtcbiAgfVxuXG4gIHByaXZhdGUgYmluZFNlbGVjdGlvbkV2ZW50KCk6IHZvaWQge1xuICAgIHRoaXMubGlzdEVsZW1lbnQub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKChfLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBtdWx0aXBsZSBjb25jdXJyZW50IHN1YnRpdGxlIHNlbGVjdGlvbnNcbiAgICAgIGlmICh2YWx1ZSA9PT0gU3VidGl0bGVTd2l0Y2hIYW5kbGVyLlNVQlRJVExFU19PRkZfS0VZKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdWJ0aXRsZSA9IHRoaXMucGxheWVyLnN1YnRpdGxlcy5saXN0KCkuZmlsdGVyKChzdWJ0aXRsZSkgPT4gc3VidGl0bGUuZW5hYmxlZCkucG9wKCk7XG4gICAgICAgIGlmIChjdXJyZW50U3VidGl0bGUpIHtcbiAgICAgICAgICB0aGlzLnBsYXllci5zdWJ0aXRsZXMuZGlzYWJsZShjdXJyZW50U3VidGl0bGUuaWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBsYXllci5zdWJ0aXRsZXMuZW5hYmxlKHZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYmluZFBsYXllckV2ZW50cygpOiB2b2lkIHtcbiAgICB0aGlzLnBsYXllci5vbih0aGlzLnBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlN1YnRpdGxlQWRkZWQsIHRoaXMuYWRkU3VidGl0bGUpO1xuICAgIHRoaXMucGxheWVyLm9uKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuU3VidGl0bGVFbmFibGVkLCB0aGlzLnNlbGVjdEN1cnJlbnRTdWJ0aXRsZSk7XG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TdWJ0aXRsZURpc2FibGVkLCB0aGlzLnNlbGVjdEN1cnJlbnRTdWJ0aXRsZSk7XG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5TdWJ0aXRsZVJlbW92ZWQsIHRoaXMucmVtb3ZlU3VidGl0bGUpO1xuICAgIC8vIFVwZGF0ZSBzdWJ0aXRsZXMgd2hlbiBzb3VyY2UgZ29lcyBhd2F5XG4gICAgdGhpcy5wbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5Tb3VyY2VVbmxvYWRlZCwgdGhpcy5jbGVhclN1YnRpdGxlcyk7XG4gICAgLy8gVXBkYXRlIHN1YnRpdGxlcyB3aGVuIHRoZSBwZXJpb2Qgd2l0aGluIGEgc291cmNlIGNoYW5nZXNcbiAgICB0aGlzLnBsYXllci5vbih0aGlzLnBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlBlcmlvZFN3aXRjaGVkLCB0aGlzLnJlZnJlc2hTdWJ0aXRsZXMpO1xuICAgIHRoaXMudWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQuc3Vic2NyaWJlKHRoaXMucmVmcmVzaFN1YnRpdGxlcyk7XG4gIH1cblxuICBwcml2YXRlIGFkZFN1YnRpdGxlID0gKGV2ZW50OiBTdWJ0aXRsZUV2ZW50KSA9PiB7XG4gICAgY29uc3Qgc3VidGl0bGUgPSBldmVudC5zdWJ0aXRsZTtcbiAgICBpZiAoIXRoaXMubGlzdEVsZW1lbnQuaGFzSXRlbShzdWJ0aXRsZS5pZCkpIHtcbiAgICAgIHRoaXMubGlzdEVsZW1lbnQuYWRkSXRlbShzdWJ0aXRsZS5pZCwgc3VidGl0bGUubGFiZWwpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIHJlbW92ZVN1YnRpdGxlID0gKGV2ZW50OiBTdWJ0aXRsZUV2ZW50KSA9PiB7XG4gICAgY29uc3Qgc3VidGl0bGUgPSBldmVudC5zdWJ0aXRsZTtcbiAgICBpZiAodGhpcy5saXN0RWxlbWVudC5oYXNJdGVtKHN1YnRpdGxlLmlkKSkge1xuICAgICAgdGhpcy5saXN0RWxlbWVudC5yZW1vdmVJdGVtKHN1YnRpdGxlLmlkKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBzZWxlY3RDdXJyZW50U3VidGl0bGUgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLnBsYXllci5zdWJ0aXRsZXMpIHtcbiAgICAgIC8vIFN1YnRpdGxlcyBBUEkgbm90IGF2YWlsYWJsZSAoeWV0KVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjdXJyZW50U3VidGl0bGUgPSB0aGlzLnBsYXllci5zdWJ0aXRsZXMubGlzdCgpLmZpbHRlcigoc3VidGl0bGUpID0+IHN1YnRpdGxlLmVuYWJsZWQpLnBvcCgpO1xuICAgIHRoaXMubGlzdEVsZW1lbnQuc2VsZWN0SXRlbShjdXJyZW50U3VidGl0bGUgPyBjdXJyZW50U3VidGl0bGUuaWQgOiBTdWJ0aXRsZVN3aXRjaEhhbmRsZXIuU1VCVElUTEVTX09GRl9LRVkpO1xuICB9O1xuXG4gIHByaXZhdGUgY2xlYXJTdWJ0aXRsZXMgPSAoKSA9PiB7XG4gICAgdGhpcy5saXN0RWxlbWVudC5jbGVhckl0ZW1zKCk7XG4gIH1cblxuICBwcml2YXRlIHJlZnJlc2hTdWJ0aXRsZXMgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLnBsYXllci5zdWJ0aXRsZXMpIHtcbiAgICAgIC8vIFN1YnRpdGxlcyBBUEkgbm90IGF2YWlsYWJsZSAoeWV0KVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9mZkxpc3RJdGVtOiBMaXN0SXRlbSA9IHtcbiAgICAgIGtleTogU3VidGl0bGVTd2l0Y2hIYW5kbGVyLlNVQlRJVExFU19PRkZfS0VZLFxuICAgICAgbGFiZWw6IGkxOG4uZ2V0TG9jYWxpemVyKCdvZmYnKSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc3VidGl0bGVzID0gdGhpcy5wbGF5ZXIuc3VidGl0bGVzLmxpc3QoKTtcbiAgICBjb25zdCBzdWJ0aXRsZVRvTGlzdEl0ZW0gPSAoc3VidGl0bGU6IFN1YnRpdGxlVHJhY2spOiBMaXN0SXRlbSA9PiB7XG4gICAgICByZXR1cm4geyBrZXk6IHN1YnRpdGxlLmlkLCBsYWJlbDogc3VidGl0bGUubGFiZWwgfTtcbiAgICB9O1xuXG4gICAgdGhpcy5saXN0RWxlbWVudC5zeW5jaHJvbml6ZUl0ZW1zKFtcbiAgICAgIG9mZkxpc3RJdGVtLCAuLi5zdWJ0aXRsZXMubWFwKHN1YnRpdGxlVG9MaXN0SXRlbSksXG4gICAgXSk7XG4gICAgdGhpcy5zZWxlY3RDdXJyZW50U3VidGl0bGUoKTtcbiAgfTtcbn1cbiIsIi8vIFRPRE8gY2hhbmdlIHRvIGludGVybmFsIChub3QgZXhwb3J0ZWQpIGNsYXNzLCBob3cgdG8gdXNlIGluIG90aGVyIGZpbGVzP1xuLyoqXG4gKiBFeGVjdXRlcyBhIGNhbGxiYWNrIGFmdGVyIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lLCBvcHRpb25hbGx5IHJlcGVhdGVkbHkgdW50aWwgc3RvcHBlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFRpbWVvdXQge1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgZGVsYXk6IG51bWJlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBjYWxsYmFjazogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSByZXBlYXQ6IGJvb2xlYW47XG4gIC8vIFRoZXJlJ3MgdHdvIHNldFRpbWVvdXQgZGVjbGFyYXRpb25zLCBvbmUgb24gV2luZG93IHdoaWNoIHJldHVybnMgdHlwZSBcIm51bWJlclwiIGFuZCBvbmUgaW4gTm9kZUpTIHdoaWNoIHJldHVybnNcbiAgLy8gdHlwZSBcIlRpbWVyXCIuIEZvciB1bmtub3duIHJlYXNvbnMgYnVpbGRzIG9uIEplbmtpbnMgZmFpbCBkdWUgdG8gYSB0eXBlIG1pc21hdGNoIHdoZW4gd2UgdXNlIHR5cGUgXCJudW1iZXJcIiBoZXJlLFxuICAvLyBhbHRob3VnaCBpdCB3b3JrcyBvbiBvdGhlciBwbGF0Zm9ybXMgKGUuZy4gV2luZG93cywgQ29kZXNoaXApLlxuICAvLyBUbyB3b3JrIGFyb3VuZCB0aGUgaXNzdWUgd2UgdXNlIHR5cGUgXCJhbnlcIi4gVGhlIHR5cGUgZG9lcyBub3QgbWF0dGVyIGFueXdheSBiZWNhdXNlIHdlJ3JlIG5vdCB3b3JraW5nIHdpdGhcbiAgLy8gdGhpcyB2YWx1ZSBleGNlcHQgcHJvdmlkaW5nIGl0IHRvIGNsZWFyVGltZW91dC5cbiAgcHJpdmF0ZSB0aW1lb3V0T3JJbnRlcnZhbElkOiBhbnk7XG4gIHByaXZhdGUgYWN0aXZlOiBib29sZWFuO1xuICBwcml2YXRlIHN1c3BlbmRlZDogYm9vbGVhbjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyB0aW1lb3V0IGNhbGxiYWNrIGhhbmRsZXIuXG4gICAqIEBwYXJhbSBkZWxheSB0aGUgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIGFmdGVyIHdoaWNoIHRoZSBjYWxsYmFjayBzaG91bGQgYmUgZXhlY3V0ZWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB0byBleGVjdXRlIGFmdGVyIHRoZSBkZWxheSB0aW1lXG4gICAqIEBwYXJhbSByZXBlYXQgaWYgdHJ1ZSwgY2FsbCB0aGUgY2FsbGJhY2sgcmVwZWF0ZWRseSBpbiBkZWxheSBpbnRlcnZhbHNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlbGF5OiBudW1iZXIsIGNhbGxiYWNrOiAoKSA9PiB2b2lkLCByZXBlYXQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5yZXBlYXQgPSByZXBlYXQ7XG4gICAgdGhpcy50aW1lb3V0T3JJbnRlcnZhbElkID0gMDtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuc3VzcGVuZGVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSB0aW1lb3V0IGFuZCBjYWxscyB0aGUgY2FsbGJhY2sgd2hlbiB0aGUgdGltZW91dCBkZWxheSBoYXMgcGFzc2VkLiBIYXMgbm8gZWZmZWN0IHdoZW4gdGhlIHRpbWVvdXQgaXNcbiAgICogc3VzcGVuZGVkLlxuICAgKiBAcmV0dXJucyB7VGltZW91dH0gdGhlIGN1cnJlbnQgdGltZW91dCAoc28gdGhlIHN0YXJ0IGNhbGwgY2FuIGJlIGNoYWluZWQgdG8gdGhlIGNvbnN0cnVjdG9yKVxuICAgKi9cbiAgc3RhcnQoKTogdGhpcyB7XG4gICAgdGhpcy5yZXNldCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgdGltZW91dC4gVGhlIGNhbGxiYWNrIHdpbGwgbm90IGJlIGNhbGxlZCBpZiBjbGVhciBpcyBjYWxsZWQgZHVyaW5nIHRoZSB0aW1lb3V0LlxuICAgKi9cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckludGVybmFsKCk7XG4gIH1cblxuICAvKipcbiAgICogU3VzcGVuZHMgdGhlIHRpbWVvdXQuIFRoZSBjYWxsYmFjayB3aWxsIG5vdCBiZSBjYWxsZWQgYW5kIGNhbGxzIHRvIGBzdGFydGAgYW5kIGByZXNldGAgd2lsbCBiZSBpZ25vcmVkIHVudGlsIHRoZVxuICAgKiB0aW1lb3V0IGlzIHJlc3VtZWQuXG4gICAqL1xuICBzdXNwZW5kKCkge1xuICAgIHRoaXMuc3VzcGVuZGVkID0gdHJ1ZTtcbiAgICB0aGlzLmNsZWFySW50ZXJuYWwoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3VtZXMgdGhlIHRpbWVvdXQuXG4gICAqIEBwYXJhbSByZXNldCB3aGV0aGVyIHRvIHJlc2V0IHRoZSB0aW1lb3V0IGFmdGVyIHJlc3VtaW5nXG4gICAqL1xuICByZXN1bWUocmVzZXQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnN1c3BlbmRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBwYXNzZWQgdGltZW91dCBkZWxheSB0byB6ZXJvLiBDYW4gYmUgdXNlZCB0byBkZWZlciB0aGUgY2FsbGluZyBvZiB0aGUgY2FsbGJhY2suIEhhcyBubyBlZmZlY3QgaWYgdGhlXG4gICAqIHRpbWVvdXQgaXMgc3VzcGVuZGVkLlxuICAgKi9cbiAgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckludGVybmFsKCk7XG5cbiAgICBpZiAodGhpcy5zdXNwZW5kZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZXBlYXQpIHtcbiAgICAgIHRoaXMudGltZW91dE9ySW50ZXJ2YWxJZCA9IHNldEludGVydmFsKHRoaXMuY2FsbGJhY2ssIHRoaXMuZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRpbWVvdXRPckludGVydmFsSWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xuICAgICAgfSwgdGhpcy5kZWxheSk7XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgfVxuXG4gIGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZTtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYXJJbnRlcm5hbCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZXBlYXQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lb3V0T3JJbnRlcnZhbElkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dE9ySW50ZXJ2YWxJZCk7XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gIH1cbn0iLCJpbXBvcnQgeyBTdWJ0aXRsZU92ZXJsYXkgfSBmcm9tICcuL2NvbXBvbmVudHMvc3VidGl0bGVvdmVybGF5JztcbmltcG9ydCB7IFNldHRpbmdzUGFuZWxQYWdlIH0gZnJvbSAnLi9jb21wb25lbnRzL3NldHRpbmdzcGFuZWxwYWdlJztcbmltcG9ydCB7IFNldHRpbmdzUGFuZWxJdGVtIH0gZnJvbSAnLi9jb21wb25lbnRzL3NldHRpbmdzcGFuZWxpdGVtJztcbmltcG9ydCB7IFZpZGVvUXVhbGl0eVNlbGVjdEJveCB9IGZyb20gJy4vY29tcG9uZW50cy92aWRlb3F1YWxpdHlzZWxlY3Rib3gnO1xuaW1wb3J0IHsgUGxheWJhY2tTcGVlZFNlbGVjdEJveCB9IGZyb20gJy4vY29tcG9uZW50cy9wbGF5YmFja3NwZWVkc2VsZWN0Ym94JztcbmltcG9ydCB7IEF1ZGlvVHJhY2tTZWxlY3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvYXVkaW90cmFja3NlbGVjdGJveCc7XG5pbXBvcnQgeyBBdWRpb1F1YWxpdHlTZWxlY3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvYXVkaW9xdWFsaXR5c2VsZWN0Ym94JztcbmltcG9ydCB7IFNldHRpbmdzUGFuZWwgfSBmcm9tICcuL2NvbXBvbmVudHMvc2V0dGluZ3NwYW5lbCc7XG5pbXBvcnQgeyBTdWJ0aXRsZVNldHRpbmdzUGFuZWxQYWdlIH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3BhbmVscGFnZSc7XG5pbXBvcnQgeyBTZXR0aW5nc1BhbmVsUGFnZU9wZW5CdXR0b24gfSBmcm9tICcuL2NvbXBvbmVudHMvc2V0dGluZ3NwYW5lbHBhZ2VvcGVuYnV0dG9uJztcbmltcG9ydCB7IFN1YnRpdGxlU2V0dGluZ3NMYWJlbCB9IGZyb20gJy4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NsYWJlbCc7XG5pbXBvcnQgeyBTdWJ0aXRsZVNlbGVjdEJveCB9IGZyb20gJy4vY29tcG9uZW50cy9zdWJ0aXRsZXNlbGVjdGJveCc7XG5pbXBvcnQgeyBDb250cm9sQmFyIH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbnRyb2xiYXInO1xuaW1wb3J0IHsgQ29udGFpbmVyLCBDb250YWluZXJDb25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvY29udGFpbmVyJztcbmltcG9ydCB7IFBsYXliYWNrVGltZUxhYmVsLCBQbGF5YmFja1RpbWVMYWJlbE1vZGUgfSBmcm9tICcuL2NvbXBvbmVudHMvcGxheWJhY2t0aW1lbGFiZWwnO1xuaW1wb3J0IHsgU2Vla0JhciB9IGZyb20gJy4vY29tcG9uZW50cy9zZWVrYmFyJztcbmltcG9ydCB7IFNlZWtCYXJMYWJlbCB9IGZyb20gJy4vY29tcG9uZW50cy9zZWVrYmFybGFiZWwnO1xuaW1wb3J0IHsgUGxheWJhY2tUb2dnbGVCdXR0b24gfSBmcm9tICcuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b24nO1xuaW1wb3J0IHsgVm9sdW1lVG9nZ2xlQnV0dG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL3ZvbHVtZXRvZ2dsZWJ1dHRvbic7XG5pbXBvcnQgeyBWb2x1bWVTbGlkZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvdm9sdW1lc2xpZGVyJztcbmltcG9ydCB7IFNwYWNlciB9IGZyb20gJy4vY29tcG9uZW50cy9zcGFjZXInO1xuaW1wb3J0IHsgUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbiB9IGZyb20gJy4vY29tcG9uZW50cy9waWN0dXJlaW5waWN0dXJldG9nZ2xlYnV0dG9uJztcbmltcG9ydCB7IEFpclBsYXlUb2dnbGVCdXR0b24gfSBmcm9tICcuL2NvbXBvbmVudHMvYWlycGxheXRvZ2dsZWJ1dHRvbic7XG5pbXBvcnQgeyBDYXN0VG9nZ2xlQnV0dG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL2Nhc3R0b2dnbGVidXR0b24nO1xuaW1wb3J0IHsgVlJUb2dnbGVCdXR0b24gfSBmcm9tICcuL2NvbXBvbmVudHMvdnJ0b2dnbGVidXR0b24nO1xuaW1wb3J0IHsgU2V0dGluZ3NUb2dnbGVCdXR0b24gfSBmcm9tICcuL2NvbXBvbmVudHMvc2V0dGluZ3N0b2dnbGVidXR0b24nO1xuaW1wb3J0IHsgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbiB9IGZyb20gJy4vY29tcG9uZW50cy9mdWxsc2NyZWVudG9nZ2xlYnV0dG9uJztcbmltcG9ydCB7IFVJQ29udGFpbmVyIH0gZnJvbSAnLi9jb21wb25lbnRzL3VpY29udGFpbmVyJztcbmltcG9ydCB7IEJ1ZmZlcmluZ092ZXJsYXkgfSBmcm9tICcuL2NvbXBvbmVudHMvYnVmZmVyaW5nb3ZlcmxheSc7XG5pbXBvcnQgeyBQbGF5YmFja1RvZ2dsZU92ZXJsYXkgfSBmcm9tICcuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5JztcbmltcG9ydCB7IENhc3RTdGF0dXNPdmVybGF5IH0gZnJvbSAnLi9jb21wb25lbnRzL2Nhc3RzdGF0dXNvdmVybGF5JztcbmltcG9ydCB7IFRpdGxlQmFyIH0gZnJvbSAnLi9jb21wb25lbnRzL3RpdGxlYmFyJztcbmltcG9ydCB7IFJlY29tbWVuZGF0aW9uT3ZlcmxheSB9IGZyb20gJy4vY29tcG9uZW50cy9yZWNvbW1lbmRhdGlvbm92ZXJsYXknO1xuaW1wb3J0IHsgV2F0ZXJtYXJrIH0gZnJvbSAnLi9jb21wb25lbnRzL3dhdGVybWFyayc7XG5pbXBvcnQgeyBFcnJvck1lc3NhZ2VPdmVybGF5IH0gZnJvbSAnLi9jb21wb25lbnRzL2Vycm9ybWVzc2FnZW92ZXJsYXknO1xuaW1wb3J0IHsgQWRDbGlja092ZXJsYXkgfSBmcm9tICcuL2NvbXBvbmVudHMvYWRjbGlja292ZXJsYXknO1xuaW1wb3J0IHsgQWRNZXNzYWdlTGFiZWwgfSBmcm9tICcuL2NvbXBvbmVudHMvYWRtZXNzYWdlbGFiZWwnO1xuaW1wb3J0IHsgQWRTa2lwQnV0dG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL2Fkc2tpcGJ1dHRvbic7XG5pbXBvcnQgeyBDbG9zZUJ1dHRvbiB9IGZyb20gJy4vY29tcG9uZW50cy9jbG9zZWJ1dHRvbic7XG5pbXBvcnQgeyBNZXRhZGF0YUxhYmVsLCBNZXRhZGF0YUxhYmVsQ29udGVudCB9IGZyb20gJy4vY29tcG9uZW50cy9tZXRhZGF0YWxhYmVsJztcbmltcG9ydCB7IFBsYXllclV0aWxzIH0gZnJvbSAnLi9wbGF5ZXJ1dGlscyc7XG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gJy4vY29tcG9uZW50cy9sYWJlbCc7XG5pbXBvcnQgeyBDYXN0VUlDb250YWluZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvY2FzdHVpY29udGFpbmVyJztcbmltcG9ydCB7IFVJQ29uZGl0aW9uQ29udGV4dCwgVUlNYW5hZ2VyIH0gZnJvbSAnLi91aW1hbmFnZXInO1xuaW1wb3J0IHsgVUlDb25maWcgfSBmcm9tICcuL3VpY29uZmlnJztcbmltcG9ydCB7IFBsYXllckFQSSB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBpMThuIH0gZnJvbSAnLi9sb2NhbGl6YXRpb24vaTE4bic7XG5pbXBvcnQgeyBTdWJ0aXRsZUxpc3RCb3ggfSBmcm9tICcuL2NvbXBvbmVudHMvc3VidGl0bGVsaXN0Ym94JztcbmltcG9ydCB7IEF1ZGlvVHJhY2tMaXN0Qm94IH0gZnJvbSAnLi9jb21wb25lbnRzL2F1ZGlvdHJhY2tsaXN0Ym94JztcbmltcG9ydCB7IFNwYXRpYWxOYXZpZ2F0aW9uIH0gZnJvbSAnLi9zcGF0aWFsbmF2aWdhdGlvbi9zcGF0aWFsbmF2aWdhdGlvbic7XG5pbXBvcnQgeyBSb290TmF2aWdhdGlvbkdyb3VwIH0gZnJvbSAnLi9zcGF0aWFsbmF2aWdhdGlvbi9yb290bmF2aWdhdGlvbmdyb3VwJztcbmltcG9ydCB7IExpc3ROYXZpZ2F0aW9uR3JvdXAsIExpc3RPcmllbnRhdGlvbiB9IGZyb20gJy4vc3BhdGlhbG5hdmlnYXRpb24vTGlzdE5hdmlnYXRpb25Hcm91cCc7XG5pbXBvcnQgeyBFY29Nb2RlQ29udGFpbmVyIH0gZnJvbSAnLi9jb21wb25lbnRzL2Vjb21vZGVjb250YWluZXInO1xuXG5leHBvcnQgbmFtZXNwYWNlIFVJRmFjdG9yeSB7XG4gIGV4cG9ydCBmdW5jdGlvbiBidWlsZERlZmF1bHRVSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcbiAgICByZXR1cm4gVUlGYWN0b3J5LmJ1aWxkTW9kZXJuVUkocGxheWVyLCBjb25maWcpO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRGVmYXVsdFNtYWxsU2NyZWVuVUkocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XG4gICAgcmV0dXJuIFVJRmFjdG9yeS5idWlsZE1vZGVyblNtYWxsU2NyZWVuVUkocGxheWVyLCBjb25maWcpO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRGVmYXVsdENhc3RSZWNlaXZlclVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xuICAgIHJldHVybiBVSUZhY3RvcnkuYnVpbGRNb2Rlcm5DYXN0UmVjZWl2ZXJVSShwbGF5ZXIsIGNvbmZpZyk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gYnVpbGREZWZhdWx0VHZVSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcbiAgICByZXR1cm4gVUlGYWN0b3J5LmJ1aWxkTW9kZXJuVHZVSShwbGF5ZXIsIGNvbmZpZyk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gbW9kZXJuVUkoY29uZmlnOiBVSUNvbmZpZykge1xuICAgIGxldCBzdWJ0aXRsZU92ZXJsYXkgPSBuZXcgU3VidGl0bGVPdmVybGF5KCk7XG5cbiAgICBsZXQgbWFpblNldHRpbmdzUGFuZWxQYWdlOiBTZXR0aW5nc1BhbmVsUGFnZTtcblxuICAgIGNvbnN0IGNvbXBvbmVudHM6IENvbnRhaW5lcjxDb250YWluZXJDb25maWc+W10gPSBbXG4gICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLnZpZGVvLnF1YWxpdHknKSwgbmV3IFZpZGVvUXVhbGl0eVNlbGVjdEJveCgpKSxcbiAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbShpMThuLmdldExvY2FsaXplcignc3BlZWQnKSwgbmV3IFBsYXliYWNrU3BlZWRTZWxlY3RCb3goKSksXG4gICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLmF1ZGlvLnRyYWNrJyksIG5ldyBBdWRpb1RyYWNrU2VsZWN0Qm94KCkpLFxuICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy5hdWRpby5xdWFsaXR5JyksIG5ldyBBdWRpb1F1YWxpdHlTZWxlY3RCb3goKSksXG4gICAgXTtcblxuICAgIGlmIChjb25maWcuZWNvTW9kZSkge1xuICAgICAgY29uc3QgZWNvTW9kZUNvbnRhaW5lciA9IG5ldyBFY29Nb2RlQ29udGFpbmVyKCk7XG5cbiAgICAgIGVjb01vZGVDb250YWluZXIuc2V0T25Ub2dnbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIC8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZS1jYWxjdWxhdGUgdGhlIGhlaWdodCBvZiB0aGUgc2V0dGluZ3MgcGFuZWwgd2hlbiBhZGRpbmcvcmVtb3ZpbmcgZWxlbWVudHNcbiAgICAgICAgc2V0dGluZ3NQYW5lbC5nZXREb21FbGVtZW50KCkuY3NzKHsgd2lkdGg6ICcnLCBoZWlnaHQ6ICcnIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbXBvbmVudHMudW5zaGlmdChlY29Nb2RlQ29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBtYWluU2V0dGluZ3NQYW5lbFBhZ2UgPSBuZXcgU2V0dGluZ3NQYW5lbFBhZ2Uoe1xuICAgICAgY29tcG9uZW50cyxcbiAgICB9KTtcblxuICAgIGxldCBzZXR0aW5nc1BhbmVsID0gbmV3IFNldHRpbmdzUGFuZWwoe1xuICAgICAgY29tcG9uZW50czogW21haW5TZXR0aW5nc1BhbmVsUGFnZV0sXG4gICAgICBoaWRkZW46IHRydWUsXG4gICAgfSk7XG5cbiAgICBsZXQgc3VidGl0bGVTZXR0aW5nc1BhbmVsUGFnZSA9IG5ldyBTdWJ0aXRsZVNldHRpbmdzUGFuZWxQYWdlKHtcbiAgICAgIHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwsXG4gICAgICBvdmVybGF5OiBzdWJ0aXRsZU92ZXJsYXksXG4gICAgfSk7XG5cbiAgICBjb25zdCBzdWJ0aXRsZVNlbGVjdEJveCA9IG5ldyBTdWJ0aXRsZVNlbGVjdEJveCgpO1xuXG4gICAgbGV0IHN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uID0gbmV3IFNldHRpbmdzUGFuZWxQYWdlT3BlbkJ1dHRvbih7XG4gICAgICB0YXJnZXRQYWdlOiBzdWJ0aXRsZVNldHRpbmdzUGFuZWxQYWdlLFxuICAgICAgY29udGFpbmVyOiBzZXR0aW5nc1BhbmVsLFxuICAgICAgYXJpYUxhYmVsOiBpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzJyksXG4gICAgICB0ZXh0OiBpMThuLmdldExvY2FsaXplcignb3BlbicpLFxuICAgIH0pO1xuXG4gICAgbWFpblNldHRpbmdzUGFuZWxQYWdlLmFkZENvbXBvbmVudChcbiAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbShcbiAgICAgICAgbmV3IFN1YnRpdGxlU2V0dGluZ3NMYWJlbCh7XG4gICAgICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLnN1YnRpdGxlcycpLFxuICAgICAgICAgIG9wZW5lcjogc3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24sXG4gICAgICAgIH0pLFxuICAgICAgICBzdWJ0aXRsZVNlbGVjdEJveCxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICdtZW51YmFyJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHNldHRpbmdzUGFuZWwuYWRkQ29tcG9uZW50KHN1YnRpdGxlU2V0dGluZ3NQYW5lbFBhZ2UpO1xuXG4gICAgbGV0IGNvbnRyb2xCYXIgPSBuZXcgQ29udHJvbEJhcih7XG4gICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgIHNldHRpbmdzUGFuZWwsXG4gICAgICAgIG5ldyBDb250YWluZXIoe1xuICAgICAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgICAgIG5ldyBQbGF5YmFja1RpbWVMYWJlbCh7XG4gICAgICAgICAgICAgIHRpbWVMYWJlbE1vZGU6IFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50VGltZSxcbiAgICAgICAgICAgICAgaGlkZUluTGl2ZVBsYXliYWNrOiB0cnVlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBuZXcgU2Vla0Jhcih7IGxhYmVsOiBuZXcgU2Vla0JhckxhYmVsKCkgfSksXG4gICAgICAgICAgICBuZXcgUGxheWJhY2tUaW1lTGFiZWwoe1xuICAgICAgICAgICAgICB0aW1lTGFiZWxNb2RlOiBQbGF5YmFja1RpbWVMYWJlbE1vZGUuVG90YWxUaW1lLFxuICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ3RleHQtcmlnaHQnXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLXRvcCddLFxuICAgICAgICB9KSxcbiAgICAgICAgbmV3IENvbnRhaW5lcih7XG4gICAgICAgICAgY29tcG9uZW50czogW1xuICAgICAgICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlQnV0dG9uKCksXG4gICAgICAgICAgICBuZXcgVm9sdW1lVG9nZ2xlQnV0dG9uKCksXG4gICAgICAgICAgICBuZXcgVm9sdW1lU2xpZGVyKCksXG4gICAgICAgICAgICBuZXcgU3BhY2VyKCksXG4gICAgICAgICAgICBuZXcgUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbigpLFxuICAgICAgICAgICAgbmV3IEFpclBsYXlUb2dnbGVCdXR0b24oKSxcbiAgICAgICAgICAgIG5ldyBDYXN0VG9nZ2xlQnV0dG9uKCksXG4gICAgICAgICAgICBuZXcgVlJUb2dnbGVCdXR0b24oKSxcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nc1RvZ2dsZUJ1dHRvbih7IHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwgfSksXG4gICAgICAgICAgICBuZXcgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLWJvdHRvbSddLFxuICAgICAgICB9KSxcbiAgICAgIF0sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3IFVJQ29udGFpbmVyKHtcbiAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgc3VidGl0bGVPdmVybGF5LFxuICAgICAgICBuZXcgQnVmZmVyaW5nT3ZlcmxheSgpLFxuICAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXG4gICAgICAgIG5ldyBDYXN0U3RhdHVzT3ZlcmxheSgpLFxuICAgICAgICBjb250cm9sQmFyLFxuICAgICAgICBuZXcgVGl0bGVCYXIoKSxcbiAgICAgICAgbmV3IFJlY29tbWVuZGF0aW9uT3ZlcmxheSgpLFxuICAgICAgICBuZXcgV2F0ZXJtYXJrKCksXG4gICAgICAgIG5ldyBFcnJvck1lc3NhZ2VPdmVybGF5KCksXG4gICAgICBdLFxuICAgICAgaGlkZURlbGF5OiAyMDAwLFxuICAgICAgaGlkZVBsYXllclN0YXRlRXhjZXB0aW9uczogW1xuICAgICAgICBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QcmVwYXJlZCxcbiAgICAgICAgUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUGF1c2VkLFxuICAgICAgICBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5GaW5pc2hlZCxcbiAgICAgIF0sXG4gICAgfSk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gbW9kZXJuQWRzVUkoKSB7XG4gICAgcmV0dXJuIG5ldyBVSUNvbnRhaW5lcih7XG4gICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgIG5ldyBCdWZmZXJpbmdPdmVybGF5KCksXG4gICAgICAgIG5ldyBBZENsaWNrT3ZlcmxheSgpLFxuICAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXG4gICAgICAgIG5ldyBDb250YWluZXIoe1xuICAgICAgICAgIGNvbXBvbmVudHM6IFtuZXcgQWRNZXNzYWdlTGFiZWwoeyB0ZXh0OiBpMThuLmdldExvY2FsaXplcignYWRzLnJlbWFpbmluZ1RpbWUnKSB9KSwgbmV3IEFkU2tpcEJ1dHRvbigpXSxcbiAgICAgICAgICBjc3NDbGFzczogJ3VpLWFkcy1zdGF0dXMnLFxuICAgICAgICB9KSxcbiAgICAgICAgbmV3IENvbnRyb2xCYXIoe1xuICAgICAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgICAgIG5ldyBDb250YWluZXIoe1xuICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlQnV0dG9uKCksXG4gICAgICAgICAgICAgICAgbmV3IFZvbHVtZVRvZ2dsZUJ1dHRvbigpLFxuICAgICAgICAgICAgICAgIG5ldyBWb2x1bWVTbGlkZXIoKSxcbiAgICAgICAgICAgICAgICBuZXcgU3BhY2VyKCksXG4gICAgICAgICAgICAgICAgbmV3IEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLWJvdHRvbSddLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgXSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLWFkcyddLFxuICAgICAgaGlkZURlbGF5OiAyMDAwLFxuICAgICAgaGlkZVBsYXllclN0YXRlRXhjZXB0aW9uczogW1xuICAgICAgICBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QcmVwYXJlZCxcbiAgICAgICAgUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUGF1c2VkLFxuICAgICAgICBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5GaW5pc2hlZCxcbiAgICAgIF0sXG4gICAgfSk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gbW9kZXJuU21hbGxTY3JlZW5VSSgpIHtcbiAgICBsZXQgc3VidGl0bGVPdmVybGF5ID0gbmV3IFN1YnRpdGxlT3ZlcmxheSgpO1xuXG4gICAgbGV0IG1haW5TZXR0aW5nc1BhbmVsUGFnZSA9IG5ldyBTZXR0aW5nc1BhbmVsUGFnZSh7XG4gICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbShpMThuLmdldExvY2FsaXplcignc2V0dGluZ3MudmlkZW8ucXVhbGl0eScpLCBuZXcgVmlkZW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxuICAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oaTE4bi5nZXRMb2NhbGl6ZXIoJ3NwZWVkJyksIG5ldyBQbGF5YmFja1NwZWVkU2VsZWN0Qm94KCkpLFxuICAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLmF1ZGlvLnRyYWNrJyksIG5ldyBBdWRpb1RyYWNrU2VsZWN0Qm94KCkpLFxuICAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLmF1ZGlvLnF1YWxpdHknKSwgbmV3IEF1ZGlvUXVhbGl0eVNlbGVjdEJveCgpKSxcbiAgICAgIF0sXG4gICAgfSk7XG5cbiAgICBsZXQgc2V0dGluZ3NQYW5lbCA9IG5ldyBTZXR0aW5nc1BhbmVsKHtcbiAgICAgIGNvbXBvbmVudHM6IFttYWluU2V0dGluZ3NQYW5lbFBhZ2VdLFxuICAgICAgaGlkZGVuOiB0cnVlLFxuICAgICAgcGFnZVRyYW5zaXRpb25BbmltYXRpb246IGZhbHNlLFxuICAgICAgaGlkZURlbGF5OiAtMSxcbiAgICB9KTtcblxuICAgIGxldCBzdWJ0aXRsZVNldHRpbmdzUGFuZWxQYWdlID0gbmV3IFN1YnRpdGxlU2V0dGluZ3NQYW5lbFBhZ2Uoe1xuICAgICAgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCxcbiAgICAgIG92ZXJsYXk6IHN1YnRpdGxlT3ZlcmxheSxcbiAgICB9KTtcblxuICAgIGxldCBzdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiA9IG5ldyBTZXR0aW5nc1BhbmVsUGFnZU9wZW5CdXR0b24oe1xuICAgICAgdGFyZ2V0UGFnZTogc3VidGl0bGVTZXR0aW5nc1BhbmVsUGFnZSxcbiAgICAgIGNvbnRhaW5lcjogc2V0dGluZ3NQYW5lbCxcbiAgICAgIGFyaWFMYWJlbDogaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLnN1YnRpdGxlcycpLFxuICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ29wZW4nKSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHN1YnRpdGxlU2VsZWN0Qm94ID0gbmV3IFN1YnRpdGxlU2VsZWN0Qm94KCk7XG5cbiAgICBtYWluU2V0dGluZ3NQYW5lbFBhZ2UuYWRkQ29tcG9uZW50KFxuICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKFxuICAgICAgICBuZXcgU3VidGl0bGVTZXR0aW5nc0xhYmVsKHtcbiAgICAgICAgICB0ZXh0OiBpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzJyksXG4gICAgICAgICAgb3BlbmVyOiBzdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbixcbiAgICAgICAgfSksXG4gICAgICAgIHN1YnRpdGxlU2VsZWN0Qm94LFxuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogJ21lbnViYXInLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuXG4gICAgc2V0dGluZ3NQYW5lbC5hZGRDb21wb25lbnQoc3VidGl0bGVTZXR0aW5nc1BhbmVsUGFnZSk7XG5cbiAgICBzZXR0aW5nc1BhbmVsLmFkZENvbXBvbmVudChuZXcgQ2xvc2VCdXR0b24oeyB0YXJnZXQ6IHNldHRpbmdzUGFuZWwgfSkpO1xuICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbFBhZ2UuYWRkQ29tcG9uZW50KG5ldyBDbG9zZUJ1dHRvbih7IHRhcmdldDogc2V0dGluZ3NQYW5lbCB9KSk7XG5cbiAgICBsZXQgY29udHJvbEJhciA9IG5ldyBDb250cm9sQmFyKHtcbiAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgbmV3IENvbnRhaW5lcih7XG4gICAgICAgICAgY29tcG9uZW50czogW1xuICAgICAgICAgICAgbmV3IFBsYXliYWNrVGltZUxhYmVsKHtcbiAgICAgICAgICAgICAgdGltZUxhYmVsTW9kZTogUGxheWJhY2tUaW1lTGFiZWxNb2RlLkN1cnJlbnRUaW1lLFxuICAgICAgICAgICAgICBoaWRlSW5MaXZlUGxheWJhY2s6IHRydWUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG5ldyBTZWVrQmFyKHsgbGFiZWw6IG5ldyBTZWVrQmFyTGFiZWwoKSB9KSxcbiAgICAgICAgICAgIG5ldyBQbGF5YmFja1RpbWVMYWJlbCh7XG4gICAgICAgICAgICAgIHRpbWVMYWJlbE1vZGU6IFBsYXliYWNrVGltZUxhYmVsTW9kZS5Ub3RhbFRpbWUsXG4gICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsndGV4dC1yaWdodCddLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItdG9wJ10sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICB9KTtcblxuICAgIHJldHVybiBuZXcgVUlDb250YWluZXIoe1xuICAgICAgY29tcG9uZW50czogW1xuICAgICAgICBzdWJ0aXRsZU92ZXJsYXksXG4gICAgICAgIG5ldyBCdWZmZXJpbmdPdmVybGF5KCksXG4gICAgICAgIG5ldyBDYXN0U3RhdHVzT3ZlcmxheSgpLFxuICAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXG4gICAgICAgIG5ldyBSZWNvbW1lbmRhdGlvbk92ZXJsYXkoKSxcbiAgICAgICAgY29udHJvbEJhcixcbiAgICAgICAgbmV3IFRpdGxlQmFyKHtcbiAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICBuZXcgTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IE1ldGFkYXRhTGFiZWxDb250ZW50LlRpdGxlIH0pLFxuICAgICAgICAgICAgbmV3IENhc3RUb2dnbGVCdXR0b24oKSxcbiAgICAgICAgICAgIG5ldyBWUlRvZ2dsZUJ1dHRvbigpLFxuICAgICAgICAgICAgbmV3IFBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b24oKSxcbiAgICAgICAgICAgIG5ldyBBaXJQbGF5VG9nZ2xlQnV0dG9uKCksXG4gICAgICAgICAgICBuZXcgVm9sdW1lVG9nZ2xlQnV0dG9uKCksXG4gICAgICAgICAgICBuZXcgU2V0dGluZ3NUb2dnbGVCdXR0b24oeyBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsIH0pLFxuICAgICAgICAgICAgbmV3IEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KSxcbiAgICAgICAgc2V0dGluZ3NQYW5lbCxcbiAgICAgICAgbmV3IFdhdGVybWFyaygpLFxuICAgICAgICBuZXcgRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxuICAgICAgXSxcbiAgICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1zbWFsbHNjcmVlbiddLFxuICAgICAgaGlkZURlbGF5OiAyMDAwLFxuICAgICAgaGlkZVBsYXllclN0YXRlRXhjZXB0aW9uczogW1xuICAgICAgICBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QcmVwYXJlZCxcbiAgICAgICAgUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUGF1c2VkLFxuICAgICAgICBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5GaW5pc2hlZCxcbiAgICAgIF0sXG4gICAgfSk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gbW9kZXJuU21hbGxTY3JlZW5BZHNVSSgpIHtcbiAgICByZXR1cm4gbmV3IFVJQ29udGFpbmVyKHtcbiAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgbmV3IEJ1ZmZlcmluZ092ZXJsYXkoKSxcbiAgICAgICAgbmV3IEFkQ2xpY2tPdmVybGF5KCksXG4gICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcbiAgICAgICAgbmV3IFRpdGxlQmFyKHtcbiAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICAvLyBkdW1teSBsYWJlbCB3aXRoIG5vIGNvbnRlbnQgdG8gbW92ZSBidXR0b25zIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgbmV3IExhYmVsKHsgY3NzQ2xhc3M6ICdsYWJlbC1tZXRhZGF0YS10aXRsZScgfSksXG4gICAgICAgICAgICBuZXcgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgICAgICBuZXcgQ29udGFpbmVyKHtcbiAgICAgICAgICBjb21wb25lbnRzOiBbbmV3IEFkTWVzc2FnZUxhYmVsKHsgdGV4dDogJ0FkOiB7cmVtYWluaW5nVGltZX0gc2VjcycgfSksIG5ldyBBZFNraXBCdXR0b24oKV0sXG4gICAgICAgICAgY3NzQ2xhc3M6ICd1aS1hZHMtc3RhdHVzJyxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLWFkcycsICd1aS1za2luLXNtYWxsc2NyZWVuJ10sXG4gICAgICBoaWRlRGVsYXk6IDIwMDAsXG4gICAgICBoaWRlUGxheWVyU3RhdGVFeGNlcHRpb25zOiBbXG4gICAgICAgIFBsYXllclV0aWxzLlBsYXllclN0YXRlLlByZXBhcmVkLFxuICAgICAgICBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QYXVzZWQsXG4gICAgICAgIFBsYXllclV0aWxzLlBsYXllclN0YXRlLkZpbmlzaGVkLFxuICAgICAgXSxcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBtb2Rlcm5DYXN0UmVjZWl2ZXJVSSgpIHtcbiAgICBsZXQgY29udHJvbEJhciA9IG5ldyBDb250cm9sQmFyKHtcbiAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgbmV3IENvbnRhaW5lcih7XG4gICAgICAgICAgY29tcG9uZW50czogW1xuICAgICAgICAgICAgbmV3IFBsYXliYWNrVGltZUxhYmVsKHtcbiAgICAgICAgICAgICAgdGltZUxhYmVsTW9kZTogUGxheWJhY2tUaW1lTGFiZWxNb2RlLkN1cnJlbnRUaW1lLFxuICAgICAgICAgICAgICBoaWRlSW5MaXZlUGxheWJhY2s6IHRydWUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG5ldyBTZWVrQmFyKHsgc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZUludGVydmFsTXM6IC0xIH0pLFxuICAgICAgICAgICAgbmV3IFBsYXliYWNrVGltZUxhYmVsKHtcbiAgICAgICAgICAgICAgdGltZUxhYmVsTW9kZTogUGxheWJhY2tUaW1lTGFiZWxNb2RlLlRvdGFsVGltZSxcbiAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWyd0ZXh0LXJpZ2h0J10sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGNzc0NsYXNzZXM6IFsnY29udHJvbGJhci10b3AnXSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBDYXN0VUlDb250YWluZXIoe1xuICAgICAgY29tcG9uZW50czogW1xuICAgICAgICBuZXcgU3VidGl0bGVPdmVybGF5KCksXG4gICAgICAgIG5ldyBCdWZmZXJpbmdPdmVybGF5KCksXG4gICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcbiAgICAgICAgbmV3IFdhdGVybWFyaygpLFxuICAgICAgICBjb250cm9sQmFyLFxuICAgICAgICBuZXcgVGl0bGVCYXIoeyBrZWVwSGlkZGVuV2l0aG91dE1ldGFkYXRhOiB0cnVlIH0pLFxuICAgICAgICBuZXcgRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxuICAgICAgXSxcbiAgICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1jYXN0LXJlY2VpdmVyJ10sXG4gICAgICBoaWRlRGVsYXk6IDIwMDAsXG4gICAgICBoaWRlUGxheWVyU3RhdGVFeGNlcHRpb25zOiBbXG4gICAgICAgIFBsYXllclV0aWxzLlBsYXllclN0YXRlLlByZXBhcmVkLFxuICAgICAgICBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QYXVzZWQsXG4gICAgICAgIFBsYXllclV0aWxzLlBsYXllclN0YXRlLkZpbmlzaGVkLFxuICAgICAgXSxcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBidWlsZE1vZGVyblVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xuICAgIC8vIHNob3cgc21hbGxTY3JlZW4gVUkgb25seSBvbiBtb2JpbGUvaGFuZGhlbGQgZGV2aWNlc1xuICAgIGxldCBzbWFsbFNjcmVlblN3aXRjaFdpZHRoID0gNjAwO1xuXG4gICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIoXG4gICAgICBwbGF5ZXIsXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICB1aTogbW9kZXJuU21hbGxTY3JlZW5BZHNVSSgpLFxuICAgICAgICAgIGNvbmRpdGlvbjogKGNvbnRleHQ6IFVJQ29uZGl0aW9uQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgY29udGV4dC5pc01vYmlsZSAmJiBjb250ZXh0LmRvY3VtZW50V2lkdGggPCBzbWFsbFNjcmVlblN3aXRjaFdpZHRoICYmIGNvbnRleHQuaXNBZCAmJiBjb250ZXh0LmFkUmVxdWlyZXNVaVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdWk6IG1vZGVybkFkc1VJKCksXG4gICAgICAgICAgY29uZGl0aW9uOiAoY29udGV4dDogVUlDb25kaXRpb25Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dC5pc0FkICYmIGNvbnRleHQuYWRSZXF1aXJlc1VpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB1aTogbW9kZXJuU21hbGxTY3JlZW5VSSgpLFxuICAgICAgICAgIGNvbmRpdGlvbjogKGNvbnRleHQ6IFVJQ29uZGl0aW9uQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgIWNvbnRleHQuaXNBZCAmJlxuICAgICAgICAgICAgICAhY29udGV4dC5hZFJlcXVpcmVzVWkgJiZcbiAgICAgICAgICAgICAgY29udGV4dC5pc01vYmlsZSAmJlxuICAgICAgICAgICAgICBjb250ZXh0LmRvY3VtZW50V2lkdGggPCBzbWFsbFNjcmVlblN3aXRjaFdpZHRoXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB1aTogbW9kZXJuVUkoY29uZmlnKSxcbiAgICAgICAgICBjb25kaXRpb246IChjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhY29udGV4dC5pc0FkICYmICFjb250ZXh0LmFkUmVxdWlyZXNVaTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGNvbmZpZyxcbiAgICApO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTW9kZXJuU21hbGxTY3JlZW5VSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcbiAgICByZXR1cm4gbmV3IFVJTWFuYWdlcihcbiAgICAgIHBsYXllcixcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIHVpOiBtb2Rlcm5TbWFsbFNjcmVlbkFkc1VJKCksXG4gICAgICAgICAgY29uZGl0aW9uOiAoY29udGV4dDogVUlDb25kaXRpb25Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dC5pc0FkICYmIGNvbnRleHQuYWRSZXF1aXJlc1VpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB1aTogbW9kZXJuU21hbGxTY3JlZW5VSSgpLFxuICAgICAgICAgIGNvbmRpdGlvbjogKGNvbnRleHQ6IFVJQ29uZGl0aW9uQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICFjb250ZXh0LmlzQWQgJiYgIWNvbnRleHQuYWRSZXF1aXJlc1VpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgY29uZmlnLFxuICAgICk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gYnVpbGRNb2Rlcm5DYXN0UmVjZWl2ZXJVSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcbiAgICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIG1vZGVybkNhc3RSZWNlaXZlclVJKCksIGNvbmZpZyk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gYnVpbGRNb2Rlcm5UdlVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xuICAgIHJldHVybiBuZXcgVUlNYW5hZ2VyKFxuICAgICAgcGxheWVyLFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgLi4ubW9kZXJuVHZVSSgpLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGNvbmZpZyxcbiAgICApO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIG1vZGVyblR2VUkoKSB7XG4gICAgY29uc3Qgc3VidGl0bGVMaXN0Qm94ID0gbmV3IFN1YnRpdGxlTGlzdEJveCgpO1xuICAgIGNvbnN0IHN1YnRpdGxlTGlzdFBhbmVsID0gbmV3IFNldHRpbmdzUGFuZWwoe1xuICAgICAgY29tcG9uZW50czogW1xuICAgICAgICBuZXcgU2V0dGluZ3NQYW5lbFBhZ2Uoe1xuICAgICAgICAgIGNvbXBvbmVudHM6IFtuZXcgU2V0dGluZ3NQYW5lbEl0ZW0obnVsbCwgc3VidGl0bGVMaXN0Qm94KV0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIGhpZGRlbjogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGF1ZGlvVHJhY2tMaXN0Qm94ID0gbmV3IEF1ZGlvVHJhY2tMaXN0Qm94KCk7XG4gICAgY29uc3QgYXVkaW9UcmFja0xpc3RQYW5lbCA9IG5ldyBTZXR0aW5nc1BhbmVsKHtcbiAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgbmV3IFNldHRpbmdzUGFuZWxQYWdlKHtcbiAgICAgICAgICBjb21wb25lbnRzOiBbbmV3IFNldHRpbmdzUGFuZWxJdGVtKG51bGwsIGF1ZGlvVHJhY2tMaXN0Qm94KV0sXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICAgIGhpZGRlbjogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHNlZWtCYXIgPSBuZXcgU2Vla0Jhcih7IGxhYmVsOiBuZXcgU2Vla0JhckxhYmVsKCkgfSk7XG4gICAgY29uc3QgcGxheWJhY2tUb2dnbGVPdmVybGF5ID0gbmV3IFBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpO1xuICAgIGNvbnN0IHN1YnRpdGxlVG9nZ2xlQnV0dG9uID0gbmV3IFNldHRpbmdzVG9nZ2xlQnV0dG9uKHtcbiAgICAgIHNldHRpbmdzUGFuZWw6IHN1YnRpdGxlTGlzdFBhbmVsLFxuICAgICAgYXV0b0hpZGVXaGVuTm9BY3RpdmVTZXR0aW5nczogdHJ1ZSxcbiAgICAgIGNzc0NsYXNzOiAndWktc3VidGl0bGVzZXR0aW5nc3RvZ2dsZWJ1dHRvbicsXG4gICAgICB0ZXh0OiBpMThuLmdldExvY2FsaXplcignc2V0dGluZ3Muc3VidGl0bGVzJyksXG4gICAgfSk7XG4gICAgY29uc3QgYXVkaW9Ub2dnbGVCdXR0b24gPSBuZXcgU2V0dGluZ3NUb2dnbGVCdXR0b24oe1xuICAgICAgc2V0dGluZ3NQYW5lbDogYXVkaW9UcmFja0xpc3RQYW5lbCxcbiAgICAgIGF1dG9IaWRlV2hlbk5vQWN0aXZlU2V0dGluZ3M6IHRydWUsXG4gICAgICBjc3NDbGFzczogJ3VpLWF1ZGlvdHJhY2tzZXR0aW5nc3RvZ2dsZWJ1dHRvbicsXG4gICAgICBhcmlhTGFiZWw6IGkxOG4uZ2V0TG9jYWxpemVyKCdzZXR0aW5ncy5hdWRpby50cmFjaycpLFxuICAgICAgdGV4dDogaTE4bi5nZXRMb2NhbGl6ZXIoJ3NldHRpbmdzLmF1ZGlvLnRyYWNrJyksXG4gICAgfSk7XG4gICAgY29uc3QgdWlDb250YWluZXIgPSBuZXcgVUlDb250YWluZXIoe1xuICAgICAgY29tcG9uZW50czogW1xuICAgICAgICBuZXcgU3VidGl0bGVPdmVybGF5KCksXG4gICAgICAgIG5ldyBCdWZmZXJpbmdPdmVybGF5KCksXG4gICAgICAgIHBsYXliYWNrVG9nZ2xlT3ZlcmxheSxcbiAgICAgICAgbmV3IENvbnRyb2xCYXIoe1xuICAgICAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgICAgIG5ldyBDb250YWluZXIoe1xuICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICAgICAgbmV3IFBsYXliYWNrVGltZUxhYmVsKHtcbiAgICAgICAgICAgICAgICAgIHRpbWVMYWJlbE1vZGU6IFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50VGltZSxcbiAgICAgICAgICAgICAgICAgIGhpZGVJbkxpdmVQbGF5YmFjazogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBzZWVrQmFyLFxuICAgICAgICAgICAgICAgIG5ldyBQbGF5YmFja1RpbWVMYWJlbCh7XG4gICAgICAgICAgICAgICAgICB0aW1lTGFiZWxNb2RlOiBQbGF5YmFja1RpbWVMYWJlbE1vZGUuUmVtYWluaW5nVGltZSxcbiAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsndGV4dC1yaWdodCddLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItdG9wJ10sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KSxcbiAgICAgICAgbmV3IFRpdGxlQmFyKHtcbiAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICBuZXcgQ29udGFpbmVyKHtcbiAgICAgICAgICAgICAgY29tcG9uZW50czogW1xuICAgICAgICAgICAgICAgIG5ldyBNZXRhZGF0YUxhYmVsKHsgY29udGVudDogTWV0YWRhdGFMYWJlbENvbnRlbnQuVGl0bGUgfSksXG4gICAgICAgICAgICAgICAgc3VidGl0bGVUb2dnbGVCdXR0b24sXG4gICAgICAgICAgICAgICAgYXVkaW9Ub2dnbGVCdXR0b24sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsndWktdGl0bGViYXItdG9wJ10sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG5ldyBDb250YWluZXIoe1xuICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICAgICAgbmV3IE1ldGFkYXRhTGFiZWwoeyBjb250ZW50OiBNZXRhZGF0YUxhYmVsQ29udGVudC5EZXNjcmlwdGlvbiB9KSxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZUxpc3RQYW5lbCxcbiAgICAgICAgICAgICAgICBhdWRpb1RyYWNrTGlzdFBhbmVsLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ3VpLXRpdGxlYmFyLWJvdHRvbSddLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgXSxcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBSZWNvbW1lbmRhdGlvbk92ZXJsYXkoKSxcbiAgICAgICAgbmV3IEVycm9yTWVzc2FnZU92ZXJsYXkoKSxcbiAgICAgIF0sXG4gICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tdHYnXSxcbiAgICAgIGhpZGVEZWxheTogMjAwMCxcbiAgICAgIGhpZGVQbGF5ZXJTdGF0ZUV4Y2VwdGlvbnM6IFtcbiAgICAgICAgUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUHJlcGFyZWQsXG4gICAgICAgIFBsYXllclV0aWxzLlBsYXllclN0YXRlLlBhdXNlZCxcbiAgICAgICAgUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuRmluaXNoZWQsXG4gICAgICBdLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3BhdGlhbE5hdmlnYXRpb24gPSBuZXcgU3BhdGlhbE5hdmlnYXRpb24oXG4gICAgICBuZXcgUm9vdE5hdmlnYXRpb25Hcm91cCh1aUNvbnRhaW5lciwgcGxheWJhY2tUb2dnbGVPdmVybGF5LCBzZWVrQmFyLCBhdWRpb1RvZ2dsZUJ1dHRvbiwgc3VidGl0bGVUb2dnbGVCdXR0b24pLFxuICAgICAgbmV3IExpc3ROYXZpZ2F0aW9uR3JvdXAoTGlzdE9yaWVudGF0aW9uLlZlcnRpY2FsLCBzdWJ0aXRsZUxpc3RQYW5lbCwgc3VidGl0bGVMaXN0Qm94KSxcbiAgICAgIG5ldyBMaXN0TmF2aWdhdGlvbkdyb3VwKExpc3RPcmllbnRhdGlvbi5WZXJ0aWNhbCwgYXVkaW9UcmFja0xpc3RQYW5lbCwgYXVkaW9UcmFja0xpc3RCb3gpLFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdWk6IHVpQ29udGFpbmVyLFxuICAgICAgc3BhdGlhbE5hdmlnYXRpb246IHNwYXRpYWxOYXZpZ2F0aW9uLFxuICAgIH07XG4gIH1cbn1cbiIsImltcG9ydCB7VUlDb250YWluZXJ9IGZyb20gJy4vY29tcG9uZW50cy91aWNvbnRhaW5lcic7XG5pbXBvcnQge0RPTX0gZnJvbSAnLi9kb20nO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRDb25maWcsIFZpZXdNb2RlQ2hhbmdlZEV2ZW50QXJncyB9IGZyb20gJy4vY29tcG9uZW50cy9jb21wb25lbnQnO1xuaW1wb3J0IHtDb250YWluZXJ9IGZyb20gJy4vY29tcG9uZW50cy9jb250YWluZXInO1xuaW1wb3J0IHsgU2Vla0JhciwgU2Vla0Jhck1hcmtlciB9IGZyb20gJy4vY29tcG9uZW50cy9zZWVrYmFyJztcbmltcG9ydCB7Tm9BcmdzLCBFdmVudERpc3BhdGNoZXIsIENhbmNlbEV2ZW50QXJnc30gZnJvbSAnLi9ldmVudGRpc3BhdGNoZXInO1xuaW1wb3J0IHtVSVV0aWxzfSBmcm9tICcuL3VpdXRpbHMnO1xuaW1wb3J0IHtBcnJheVV0aWxzfSBmcm9tICcuL2FycmF5dXRpbHMnO1xuaW1wb3J0IHtCcm93c2VyVXRpbHN9IGZyb20gJy4vYnJvd3NlcnV0aWxzJztcbmltcG9ydCB7IFRpbWVsaW5lTWFya2VyLCBVSUNvbmZpZyB9IGZyb20gJy4vdWljb25maWcnO1xuaW1wb3J0IHsgUGxheWVyQVBJLCBQbGF5ZXJFdmVudENhbGxiYWNrLCBQbGF5ZXJFdmVudEJhc2UsIFBsYXllckV2ZW50LCBBZEV2ZW50LCBMaW5lYXJBZCB9IGZyb20gJ2JpdG1vdmluLXBsYXllcic7XG5pbXBvcnQgeyBWb2x1bWVDb250cm9sbGVyIH0gZnJvbSAnLi92b2x1bWVjb250cm9sbGVyJztcbmltcG9ydCB7IGkxOG4sIEN1c3RvbVZvY2FidWxhcnksIFZvY2FidWxhcmllcyB9IGZyb20gJy4vbG9jYWxpemF0aW9uL2kxOG4nO1xuaW1wb3J0IHsgRm9jdXNWaXNpYmlsaXR5VHJhY2tlciB9IGZyb20gJy4vZm9jdXN2aXNpYmlsaXR5dHJhY2tlcic7XG5pbXBvcnQgeyBpc01vYmlsZVYzUGxheWVyQVBJLCBNb2JpbGVWM1BsYXllckFQSSwgTW9iaWxlVjNQbGF5ZXJFdmVudCB9IGZyb20gJy4vbW9iaWxldjNwbGF5ZXJhcGknO1xuaW1wb3J0IHsgU3BhdGlhbE5hdmlnYXRpb24gfSBmcm9tICcuL3NwYXRpYWxuYXZpZ2F0aW9uL3NwYXRpYWxuYXZpZ2F0aW9uJztcbmltcG9ydCB7IFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSAnLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc21hbmFnZXInO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWxzIH0gZnJvbSAnLi9zdG9yYWdldXRpbHMnO1xuXG4vKipcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYWxpemF0aW9uQ29uZmlnIHtcbiAgLyoqXG4gICAqIFNldHMgdGhlIGRlc2lyZWQgbGFuZ3VhZ2UsIGFuZCBmYWxscyBiYWNrIHRvICdlbicgaWYgdGhlcmUgaXMgbm8gdm9jYWJ1bGFyeSBmb3IgdGhlIGRlc2lyZWQgbGFuZ3VhZ2UuIFNldHRpbmcgaXRcbiAgICogdG8gXCJhdXRvXCIgd2lsbCBlbmFibGUgbGFuZ3VhZ2UgZGV0ZWN0aW9uIGZyb20gdGhlIGJyb3dzZXIncyBsb2NhbGUuXG4gICAqL1xuICBsYW5ndWFnZT86ICdhdXRvJyB8ICdlbicgfCAnZGUnIHwgc3RyaW5nO1xuICAvKipcbiAgICogQSBtYXAgb2YgYGxhbmd1YWdlYCB0byB7QGxpbmsgQ3VzdG9tVm9jYWJ1bGFyeX0gZGVmaW5pdGlvbnMuIENhbiBiZSB1c2VkIHRvIG92ZXJ3cml0ZSBkZWZhdWx0IHRyYW5zbGF0aW9ucyBhbmQgYWRkXG4gICAqIGN1c3RvbSBzdHJpbmdzIG9yIGFkZGl0aW9uYWwgbGFuZ3VhZ2VzLlxuICAgKi9cbiAgdm9jYWJ1bGFyaWVzPzogVm9jYWJ1bGFyaWVzO1xufVxuXG4vKipcbiAqIEBjYXRlZ29yeSBDb25maWdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJuYWxVSUNvbmZpZyBleHRlbmRzIFVJQ29uZmlnIHtcbiAgZXZlbnRzOiB7XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgY29uZmlndXJhdGlvbiBoYXMgYmVlbiB1cGRhdGVkL2NoYW5nZWQuXG4gICAgICovXG4gICAgb25VcGRhdGVkOiBFdmVudERpc3BhdGNoZXI8VUlNYW5hZ2VyLCB2b2lkPjtcbiAgfTtcbiAgdm9sdW1lQ29udHJvbGxlcjogVm9sdW1lQ29udHJvbGxlcjtcbn1cblxuLyoqXG4gKiBUaGUgY29udGV4dCB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIGEge0BsaW5rIFVJQ29uZGl0aW9uUmVzb2x2ZXJ9IHRvIGRldGVybWluZSBpZiBpdCdzIGNvbmRpdGlvbnMgZnVsZmlsIHRoZSBjb250ZXh0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVJQ29uZGl0aW9uQ29udGV4dCB7XG4gIC8qKlxuICAgKiBUZWxscyBpZiB0aGUgcGxheWVyIGlzIGxvYWRpbmcgb3IgcGxheWluZyBhbiBhZC5cbiAgICovXG4gIGlzQWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBUZWxscyBpZiB0aGUgY3VycmVudCBhZCByZXF1aXJlcyBhbiBleHRlcm5hbCBVSSwgaWYge0BsaW5rICNpc0FkfSBpcyB0cnVlLlxuICAgKi9cbiAgYWRSZXF1aXJlc1VpOiBib29sZWFuO1xuICAvKipcbiAgICogVGVsbHMgaWYgdGhlIHBsYXllciBpcyBjdXJyZW50bHkgaW4gZnVsbHNjcmVlbiBtb2RlLlxuICAgKi9cbiAgaXNGdWxsc2NyZWVuOiBib29sZWFuO1xuICAvKipcbiAgICogVGVsbHMgaWYgdGhlIFVJIGlzIHJ1bm5pbmcgaW4gYSBtb2JpbGUgYnJvd3Nlci5cbiAgICovXG4gIGlzTW9iaWxlOiBib29sZWFuO1xuICAvKipcbiAgICogVGVsbHMgaWYgdGhlIHBsYXllciBpcyBpbiBwbGF5aW5nIG9yIHBhdXNlZCBzdGF0ZS5cbiAgICovXG4gIGlzUGxheWluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSB3aWR0aCBvZiB0aGUgcGxheWVyL1VJIGVsZW1lbnQuXG4gICAqL1xuICB3aWR0aDogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIHdpZHRoIG9mIHRoZSBkb2N1bWVudCB3aGVyZSB0aGUgcGxheWVyL1VJIGlzIGVtYmVkZGVkIGluLlxuICAgKi9cbiAgZG9jdW1lbnRXaWR0aDogbnVtYmVyO1xufVxuXG4vKipcbiAqIFJlc29sdmVzIHRoZSBjb25kaXRpb25zIG9mIGl0cyBhc3NvY2lhdGVkIFVJIGluIGEge0BsaW5rIFVJVmFyaWFudH0gdXBvbiBhIHtAbGluayBVSUNvbmRpdGlvbkNvbnRleHR9IGFuZCBkZWNpZGVzXG4gKiBpZiB0aGUgVUkgc2hvdWxkIGJlIGRpc3BsYXllZC4gSWYgaXQgcmV0dXJucyB0cnVlLCB0aGUgVUkgaXMgYSBjYW5kaWRhdGUgZm9yIGRpc3BsYXk7IGlmIGl0IHJldHVybnMgZmFsc2UsIGl0IHdpbGxcbiAqIG5vdCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGdpdmVuIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVUlDb25kaXRpb25SZXNvbHZlciB7XG4gIChjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEFzc29jaWF0ZXMgYSBVSSBpbnN0YW5jZSB3aXRoIGFuIG9wdGlvbmFsIHtAbGluayBVSUNvbmRpdGlvblJlc29sdmVyfSB0aGF0IGRldGVybWluZXMgaWYgdGhlIFVJIHNob3VsZCBiZSBkaXNwbGF5ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVUlWYXJpYW50IHtcbiAgdWk6IFVJQ29udGFpbmVyO1xuICBjb25kaXRpb24/OiBVSUNvbmRpdGlvblJlc29sdmVyO1xuICBzcGF0aWFsTmF2aWdhdGlvbj86IFNwYXRpYWxOYXZpZ2F0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFjdGl2ZVVpQ2hhbmdlZEFyZ3MgZXh0ZW5kcyBOb0FyZ3Mge1xuICAvKipcbiAgICogVGhlIHByZXZpb3VzbHkgYWN0aXZlIHtAbGluayBVSUluc3RhbmNlTWFuYWdlcn0gcHJpb3IgdG8gdGhlIHtAbGluayBVSU1hbmFnZXJ9IHN3aXRjaGluZyB0byBhIGRpZmZlcmVudCBVSSB2YXJpYW50LlxuICAgKi9cbiAgcHJldmlvdXNVaTogVUlJbnN0YW5jZU1hbmFnZXI7XG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSB7QGxpbmsgVUlJbnN0YW5jZU1hbmFnZXJ9LlxuICAgKi9cbiAgY3VycmVudFVpOiBVSUluc3RhbmNlTWFuYWdlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFVJTWFuYWdlciB7XG5cbiAgcHJpdmF0ZSBwbGF5ZXI6IFBsYXllckFQSTtcbiAgcHJpdmF0ZSB1aUNvbnRhaW5lckVsZW1lbnQ6IERPTTtcbiAgcHJpdmF0ZSB1aVZhcmlhbnRzOiBVSVZhcmlhbnRbXTtcbiAgcHJpdmF0ZSB1aUluc3RhbmNlTWFuYWdlcnM6IEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXJbXTtcbiAgcHJpdmF0ZSBjdXJyZW50VWk6IEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXI7XG4gIHByaXZhdGUgY29uZmlnOiBJbnRlcm5hbFVJQ29uZmlnOyAvLyBDb25qdW5jdGlvbiBvZiBwcm92aWRlZCB1aUNvbmZpZyBhbmQgc291cmNlQ29uZmlnIGZyb20gdGhlIHBsYXllclxuICBwcml2YXRlIG1hbmFnZXJQbGF5ZXJXcmFwcGVyOiBQbGF5ZXJXcmFwcGVyO1xuICBwcml2YXRlIGZvY3VzVmlzaWJpbGl0eVRyYWNrZXI6IEZvY3VzVmlzaWJpbGl0eVRyYWNrZXI7XG4gIHByaXZhdGUgc3VidGl0bGVTZXR0aW5nc01hbmFnZXI6IFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyO1xuXG4gIHByaXZhdGUgZXZlbnRzID0ge1xuICAgIG9uVWlWYXJpYW50UmVzb2x2ZTogbmV3IEV2ZW50RGlzcGF0Y2hlcjxVSU1hbmFnZXIsIFVJQ29uZGl0aW9uQ29udGV4dD4oKSxcbiAgICBvbkFjdGl2ZVVpQ2hhbmdlZDogbmV3IEV2ZW50RGlzcGF0Y2hlcjxVSU1hbmFnZXIsIEFjdGl2ZVVpQ2hhbmdlZEFyZ3M+KCksXG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBVSSBtYW5hZ2VyIHdpdGggYSBzaW5nbGUgVUkgdmFyaWFudCB0aGF0IHdpbGwgYmUgcGVybWFuZW50bHkgc2hvd24uXG4gICAqIEBwYXJhbSBwbGF5ZXIgdGhlIGFzc29jaWF0ZWQgcGxheWVyIG9mIHRoaXMgVUlcbiAgICogQHBhcmFtIHVpIHRoZSBVSSB0byBhZGQgdG8gdGhlIHBsYXllclxuICAgKiBAcGFyYW0gdWljb25maWcgb3B0aW9uYWwgVUkgY29uZmlndXJhdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IocGxheWVyOiBQbGF5ZXJBUEksIHVpOiBVSUNvbnRhaW5lciwgdWljb25maWc/OiBVSUNvbmZpZyk7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgVUkgbWFuYWdlciB3aXRoIGEgbGlzdCBvZiBVSSB2YXJpYW50cyB0aGF0IHdpbGwgYmUgZHluYW1pY2FsbHkgc2VsZWN0ZWQgYW5kIHN3aXRjaGVkIGFjY29yZGluZyB0b1xuICAgKiB0aGUgY29udGV4dCBvZiB0aGUgVUkuXG4gICAqXG4gICAqIEV2ZXJ5IHRpbWUgdGhlIFVJIGNvbnRleHQgY2hhbmdlcywgdGhlIGNvbmRpdGlvbnMgb2YgdGhlIFVJIHZhcmlhbnRzIHdpbGwgYmUgc2VxdWVudGlhbGx5IHJlc29sdmVkIGFuZCB0aGUgZmlyc3RcbiAgICogVUksIHdob3NlIGNvbmRpdGlvbiBldmFsdWF0ZXMgdG8gdHJ1ZSwgd2lsbCBiZSBzZWxlY3RlZCBhbmQgZGlzcGxheWVkLiBUaGUgbGFzdCB2YXJpYW50IGluIHRoZSBsaXN0IG1pZ2h0IG9taXQgdGhlXG4gICAqIGNvbmRpdGlvbiByZXNvbHZlciBhbmQgd2lsbCBiZSBzZWxlY3RlZCBhcyBkZWZhdWx0L2ZhbGxiYWNrIFVJIHdoZW4gYWxsIG90aGVyIGNvbmRpdGlvbnMgZmFpbC4gSWYgdGhlcmUgaXMgbm9cbiAgICogZmFsbGJhY2sgVUkgYW5kIGFsbCBjb25kaXRpb25zIGZhaWwsIG5vIFVJIHdpbGwgYmUgZGlzcGxheWVkLlxuICAgKlxuICAgKiBAcGFyYW0gcGxheWVyIHRoZSBhc3NvY2lhdGVkIHBsYXllciBvZiB0aGlzIFVJXG4gICAqIEBwYXJhbSB1aVZhcmlhbnRzIGEgbGlzdCBvZiBVSSB2YXJpYW50cyB0aGF0IHdpbGwgYmUgZHluYW1pY2FsbHkgc3dpdGNoZWRcbiAgICogQHBhcmFtIHVpY29uZmlnIG9wdGlvbmFsIFVJIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKHBsYXllcjogUGxheWVyQVBJLCB1aVZhcmlhbnRzOiBVSVZhcmlhbnRbXSwgdWljb25maWc/OiBVSUNvbmZpZyk7XG4gIGNvbnN0cnVjdG9yKHBsYXllcjogUGxheWVyQVBJLCBwbGF5ZXJVaU9yVWlWYXJpYW50czogVUlDb250YWluZXIgfCBVSVZhcmlhbnRbXSwgdWljb25maWc6IFVJQ29uZmlnID0ge30pIHtcbiAgICBpZiAocGxheWVyVWlPclVpVmFyaWFudHMgaW5zdGFuY2VvZiBVSUNvbnRhaW5lcikge1xuICAgICAgLy8gU2luZ2xlLVVJIGNvbnN0cnVjdG9yIGhhcyBiZWVuIGNhbGxlZCwgdHJhbnNmb3JtIGFyZ3VtZW50cyB0byBVSVZhcmlhbnRbXSBzaWduYXR1cmVcbiAgICAgIGxldCBwbGF5ZXJVaSA9IDxVSUNvbnRhaW5lcj5wbGF5ZXJVaU9yVWlWYXJpYW50cztcbiAgICAgIGxldCB1aVZhcmlhbnRzID0gW107XG5cbiAgICAgIC8vIEFkZCB0aGUgZGVmYXVsdCBwbGF5ZXIgVUlcbiAgICAgIHVpVmFyaWFudHMucHVzaCh7IHVpOiBwbGF5ZXJVaSB9KTtcblxuICAgICAgdGhpcy51aVZhcmlhbnRzID0gdWlWYXJpYW50cztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBEZWZhdWx0IGNvbnN0cnVjdG9yIChVSVZhcmlhbnRbXSkgaGFzIGJlZW4gY2FsbGVkXG4gICAgICB0aGlzLnVpVmFyaWFudHMgPSA8VUlWYXJpYW50W10+cGxheWVyVWlPclVpVmFyaWFudHM7XG4gICAgfVxuXG4gICAgdGhpcy5zdWJ0aXRsZVNldHRpbmdzTWFuYWdlciA9IG5ldyBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlcigpO1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIgPSBuZXcgUGxheWVyV3JhcHBlcihwbGF5ZXIpO1xuXG4gICAgLy8gZW5zdXJlIHRoYXQgYXQgbGVhc3QgdGhlIG1ldGFkYXRhIG9iamVjdCBkb2VzIGV4aXN0IGluIHRoZSB1aWNvbmZpZ1xuICAgIHVpY29uZmlnLm1ldGFkYXRhID0gdWljb25maWcubWV0YWRhdGEgPyB1aWNvbmZpZy5tZXRhZGF0YSA6IHt9O1xuXG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICBwbGF5YmFja1NwZWVkU2VsZWN0aW9uRW5hYmxlZDogdHJ1ZSwgLy8gU3dpdGNoIG9uIHNwZWVkIHNlbGVjdG9yIGJ5IGRlZmF1bHRcbiAgICAgIGF1dG9VaVZhcmlhbnRSZXNvbHZlOiB0cnVlLCAvLyBTd2l0Y2ggb24gYXV0byBVSSByZXNvbHZpbmcgYnkgZGVmYXVsdFxuICAgICAgZGlzYWJsZUF1dG9IaWRlV2hlbkhvdmVyZWQ6IGZhbHNlLCAvLyBEaXNhYmxlIGF1dG8gaGlkZSB3aGVuIFVJIGlzIGhvdmVyZWRcbiAgICAgIGVuYWJsZVNlZWtQcmV2aWV3OiB0cnVlLFxuICAgICAgLi4udWljb25maWcsXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgb25VcGRhdGVkOiBuZXcgRXZlbnREaXNwYXRjaGVyPFVJTWFuYWdlciwgdm9pZD4oKSxcbiAgICAgIH0sXG4gICAgICB2b2x1bWVDb250cm9sbGVyOiBuZXcgVm9sdW1lQ29udHJvbGxlcih0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpKSxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2F0aGVycyBjb25maWd1cmF0aW9uIGRhdGEgZnJvbSB0aGUgVUkgY29uZmlnIGFuZCBwbGF5ZXIgc291cmNlIGNvbmZpZyBhbmQgY3JlYXRlcyBhIG1lcmdlZCBVSSBjb25maWdcbiAgICAgKiB0aGF0IGlzIHVzZWQgdGhyb3VnaG91dCB0aGUgVUkgaW5zdGFuY2UuXG4gICAgICovXG4gICAgY29uc3QgdXBkYXRlQ29uZmlnID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGxheWVyU291cmNlQ29uZmlnID0gcGxheWVyLmdldFNvdXJjZSgpIHx8IHt9O1xuICAgICAgdGhpcy5jb25maWcubWV0YWRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHVpY29uZmlnLm1ldGFkYXRhIHx8IHt9KSk7XG5cbiAgICAgIC8vIEV4dHJhY3QgdGhlIFVJLXJlbGF0ZWQgY29uZmlnIHByb3BlcnRpZXMgZnJvbSB0aGUgc291cmNlIGNvbmZpZ1xuICAgICAgY29uc3QgcGxheWVyU291cmNlVWlDb25maWc6IFVJQ29uZmlnID0ge1xuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIC8vIFRPRE8gbW92ZSBtZXRhZGF0YSBpbnRvIHNvdXJjZS5tZXRhZGF0YSBuYW1lc3BhY2UgaW4gcGxheWVyIHY4XG4gICAgICAgICAgdGl0bGU6IHBsYXllclNvdXJjZUNvbmZpZy50aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogcGxheWVyU291cmNlQ29uZmlnLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIG1hcmtlcnM6IChwbGF5ZXJTb3VyY2VDb25maWcgYXMgYW55KS5tYXJrZXJzLFxuICAgICAgICB9LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IChwbGF5ZXJTb3VyY2VDb25maWcgYXMgYW55KS5yZWNvbW1lbmRhdGlvbnMsXG4gICAgICB9O1xuXG4gICAgICAvLyBQbGF5ZXIgc291cmNlIGNvbmZpZyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdGhlIFVJIGNvbmZpZywgYmVjYXVzZSB0aGUgY29uZmlnIGluIHRoZSBzb3VyY2UgaXMgYXR0YWNoZWRcbiAgICAgIC8vIHRvIGEgc291cmNlIHdoaWNoIGNoYW5nZXMgd2l0aCBldmVyeSBwbGF5ZXIubG9hZCwgd2hlcmVhcyB0aGUgVUkgY29uZmlnIHN0YXlzIHRoZSBzYW1lIGZvciB0aGUgd2hvbGVcbiAgICAgIC8vIGxpZmV0aW1lIG9mIHRoZSBwbGF5ZXIgaW5zdGFuY2UuXG4gICAgICB0aGlzLmNvbmZpZy5tZXRhZGF0YS50aXRsZSA9IHBsYXllclNvdXJjZVVpQ29uZmlnLm1ldGFkYXRhLnRpdGxlIHx8IHVpY29uZmlnLm1ldGFkYXRhLnRpdGxlO1xuICAgICAgdGhpcy5jb25maWcubWV0YWRhdGEuZGVzY3JpcHRpb24gPSBwbGF5ZXJTb3VyY2VVaUNvbmZpZy5tZXRhZGF0YS5kZXNjcmlwdGlvbiB8fCB1aWNvbmZpZy5tZXRhZGF0YS5kZXNjcmlwdGlvbjtcbiAgICAgIHRoaXMuY29uZmlnLm1ldGFkYXRhLm1hcmtlcnMgPSBwbGF5ZXJTb3VyY2VVaUNvbmZpZy5tZXRhZGF0YS5tYXJrZXJzIHx8IHVpY29uZmlnLm1ldGFkYXRhLm1hcmtlcnMgfHwgW107XG4gICAgICB0aGlzLmNvbmZpZy5yZWNvbW1lbmRhdGlvbnMgPSBwbGF5ZXJTb3VyY2VVaUNvbmZpZy5yZWNvbW1lbmRhdGlvbnMgfHwgdWljb25maWcucmVjb21tZW5kYXRpb25zIHx8IFtdO1xuXG4gICAgICBTdG9yYWdlVXRpbHMuc2V0U3RvcmFnZUFwaURpc2FibGVkKHVpY29uZmlnKTtcbiAgICB9O1xuXG4gICAgdXBkYXRlQ29uZmlnKCk7XG4gICAgdGhpcy5zdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5pbml0aWFsaXplKCk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIHNvdXJjZSBjb25maWd1cmF0aW9uIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZCBhbmQgZGlzcGF0Y2ggb25VcGRhdGVkXG4gICAgY29uc3QgdXBkYXRlU291cmNlID0gKCkgPT4ge1xuICAgICAgdXBkYXRlQ29uZmlnKCk7XG4gICAgICB0aGlzLmNvbmZpZy5ldmVudHMub25VcGRhdGVkLmRpc3BhdGNoKHRoaXMpO1xuICAgIH07XG5cbiAgICBjb25zdCB3cmFwcGVkUGxheWVyID0gdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKTtcblxuICAgIHdyYXBwZWRQbGF5ZXIub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5Tb3VyY2VMb2FkZWQsIHVwZGF0ZVNvdXJjZSk7XG5cbiAgICAvLyBUaGUgUGxheWxpc3RUcmFuc2l0aW9uIGV2ZW50IGlzIG9ubHkgYXZhaWxhYmxlIG9uIE1vYmlsZSB2MyBmb3Igbm93LlxuICAgIC8vIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiBhIG5ldyBzb3VyY2UgYmVjb21lcyBhY3RpdmUgaW4gdGhlIHBsYXllci5cbiAgICBpZiAoaXNNb2JpbGVWM1BsYXllckFQSSh3cmFwcGVkUGxheWVyKSkge1xuICAgICAgd3JhcHBlZFBsYXllci5vbihNb2JpbGVWM1BsYXllckV2ZW50LlBsYXlsaXN0VHJhbnNpdGlvbiwgdXBkYXRlU291cmNlKTtcbiAgICB9XG5cbiAgICBpZiAodWljb25maWcuY29udGFpbmVyKSB7XG4gICAgICAvLyBVbmZvcnR1bmF0ZWx5IFwidWlDb250YWluZXJFbGVtZW50ID0gbmV3IERPTShjb25maWcuY29udGFpbmVyKVwiIHdpbGwgbm90IGFjY2VwdCB0aGUgY29udGFpbmVyIHdpdGhcbiAgICAgIC8vIHN0cmluZ3xIVE1MRWxlbWVudCB0eXBlIGRpcmVjdGx5LCBhbHRob3VnaCBpdCBhY2NlcHRzIGJvdGggdHlwZXMsIHNvIHdlIG5lZWQgdG8gc3BpdCB0aGVzZSB0d28gY2FzZXMgdXAgaGVyZS5cbiAgICAgIC8vIFRPRE8gY2hlY2sgaW4gdXBjb21pbmcgVFMgdmVyc2lvbnMgaWYgdGhlIGNvbnRhaW5lciBjYW4gYmUgcGFzc2VkIGluIGRpcmVjdGx5LCBvciBmaXggdGhlIGNvbnN0cnVjdG9yXG4gICAgICB0aGlzLnVpQ29udGFpbmVyRWxlbWVudCA9IHVpY29uZmlnLmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID9cbiAgICAgICAgbmV3IERPTSh1aWNvbmZpZy5jb250YWluZXIpIDogbmV3IERPTSh1aWNvbmZpZy5jb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVpQ29udGFpbmVyRWxlbWVudCA9IG5ldyBET00ocGxheWVyLmdldENvbnRhaW5lcigpKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgVUkgaW5zdGFuY2UgbWFuYWdlcnMgZm9yIHRoZSBVSSB2YXJpYW50c1xuICAgIC8vIFRoZSBpbnN0YW5jZSBtYW5hZ2VycyBtYXAgdG8gdGhlIGNvcnJlc3BvbmRpbmcgVUkgdmFyaWFudHMgYnkgdGhlaXIgYXJyYXkgaW5kZXhcbiAgICB0aGlzLnVpSW5zdGFuY2VNYW5hZ2VycyA9IFtdO1xuICAgIGxldCB1aVZhcmlhbnRzV2l0aG91dENvbmRpdGlvbiA9IFtdO1xuICAgIGZvciAobGV0IHVpVmFyaWFudCBvZiB0aGlzLnVpVmFyaWFudHMpIHtcbiAgICAgIGlmICh1aVZhcmlhbnQuY29uZGl0aW9uID09IG51bGwpIHtcbiAgICAgICAgLy8gQ29sbGVjdCB2YXJpYW50cyB3aXRob3V0IGNvbmRpdGlvbnMgZm9yIGVycm9yIGNoZWNraW5nXG4gICAgICAgIHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uLnB1c2godWlWYXJpYW50KTtcbiAgICAgIH1cbiAgICAgIC8vIENyZWF0ZSB0aGUgaW5zdGFuY2UgbWFuYWdlciBmb3IgYSBVSSB2YXJpYW50XG4gICAgICB0aGlzLnVpSW5zdGFuY2VNYW5hZ2Vycy5wdXNoKG5ldyBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyKFxuICAgICAgICBwbGF5ZXIsXG4gICAgICAgIHVpVmFyaWFudC51aSxcbiAgICAgICAgdGhpcy5jb25maWcsXG4gICAgICAgIHRoaXMuc3VidGl0bGVTZXR0aW5nc01hbmFnZXIsXG4gICAgICAgIHVpVmFyaWFudC5zcGF0aWFsTmF2aWdhdGlvbixcbiAgICAgICkpO1xuICAgIH1cbiAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGVyZSBpcyBvbmx5IG9uZSBVSSB2YXJpYW50IHdpdGhvdXQgYSBjb25kaXRpb25cbiAgICAvLyBJdCBkb2VzIG5vdCBtYWtlIHNlbnNlIHRvIGhhdmUgbXVsdGlwbGUgdmFyaWFudHMgd2l0aG91dCBjb25kaXRpb24sIGJlY2F1c2Ugb25seSB0aGUgZmlyc3Qgb25lIGluIHRoZSBsaXN0XG4gICAgLy8gKHRoZSBvbmUgd2l0aCB0aGUgbG93ZXN0IGluZGV4KSB3aWxsIGV2ZXIgYmUgc2VsZWN0ZWQuXG4gICAgaWYgKHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IEVycm9yKCdUb28gbWFueSBVSXMgd2l0aG91dCBhIGNvbmRpdGlvbjogWW91IGNhbm5vdCBoYXZlIG1vcmUgdGhhbiBvbmUgZGVmYXVsdCBVSScpO1xuICAgIH1cbiAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgZGVmYXVsdCBVSSB2YXJpYW50LCBpZiBkZWZpbmVkLCBpcyBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IChsYXN0IGluZGV4KVxuICAgIC8vIElmIGl0IGNvbWVzIGVhcmxpZXIsIHRoZSB2YXJpYW50cyB3aXRoIGNvbmRpdGlvbnMgdGhhdCBjb21lIGFmdGVyd2FyZHMgd2lsbCBuZXZlciBiZSBzZWxlY3RlZCBiZWNhdXNlIHRoZVxuICAgIC8vIGRlZmF1bHQgdmFyaWFudCB3aXRob3V0IGEgY29uZGl0aW9uIGFsd2F5cyBldmFsdWF0ZXMgdG8gJ3RydWUnXG4gICAgaWYgKHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uLmxlbmd0aCA+IDBcbiAgICAgICYmIHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uWzBdICE9PSB0aGlzLnVpVmFyaWFudHNbdGhpcy51aVZhcmlhbnRzLmxlbmd0aCAtIDFdKSB7XG4gICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBVSSB2YXJpYW50IG9yZGVyOiB0aGUgZGVmYXVsdCBVSSAod2l0aG91dCBjb25kaXRpb24pIG11c3QgYmUgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCcpO1xuICAgIH1cblxuICAgIGxldCBhZFN0YXJ0ZWRFdmVudDogQWRFdmVudCA9IG51bGw7IC8vIGtlZXAgdGhlIGV2ZW50IHN0b3JlZCBoZXJlIGR1cmluZyBhZCBwbGF5YmFja1xuXG4gICAgLy8gRHluYW1pY2FsbHkgc2VsZWN0IGEgVUkgdmFyaWFudCB0aGF0IG1hdGNoZXMgdGhlIGN1cnJlbnQgVUkgY29uZGl0aW9uLlxuICAgIGxldCByZXNvbHZlVWlWYXJpYW50ID0gKGV2ZW50OiBQbGF5ZXJFdmVudEJhc2UpID0+IHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBBZFN0YXJ0ZWQgZXZlbnQgZGF0YSBpcyBwZXJzaXN0ZWQgdGhyb3VnaCBhZCBwbGF5YmFjayBpbiBjYXNlIG90aGVyIGV2ZW50cyBoYXBwZW5cbiAgICAgIC8vIGluIHRoZSBtZWFudGltZSwgZS5nLiBwbGF5ZXIgcmVzaXplLiBXZSBuZWVkIHRvIHN0b3JlIHRoaXMgZGF0YSBiZWNhdXNlIHRoZXJlIGlzIG5vIG90aGVyIHdheSB0byBmaW5kIG91dFxuICAgICAgLy8gYWQgZGV0YWlscyB3aGlsZSBhbiBhZCBpcyBwbGF5aW5nIChpbiB2OC4wIGF0IGxlYXN0OyBmcm9tIHY4LjEgdGhlcmUgd2lsbCBiZSBhZHMuZ2V0QWN0aXZlQWQoKSkuXG4gICAgICAvLyBFeGlzdGluZyBldmVudCBkYXRhIHNpZ25hbHMgdGhhdCBhbiBhZCBpcyBjdXJyZW50bHkgYWN0aXZlIChpbnN0ZWFkIG9mIGFkcy5pc0xpbmVhckFkQWN0aXZlKCkpLlxuICAgICAgaWYgKGV2ZW50ICE9IG51bGwpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgLy8gVGhlIGFkcyBVSSBpcyBzaG93biB1cG9uIHRoZSBmaXJzdCBBZFN0YXJ0ZWQgZXZlbnQuIFN1YnNlcXVlbnQgQWRTdGFydGVkIGV2ZW50cyB3aXRoaW4gYW4gYWQgYnJlYWtcbiAgICAgICAgICAvLyB3aWxsIG5vdCBjaGFuZ2UgdGhlIGNvbmRpdGlvbiBjb250ZXh0IGFuZCB0aHVzIG5vdCBsZWFkIHRvIHVuZGVzaXJlZCBVSSB2YXJpYW50IHJlc29sdmluZy5cbiAgICAgICAgICAvLyBUaGUgYWRzIFVJIGlzIHNob3duIHVwb24gQWRTdGFydGVkIGluc3RlYWQgb2YgQWRCcmVha1N0YXJ0ZWQgYmVjYXVzZSB0aGVyZSBjYW4gYmUgYSBsb2FkaW5nIGRlbGF5XG4gICAgICAgICAgLy8gYmV0d2VlbiB0aGVzZSB0d28gZXZlbnRzIGluIHRoZSBwbGF5ZXIsIGFuZCB0aGUgQWRCcmVha1N0YXJ0ZWQgZXZlbnQgZG9lcyBub3QgY2FycnkgYW55IG1ldGFkYXRhIHRvXG4gICAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgYWRzIFVJLCBzbyBpdCB3b3VsZCBiZSByZW5kZXJlZCBpbiBhbiB1bmluaXRpYWxpemVkIHN0YXRlIGZvciBhIGNlcnRhaW4gYW1vdW50IG9mIHRpbWUuXG4gICAgICAgICAgLy8gVE9ETyBzaG93IGFkcyBVSSB1cG9uIEFkQnJlYWtTdGFydGVkIGFuZCBkaXNwbGF5IGxvYWRpbmcgb3ZlcmxheSBiZXR3ZWVuIEFkQnJlYWtTdGFydGVkIGFuZCBmaXJzdCBBZFN0YXJ0ZWRcbiAgICAgICAgICAvLyBUT0RPIGRpc3BsYXkgbG9hZGluZyBvdmVybGF5IGJldHdlZW4gQWRGaW5pc2hlZCBhbmQgbmV4dCBBZFN0YXJ0ZWRcbiAgICAgICAgICBjYXNlIHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkFkU3RhcnRlZDpcbiAgICAgICAgICAgIGFkU3RhcnRlZEV2ZW50ID0gZXZlbnQgYXMgQWRFdmVudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIFRoZSBhZHMgVUkgaXMgaGlkZGVuIG9ubHkgd2hlbiB0aGUgYWQgYnJlYWsgaXMgZmluaXNoZWQsIGkuZS4gbm90IG9uIEFkRmluaXNoZWQgZXZlbnRzLiBUaGlzIHdheSB3ZSBrZWVwXG4gICAgICAgICAgLy8gdGhlIGFkcyBVSSB2YXJpYW50IGFjdGl2ZSB0aHJvdWdob3V0IGFuIGFkIGJyZWFrLCBhcyByZWFjdGluZyB0byBBZEZpbmlzaGVkIHdvdWxkIGxlYWQgdG8gdW5kZXNpcmVkIFVJXG4gICAgICAgICAgLy8gdmFyaWFudCBzd2l0Y2hpbmcgYmV0d2VlbiB0d28gYWRzIGluIGFuIGFkIGJyZWFrLCBlLmcuIGFkcyBVSSAtPiBBZEZpbmlzaGVkIC0+IGNvbnRlbnQgVUkgLT5cbiAgICAgICAgICAvLyBBZFN0YXJ0ZWQgLT4gYWRzIFVJLlxuICAgICAgICAgIGNhc2UgcGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRCcmVha0ZpbmlzaGVkOlxuICAgICAgICAgICAgYWRTdGFydGVkRXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gV2hlbiBzd2l0Y2hpbmcgdG8gYSB2YXJpYW50IGZvciB0aGUgZmlyc3QgdGltZSwgYSBjb25maWcuZXZlbnRzLm9uVXBkYXRlZCBldmVudCBpcyBmaXJlZCB0byB0cmlnZ2VyIGEgVUlcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBvZiB0aGUgbmV3IHZhcmlhbnQsIGJlY2F1c2UgbW9zdCBjb21wb25lbnRzIHN1YnNjcmliZSB0byB0aGlzIGV2ZW50IHRvIHVwZGF0ZSB0aGVtc2VsdmVzLiBXaGVuXG4gICAgICAgICAgICAvLyBzd2l0Y2hpbmcgdG8gdGhlIGFkcyBVSSBvbiB0aGUgZmlyc3QgQWRTdGFydGVkLCBhbGwgVUkgdmFyaWFudHMgdXBkYXRlIHRoZW1zZWx2ZXMgd2l0aCB0aGUgYWQgZGF0YSwgc29cbiAgICAgICAgICAgIC8vIHdoZW4gc3dpdGNoaW5nIGJhY2sgdG8gdGhlIFwibm9ybWFsXCIgVUkgaXQgd2lsbCBjYXJyeSBwcm9wZXJ0aWVzIG9mIHRoZSBhZCBpbnN0ZWFkIG9mIHRoZSBtYWluIGNvbnRlbnQuXG4gICAgICAgICAgICAvLyBXZSB0aHVzIGZpcmUgdGhpcyBldmVudCBoZXJlIHRvIGZvcmNlIGFuIFVJIHVwZGF0ZSB3aXRoIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBtYWluIGNvbnRlbnQuIFRoaXMgaXNcbiAgICAgICAgICAgIC8vIGJhc2ljYWxseSBhIGhhY2sgYmVjYXVzZSB0aGUgY29uZmlnLmV2ZW50cy5vblVwZGF0ZWQgZXZlbnQgaXMgYWJ1c2VkIGluIG1hbnkgcGxhY2VzIGFuZCBub3QganVzdCB1c2VkXG4gICAgICAgICAgICAvLyBmb3IgY29uZmlnIHVwZGF0ZXMgKGUuZy4gYWRkaW5nIGEgbWFya2VyIHRvIHRoZSBzZWVrYmFyKS5cbiAgICAgICAgICAgIC8vIFRPRE8gaW50cm9kdWNlIGFuIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgcGxheWJhY2sgY29udGVudCBpcyB1cGRhdGVkLCBhIHN3aXRjaCB0by9mcm9tIGFkc1xuICAgICAgICAgICAgdGhpcy5jb25maWcuZXZlbnRzLm9uVXBkYXRlZC5kaXNwYXRjaCh0aGlzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIFdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZCBkdXJpbmcgYWQgcGxheWJhY2ssIHRoZXJlIHdpbGwgYmUgbm8gQWQoQnJlYWspRmluaXNoZWQgZXZlbnRcbiAgICAgICAgICBjYXNlIHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNvdXJjZUxvYWRlZDpcbiAgICAgICAgICBjYXNlIHBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNvdXJjZVVubG9hZGVkOlxuICAgICAgICAgICAgYWRTdGFydGVkRXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRGV0ZWN0IGlmIGFuIGFkIGhhcyBzdGFydGVkXG4gICAgICBsZXQgaXNBZCA9IGFkU3RhcnRlZEV2ZW50ICE9IG51bGw7XG4gICAgICBsZXQgYWRSZXF1aXJlc1VpID0gZmFsc2U7XG4gICAgICBpZiAoaXNBZCkge1xuICAgICAgICBsZXQgYWQgPSBhZFN0YXJ0ZWRFdmVudC5hZDtcbiAgICAgICAgLy8gZm9yIG5vdyBvbmx5IGxpbmVhciBhZHMgY2FuIHJlcXVlc3QgYSBVSVxuICAgICAgICBpZiAoYWQuaXNMaW5lYXIpIHtcbiAgICAgICAgICBsZXQgbGluZWFyQWQgPSBhZCBhcyBMaW5lYXJBZDtcbiAgICAgICAgICBhZFJlcXVpcmVzVWkgPSBsaW5lYXJBZC51aUNvbmZpZyAmJiBsaW5lYXJBZC51aUNvbmZpZy5yZXF1ZXN0c1VpIHx8IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhZFJlcXVpcmVzVWkpIHtcbiAgICAgICAgLy8gd2UgZGlzcGF0Y2ggb25VcGRhdGVkIGV2ZW50IGJlY2F1c2UgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGFkQnJlYWtzIGZvciBzYW1lIHBvc2l0aW9uXG4gICAgICAgIC8vIGBQbGF5YCBhbmQgYFBsYXlpbmdgIGV2ZW50cyB3aWxsIG5vdCBiZSBkaXNwYXRjaGVkIHdoaWNoIHdpbGwgY2F1c2UgYFBsYXliYWNrQnV0dG9uYCBzdGF0ZVxuICAgICAgICAvLyB0byBiZSBvdXQgb2Ygc3luY1xuICAgICAgICB0aGlzLmNvbmZpZy5ldmVudHMub25VcGRhdGVkLmRpc3BhdGNoKHRoaXMpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc29sdmVVaVZhcmlhbnQoe1xuICAgICAgICBpc0FkOiBpc0FkLFxuICAgICAgICBhZFJlcXVpcmVzVWk6IGFkUmVxdWlyZXNVaSxcbiAgICAgIH0sIChjb250ZXh0KSA9PiB7XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYW4gYWQgVUksIHdlIG5lZWQgdG8gcmVsYXkgdGhlIHNhdmVkIE9OX0FEX1NUQVJURUQgZXZlbnQgZGF0YSBzbyBhZCBjb21wb25lbnRzIGNhbiBjb25maWd1cmVcbiAgICAgICAgLy8gdGhlbXNlbHZlcyBmb3IgdGhlIGN1cnJlbnQgYWQuXG4gICAgICAgIGlmIChjb250ZXh0LmlzQWQpIHtcbiAgICAgICAgICAvKiBSZWxheSB0aGUgT05fQURfU1RBUlRFRCBldmVudCB0byB0aGUgYWRzIFVJXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBCZWNhdXNlIHRoZSBhZHMgVUkgaXMgaW5pdGlhbGl6ZWQgaW4gdGhlIE9OX0FEX1NUQVJURUQgaGFuZGxlciwgaS5lLiB3aGVuIHRoZSBPTl9BRF9TVEFSVEVEIGV2ZW50IGhhc1xuICAgICAgICAgICAqIGFscmVhZHkgYmVlbiBmaXJlZCwgY29tcG9uZW50cyBpbiB0aGUgYWRzIFVJIHRoYXQgbGlzdGVuIGZvciB0aGUgT05fQURfU1RBUlRFRCBldmVudCBuZXZlciByZWNlaXZlIGl0LlxuICAgICAgICAgICAqIFNpbmNlIHRoaXMgY2FuIGJyZWFrIGZ1bmN0aW9uYWxpdHkgb2YgY29tcG9uZW50cyB0aGF0IHJlbHkgb24gdGhpcyBldmVudCwgd2UgcmVsYXkgdGhlIGV2ZW50IHRvIHRoZVxuICAgICAgICAgICAqIGFkcyBVSSBjb21wb25lbnRzIHdpdGggdGhlIGZvbGxvd2luZyBjYWxsLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHRoaXMuY3VycmVudFVpLmdldFdyYXBwZWRQbGF5ZXIoKS5maXJlRXZlbnRJblVJKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRTdGFydGVkLCBhZFN0YXJ0ZWRFdmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBMaXN0ZW4gdG8gdGhlIGZvbGxvd2luZyBldmVudHMgdG8gdHJpZ2dlciBVSSB2YXJpYW50IHJlc29sdXRpb25cbiAgICBpZiAodGhpcy5jb25maWcuYXV0b1VpVmFyaWFudFJlc29sdmUpIHtcbiAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5Tb3VyY2VMb2FkZWQsIHJlc29sdmVVaVZhcmlhbnQpO1xuICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5vbih0aGlzLnBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LlNvdXJjZVVubG9hZGVkLCByZXNvbHZlVWlWYXJpYW50KTtcbiAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5LCByZXNvbHZlVWlWYXJpYW50KTtcbiAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QYXVzZWQsIHJlc29sdmVVaVZhcmlhbnQpO1xuICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5vbih0aGlzLnBsYXllci5leHBvcnRzLlBsYXllckV2ZW50LkFkU3RhcnRlZCwgcmVzb2x2ZVVpVmFyaWFudCk7XG4gICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLm9uKHRoaXMucGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuQWRCcmVha0ZpbmlzaGVkLCByZXNvbHZlVWlWYXJpYW50KTtcbiAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5QbGF5ZXJSZXNpemVkLCByZXNvbHZlVWlWYXJpYW50KTtcbiAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkub24odGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5WaWV3TW9kZUNoYW5nZWQsIHJlc29sdmVVaVZhcmlhbnQpO1xuICAgIH1cblxuICAgIHRoaXMuZm9jdXNWaXNpYmlsaXR5VHJhY2tlciA9IG5ldyBGb2N1c1Zpc2liaWxpdHlUcmFja2VyKCd7e1BSRUZJWH19Jyk7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBVSVxuICAgIHJlc29sdmVVaVZhcmlhbnQobnVsbCk7XG4gIH1cblxuICAvKipcbiAgICogRXhwb3NlcyBpMThuLmdldExvY2FsaXplcigpIGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIHtJMThuQXBpLmdldExvY2FsaXplcigpfVxuICAgKi9cbiAgc3RhdGljIGxvY2FsaXplPFYgZXh0ZW5kcyBDdXN0b21Wb2NhYnVsYXJ5PFJlY29yZDxzdHJpbmcsIHN0cmluZz4+PihrZXk6IGtleW9mIFYpIHtcbiAgICByZXR1cm4gaTE4bi5nZXRMb2NhbGl6ZXIoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlIGNvbmZpZ3VyYXRpb24gdG8gc3VwcG9ydCBDdXN0b20gVUkgbGFuZ3VhZ2VzXG4gICAqIGRlZmF1bHQgbGFuZ3VhZ2U6ICdlbidcbiAgICovXG4gIHN0YXRpYyBzZXRMb2NhbGl6YXRpb25Db25maWcobG9jYWxpemF0aW9uQ29uZmlnOiBMb2NhbGl6YXRpb25Db25maWcpIHtcbiAgICBpMThuLnNldENvbmZpZyhsb2NhbGl6YXRpb25Db25maWcpO1xuICB9XG5cbiAgZ2V0U3VidGl0bGVTZXR0aW5nc01hbmFnZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3VidGl0bGVTZXR0aW5nc01hbmFnZXI7XG4gIH1cblxuICBnZXRDb25maWcoKTogVUlDb25maWcge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIFVJIHZhcmlhbnRzIGFzIHBhc3NlZCBpbnRvIHRoZSBjb25zdHJ1Y3RvciBvZiB7QGxpbmsgVUlNYW5hZ2VyfS5cbiAgICogQHJldHVybnMge1VJVmFyaWFudFtdfSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgVUkgdmFyaWFudHNcbiAgICovXG4gIGdldFVpVmFyaWFudHMoKTogVUlWYXJpYW50W10ge1xuICAgIHJldHVybiB0aGlzLnVpVmFyaWFudHM7XG4gIH1cblxuICAvKipcbiAgICogU3dpdGNoZXMgdG8gYSBVSSB2YXJpYW50IGZyb20gdGhlIGxpc3QgcmV0dXJuZWQgYnkge0BsaW5rIGdldFVpVmFyaWFudHN9LlxuICAgKiBAcGFyYW0ge1VJVmFyaWFudH0gdWlWYXJpYW50IHRoZSBVSSB2YXJpYW50IHRvIHN3aXRjaCB0b1xuICAgKiBAcGFyYW0geygpID0+IHZvaWR9IG9uU2hvdyBhIGNhbGxiYWNrIHRoYXQgaXMgZXhlY3V0ZWQganVzdCBiZWZvcmUgdGhlIG5ldyBVSSB2YXJpYW50IGlzIHNob3duXG4gICAqL1xuICBzd2l0Y2hUb1VpVmFyaWFudCh1aVZhcmlhbnQ6IFVJVmFyaWFudCwgb25TaG93PzogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGxldCB1aVZhcmlhbnRJbmRleCA9IHRoaXMudWlWYXJpYW50cy5pbmRleE9mKHVpVmFyaWFudCk7XG5cbiAgICBjb25zdCBwcmV2aW91c1VpID0gdGhpcy5jdXJyZW50VWk7XG4gICAgY29uc3QgbmV4dFVpOiBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyID0gdGhpcy51aUluc3RhbmNlTWFuYWdlcnNbdWlWYXJpYW50SW5kZXhdO1xuICAgIC8vIERldGVybWluZSBpZiB0aGUgVUkgdmFyaWFudCBpcyBjaGFuZ2luZ1xuICAgIC8vIE9ubHkgaWYgdGhlIFVJIHZhcmlhbnQgaXMgY2hhbmdpbmcsIHdlIG5lZWQgdG8gZG8gc29tZSBzdHVmZi4gRWxzZSB3ZSBqdXN0IGxlYXZlIGV2ZXJ5dGhpbmcgYXMtaXMuXG4gICAgaWYgKG5leHRVaSA9PT0gdGhpcy5jdXJyZW50VWkpIHtcbiAgICAgIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdzd2l0Y2hlZCBmcm9tICcsIHRoaXMuY3VycmVudFVpID8gdGhpcy5jdXJyZW50VWkuZ2V0VUkoKSA6ICdub25lJyxcbiAgICAgIC8vICAgJyB0byAnLCBuZXh0VWkgPyBuZXh0VWkuZ2V0VUkoKSA6ICdub25lJyk7XG4gICAgfVxuXG4gICAgLy8gSGlkZSB0aGUgY3VycmVudGx5IGFjdGl2ZSBVSSB2YXJpYW50XG4gICAgaWYgKHRoaXMuY3VycmVudFVpKSB7XG4gICAgICB0aGlzLmN1cnJlbnRVaS5nZXRVSSgpLmhpZGUoKTtcbiAgICB9XG5cbiAgICAvLyBBc3NpZ24gdGhlIG5ldyBVSSB2YXJpYW50IGFzIGN1cnJlbnQgVUlcbiAgICB0aGlzLmN1cnJlbnRVaSA9IG5leHRVaTtcblxuICAgIC8vIFdoZW4gd2Ugc3dpdGNoIHRvIGEgZGlmZmVyZW50IFVJIGluc3RhbmNlLCB0aGVyZSdzIHNvbWUgYWRkaXRpb25hbCBzdHVmZiB0byBtYW5hZ2UuIElmIHdlIGRvIG5vdCBzd2l0Y2hcbiAgICAvLyB0byBhbiBpbnN0YW5jZSwgd2UncmUgZG9uZSBoZXJlLlxuICAgIGlmICh0aGlzLmN1cnJlbnRVaSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEFkZCB0aGUgVUkgdG8gdGhlIERPTSAoYW5kIGNvbmZpZ3VyZSBpdCkgdGhlIGZpcnN0IHRpbWUgaXQgaXMgc2VsZWN0ZWRcbiAgICBpZiAoIXRoaXMuY3VycmVudFVpLmlzQ29uZmlndXJlZCgpKSB7XG4gICAgICB0aGlzLmFkZFVpKHRoaXMuY3VycmVudFVpKTtcbiAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBpbnRlcm5hbCBzdGF0ZSBpcyByZWFkeSBmb3IgdGhlIHVwY29taW5nIHNob3cgY2FsbFxuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRVaS5nZXRVSSgpLmlzSGlkZGVuKCkpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VWkuZ2V0VUkoKS5oaWRlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvblNob3cpIHtcbiAgICAgIG9uU2hvdygpO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRVaS5nZXRVSSgpLnNob3coKTtcbiAgICB0aGlzLmV2ZW50cy5vbkFjdGl2ZVVpQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLCB7IHByZXZpb3VzVWksIGN1cnJlbnRVaTogbmV4dFVpIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWdnZXJzIGEgVUkgdmFyaWFudCBzd2l0Y2ggYXMgdHJpZ2dlcmVkIGJ5IGV2ZW50cyB3aGVuIGF1dG9tYXRpYyBzd2l0Y2hpbmcgaXMgZW5hYmxlZC4gSXQgYWxsb3dzIHRvIG92ZXJ3cml0ZVxuICAgKiBwcm9wZXJ0aWVzIG9mIHRoZSB7QGxpbmsgVUlDb25kaXRpb25Db250ZXh0fS5cbiAgICogQHBhcmFtIHtQYXJ0aWFsPFVJQ29uZGl0aW9uQ29udGV4dD59IGNvbnRleHQgYW4gb3B0aW9uYWwgc2V0IG9mIHByb3BlcnRpZXMgdGhhdCBvdmVyd3JpdGUgcHJvcGVydGllcyBvZiB0aGVcbiAgICogICBhdXRvbWF0aWNhbGx5IGRldGVybWluZWQgY29udGV4dFxuICAgKiBAcGFyYW0geyhjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHZvaWR9IG9uU2hvdyBhIGNhbGxiYWNrIHRoYXQgaXMgZXhlY3V0ZWQganVzdCBiZWZvcmUgdGhlIG5ldyBVSSB2YXJpYW50XG4gICAqICAgaXMgc2hvd24gKGlmIGEgc3dpdGNoIGlzIGhhcHBlbmluZylcbiAgICovXG4gIHJlc29sdmVVaVZhcmlhbnQoY29udGV4dDogUGFydGlhbDxVSUNvbmRpdGlvbkNvbnRleHQ+ID0ge30sIG9uU2hvdz86IChjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAvLyBEZXRlcm1pbmUgdGhlIGN1cnJlbnQgY29udGV4dCBmb3Igd2hpY2ggdGhlIFVJIHZhcmlhbnQgd2lsbCBiZSByZXNvbHZlZFxuICAgIGNvbnN0IGRlZmF1bHRDb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQgPSB7XG4gICAgICBpc0FkOiBmYWxzZSxcbiAgICAgIGFkUmVxdWlyZXNVaTogZmFsc2UsXG4gICAgICBpc0Z1bGxzY3JlZW46IHRoaXMucGxheWVyLmdldFZpZXdNb2RlKCkgPT09IHRoaXMucGxheWVyLmV4cG9ydHMuVmlld01vZGUuRnVsbHNjcmVlbixcbiAgICAgIGlzTW9iaWxlOiBCcm93c2VyVXRpbHMuaXNNb2JpbGUsXG4gICAgICBpc1BsYXlpbmc6IHRoaXMucGxheWVyLmlzUGxheWluZygpLFxuICAgICAgd2lkdGg6IHRoaXMudWlDb250YWluZXJFbGVtZW50LndpZHRoKCksXG4gICAgICBkb2N1bWVudFdpZHRoOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLFxuICAgIH07XG5cbiAgICAvLyBPdmVyd3JpdGUgcHJvcGVydGllcyBvZiB0aGUgZGVmYXVsdCBjb250ZXh0IHdpdGggcGFzc2VkIGluIGNvbnRleHQgcHJvcGVydGllc1xuICAgIGNvbnN0IHN3aXRjaGluZ0NvbnRleHQgPSB7IC4uLmRlZmF1bHRDb250ZXh0LCAuLi5jb250ZXh0IH07XG5cbiAgICAvLyBGaXJlIHRoZSBldmVudCBhbmQgYWxsb3cgbW9kaWZpY2F0aW9uIG9mIHRoZSBjb250ZXh0IGJlZm9yZSBpdCBpcyB1c2VkIHRvIHJlc29sdmUgdGhlIFVJIHZhcmlhbnRcbiAgICB0aGlzLmV2ZW50cy5vblVpVmFyaWFudFJlc29sdmUuZGlzcGF0Y2godGhpcywgc3dpdGNoaW5nQ29udGV4dCk7XG5cbiAgICBsZXQgbmV4dFVpVmFyaWFudDogVUlWYXJpYW50ID0gbnVsbDtcblxuICAgIC8vIFNlbGVjdCBuZXcgVUkgdmFyaWFudFxuICAgIC8vIElmIG5vIHZhcmlhbnQgY29uZGl0aW9uIGlzIGZ1bGZpbGxlZCwgd2Ugc3dpdGNoIHRvICpubyogVUlcbiAgICBmb3IgKGxldCB1aVZhcmlhbnQgb2YgdGhpcy51aVZhcmlhbnRzKSB7XG4gICAgICBjb25zdCBtYXRjaGVzQ29uZGl0aW9uID0gdWlWYXJpYW50LmNvbmRpdGlvbiA9PSBudWxsIHx8IHVpVmFyaWFudC5jb25kaXRpb24oc3dpdGNoaW5nQ29udGV4dCkgPT09IHRydWU7XG4gICAgICBpZiAobmV4dFVpVmFyaWFudCA9PSBudWxsICYmIG1hdGNoZXNDb25kaXRpb24pIHtcbiAgICAgICAgbmV4dFVpVmFyaWFudCA9IHVpVmFyaWFudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGhpZGUgYWxsIFVJcyBiZXNpZGVzIHRoZSBvbmUgd2hpY2ggc2hvdWxkIGJlIGFjdGl2ZVxuICAgICAgICB1aVZhcmlhbnQudWkuaGlkZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3dpdGNoVG9VaVZhcmlhbnQobmV4dFVpVmFyaWFudCwgKCkgPT4ge1xuICAgICAgaWYgKG9uU2hvdykge1xuICAgICAgICBvblNob3coc3dpdGNoaW5nQ29udGV4dCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFkZFVpKHVpOiBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyKTogdm9pZCB7XG4gICAgbGV0IGRvbSA9IHVpLmdldFVJKCkuZ2V0RG9tRWxlbWVudCgpO1xuICAgIGxldCBwbGF5ZXIgPSB1aS5nZXRXcmFwcGVkUGxheWVyKCk7XG5cbiAgICB1aS5jb25maWd1cmVDb250cm9scygpO1xuICAgIC8qIEFwcGVuZCB0aGUgVUkgRE9NIGFmdGVyIGNvbmZpZ3VyYXRpb24gdG8gYXZvaWQgQ1NTIHRyYW5zaXRpb25zIGF0IGluaXRpYWxpemF0aW9uXG4gICAgICogRXhhbXBsZTogQ29tcG9uZW50cyBhcmUgaGlkZGVuIGR1cmluZyBjb25maWd1cmF0aW9uIGFuZCB0aGVzZSBoaWRlcyBtYXkgdHJpZ2dlciBDU1MgdHJhbnNpdGlvbnMgdGhhdCBhcmVcbiAgICAgKiB1bmRlc2lyYWJsZSBhdCB0aGlzIHRpbWUuICovXG4gICAgdGhpcy51aUNvbnRhaW5lckVsZW1lbnQuYXBwZW5kKGRvbSk7XG5cbiAgICAvLyBXaGVuIHRoZSBVSSBpcyBsb2FkZWQgYWZ0ZXIgYSBzb3VyY2Ugd2FzIGxvYWRlZCwgd2UgbmVlZCB0byB0ZWxsIHRoZSBjb21wb25lbnRzIHRvIGluaXRpYWxpemUgdGhlbXNlbHZlc1xuICAgIGlmIChwbGF5ZXIuZ2V0U291cmNlKCkpIHtcbiAgICAgIHRoaXMuY29uZmlnLmV2ZW50cy5vblVwZGF0ZWQuZGlzcGF0Y2godGhpcyk7XG5cbiAgICB9XG5cbiAgICAvLyBGaXJlIG9uQ29uZmlndXJlZCBhZnRlciBVSSBET00gZWxlbWVudHMgYXJlIHN1Y2Nlc3NmdWxseSBhZGRlZC4gV2hlbiBmaXJlZCBpbW1lZGlhdGVseSwgdGhlIERPTSBlbGVtZW50c1xuICAgIC8vIG1pZ2h0IG5vdCBiZSBmdWxseSBjb25maWd1cmVkIGFuZCBlLmcuIGRvIG5vdCBoYXZlIGEgc2l6ZS5cbiAgICAvLyBodHRwczovL3N3aXplYy5jb20vYmxvZy9ob3ctdG8tcHJvcGVybHktd2FpdC1mb3ItZG9tLWVsZW1lbnRzLXRvLXNob3ctdXAtaW4tbW9kZXJuLWJyb3dzZXJzL3N3aXplYy82NjYzXG4gICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7IHVpLm9uQ29uZmlndXJlZC5kaXNwYXRjaCh1aS5nZXRVSSgpKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElFOSBmYWxsYmFja1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHVpLm9uQ29uZmlndXJlZC5kaXNwYXRjaCh1aS5nZXRVSSgpKTsgfSwgMCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZWxlYXNlVWkodWk6IEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIpOiB2b2lkIHtcbiAgICB1aS5yZWxlYXNlQ29udHJvbHMoKTtcblxuICAgIGNvbnN0IHVpQ29udGFpbmVyID0gdWkuZ2V0VUkoKTtcbiAgICBpZiAodWlDb250YWluZXIuaGFzRG9tRWxlbWVudCgpKSB7XG4gICAgICB1aUNvbnRhaW5lci5nZXREb21FbGVtZW50KCkucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdWkuY2xlYXJFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICByZWxlYXNlKCk6IHZvaWQge1xuICAgIGZvciAobGV0IHVpSW5zdGFuY2VNYW5hZ2VyIG9mIHRoaXMudWlJbnN0YW5jZU1hbmFnZXJzKSB7XG4gICAgICB0aGlzLnJlbGVhc2VVaSh1aUluc3RhbmNlTWFuYWdlcik7XG4gICAgfVxuICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuY2xlYXJFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5mb2N1c1Zpc2liaWxpdHlUcmFja2VyLnJlbGVhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyBqdXN0IGJlZm9yZSBVSSB2YXJpYW50cyBhcmUgYWJvdXQgdG8gYmUgcmVzb2x2ZWQgYW5kIHRoZSBVSSB2YXJpYW50IGlzIHBvc3NpYmx5IHN3aXRjaGVkLiBJdCBpcyBmaXJlZCB3aGVuXG4gICAqIHRoZSBzd2l0Y2ggaXMgdHJpZ2dlcmVkIGZyb20gYW4gYXV0b21hdGljIHN3aXRjaCBhbmQgd2hlbiBjYWxsaW5nIHtAbGluayByZXNvbHZlVWlWYXJpYW50fS5cbiAgICogQ2FuIGJlIHVzZWQgdG8gbW9kaWZ5IHRoZSB7QGxpbmsgVUlDb25kaXRpb25Db250ZXh0fSBiZWZvcmUgcmVzb2x2aW5nIGlzIGRvbmUuXG4gICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXI8VUlNYW5hZ2VyLCBVSUNvbmRpdGlvbkNvbnRleHQ+fVxuICAgKi9cbiAgZ2V0IG9uVWlWYXJpYW50UmVzb2x2ZSgpOiBFdmVudERpc3BhdGNoZXI8VUlNYW5hZ2VyLCBVSUNvbmRpdGlvbkNvbnRleHQ+IHtcbiAgICByZXR1cm4gdGhpcy5ldmVudHMub25VaVZhcmlhbnRSZXNvbHZlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIGFmdGVyIHRoZSBVSU1hbmFnZXIgaGFzIHN3aXRjaGVkIHRvIGEgZGlmZmVyZW50IFVJIHZhcmlhbnQuXG4gICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXI8VUlNYW5hZ2VyLCBBY3RpdmVVaUNoYW5nZWRBcmdzPn1cbiAgICovXG4gIGdldCBvbkFjdGl2ZVVpQ2hhbmdlZCgpOiBFdmVudERpc3BhdGNoZXI8VUlNYW5hZ2VyLCBBY3RpdmVVaUNoYW5nZWRBcmdzPiB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uQWN0aXZlVWlDaGFuZ2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IGFjdGl2ZSB7QGxpbmsgVUlJbnN0YW5jZU1hbmFnZXJ9LlxuICAgKi9cbiAgZ2V0IGFjdGl2ZVVpKCk6IFVJSW5zdGFuY2VNYW5hZ2VyIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50VWk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBhbGwgYWRkZWQgbWFya2VycyBpbiB1bmRlZmluZWQgb3JkZXIuXG4gICAqL1xuICBnZXRUaW1lbGluZU1hcmtlcnMoKTogVGltZWxpbmVNYXJrZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLm1ldGFkYXRhLm1hcmtlcnM7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIG1hcmtlciB0byB0aGUgdGltZWxpbmUuIERvZXMgbm90IGNoZWNrIGZvciBkdXBsaWNhdGVzL292ZXJsYXBzIGF0IHRoZSBgdGltZWAuXG4gICAqL1xuICBhZGRUaW1lbGluZU1hcmtlcih0aW1lbGluZU1hcmtlcjogVGltZWxpbmVNYXJrZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbmZpZy5tZXRhZGF0YS5tYXJrZXJzLnB1c2godGltZWxpbmVNYXJrZXIpO1xuICAgIHRoaXMuY29uZmlnLmV2ZW50cy5vblVwZGF0ZWQuZGlzcGF0Y2godGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIG1hcmtlciBmcm9tIHRoZSB0aW1lbGluZSAoYnkgcmVmZXJlbmNlKSBhbmQgcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1hcmtlciBoYXNcbiAgICogYmVlbiBwYXJ0IG9mIHRoZSB0aW1lbGluZSBhbmQgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQsIG9yIGBmYWxzZWAgaWYgdGhlIG1hcmtlciBjb3VsZCBub3RcbiAgICogYmUgZm91bmQgYW5kIHRodXMgbm90IHJlbW92ZWQuXG4gICAqL1xuICByZW1vdmVUaW1lbGluZU1hcmtlcih0aW1lbGluZU1hcmtlcjogVGltZWxpbmVNYXJrZXIpOiBib29sZWFuIHtcbiAgICBpZiAoQXJyYXlVdGlscy5yZW1vdmUodGhpcy5jb25maWcubWV0YWRhdGEubWFya2VycywgdGltZWxpbmVNYXJrZXIpID09PSB0aW1lbGluZU1hcmtlcikge1xuICAgICAgdGhpcy5jb25maWcuZXZlbnRzLm9uVXBkYXRlZC5kaXNwYXRjaCh0aGlzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlZWtQcmV2aWV3QXJncyBleHRlbmRzIE5vQXJncyB7XG4gIC8qKlxuICAgKiBUaGUgdGltZWxpbmUgcG9zaXRpb24gaW4gcGVyY2VudCB3aGVyZSB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tLlxuICAgKi9cbiAgcG9zaXRpb246IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSB0aW1lbGluZSBtYXJrZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHBvc2l0aW9uLCBpZiBleGlzdGluZy5cbiAgICovXG4gIG1hcmtlcj86IFNlZWtCYXJNYXJrZXI7XG59XG5cbi8qKlxuICogRW5jYXBzdWxhdGVzIGZ1bmN0aW9uYWxpdHkgdG8gbWFuYWdlIGEgVUkgaW5zdGFuY2UuIFVzZWQgYnkgdGhlIHtAbGluayBVSU1hbmFnZXJ9IHRvIG1hbmFnZSBtdWx0aXBsZSBVSSBpbnN0YW5jZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBVSUluc3RhbmNlTWFuYWdlciB7XG4gIHByaXZhdGUgcGxheWVyV3JhcHBlcjogUGxheWVyV3JhcHBlcjtcbiAgcHJpdmF0ZSB1aTogVUlDb250YWluZXI7XG4gIHByaXZhdGUgY29uZmlnOiBJbnRlcm5hbFVJQ29uZmlnO1xuICBwcml2YXRlIHN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyOiBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlcjtcbiAgcHJvdGVjdGVkIHNwYXRpYWxOYXZpZ2F0aW9uPzogU3BhdGlhbE5hdmlnYXRpb247XG5cbiAgcHJpdmF0ZSBldmVudHMgPSB7XG4gICAgb25Db25maWd1cmVkOiBuZXcgRXZlbnREaXNwYXRjaGVyPFVJQ29udGFpbmVyLCBOb0FyZ3M+KCksXG4gICAgb25TZWVrOiBuZXcgRXZlbnREaXNwYXRjaGVyPFNlZWtCYXIsIE5vQXJncz4oKSxcbiAgICBvblNlZWtQcmV2aWV3OiBuZXcgRXZlbnREaXNwYXRjaGVyPFNlZWtCYXIsIFNlZWtQcmV2aWV3QXJncz4oKSxcbiAgICBvblNlZWtlZDogbmV3IEV2ZW50RGlzcGF0Y2hlcjxTZWVrQmFyLCBOb0FyZ3M+KCksXG4gICAgb25Db21wb25lbnRTaG93OiBuZXcgRXZlbnREaXNwYXRjaGVyPENvbXBvbmVudDxDb21wb25lbnRDb25maWc+LCBOb0FyZ3M+KCksXG4gICAgb25Db21wb25lbnRIaWRlOiBuZXcgRXZlbnREaXNwYXRjaGVyPENvbXBvbmVudDxDb21wb25lbnRDb25maWc+LCBOb0FyZ3M+KCksXG4gICAgb25Db21wb25lbnRWaWV3TW9kZUNoYW5nZWQ6IG5ldyBFdmVudERpc3BhdGNoZXI8Q29tcG9uZW50PENvbXBvbmVudENvbmZpZz4sIFZpZXdNb2RlQ2hhbmdlZEV2ZW50QXJncz4oKSxcbiAgICBvbkNvbnRyb2xzU2hvdzogbmV3IEV2ZW50RGlzcGF0Y2hlcjxVSUNvbnRhaW5lciwgTm9BcmdzPigpLFxuICAgIG9uUHJldmlld0NvbnRyb2xzSGlkZTogbmV3IEV2ZW50RGlzcGF0Y2hlcjxVSUNvbnRhaW5lciwgQ2FuY2VsRXZlbnRBcmdzPigpLFxuICAgIG9uQ29udHJvbHNIaWRlOiBuZXcgRXZlbnREaXNwYXRjaGVyPFVJQ29udGFpbmVyLCBOb0FyZ3M+KCksXG4gICAgb25SZWxlYXNlOiBuZXcgRXZlbnREaXNwYXRjaGVyPFVJQ29udGFpbmVyLCBOb0FyZ3M+KCksXG4gIH07XG5cbiAgY29uc3RydWN0b3IocGxheWVyOiBQbGF5ZXJBUEksIHVpOiBVSUNvbnRhaW5lciwgY29uZmlnOiBJbnRlcm5hbFVJQ29uZmlnLCBzdWJ0aXRsZVNldHRpbmdzTWFuYWdlcjogU3VidGl0bGVTZXR0aW5nc01hbmFnZXIsIHNwYXRpYWxOYXZpZ2F0aW9uPzogU3BhdGlhbE5hdmlnYXRpb24pIHtcbiAgICB0aGlzLnBsYXllcldyYXBwZXIgPSBuZXcgUGxheWVyV3JhcHBlcihwbGF5ZXIpO1xuICAgIHRoaXMudWkgPSB1aTtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyID0gc3VidGl0bGVTZXR0aW5nc01hbmFnZXI7XG4gICAgdGhpcy5zcGF0aWFsTmF2aWdhdGlvbiA9IHNwYXRpYWxOYXZpZ2F0aW9uO1xuICB9XG5cbiAgZ2V0U3VidGl0bGVTZXR0aW5nc01hbmFnZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3VidGl0bGVTZXR0aW5nc01hbmFnZXI7XG4gIH1cblxuICBnZXRDb25maWcoKTogSW50ZXJuYWxVSUNvbmZpZyB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnO1xuICB9XG5cbiAgZ2V0VUkoKTogVUlDb250YWluZXIge1xuICAgIHJldHVybiB0aGlzLnVpO1xuICB9XG5cbiAgZ2V0UGxheWVyKCk6IFBsYXllckFQSSB7XG4gICAgcmV0dXJuIHRoaXMucGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBVSSBpcyBmdWxseSBjb25maWd1cmVkIGFuZCBhZGRlZCB0byB0aGUgRE9NLlxuICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxuICAgKi9cbiAgZ2V0IG9uQ29uZmlndXJlZCgpOiBFdmVudERpc3BhdGNoZXI8VUlDb250YWluZXIsIE5vQXJncz4ge1xuICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbmZpZ3VyZWQ7XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgd2hlbiBhIHNlZWsgc3RhcnRzLlxuICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxuICAgKi9cbiAgZ2V0IG9uU2VlaygpOiBFdmVudERpc3BhdGNoZXI8U2Vla0JhciwgTm9BcmdzPiB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uU2VlaztcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBzZWVrIHRpbWVsaW5lIGlzIHNjcnViYmVkLlxuICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxuICAgKi9cbiAgZ2V0IG9uU2Vla1ByZXZpZXcoKTogRXZlbnREaXNwYXRjaGVyPFNlZWtCYXIsIFNlZWtQcmV2aWV3QXJncz4ge1xuICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblNlZWtQcmV2aWV3O1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIHdoZW4gYSBzZWVrIGlzIGZpbmlzaGVkLlxuICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxuICAgKi9cbiAgZ2V0IG9uU2Vla2VkKCk6IEV2ZW50RGlzcGF0Y2hlcjxTZWVrQmFyLCBOb0FyZ3M+IHtcbiAgICByZXR1cm4gdGhpcy5ldmVudHMub25TZWVrZWQ7XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgd2hlbiBhIGNvbXBvbmVudCBpcyBzaG93aW5nLlxuICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxuICAgKi9cbiAgZ2V0IG9uQ29tcG9uZW50U2hvdygpOiBFdmVudERpc3BhdGNoZXI8Q29tcG9uZW50PENvbXBvbmVudENvbmZpZz4sIE5vQXJncz4ge1xuICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbXBvbmVudFNob3c7XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgd2hlbiBhIGNvbXBvbmVudCBpcyBoaWRpbmcuXG4gICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XG4gICAqL1xuICBnZXQgb25Db21wb25lbnRIaWRlKCk6IEV2ZW50RGlzcGF0Y2hlcjxDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPiwgTm9BcmdzPiB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uQ29tcG9uZW50SGlkZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBVSSBjb250cm9scyBhcmUgc2hvd2luZy5cbiAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cbiAgICovXG4gIGdldCBvbkNvbnRyb2xzU2hvdygpOiBFdmVudERpc3BhdGNoZXI8VUlDb250YWluZXIsIE5vQXJncz4ge1xuICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbnRyb2xzU2hvdztcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyBiZWZvcmUgdGhlIFVJIGNvbnRyb2xzIGFyZSBoaWRpbmcgdG8gY2hlY2sgaWYgdGhleSBhcmUgYWxsb3dlZCB0byBoaWRlLlxuICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxuICAgKi9cbiAgZ2V0IG9uUHJldmlld0NvbnRyb2xzSGlkZSgpOiBFdmVudERpc3BhdGNoZXI8VUlDb250YWluZXIsIENhbmNlbEV2ZW50QXJncz4ge1xuICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblByZXZpZXdDb250cm9sc0hpZGU7XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgVUkgY29udHJvbHMgYXJlIGhpZGluZy5cbiAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cbiAgICovXG4gIGdldCBvbkNvbnRyb2xzSGlkZSgpOiBFdmVudERpc3BhdGNoZXI8VUlDb250YWluZXIsIE5vQXJncz4ge1xuICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbnRyb2xzSGlkZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBVSSBjb250cm9scyBhcmUgcmVsZWFzZWQuXG4gICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XG4gICAqL1xuICBnZXQgb25SZWxlYXNlKCk6IEV2ZW50RGlzcGF0Y2hlcjxVSUNvbnRhaW5lciwgTm9BcmdzPiB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uUmVsZWFzZTtcbiAgfVxuXG4gIGdldCBvbkNvbXBvbmVudFZpZXdNb2RlQ2hhbmdlZCgpOiBFdmVudERpc3BhdGNoZXI8Q29tcG9uZW50PENvbXBvbmVudENvbmZpZz4sIFZpZXdNb2RlQ2hhbmdlZEV2ZW50QXJncz4ge1xuICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbXBvbmVudFZpZXdNb2RlQ2hhbmdlZDtcbiAgfVxuXG4gIHByb3RlY3RlZCBjbGVhckV2ZW50SGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5wbGF5ZXJXcmFwcGVyLmNsZWFyRXZlbnRIYW5kbGVycygpO1xuXG4gICAgbGV0IGV2ZW50cyA9IDxhbnk+dGhpcy5ldmVudHM7IC8vIGF2b2lkIFRTNzAxN1xuICAgIGZvciAobGV0IGV2ZW50IGluIGV2ZW50cykge1xuICAgICAgbGV0IGRpc3BhdGNoZXIgPSA8RXZlbnREaXNwYXRjaGVyPE9iamVjdCwgT2JqZWN0Pj5ldmVudHNbZXZlbnRdO1xuICAgICAgZGlzcGF0Y2hlci51bnN1YnNjcmliZUFsbCgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEV4dGVuZHMgdGhlIHtAbGluayBVSUluc3RhbmNlTWFuYWdlcn0gZm9yIGludGVybmFsIHVzZSBpbiB0aGUge0BsaW5rIFVJTWFuYWdlcn0gYW5kIHByb3ZpZGVzIGFjY2VzcyB0byBmdW5jdGlvbmFsaXR5XG4gKiB0aGF0IGNvbXBvbmVudHMgcmVjZWl2aW5nIGEgcmVmZXJlbmNlIHRvIHRoZSB7QGxpbmsgVUlJbnN0YW5jZU1hbmFnZXJ9IHNob3VsZCBub3QgaGF2ZSBhY2Nlc3MgdG8uXG4gKi9cbmNsYXNzIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIgZXh0ZW5kcyBVSUluc3RhbmNlTWFuYWdlciB7XG5cbiAgcHJpdmF0ZSBjb25maWd1cmVkOiBib29sZWFuO1xuICBwcml2YXRlIHJlbGVhc2VkOiBib29sZWFuO1xuXG4gIGdldFdyYXBwZWRQbGF5ZXIoKTogV3JhcHBlZFBsYXllciB7XG4gICAgLy8gVE9ETyBmaW5kIGEgbm9uLWhhY2t5IHdheSB0byBwcm92aWRlIHRoZSBXcmFwcGVkUGxheWVyIHRvIHRoZSBVSU1hbmFnZXIgd2l0aG91dCBleHBvcnRpbmcgaXRcbiAgICAvLyBnZXRQbGF5ZXIoKSBhY3R1YWxseSByZXR1cm5zIHRoZSBXcmFwcGVkUGxheWVyIGJ1dCBpdHMgcmV0dXJuIHR5cGUgaXMgc2V0IHRvIFBsYXllciBzbyB0aGUgV3JhcHBlZFBsYXllciBkb2VzXG4gICAgLy8gbm90IG5lZWQgdG8gYmUgZXhwb3J0ZWRcbiAgICByZXR1cm4gPFdyYXBwZWRQbGF5ZXI+dGhpcy5nZXRQbGF5ZXIoKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZUNvbnRyb2xzKCk6IHZvaWQge1xuICAgIHRoaXMuY29uZmlndXJlQ29udHJvbHNUcmVlKHRoaXMuZ2V0VUkoKSk7XG4gICAgdGhpcy5jb25maWd1cmVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlzQ29uZmlndXJlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25maWd1cmVDb250cm9sc1RyZWUoY29tcG9uZW50OiBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPikge1xuICAgIGxldCBjb25maWd1cmVkQ29tcG9uZW50czogQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz5bXSA9IFtdO1xuXG4gICAgVUlVdGlscy50cmF2ZXJzZVRyZWUoY29tcG9uZW50LCAoY29tcG9uZW50KSA9PiB7XG4gICAgICAvLyBGaXJzdCwgY2hlY2sgaWYgd2UgaGF2ZSBhbHJlYWR5IGNvbmZpZ3VyZWQgYSBjb21wb25lbnQsIGFuZCB0aHJvdyBhbiBlcnJvciBpZiB3ZSBkaWQuIE11bHRpcGxlIGNvbmZpZ3VyYXRpb25cbiAgICAgIC8vIG9mIHRoZSBzYW1lIGNvbXBvbmVudCBsZWFkcyB0byB1bmV4cGVjdGVkIFVJIGJlaGF2aW9yLiBBbHNvLCBhIGNvbXBvbmVudCB0aGF0IGlzIGluIHRoZSBVSSB0cmVlIG11bHRpcGxlXG4gICAgICAvLyB0aW1lcyBoaW50cyBhdCBhIHdyb25nIFVJIHN0cnVjdHVyZS5cbiAgICAgIC8vIFdlIGNvdWxkIGp1c3Qgc2tpcCBjb25maWd1cmF0aW9uIGluIHN1Y2ggYSBjYXNlIGFuZCBub3QgdGhyb3cgYW4gZXhjZXB0aW9uLCBidXQgZW5mb3JjaW5nIGEgY2xlYW4gVUkgdHJlZVxuICAgICAgLy8gc2VlbXMgbGlrZSB0aGUgYmV0dGVyIGNob2ljZS5cbiAgICAgIGZvciAobGV0IGNvbmZpZ3VyZWRDb21wb25lbnQgb2YgY29uZmlndXJlZENvbXBvbmVudHMpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyZWRDb21wb25lbnQgPT09IGNvbXBvbmVudCkge1xuICAgICAgICAgIC8vIFdyaXRlIHRoZSBjb21wb25lbnQgdG8gdGhlIGNvbnNvbGUgdG8gc2ltcGxpZnkgaWRlbnRpZmljYXRpb24gb2YgdGhlIGN1bHByaXRcbiAgICAgICAgICAvLyAoZS5nLiBieSBpbnNwZWN0aW5nIHRoZSBjb25maWcpXG4gICAgICAgICAgaWYgKGNvbnNvbGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBpbiBVSSB0cmVlJywgY29tcG9uZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBZGRpdGlvbmFsbHkgdGhyb3cgYW4gZXJyb3IsIGJlY2F1c2UgdGhpcyBjYXNlIG11c3Qgbm90IGhhcHBlbiBhbmQgbGVhZHMgdG8gdW5leHBlY3RlZCBVSSBiZWhhdmlvci5cbiAgICAgICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGluIFVJIHRyZWU6ICcgKyBjb21wb25lbnQuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29tcG9uZW50LmluaXRpYWxpemUoKTtcbiAgICAgIGNvbXBvbmVudC5jb25maWd1cmUodGhpcy5nZXRQbGF5ZXIoKSwgdGhpcyk7XG4gICAgICBjb25maWd1cmVkQ29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgfSk7XG4gIH1cblxuICByZWxlYXNlQ29udHJvbHMoKTogdm9pZCB7XG4gICAgLy8gRG8gbm90IGNhbGwgcmVsZWFzZSBtZXRob2RzIGlmIHRoZSBjb21wb25lbnRzIGhhdmUgbmV2ZXIgYmVlbiBjb25maWd1cmVkOyB0aGlzIGNhbiByZXN1bHQgaW4gZXhjZXB0aW9uc1xuICAgIGlmICh0aGlzLmNvbmZpZ3VyZWQpIHtcbiAgICAgIHRoaXMub25SZWxlYXNlLmRpc3BhdGNoKHRoaXMuZ2V0VUkoKSk7XG4gICAgICB0aGlzLnJlbGVhc2VDb250cm9sc1RyZWUodGhpcy5nZXRVSSgpKTtcbiAgICAgIHRoaXMuY29uZmlndXJlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLnNwYXRpYWxOYXZpZ2F0aW9uPy5yZWxlYXNlKCk7XG4gICAgdGhpcy5yZWxlYXNlZCA9IHRydWU7XG4gIH1cblxuICBpc1JlbGVhc2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlbGVhc2VkO1xuICB9XG5cbiAgcHJpdmF0ZSByZWxlYXNlQ29udHJvbHNUcmVlKGNvbXBvbmVudDogQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz4pIHtcbiAgICBjb21wb25lbnQucmVsZWFzZSgpO1xuXG4gICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIENvbnRhaW5lcikge1xuICAgICAgZm9yIChsZXQgY2hpbGRDb21wb25lbnQgb2YgY29tcG9uZW50LmdldENvbXBvbmVudHMoKSkge1xuICAgICAgICB0aGlzLnJlbGVhc2VDb250cm9sc1RyZWUoY2hpbGRDb21wb25lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyRXZlbnRIYW5kbGVycygpOiB2b2lkIHtcbiAgICBzdXBlci5jbGVhckV2ZW50SGFuZGxlcnMoKTtcbiAgfVxufVxuXG4vKipcbiAqIEV4dGVuZGVkIGludGVyZmFjZSBvZiB0aGUge0BsaW5rIFBsYXllcn0gZm9yIHVzZSBpbiB0aGUgVUkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV3JhcHBlZFBsYXllciBleHRlbmRzIFBsYXllckFQSSB7XG4gIC8qKlxuICAgKiBGaXJlcyBhbiBldmVudCBvbiB0aGUgcGxheWVyIHRoYXQgdGFyZ2V0cyBhbGwgaGFuZGxlcnMgaW4gdGhlIFVJIGJ1dCBuZXZlciBlbnRlcnMgdGhlIHJlYWwgcGxheWVyLlxuICAgKiBAcGFyYW0gZXZlbnQgdGhlIGV2ZW50IHRvIGZpcmVcbiAgICogQHBhcmFtIGRhdGEgZGF0YSB0byBzZW5kIHdpdGggdGhlIGV2ZW50XG4gICAqL1xuICBmaXJlRXZlbnRJblVJKGV2ZW50OiBQbGF5ZXJFdmVudCwgZGF0YToge30pOiB2b2lkO1xufVxuXG4vKipcbiAqIFdyYXBzIHRoZSBwbGF5ZXIgdG8gdHJhY2sgZXZlbnQgaGFuZGxlcnMgYW5kIHByb3ZpZGUgYSBzaW1wbGUgbWV0aG9kIHRvIHJlbW92ZSBhbGwgcmVnaXN0ZXJlZCBldmVudFxuICogaGFuZGxlcnMgZnJvbSB0aGUgcGxheWVyLlxuICpcbiAqIEBjYXRlZ29yeSBVdGlsc1xuICovXG5leHBvcnQgY2xhc3MgUGxheWVyV3JhcHBlciB7XG5cbiAgcHJpdmF0ZSBwbGF5ZXI6IFBsYXllckFQSTtcbiAgcHJpdmF0ZSB3cmFwcGVyOiBXcmFwcGVkUGxheWVyO1xuXG4gIHByaXZhdGUgZXZlbnRIYW5kbGVyczogeyBbZXZlbnRUeXBlOiBzdHJpbmddOiBQbGF5ZXJFdmVudENhbGxiYWNrW107IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihwbGF5ZXI6IFBsYXllckFQSSkge1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuXG4gICAgLy8gQ29sbGVjdCBhbGwgbWVtYmVycyBvZiB0aGUgcGxheWVyIChwdWJsaWMgQVBJIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgb2YgdGhlIHBsYXllcilcbiAgICBjb25zdCBvYmplY3RQcm90b1Byb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2Yoe30pKTtcbiAgICBjb25zdCBuYW1lc1RvSWdub3JlID0gWydjb25zdHJ1Y3RvcicsIC4uLm9iamVjdFByb3RvUHJvcGVydHlOYW1lc107XG4gICAgY29uc3QgbWVtYmVycyA9IGdldEFsbFByb3BlcnR5TmFtZXMocGxheWVyKS5maWx0ZXIobmFtZSA9PiBuYW1lc1RvSWdub3JlLmluZGV4T2YobmFtZSkgPT09IC0xKTtcbiAgICAvLyBTcGxpdCB0aGUgbWVtYmVycyBpbnRvIG1ldGhvZHMgYW5kIHByb3BlcnRpZXNcbiAgICBsZXQgbWV0aG9kcyA9IDxhbnlbXT5bXTtcbiAgICBsZXQgcHJvcGVydGllcyA9IDxhbnlbXT5bXTtcblxuICAgIGZvciAobGV0IG1lbWJlciBvZiBtZW1iZXJzKSB7XG4gICAgICBpZiAodHlwZW9mICg8YW55PnBsYXllcilbbWVtYmVyXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBtZXRob2RzLnB1c2gobWVtYmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3BlcnRpZXMucHVzaChtZW1iZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSB3cmFwcGVyIG9iamVjdFxuICAgIGxldCB3cmFwcGVyID0gPGFueT57fTtcblxuICAgIC8vIEFkZCBmdW5jdGlvbiB3cmFwcGVycyBmb3IgYWxsIEFQSSBtZXRob2RzIHRoYXQgZG8gbm90aGluZyBidXQgY2FsbGluZyB0aGUgYmFzZSBtZXRob2Qgb24gdGhlIHBsYXllclxuICAgIGZvciAobGV0IG1ldGhvZCBvZiBtZXRob2RzKSB7XG4gICAgICB3cmFwcGVyW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NhbGxlZCAnICsgbWVtYmVyKTsgLy8gdHJhY2sgbWV0aG9kIGNhbGxzIG9uIHRoZSBwbGF5ZXJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbFxuICAgICAgICByZXR1cm4gKDxhbnk+cGxheWVyKVttZXRob2RdLmFwcGx5KHBsYXllciwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQWRkIGFsbCBwdWJsaWMgcHJvcGVydGllcyBvZiB0aGUgcGxheWVyIHRvIHRoZSB3cmFwcGVyXG4gICAgZm9yIChsZXQgcHJvcGVydHkgb2YgcHJvcGVydGllcykge1xuICAgICAgLy8gR2V0IGFuIGV2ZW50dWFsbHkgZXhpc3RpbmcgcHJvcGVydHkgZGVzY3JpcHRvciB0byBkaWZmZXJlbnRpYXRlIGJldHdlZW4gcGxhaW4gcHJvcGVydGllcyBhbmQgcHJvcGVydGllcyB3aXRoXG4gICAgICAvLyBnZXR0ZXJzL3NldHRlcnMuXG4gICAgICBjb25zdCBwcm9wZXJ0eURlc2NyaXB0b3IgPSAoKHRhcmdldDogUGxheWVyQVBJKSA9PiB7XG4gICAgICAgIHdoaWxlICh0YXJnZXQpIHtcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHkpO1xuICAgICAgICAgIGlmIChwcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eURlc2NyaXB0b3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBQcm9wZXJ0eURlc2NyaXB0b3IgZXhpc3RzIG9uIGEgY2hpbGQgcHJvdG90eXBlIGluIGNhc2Ugd2UgaGF2ZSBhbiBpbmhlcml0YW5jZSBvZiB0aGUgcGxheWVyXG4gICAgICAgICAgdGFyZ2V0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0pKHBsYXllcik7XG5cbiAgICAgIC8vIElmIHRoZSBwcm9wZXJ0eSBoYXMgZ2V0dGVycy9zZXR0ZXJzLCB3cmFwIHRoZW0gYWNjb3JkaW5nbHkuLi5cbiAgICAgIGlmIChwcm9wZXJ0eURlc2NyaXB0b3IgJiYgKHByb3BlcnR5RGVzY3JpcHRvci5nZXQgfHwgcHJvcGVydHlEZXNjcmlwdG9yLnNldCkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdyYXBwZXIsIHByb3BlcnR5LCB7XG4gICAgICAgICAgZ2V0OiAoKSA9PiBwcm9wZXJ0eURlc2NyaXB0b3IuZ2V0LmNhbGwocGxheWVyKSxcbiAgICAgICAgICBzZXQ6ICh2YWx1ZTogYW55KSA9PiBwcm9wZXJ0eURlc2NyaXB0b3Iuc2V0LmNhbGwocGxheWVyLCB2YWx1ZSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gLi4uIGVsc2UganVzdCB0cmFuc2ZlciB0aGUgcHJvcGVydHkgdG8gdGhlIHdyYXBwZXJcbiAgICAgIGVsc2Uge1xuICAgICAgICB3cmFwcGVyW3Byb3BlcnR5XSA9ICg8YW55PnBsYXllcilbcHJvcGVydHldO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEV4cGxpY2l0bHkgYWRkIGEgd3JhcHBlciBtZXRob2QgZm9yICdvbicgdGhhdCBhZGRzIGFkZGVkIGV2ZW50IGhhbmRsZXJzIHRvIHRoZSBldmVudCBsaXN0XG4gICAgd3JhcHBlci5vbiA9IChldmVudFR5cGU6IFBsYXllckV2ZW50LCBjYWxsYmFjazogUGxheWVyRXZlbnRDYWxsYmFjaykgPT4ge1xuICAgICAgcGxheWVyLm9uKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xuXG4gICAgICBpZiAoIXRoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdKSB7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdID0gW107XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdLnB1c2goY2FsbGJhY2spO1xuXG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9O1xuXG4gICAgLy8gRXhwbGljaXRseSBhZGQgYSB3cmFwcGVyIG1ldGhvZCBmb3IgJ29mZicgdGhhdCByZW1vdmVzIHJlbW92ZWQgZXZlbnQgaGFuZGxlcnMgZnJvbSB0aGUgZXZlbnQgbGlzdFxuICAgIHdyYXBwZXIub2ZmID0gKGV2ZW50VHlwZTogUGxheWVyRXZlbnQsIGNhbGxiYWNrOiBQbGF5ZXJFdmVudENhbGxiYWNrKSA9PiB7XG4gICAgICBwbGF5ZXIub2ZmKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xuXG4gICAgICBpZiAodGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0pIHtcbiAgICAgICAgQXJyYXlVdGlscy5yZW1vdmUodGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0sIGNhbGxiYWNrKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfTtcblxuICAgIHdyYXBwZXIuZmlyZUV2ZW50SW5VSSA9IChldmVudDogUGxheWVyRXZlbnQsIGRhdGE6IHt9KSA9PiB7XG4gICAgICBpZiAodGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50XSkgeyAvLyBjaGVjayBpZiB0aGVyZSBhcmUgaGFuZGxlcnMgZm9yIHRoaXMgZXZlbnQgcmVnaXN0ZXJlZFxuICAgICAgICAvLyBFeHRlbmQgdGhlIGRhdGEgb2JqZWN0IHdpdGggZGVmYXVsdCB2YWx1ZXMgdG8gY29udmVydCBpdCB0byBhIHtAbGluayBQbGF5ZXJFdmVudEJhc2V9IG9iamVjdC5cbiAgICAgICAgbGV0IHBsYXllckV2ZW50RGF0YSA9IDxQbGF5ZXJFdmVudEJhc2U+T2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICB0eXBlOiBldmVudCxcbiAgICAgICAgICAvLyBBZGQgYSBtYXJrZXIgcHJvcGVydHkgc28gdGhlIFVJIGNhbiBkZXRlY3QgVUktaW50ZXJuYWwgcGxheWVyIGV2ZW50c1xuICAgICAgICAgIHVpU291cmNlZDogdHJ1ZSxcbiAgICAgICAgfSwgZGF0YSk7XG5cbiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgcmVnaXN0ZXJlZCBjYWxsYmFja3NcbiAgICAgICAgZm9yIChsZXQgY2FsbGJhY2sgb2YgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50XSkge1xuICAgICAgICAgIGNhbGxiYWNrKHBsYXllckV2ZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy53cmFwcGVyID0gPFdyYXBwZWRQbGF5ZXI+d3JhcHBlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgd3JhcHBlZCBwbGF5ZXIgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgb24gcGxhY2Ugb2YgdGhlIG5vcm1hbCBwbGF5ZXIgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7V3JhcHBlZFBsYXllcn0gYSB3cmFwcGVkIHBsYXllclxuICAgKi9cbiAgZ2V0UGxheWVyKCk6IFdyYXBwZWRQbGF5ZXIge1xuICAgIHJldHVybiB0aGlzLndyYXBwZXI7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCByZWdpc3RlcmVkIGV2ZW50IGhhbmRsZXJzIGZyb20gdGhlIHBsYXllciB0aGF0IHdlcmUgYWRkZWQgdGhyb3VnaCB0aGUgd3JhcHBlZCBwbGF5ZXIuXG4gICAqL1xuICBjbGVhckV2ZW50SGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENhbGwgdGhlIHBsYXllciBBUEkgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIHN0aWxsIHZhbGlkIG9yIGFscmVhZHkgZGVzdHJveWVkLlxuICAgICAgLy8gVGhpcyBjYW4gYmUgYW55IGNhbGwgdGhyb3dpbmcgdGhlIFBsYXllckFQSU5vdEF2YWlsYWJsZUVycm9yIHdoZW4gdGhlIHBsYXllciBpbnN0YW5jZSBpcyBkZXN0cm95ZWQuXG4gICAgICB0aGlzLnBsYXllci5nZXRTb3VyY2UoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgdGhpcy5wbGF5ZXIuZXhwb3J0cy5QbGF5ZXJBUElOb3RBdmFpbGFibGVFcnJvcikge1xuICAgICAgICAvLyBXZSBoYXZlIGRldGVjdGVkIHRoYXQgdGhlIHBsYXllciBpbnN0YW5jZSBpcyBhbHJlYWR5IGRlc3Ryb3llZCwgc28gd2UgY2xlYXIgdGhlIGV2ZW50IGhhbmRsZXJzIHRvIGF2b2lkXG4gICAgICAgIC8vIGV2ZW50IGhhbmRsZXIgdW5zdWJzY3JpcHRpb24gYXR0ZW1wdHMgKHdoaWNoIHdvdWxkIHJlc3VsdCBpbiBQbGF5ZXJBUElOb3RBdmFpbGFibGVFcnJvciBlcnJvcnMpLlxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMgPSB7fTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBldmVudFR5cGUgaW4gdGhpcy5ldmVudEhhbmRsZXJzKSB7XG4gICAgICBmb3IgKGxldCBjYWxsYmFjayBvZiB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXSkge1xuICAgICAgICB0aGlzLnBsYXllci5vZmYoZXZlbnRUeXBlIGFzIFBsYXllckV2ZW50LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFsbFByb3BlcnR5TmFtZXModGFyZ2V0OiBPYmplY3QpOiBzdHJpbmdbXSB7XG4gIGxldCBuYW1lczogc3RyaW5nW10gPSBbXTtcblxuICB3aGlsZSAodGFyZ2V0KSB7XG4gICAgY29uc3QgbmV3TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpLmZpbHRlcihuYW1lID0+IG5hbWVzLmluZGV4T2YobmFtZSkgPT09IC0xKTtcbiAgICBuYW1lcyA9IG5hbWVzLmNvbmNhdChuZXdOYW1lcyk7XG4gICAgLy8gZ28gdXAgcHJvdG90eXBlIGNoYWluXG4gICAgdGFyZ2V0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgQ29tcG9uZW50Q29uZmlnfSBmcm9tICcuL2NvbXBvbmVudHMvY29tcG9uZW50JztcbmltcG9ydCB7Q29udGFpbmVyfSBmcm9tICcuL2NvbXBvbmVudHMvY29udGFpbmVyJztcblxuLyoqXG4gKiBAY2F0ZWdvcnkgVXRpbHNcbiAqL1xuZXhwb3J0IG5hbWVzcGFjZSBVSVV0aWxzIHtcbiAgZXhwb3J0IGludGVyZmFjZSBUcmVlVHJhdmVyc2FsQ2FsbGJhY2sge1xuICAgIChjb21wb25lbnQ6IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+LCBwYXJlbnQ/OiBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPik6IHZvaWQ7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VUcmVlKGNvbXBvbmVudDogQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz4sIHZpc2l0OiBUcmVlVHJhdmVyc2FsQ2FsbGJhY2spOiB2b2lkIHtcbiAgICBsZXQgcmVjdXJzaXZlVHJlZVdhbGtlciA9IChjb21wb25lbnQ6IENvbXBvbmVudDxDb21wb25lbnRDb25maWc+LCBwYXJlbnQ/OiBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPikgPT4ge1xuICAgICAgdmlzaXQoY29tcG9uZW50LCBwYXJlbnQpO1xuXG4gICAgICAvLyBJZiB0aGUgY3VycmVudCBjb21wb25lbnQgaXMgYSBjb250YWluZXIsIHZpc2l0IGl0J3MgY2hpbGRyZW5cbiAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBDb250YWluZXIpIHtcbiAgICAgICAgZm9yIChsZXQgY2hpbGRDb21wb25lbnQgb2YgY29tcG9uZW50LmdldENvbXBvbmVudHMoKSkge1xuICAgICAgICAgIHJlY3Vyc2l2ZVRyZWVXYWxrZXIoY2hpbGRDb21wb25lbnQsIGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gV2FsayBhbmQgY29uZmlndXJlIHRoZSBjb21wb25lbnQgdHJlZVxuICAgIHJlY3Vyc2l2ZVRyZWVXYWxrZXIoY29tcG9uZW50KTtcbiAgfVxuXG4gIC8vIEZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9uZnJpZW5kL3RzLWtleWNvZGUtZW51bS9ibG9iL21hc3Rlci9LZXkuZW51bS50c1xuICBleHBvcnQgZW51bSBLZXlDb2RlIHtcbiAgICBMZWZ0QXJyb3cgPSAzNyxcbiAgICBVcEFycm93ID0gMzgsXG4gICAgUmlnaHRBcnJvdyA9IDM5LFxuICAgIERvd25BcnJvdyA9IDQwLFxuICAgIFNwYWNlID0gMzIsXG4gICAgRW5kID0gMzUsXG4gICAgSG9tZSA9IDM2LFxuICB9XG59XG4iLCJpbXBvcnQgeyBFdmVudCwgRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnLi9ldmVudGRpc3BhdGNoZXInO1xuaW1wb3J0IHsgUGxheWVyQVBJIH0gZnJvbSAnYml0bW92aW4tcGxheWVyJztcblxuZXhwb3J0IGludGVyZmFjZSBWb2x1bWVTZXR0aW5nQ2hhbmdlZEFyZ3Mge1xuICB2b2x1bWU6IG51bWJlcjtcbiAgbXV0ZWQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQ2FuIGJlIHVzZWQgdG8gY2VudHJhbGx5IG1hbmFnZSBhbmQgY29udHJvbCB0aGUgdm9sdW1lIGFuZCBtdXRlIHN0YXRlIG9mIHRoZSBwbGF5ZXIgZnJvbSBtdWx0aXBsZSBjb21wb25lbnRzLlxuICovXG5leHBvcnQgY2xhc3MgVm9sdW1lQ29udHJvbGxlciB7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgaXNzdWVyTmFtZSA9ICd1aS12b2x1bWVjb250cm9sbGVyJztcblxuICBwcml2YXRlIHJlYWRvbmx5IGV2ZW50cyA9IHtcbiAgICBvbkNoYW5nZWQ6IG5ldyBFdmVudERpc3BhdGNoZXI8Vm9sdW1lQ29udHJvbGxlciwgVm9sdW1lU2V0dGluZ0NoYW5nZWRBcmdzPigpLFxuICB9O1xuXG4gIHByaXZhdGUgc3RvcmVkVm9sdW1lOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBwbGF5ZXI6IFBsYXllckFQSSkge1xuICAgIHRoaXMuc3RvcmVWb2x1bWUoKTtcblxuICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9uQ2hhbmdlZEV2ZW50KCk7XG4gICAgfTtcblxuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5Tb3VyY2VMb2FkZWQsIGhhbmRsZXIpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5Wb2x1bWVDaGFuZ2VkLCBoYW5kbGVyKTtcbiAgICBwbGF5ZXIub24ocGxheWVyLmV4cG9ydHMuUGxheWVyRXZlbnQuTXV0ZWQsIGhhbmRsZXIpO1xuICAgIHBsYXllci5vbihwbGF5ZXIuZXhwb3J0cy5QbGF5ZXJFdmVudC5Vbm11dGVkLCBoYW5kbGVyKTtcbiAgfVxuXG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucGxheWVyLnNldFZvbHVtZSh2b2x1bWUsIFZvbHVtZUNvbnRyb2xsZXIuaXNzdWVyTmFtZSk7XG4gIH1cblxuICBnZXRWb2x1bWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0Vm9sdW1lKCk7XG4gIH1cblxuICBzZXRNdXRlZChtdXRlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmIChtdXRlZCkge1xuICAgICAgdGhpcy5wbGF5ZXIubXV0ZShWb2x1bWVDb250cm9sbGVyLmlzc3Vlck5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBsYXllci51bm11dGUoVm9sdW1lQ29udHJvbGxlci5pc3N1ZXJOYW1lKTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVNdXRlZCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc011dGVkKCkgfHwgdGhpcy5nZXRWb2x1bWUoKSA9PT0gMCkge1xuICAgICAgLy8gVW5tdXRpbmcgZnJvbSB0aGUgbXV0ZSBvciB6ZXJvLXZvbHVtZSBzdGF0ZSByZWNhbGxzIHRoZSBwcmV2aW91c2x5IHNhdmVkIHZvbHVtZSBzZXR0aW5nLiBTZXR0aW5nIHRoZVxuICAgICAgLy8gdm9sdW1lIGF1dG9tYXRpY2FsbHkgdW5tdXRlcyB0aGUgcGxheWVyIGluIHY3LlxuICAgICAgdGhpcy5yZWNhbGxWb2x1bWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRNdXRlZCh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBpc011dGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBsYXllci5pc011dGVkKCk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcmVzIChzYXZlcykgdGhlIGN1cnJlbnQgdm9sdW1lIHNvIGl0IGNhbiBsYXRlciBiZSByZXN0b3JlZCB3aXRoIHtAbGluayByZWNhbGxWb2x1bWV9LlxuICAgKi9cbiAgc3RvcmVWb2x1bWUoKTogdm9pZCB7XG4gICAgdGhpcy5zdG9yZWRWb2x1bWUgPSB0aGlzLmdldFZvbHVtZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY2FsbHMgKHNldHMpIHRoZSB2b2x1bWUgcHJldmlvdXNseSBzdG9yZWQgd2l0aCB7QGxpbmsgc3RvcmVWb2x1bWV9LlxuICAgKi9cbiAgcmVjYWxsVm9sdW1lKCk6IHZvaWQge1xuICAgIHRoaXMuc2V0TXV0ZWQodGhpcy5zdG9yZWRWb2x1bWUgPT09IDApO1xuICAgIHRoaXMuc2V0Vm9sdW1lKHRoaXMuc3RvcmVkVm9sdW1lKTtcbiAgfVxuXG4gIHN0YXJ0VHJhbnNpdGlvbigpOiBWb2x1bWVUcmFuc2l0aW9uIHtcbiAgICByZXR1cm4gbmV3IFZvbHVtZVRyYW5zaXRpb24odGhpcyk7XG4gIH1cblxuICBvbkNoYW5nZWRFdmVudCgpIHtcbiAgICBjb25zdCBwbGF5ZXJNdXRlZCA9IHRoaXMuaXNNdXRlZCgpO1xuICAgIGNvbnN0IHBsYXllclZvbHVtZSA9IHRoaXMuZ2V0Vm9sdW1lKCk7XG5cbiAgICBjb25zdCB1aU11dGVkID0gcGxheWVyTXV0ZWQgfHwgcGxheWVyVm9sdW1lID09PSAwO1xuICAgIGNvbnN0IHVpVm9sdW1lID0gcGxheWVyTXV0ZWQgPyAwIDogcGxheWVyVm9sdW1lO1xuXG4gICAgdGhpcy5zdG9yZVZvbHVtZSgpO1xuXG4gICAgdGhpcy5ldmVudHMub25DaGFuZ2VkLmRpc3BhdGNoKHRoaXMsIHsgdm9sdW1lOiB1aVZvbHVtZSwgbXV0ZWQ6IHVpTXV0ZWQgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSB2b2x1bWUgc2V0dGluZ3MgaGF2ZSBjaGFuZ2VkLlxuICAgKi9cbiAgZ2V0IG9uQ2hhbmdlZCgpOiBFdmVudDxWb2x1bWVDb250cm9sbGVyLCBWb2x1bWVTZXR0aW5nQ2hhbmdlZEFyZ3M+IHtcbiAgICByZXR1cm4gdGhpcy5ldmVudHMub25DaGFuZ2VkLmdldEV2ZW50KCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZvbHVtZVRyYW5zaXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udHJvbGxlcjogVm9sdW1lQ29udHJvbGxlcikge1xuICAgIC8vIFN0b3JlIHRoZSB2b2x1bWUgYXQgdGhlIGJlZ2lubmluZyBvZiBhIHZvbHVtZSBjaGFuZ2Ugc28gd2UgY2FuIHJlY2FsbCBpdCBsYXRlciBpbiBjYXNlIHdlIHNldCB0aGUgdm9sdW1lIHRvXG4gICAgLy8gemVybyBhbmQgYWN0dWFsbHkgbXV0ZSB0aGUgcGxheWVyLlxuICAgIGNvbnRyb2xsZXIuc3RvcmVWb2x1bWUoKTtcbiAgfVxuXG4gIHVwZGF0ZSh2b2x1bWU6IG51bWJlcik6IHZvaWQge1xuICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIHdoaWxlIHRyYW5zaXRpb25pbmcgc28gdGhlIHVzZXIgaGFzIGEgXCJsaXZlIHByZXZpZXdcIiBvZiB0aGUgZGVzaXJlZCB0YXJnZXQgdm9sdW1lXG4gICAgdGhpcy5jb250cm9sbGVyLnNldE11dGVkKGZhbHNlKTtcbiAgICB0aGlzLmNvbnRyb2xsZXIuc2V0Vm9sdW1lKHZvbHVtZSk7XG4gIH1cblxuICBmaW5pc2godm9sdW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodm9sdW1lID09PSAwKSB7XG4gICAgICAvLyBXaGVuIHRoZSB2b2x1bWUgaXMgemVybyB3ZSBlc3NlbnRpYWxseSBtdXRlIHRoZSB2b2x1bWUgc28gd2UgcmVjYWxsIHRoZSB2b2x1bWUgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZVxuICAgICAgLy8gdHJhbnNpdGlvbiBhbmQgbXV0ZSB0aGUgcGxheWVyIGluc3RlYWQuIFJlY2FsbGluZyBpcyBuZWNlc3NhcnkgdG8gcmV0dXJuIHRvIHRoZSBhY3R1YWwgYXVkaW8gdm9sdW1lXG4gICAgICAvLyB3aGVuIHVubXV0aW5nLlxuICAgICAgLy8gV2UgbXVzdCBmaXJzdCByZWNhbGwgdGhlIHZvbHVtZSBhbmQgdGhlbiBtdXRlLCBiZWNhdXNlIHJlY2FsbGluZyBzZXRzIHRoZSB2b2x1bWUgb24gdGhlIHBsYXllclxuICAgICAgLy8gYW5kIHNldHRpbmcgYSBwbGF5ZXIgdm9sdW1lID4gMCB1bm11dGVzIHRoZSBwbGF5ZXIgaW4gdjcuXG4gICAgICB0aGlzLmNvbnRyb2xsZXIucmVjYWxsVm9sdW1lKCk7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuc2V0TXV0ZWQodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29udHJvbGxlci5zZXRNdXRlZChmYWxzZSk7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuc2V0Vm9sdW1lKHZvbHVtZSk7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuc3RvcmVWb2x1bWUoKTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgeyBTdWJ0aXRsZVJlZ2lvbkNvbnRhaW5lciwgU3VidGl0bGVMYWJlbCB9IGZyb20gJy4vY29tcG9uZW50cy9zdWJ0aXRsZW92ZXJsYXknO1xuaW1wb3J0IHsgVlRUUHJvcGVydGllcywgVlRUUmVnaW9uUHJvcGVydGllcyB9IGZyb20gJ2JpdG1vdmluLXBsYXllci90eXBlcy9zdWJ0aXRsZXMvdnR0L0FQSSc7XG5pbXBvcnQgeyBET00sIFNpemUgfSBmcm9tICcuL2RvbSc7XG5cbi8vIE91ciBkZWZhdWx0IGhlaWdodCBvZiBhIGxpbmVcbmNvbnN0IGxpbmVIZWlnaHQgPSAyODtcblxuLy8gRGVmYXVsdCByZWxhdGl2ZSBsaW5lIGhlaWdodFxuY29uc3QgbGluZUhlaWdodFBlcmNlbnQgPSA1O1xubGV0IGxpbmVDb3VudDogbnVtYmVyID0gMTtcblxuY29uc3QgZGVmYXVsdExpbmVOdW1iZXIgPSAyMTsgLy8gT3VyIGRlZmF1bHQgYW1vdW50IG9mIGxpbmVzXG5cbmVudW0gRGlyZWN0aW9uIHtcbiAgVG9wID0gJ3RvcCcsXG4gIEJvdHRvbSA9ICdib3R0b20nLFxuICBMZWZ0ID0gJ2xlZnQnLFxuICBSaWdodCA9ICdyaWdodCcsXG59XG5cbmVudW0gVnR0VmVydGljYWxXcml0aW5nIHtcbiAgR3Jvd2luZ1JpZ2h0ID0gJ2xyJyxcbiAgR3Jvd2luZ0xlZnQgPSAncmwnLFxufVxuXG50eXBlIFZlcnRpY2FsV3JpdGluZ0RpcmVjdGlvbiA9IERpcmVjdGlvbi5MZWZ0IHwgRGlyZWN0aW9uLlJpZ2h0O1xuXG5jb25zdCBEaXJlY3Rpb25QYWlyID0gbmV3IE1hcDxEaXJlY3Rpb24sIERpcmVjdGlvbj4oW1xuICBbRGlyZWN0aW9uLlRvcCwgRGlyZWN0aW9uLkJvdHRvbV0sXG4gIFtEaXJlY3Rpb24uQm90dG9tLCBEaXJlY3Rpb24uVG9wXSxcbiAgW0RpcmVjdGlvbi5MZWZ0LCBEaXJlY3Rpb24uUmlnaHRdLFxuICBbRGlyZWN0aW9uLlJpZ2h0LCBEaXJlY3Rpb24uTGVmdF0sXG5dKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBkZWZhdWx0IHN0YW5kYXJkaXplZCBzdHlsZXMgZm9yIHRoZSBDdWUgQm94XG4gKiBodHRwczovL3czLm9yZy9UUi93ZWJ2dHQxLyNhcHBseWluZy1jc3MtcHJvcGVydGllc1xuICovXG5jb25zdCBzZXREZWZhdWx0VnR0U3R5bGVzID0gKGN1ZUNvbnRhaW5lckRvbTogRE9NLCB2dHQ6IFZUVFByb3BlcnRpZXMpID0+IHtcbiAgaWYgKHZ0dC5yZWdpb24pIHtcbiAgICBjdWVDb250YWluZXJEb20uY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xuICAgIGN1ZUNvbnRhaW5lckRvbS5jc3MoJ3VuaWNvZGUtYmlkaScsICdwbGFpbnRleHQnKTtcbiAgfSBlbHNlIHtcbiAgICBjdWVDb250YWluZXJEb20uY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICAgIGN1ZUNvbnRhaW5lckRvbS5jc3MoJ292ZXJmbG93LXdyYXAnLCAnYnJlYWstd29yZCcpO1xuICAgIGN1ZUNvbnRhaW5lckRvbS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgIGN1ZUNvbnRhaW5lckRvbS5jc3MoJ2ZsZXgtZmxvdycsICdjb2x1bW4nKTtcbiAgfVxuICBjdWVDb250YWluZXJEb20uY3NzKCdkaXNwbGF5JywgJ2lubGluZS1mbGV4Jyk7XG59O1xuXG4vKipcbiAqIEFsaWduIHRoZSBDdWUgQm94J3MgbGluZVxuICogaHR0cHM6Ly93My5vcmcvVFIvd2VidnR0MS8jd2VidnR0LWN1ZS1saW5lLWFsaWdubWVudFxuICovXG5jb25zdCBzZXRWdHRMaW5lQWxpZ24gPSAoXG4gIGN1ZUNvbnRhaW5lckRvbTogRE9NLFxuICB7IGxpbmVBbGlnbiB9OiBWVFRQcm9wZXJ0aWVzLFxuICBkaXJlY3Rpb246IERpcmVjdGlvbixcbiAgcmVsYXRpdmVDdWVCb3hQb3NpdGlvbjogbnVtYmVyKSA9PiB7XG4gIHN3aXRjaCAobGluZUFsaWduKSB7XG4gICAgY2FzZSAnY2VudGVyJzpcbiAgICAgIHNldENzc0ZvckNlbnRlckxpbmVBbGlnbihcbiAgICAgICAgY3VlQ29udGFpbmVyRG9tLCBkaXJlY3Rpb24sIHJlbGF0aXZlQ3VlQm94UG9zaXRpb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZW5kJzpcbiAgICAgIHNldENzc0ZvckVuZExpbmVBbGlnbihcbiAgICAgICAgY3VlQ29udGFpbmVyRG9tLCBkaXJlY3Rpb24sIHJlbGF0aXZlQ3VlQm94UG9zaXRpb24pO1xuICB9XG59O1xuXG4vKipcbiAqIERlZmluZXMgdGhlIGxpbmUgcG9zaXRpb25pbmcgb2YgdGhlIEN1ZSBCb3hcbiAqIGh0dHBzOi8vdzMub3JnL1RSL3dlYnZ0dDEvI3dlYnZ0dC1jdWUtbGluZVxuICovXG5jb25zdCBzZXRWdHRMaW5lID0gKFxuICBjdWVDb250YWluZXJEb206IERPTSxcbiAgdnR0OiBWVFRQcm9wZXJ0aWVzLFxuICBkaXJlY3Rpb246IERpcmVjdGlvbixcbiAgc3VidGl0bGVPdmVyTGF5U2l6ZTogU2l6ZSxcbikgPT4ge1xuICBjb25zdCBvdmVybGF5UmVmZXJlbmNlRWRnZSA9IERpcmVjdGlvblBhaXIuZ2V0KGRpcmVjdGlvbik7XG4gIGlmICh2dHQubGluZSA9PT0gJ2F1dG8nICYmIHZ0dC52ZXJ0aWNhbCkge1xuICAgIGN1ZUNvbnRhaW5lckRvbS5jc3Mob3ZlcmxheVJlZmVyZW5jZUVkZ2UsICcwJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh2dHQubGluZSA9PT0gJ2F1dG8nICYmICF2dHQudmVydGljYWwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgcmVsYXRpdmVMaW5lUG9zaXRpb24gPSBwYXJzZUZsb2F0KHZ0dC5saW5lIGFzIHN0cmluZyk7XG5cbiAgaWYgKHZ0dC5zbmFwVG9MaW5lcykge1xuICAgIGxldCB0YXJnZXRMaW5lID0gTnVtYmVyKHZ0dC5saW5lKTtcbiAgICBpZiAodGFyZ2V0TGluZSA8IDApIHtcbiAgICAgIHRhcmdldExpbmUgPSBkZWZhdWx0TGluZU51bWJlciArIHRhcmdldExpbmU7XG4gICAgfVxuXG4gICAgY29uc3QgbGluZUhlaWdodCA9IHN1YnRpdGxlT3ZlckxheVNpemUuaGVpZ2h0IC8gZGVmYXVsdExpbmVOdW1iZXI7XG4gICAgY29uc3QgYWJzb2x1dGVMaW5lUG9zaXRpb24gPSBsaW5lSGVpZ2h0ICogdGFyZ2V0TGluZTtcbiAgICByZWxhdGl2ZUxpbmVQb3NpdGlvbiA9ICgxMDAgKiBhYnNvbHV0ZUxpbmVQb3NpdGlvbikgLyBzdWJ0aXRsZU92ZXJMYXlTaXplLmhlaWdodDtcbiAgfVxuXG4gIGlmICh2dHQubGluZUFsaWduICE9PSAnZW5kJylcbiAgICBjdWVDb250YWluZXJEb20uY3NzKFxuICAgICAgb3ZlcmxheVJlZmVyZW5jZUVkZ2UsIGAke3JlbGF0aXZlTGluZVBvc2l0aW9ufSVgKTtcbiAgc2V0VnR0TGluZUFsaWduKGN1ZUNvbnRhaW5lckRvbSwgdnR0LCBkaXJlY3Rpb24sIHJlbGF0aXZlTGluZVBvc2l0aW9uKTtcbn07XG5cbi8qKlxuICogRGVmaW5lcyB0aGUgd3JpdGluZyBkaXJlY3Rpb24gb2YgdGhlIEN1ZSBCb3hcbiAqIGh0dHBzOi8vdzMub3JnL1RSL3dlYnZ0dDEvI3dlYnZ0dC1jdWUtd3JpdGluZy1kaXJlY3Rpb25cbiAqL1xuY29uc3Qgc2V0VnR0V3JpdGluZ0RpcmVjdGlvbkFuZEN1ZUJveFBvc2l0aW9uaW5nID0gKFxuICBjdWVDb250YWluZXJEb206IERPTSwgdnR0OiBWVFRQcm9wZXJ0aWVzLFxuICBzdWJ0aXRsZU92ZXJsYXlTaXplOiBTaXplLFxuKSA9PiB7XG4gIHN3aXRjaCAodnR0LnZlcnRpY2FsKSB7XG4gIGNhc2UgJyc6XG4gICAgY3VlQ29udGFpbmVyRG9tLmNzcygnd3JpdGluZy1tb2RlJywgJ2hvcml6b250YWwtdGInKTtcbiAgICBjdWVDb250YWluZXJEb20uY3NzKERpcmVjdGlvbi5Cb3R0b20sICcwJyk7XG4gICAgc2V0VnR0TGluZShjdWVDb250YWluZXJEb20sIHZ0dCwgRGlyZWN0aW9uLkJvdHRvbSwgc3VidGl0bGVPdmVybGF5U2l6ZSk7XG4gICAgYnJlYWs7XG4gIGNhc2UgVnR0VmVydGljYWxXcml0aW5nLkdyb3dpbmdSaWdodDpcbiAgICBzZXRDdWVCb3hQb3NpdGlvbkZvclZlcnRpY2FsV3JpdGluZyhcbiAgICAgIGN1ZUNvbnRhaW5lckRvbSwgRGlyZWN0aW9uLlJpZ2h0LCB2dHQsIHN1YnRpdGxlT3ZlcmxheVNpemUpO1xuICAgIGJyZWFrO1xuICBjYXNlIFZ0dFZlcnRpY2FsV3JpdGluZy5Hcm93aW5nTGVmdDpcbiAgICBzZXRDdWVCb3hQb3NpdGlvbkZvclZlcnRpY2FsV3JpdGluZyhcbiAgICAgIGN1ZUNvbnRhaW5lckRvbSwgRGlyZWN0aW9uLkxlZnQsIHZ0dCwgc3VidGl0bGVPdmVybGF5U2l6ZSk7XG4gICAgYnJlYWs7XG4gIH1cbn07XG5cbmNvbnN0IHNldEN1ZUJveFBvc2l0aW9uRm9yVmVydGljYWxXcml0aW5nID0gKFxuICBjdWVDb250YWluZXJEb206IERPTSxcbiAgZGlyZWN0aW9uOiBWZXJ0aWNhbFdyaXRpbmdEaXJlY3Rpb24sXG4gIHZ0dDogVlRUUHJvcGVydGllcyxcbiAgc3VidGl0bGVPdmVybGF5U2l6ZTogU2l6ZSxcbikgPT4ge1xuICAgIGNvbnN0IHdyaXRpbmdNb2RlID0gZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uUmlnaHQgP1xuICAgICAgJ3ZlcnRpY2FsLWxyJyA6ICd2ZXJ0aWNhbC1ybCc7XG5cbiAgICBjdWVDb250YWluZXJEb20uY3NzKCd3cml0aW5nLW1vZGUnLCB3cml0aW5nTW9kZSk7XG4gICAgY3VlQ29udGFpbmVyRG9tLmNzcyhEaXJlY3Rpb24uVG9wLCAnMCcpO1xuICAgIHNldFZ0dExpbmUoY3VlQ29udGFpbmVyRG9tLCB2dHQsIGRpcmVjdGlvbiwgc3VidGl0bGVPdmVybGF5U2l6ZSk7XG59O1xuXG4vKipcbiAqIERlZmluZXMgdGhlIEN1ZSBwb3NpdGlvbiBhbGlnbm1lbnRcbiAqIGh0dHBzOi8vdzMub3JnL1RSL3dlYnZ0dDEvI3dlYnZ0dC1jdWUtcG9zaXRpb24tYWxpZ25tZW50XG4gKi9cbmNvbnN0IHNldFZ0dFBvc2l0aW9uQWxpZ24gPSAoY3VlQ29udGFpbmVyRG9tOiBET00sIHZ0dDogVlRUUHJvcGVydGllcywgZGlyZWN0aW9uOiBEaXJlY3Rpb24pID0+IHtcbiAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3dlYnZ0dDEvI3dlYnZ0dC1jdWUtcG9zaXRpb25cbiAgaWYgKHZ0dC5wb3NpdGlvbiA9PT0gJ2F1dG8nKSB7XG4gICAgY3VlQ29udGFpbmVyRG9tLmNzcyhkaXJlY3Rpb24sICcwJyk7XG4gIH0gZWxzZSB7XG4gICAgc3dpdGNoICh2dHQucG9zaXRpb25BbGlnbikge1xuICAgICAgY2FzZSAnbGluZS1sZWZ0JzpcbiAgICAgICAgY3VlQ29udGFpbmVyRG9tLmNzcyhkaXJlY3Rpb24sIGAke3Z0dC5wb3NpdGlvbn0lYCk7XG4gICAgICAgIGN1ZUNvbnRhaW5lckRvbS5jc3MoRGlyZWN0aW9uUGFpci5nZXQoZGlyZWN0aW9uKSwgJ2F1dG8nKTtcbiAgICAgICAgY3VlQ29udGFpbmVyRG9tLmNzcygnanVzdGlmeS1jb250ZW50JywgJ2ZsZXgtc3RhcnQnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgICBjdWVDb250YWluZXJEb20uY3NzKGRpcmVjdGlvbiwgYCR7dnR0LnBvc2l0aW9uIC0gdnR0LnNpemUgLyAyfSVgKTtcbiAgICAgICAgY3VlQ29udGFpbmVyRG9tLmNzcyhEaXJlY3Rpb25QYWlyLmdldChkaXJlY3Rpb24pLCAnYXV0bycpO1xuICAgICAgICBjdWVDb250YWluZXJEb20uY3NzKCdqdXN0aWZ5LWNvbnRlbnQnLCAnY2VudGVyJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGluZS1yaWdodCc6XG4gICAgICAgIGN1ZUNvbnRhaW5lckRvbS5jc3MoZGlyZWN0aW9uLCAnYXV0bycpO1xuICAgICAgICBjdWVDb250YWluZXJEb20uY3NzKERpcmVjdGlvblBhaXIuZ2V0KGRpcmVjdGlvbiksIGAkezEwMCAtIHZ0dC5wb3NpdGlvbn0lYCk7XG4gICAgICAgIGN1ZUNvbnRhaW5lckRvbS5jc3MoJ2p1c3RpZnktY29udGVudCcsICdmbGV4LWVuZCcpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGN1ZUNvbnRhaW5lckRvbS5jc3MoZGlyZWN0aW9uLCBgJHt2dHQucG9zaXRpb259JWApO1xuICAgICAgICBjdWVDb250YWluZXJEb20uY3NzKCdqdXN0aWZ5LWNvbnRlbnQnLCAnZmxleC1zdGFydCcpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgY291bnRMaW5lcyA9IChpbm5lckh0bWw6IHN0cmluZykgPT5cbiAgaW5uZXJIdG1sLnNwbGl0KCc8YnIgLz4nKS5sZW5ndGg7XG5cbmNvbnN0IHNldENzc0ZvckNlbnRlckxpbmVBbGlnbiA9IChcbiAgY3VlQ29udGFpbmVyRG9tOiBET00sXG4gIGRpcmVjdGlvbjogRGlyZWN0aW9uLFxuICByZWxhdGl2ZUN1ZUJveFBvc2l0aW9uOiBudW1iZXIpID0+IHtcbiAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICBjYXNlIERpcmVjdGlvbi5Cb3R0b206XG4gICAgICBjdWVDb250YWluZXJEb20uY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgtNTAlKScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBEaXJlY3Rpb24uTGVmdDpcbiAgICAgIGN1ZUNvbnRhaW5lckRvbS5jc3MoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVYKDUwJSknKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRGlyZWN0aW9uLlJpZ2h0OlxuICAgICAgY3VlQ29udGFpbmVyRG9tLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVgoLTUwJSknKTtcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG5jb25zdCBzZXRDc3NGb3JFbmRMaW5lQWxpZ24gPSAoXG4gIGN1ZUNvbnRhaW5lckRvbTogRE9NLFxuICBkaXJlY3Rpb246IERpcmVjdGlvbixcbiAgb2Zmc2V0OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IG9wb3NpdGVUb092ZXJsYXlSZWZlcmVuY2VFZGdlID0gZGlyZWN0aW9uO1xuICAgICAgY3VlQ29udGFpbmVyRG9tLmNzcyhvcG9zaXRlVG9PdmVybGF5UmVmZXJlbmNlRWRnZSwgYCR7MTAwIC0gb2Zmc2V0fSVgKTtcbn07XG5cbi8qKlxuICogQGNhdGVnb3J5IFV0aWxzXG4gKi9cbmV4cG9ydCBuYW1lc3BhY2UgVnR0VXRpbHMge1xuICBleHBvcnQgY29uc3Qgc2V0VnR0Q3VlQm94U3R5bGVzID0gKFxuICAgIGN1ZUNvbnRhaW5lcjogU3VidGl0bGVMYWJlbCxcbiAgICBzdWJ0aXRsZU92ZXJsYXlTaXplOiBTaXplLFxuICApID0+IHtcbiAgICBjb25zdCB2dHQgPSBjdWVDb250YWluZXIudnR0O1xuICAgIGNvbnN0IGN1ZUNvbnRhaW5lckRvbSA9IGN1ZUNvbnRhaW5lci5nZXREb21FbGVtZW50KCk7XG5cblxuICAgIHNldERlZmF1bHRWdHRTdHlsZXMoY3VlQ29udGFpbmVyRG9tLCB2dHQpO1xuXG4gICAgbGluZUNvdW50ID0gY291bnRMaW5lcyhjdWVDb250YWluZXIuZ2V0VGV4dCgpKTtcbiAgICBzZXRWdHRXcml0aW5nRGlyZWN0aW9uQW5kQ3VlQm94UG9zaXRpb25pbmcoY3VlQ29udGFpbmVyRG9tLCB2dHQsIHN1YnRpdGxlT3ZlcmxheVNpemUpO1xuXG4gICAgLy8gaHR0cHM6Ly93My5vcmcvVFIvd2VidnR0MS8jd2VidnR0LWN1ZS10ZXh0LWFsaWdubWVudFxuICAgIGNvbnN0IHRleHRBbGlnbiA9IHZ0dC5hbGlnbiA9PT0gJ21pZGRsZScgPyAnY2VudGVyJyA6IHZ0dC5hbGlnbjtcbiAgICBjdWVDb250YWluZXJEb20uY3NzKCd0ZXh0LWFsaWduJywgdGV4dEFsaWduKTtcblxuICAgIC8vIGh0dHBzOi8vdzMub3JnL1RSL3dlYnZ0dDEvI3dlYnZ0dC1jdWUtc2l6ZVxuICAgIGNvbnN0IGNvbnRhaW5lclNpemUgPSB2dHQuc2l6ZTtcbiAgICBpZiAodnR0LnZlcnRpY2FsID09PSAnJykge1xuICAgICAgY3VlQ29udGFpbmVyRG9tLmNzcygnd2lkdGgnLCBgJHtjb250YWluZXJTaXplfSVgKTtcbiAgICAgIHNldFZ0dFBvc2l0aW9uQWxpZ24oY3VlQ29udGFpbmVyRG9tLCB2dHQsIERpcmVjdGlvbi5MZWZ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VlQ29udGFpbmVyRG9tLmNzcygnaGVpZ2h0JywgYCR7Y29udGFpbmVyU2l6ZX0lYCk7XG4gICAgICBzZXRWdHRQb3NpdGlvbkFsaWduKGN1ZUNvbnRhaW5lckRvbSwgdnR0LCBEaXJlY3Rpb24uVG9wKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93ZWJ2dHQxLyNyZWdpb25zXG4gICAqICBodHRwczovL3d3dy5zcGVlY2hwYWQuY29tL2NhcHRpb25zL3dlYnZ0dCN0b2NfMTZcbiAgICovXG4gIGV4cG9ydCBjb25zdCBzZXRWdHRSZWdpb25TdHlsZXMgPSAoXG4gICAgcmVnaW9uQ29udGFpbmVyOiBTdWJ0aXRsZVJlZ2lvbkNvbnRhaW5lcixcbiAgICByZWdpb246IFZUVFJlZ2lvblByb3BlcnRpZXMsXG4gICAgb3ZlcmxheVNpemU6IFNpemUsXG4gICkgPT4ge1xuICAgIGNvbnN0IHJlZ2lvbkNvbnRhaW5lckRvbSA9IHJlZ2lvbkNvbnRhaW5lci5nZXREb21FbGVtZW50KCk7XG4gICAgY29uc3QgcmVnaW9uUG9zaXRpb25YID0gb3ZlcmxheVNpemUud2lkdGggKiByZWdpb24udmlld3BvcnRBbmNob3JYIC8gMTAwIC0gKChvdmVybGF5U2l6ZS53aWR0aCAqIHJlZ2lvbi53aWR0aCAvIDEwMCkgKiByZWdpb24ucmVnaW9uQW5jaG9yWCAvIDEwMCk7XG4gICAgY29uc3QgcmVnaW9uUG9zaXRpb25ZID0gb3ZlcmxheVNpemUuaGVpZ2h0ICogcmVnaW9uLnZpZXdwb3J0QW5jaG9yWSAvIDEwMCAtICgocmVnaW9uLmxpbmVzICogbGluZUhlaWdodCkgKiByZWdpb24ucmVnaW9uQW5jaG9yWSAvIDEwMCk7XG4gICAgcmVnaW9uQ29udGFpbmVyRG9tLmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgICByZWdpb25Db250YWluZXJEb20uY3NzKCdvdmVyZmxvdycsICdoaWRkZW4nKTtcbiAgICByZWdpb25Db250YWluZXJEb20uY3NzKCd3aWR0aCcsIGAke3JlZ2lvbi53aWR0aH0lYCk7XG4gICAgcmVnaW9uQ29udGFpbmVyRG9tLmNzcyhEaXJlY3Rpb24uTGVmdCwgYCR7cmVnaW9uUG9zaXRpb25YfXB4YCk7XG4gICAgcmVnaW9uQ29udGFpbmVyRG9tLmNzcyhEaXJlY3Rpb24uUmlnaHQsICd1bnNldCcpO1xuICAgIHJlZ2lvbkNvbnRhaW5lckRvbS5jc3MoRGlyZWN0aW9uLlRvcCwgYCR7cmVnaW9uUG9zaXRpb25ZfXB4YCk7XG4gICAgcmVnaW9uQ29udGFpbmVyRG9tLmNzcyhEaXJlY3Rpb24uQm90dG9tLCAndW5zZXQnKTtcbiAgICByZWdpb25Db250YWluZXJEb20uY3NzKCdoZWlnaHQnLCBgJHtyZWdpb24ubGluZXMgKiBsaW5lSGVpZ2h0fXB4YCk7XG4gIH07XG59XG4iXX0=
