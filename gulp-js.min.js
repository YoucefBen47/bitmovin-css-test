(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.bitmovin||(t.bitmovin={})).playerui=e()}})(function(){return function(){function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n||e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}return e}()({1:[function(e,t,n){"use strict";var o;Object.defineProperty(n,"__esModule",{value:!0}),n.ArrayUtils=void 0,function(e){function t(e,t){var n=e.indexOf(t);return n>-1?e.splice(n,1)[0]:null}e.remove=t}(o||(n.ArrayUtils=o={}))},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AudioTrackSwitchHandler=void 0;var o=e("./localization/i18n"),i=function(){function e(e,t,n){var i=this;this.addAudioTrack=function(e){var t=e.track;i.listElement.hasItem(t.id)||i.listElement.addItem(t.id,o.i18n.getLocalizer(t.label),!0)},this.removeAudioTrack=function(e){var t=e.track;i.listElement.hasItem(t.id)&&i.listElement.removeItem(t.id)},this.selectCurrentAudioTrack=function(){var e=i.player.getAudio();e&&i.listElement.selectItem(e.id)},this.refreshAudioTracks=function(){var e=i.player.getAvailableAudio(),t=function(e){return{key:e.id,label:e.label}};i.listElement.synchronizeItems(e.map(t)),i.selectCurrentAudioTrack()},this.player=e,this.listElement=t,this.uimanager=n,this.bindSelectionEvent(),this.bindPlayerEvents(),this.refreshAudioTracks()}return e.prototype.bindSelectionEvent=function(){var e=this;this.listElement.onItemSelected.subscribe(function(t,n){e.player.setAudio(n)})},e.prototype.bindPlayerEvents=function(){this.player.on(this.player.exports.PlayerEvent.AudioChanged,this.selectCurrentAudioTrack),this.player.on(this.player.exports.PlayerEvent.SourceUnloaded,this.refreshAudioTracks),this.player.on(this.player.exports.PlayerEvent.PeriodSwitched,this.refreshAudioTracks),this.player.on(this.player.exports.PlayerEvent.AudioAdded,this.addAudioTrack),this.player.on(this.player.exports.PlayerEvent.AudioRemoved,this.removeAudioTrack),this.uimanager.getConfig().events.onUpdated.subscribe(this.refreshAudioTracks)},e}();n.AudioTrackSwitchHandler=i},{"./localization/i18n":91}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BrowserUtils=void 0;var o=function(){function e(){}return Object.defineProperty(e,"isMobile",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&/Mobi/.test(navigator.userAgent))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isChrome",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&/Chrome/.test(navigator.userAgent))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&/Android/.test(navigator.userAgent)&&!this.isHisense)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isIOS",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&/iPad|iPhone|iPod/.test(navigator.userAgent))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isMacIntel",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&"MacIntel"===navigator.platform)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isHisense",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&/Hisense/.test(navigator.userAgent))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isPlayStation",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&/PlayStation/i.test(navigator.userAgent))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isWebOs",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&(navigator.userAgent.includes("Web0S")||navigator.userAgent.includes("NetCast")))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isTizen",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&/Tizen/.test(navigator.userAgent))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isTouchSupported",{get:function(){return!!this.windowExists()&&("ontouchstart"in window||navigator&&navigator.userAgent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0))},enumerable:!1,configurable:!0}),e.windowExists=function(){return"undefined"!=typeof window},e}();n.BrowserUtils=o},{}],4:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.AdClickOverlay=void 0;var r=e("./clickoverlay"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{acceptsTouchWithUiHidden:!0},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=null;t.on(t.exports.PlayerEvent.AdStarted,function(e){var t=e.ad;o.setUrl(t.clickThroughUrl),i=t.clickThroughUrlOpened});var r=function(){o.setUrl(null)};t.on(t.exports.PlayerEvent.AdFinished,r),t.on(t.exports.PlayerEvent.AdSkipped,r),t.on(t.exports.PlayerEvent.AdError,r),this.onClick.subscribe(function(){t.pause("ui-ad-click-overlay"),i&&i()})},t}(r.ClickOverlay);n.AdClickOverlay=s},{"./clickoverlay":16}],5:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.AdMessageLabel=void 0;var r=e("./label"),s=e("../stringutils"),a=e("../localization/i18n"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-label-ad-message",text:a.i18n.getLocalizer("ads.remainingTime")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=i.text,l=function(){o.setText(s.StringUtils.replaceAdMessagePlaceholders(a.i18n.performLocalization(r),null,t))},c=function(e){var n=e.ad.uiConfig;r=n&&n.message||i.text,l(),t.on(t.exports.PlayerEvent.TimeChanged,l)},u=function(){t.off(t.exports.PlayerEvent.TimeChanged,l)};t.on(t.exports.PlayerEvent.AdStarted,c),t.on(t.exports.PlayerEvent.AdSkipped,u),t.on(t.exports.PlayerEvent.AdError,u),t.on(t.exports.PlayerEvent.AdFinished,u)},t}(r.Label);n.AdMessageLabel=l},{"../localization/i18n":91,"../stringutils":111,"./label":28}],6:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.AdSkipButton=void 0;var r=e("./button"),s=e("../stringutils"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-button-ad-skip",untilSkippableMessage:"Skip ad in {remainingTime}",skippableMessage:"Skip ad",acceptsTouchWithUiHidden:!0},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=i.untilSkippableMessage,a=i.skippableMessage,l=-1,c=function(){o.show(),t.getCurrentTime()<l?(o.setText(s.StringUtils.replaceAdMessagePlaceholders(r,l,t)),o.disable()):(o.setText(a),o.enable())},u=function(e){var n=e.ad;l=n.skippableAfter,r=n.uiConfig&&n.uiConfig.untilSkippableMessage||i.untilSkippableMessage,a=n.uiConfig&&n.uiConfig.skippableMessage||i.skippableMessage,"number"==typeof l&&l>=0?(c(),t.on(t.exports.PlayerEvent.TimeChanged,c)):o.hide()},p=function(){t.off(t.exports.PlayerEvent.TimeChanged,c)};t.on(t.exports.PlayerEvent.AdStarted,u),t.on(t.exports.PlayerEvent.AdSkipped,p),t.on(t.exports.PlayerEvent.AdError,p),t.on(t.exports.PlayerEvent.AdFinished,p),this.onClick.subscribe(function(){t.ads.skip()})},t}(r.Button);n.AdSkipButton=a},{"../stringutils":111,"./button":12}],7:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.AirPlayToggleButton=void 0;var r=e("./togglebutton"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-airplaytogglebutton",text:s.i18n.getLocalizer("appleAirplay")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;if(e.prototype.configure.call(this,t,n),t.isAirplayAvailable){this.onClick.subscribe(function(){t.isAirplayAvailable()?t.showAirplayTargetPicker():console&&console.log("AirPlay unavailable")});var i=function(){t.isAirplayAvailable()?o.show():o.hide()},r=function(){t.isAirplayActive()?o.on():o.off()};t.on(t.exports.PlayerEvent.AirplayAvailable,i),t.on(t.exports.PlayerEvent.AirplayChanged,r),i(),r()}else this.hide()},t}(r.ToggleButton);n.AirPlayToggleButton=a},{"../localization/i18n":91,"./togglebutton":74}],8:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.AudioQualitySelectBox=void 0;var r=e("./selectbox"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-audioqualityselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){o.selectItem(t.getAudioQuality().id)},r=function(){var e=t.getAvailableAudioQualities();o.clearItems(),o.addItem("auto",s.i18n.getLocalizer("auto"));for(var n=0,r=e;n<r.length;n++){var a=r[n];o.addItem(a.id,a.label)}i()};this.onItemSelected.subscribe(function(e,n){t.setAudioQuality(n)}),t.on(t.exports.PlayerEvent.AudioChanged,r),t.on(t.exports.PlayerEvent.SourceUnloaded,r),t.on(t.exports.PlayerEvent.PeriodSwitched,r),t.on(t.exports.PlayerEvent.AudioQualityChanged,i),t.exports.PlayerEvent.AudioQualityAdded&&(t.on(t.exports.PlayerEvent.AudioQualityAdded,r),t.on(t.exports.PlayerEvent.AudioQualityRemoved,r)),n.getConfig().events.onUpdated.subscribe(r)},t}(r.SelectBox);n.AudioQualitySelectBox=a},{"../localization/i18n":91,"./selectbox":44}],9:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.AudioTrackListBox=void 0;var r=e("./listbox"),s=e("../audiotrackutils"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),new s.AudioTrackSwitchHandler(t,this,n)},t}(r.ListBox);n.AudioTrackListBox=a},{"../audiotrackutils":2,"./listbox":29}],10:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.AudioTrackSelectBox=void 0;var r=e("./selectbox"),s=e("../audiotrackutils"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-audiotrackselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),new s.AudioTrackSwitchHandler(t,this,n)},t}(r.SelectBox);n.AudioTrackSelectBox=a},{"../audiotrackutils":2,"./selectbox":44}],11:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.BufferingOverlay=void 0;var r=e("./container"),s=e("./component"),a=e("../timeout"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.indicators=[new s.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator",role:"img"}),new s.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator",role:"img"}),new s.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator",role:"img"})],n.config=n.mergeConfig(t,{cssClass:"ui-buffering-overlay",hidden:!0,components:n.indicators,showDelayMs:1e3},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=new a.Timeout(i.showDelayMs,function(){o.show()}),s=function(){r.start()},l=function(){r.clear(),o.hide()};t.on(t.exports.PlayerEvent.StallStarted,s),t.on(t.exports.PlayerEvent.StallEnded,l),t.on(t.exports.PlayerEvent.Play,s),t.on(t.exports.PlayerEvent.Playing,l),t.on(t.exports.PlayerEvent.Paused,l),t.on(t.exports.PlayerEvent.Seek,s),t.on(t.exports.PlayerEvent.Seeked,l),t.on(t.exports.PlayerEvent.TimeShift,s),t.on(t.exports.PlayerEvent.TimeShifted,l),t.on(t.exports.PlayerEvent.SourceUnloaded,l),t.isStalled()&&this.show()},t}(r.Container);n.BufferingOverlay=l},{"../timeout":113,"./component":18,"./container":19}],12:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Button=void 0;var r=e("./component"),s=e("../dom"),a=e("../eventdispatcher"),l=e("../localization/i18n"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.buttonEvents={onClick:new a.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-button",role:"button",tabIndex:0,acceptsTouchWithUiHidden:!1},n.config),n}return i(t,e),t.prototype.toDomElement=function(){var e=this,t={id:this.config.id,"aria-label":l.i18n.performLocalization(this.config.ariaLabel||this.config.text),class:this.getCssClasses(),type:"button","aria-pressed":"false",tabindex:this.config.tabIndex.toString()};null!=this.config.role&&(t.role=this.config.role);var n=new s.DOM("button",t,this).append(new s.DOM("span",{class:this.prefixCss("label")}).html(l.i18n.performLocalization(this.config.text)));return n.on("click",function(){e.onClickEvent()}),n},t.prototype.setText=function(e){this.getDomElement().find("."+this.prefixCss("label")).html(l.i18n.performLocalization(e))},t.prototype.onClickEvent=function(){this.buttonEvents.onClick.dispatch(this)},Object.defineProperty(t.prototype,"onClick",{get:function(){return this.buttonEvents.onClick.getEvent()},enumerable:!1,configurable:!0}),t}(r.Component);n.Button=c},{"../dom":84,"../eventdispatcher":86,"../localization/i18n":91,"./component":18}],13:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.CastStatusOverlay=void 0;var r=e("./container"),s=e("./label"),a=e("../localization/i18n"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.statusLabel=new s.Label({cssClass:"ui-cast-status-label"}),n.config=n.mergeConfig(t,{cssClass:"ui-cast-status-overlay",components:[n.statusLabel],hidden:!0},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),t.on(t.exports.PlayerEvent.CastWaitingForDevice,function(e){o.show();var t=e.castPayload.deviceName;o.statusLabel.setText(a.i18n.getLocalizer("connectingTo",{castDeviceName:t}))}),t.on(t.exports.PlayerEvent.CastStarted,function(e){o.show();var t=e.deviceName;o.statusLabel.setText(a.i18n.getLocalizer("playingOn",{castDeviceName:t}))}),t.on(t.exports.PlayerEvent.CastStopped,function(e){o.hide()})},t}(r.Container);n.CastStatusOverlay=l},{"../localization/i18n":91,"./container":19,"./label":28}],14:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.CastToggleButton=void 0;var r=e("./togglebutton"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-casttogglebutton",text:s.i18n.getLocalizer("googleCast")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){t.isCastAvailable()?t.isCasting()?t.castStop():t.castVideo():console&&console.log("Cast unavailable")});var i=function(){t.isCastAvailable()?o.show():o.hide()};t.on(t.exports.PlayerEvent.CastAvailable,i),t.on(t.exports.PlayerEvent.CastWaitingForDevice,function(){o.on()}),t.on(t.exports.PlayerEvent.CastStarted,function(){o.on()}),t.on(t.exports.PlayerEvent.CastStopped,function(){o.off()}),i(),t.isCasting()&&this.on()},t}(r.ToggleButton);n.CastToggleButton=a},{"../localization/i18n":91,"./togglebutton":74}],15:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.CastUIContainer=void 0;var r=e("./uicontainer"),s=e("../timeout"),a=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=!1,a=function(){n.onControlsHide.dispatch(o),r=!1};this.castUiHideTimeout=new s.Timeout(i.hideDelay,a);var l=function(){r||(n.onControlsShow.dispatch(o),r=!0)},c=function(){l(),o.castUiHideTimeout.clear()},u=function(){l(),o.castUiHideTimeout.start()},p=function(){t.isPlaying()?u():c()};t.on(t.exports.PlayerEvent.Play,u),t.on(t.exports.PlayerEvent.Paused,c),t.on(t.exports.PlayerEvent.Seek,c),t.on(t.exports.PlayerEvent.Seeked,p),n.getConfig().events.onUpdated.subscribe(u)},t.prototype.release=function(){e.prototype.release.call(this),this.castUiHideTimeout.clear()},t}(r.UIContainer);n.CastUIContainer=a},{"../timeout":113,"./uicontainer":76}],16:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ClickOverlay=void 0;var r=e("./button"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-clickoverlay",role:n.config.role},n.config),n}return i(t,e),t.prototype.initialize=function(){e.prototype.initialize.call(this),this.setUrl(this.config.url);var t=this.getDomElement();t.on("click",function(){t.data("url")&&window.open(t.data("url"),"_blank")})},t.prototype.getUrl=function(){return this.getDomElement().data("url")},t.prototype.setUrl=function(e){void 0!==e&&null!=e||(e=""),this.getDomElement().data("url",e)},t}(r.Button);n.ClickOverlay=s},{"./button":12}],17:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.CloseButton=void 0;var r=e("./button"),s=e("../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-closebutton",text:s.i18n.getLocalizer("close")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n);var o=this.getConfig();this.onClick.subscribe(function(){o.target.hide()})},t}(r.Button);n.CloseButton=a},{"../localization/i18n":91,"./button":12}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Component=n.ViewMode=void 0;var o,i=e("../guid"),r=e("../dom"),s=e("../eventdispatcher"),a=e("../localization/i18n");(function(e){e.Persistent="persistent",e.Temporary="temporary"})(o||(n.ViewMode=o={}));var l=function(){function e(e){void 0===e&&(e={}),this.componentEvents={onShow:new s.EventDispatcher,onHide:new s.EventDispatcher,onViewModeChanged:new s.EventDispatcher,onHoverChanged:new s.EventDispatcher,onEnabled:new s.EventDispatcher,onDisabled:new s.EventDispatcher},this.config=this.mergeConfig(e,{tag:"div",id:"bmpui-id-"+i.Guid.next(),cssPrefix:"bmpui",cssClass:"ui-component",cssClasses:[],hidden:!1,disabled:!1},{}),this.viewMode=o.Temporary}return e.prototype.initialize=function(){this.hidden=this.config.hidden,this.disabled=this.config.disabled,this.isHidden()&&(this.hidden=!1,this.hide()),this.isDisabled()&&(this.disabled=!1,this.disable())},e.prototype.configure=function(e,t){var n=this;this.onShow.subscribe(function(){return t.onComponentShow.dispatch(n)}),this.onHide.subscribe(function(){return t.onComponentHide.dispatch(n)}),this.onViewModeChanged.subscribe(function(e,o){return t.onComponentViewModeChanged.dispatch(n,o)}),this.getDomElement().on("mouseenter",function(){return n.onHoverChangedEvent(!0)}),this.getDomElement().on("mouseleave",function(){return n.onHoverChangedEvent(!1)})},e.prototype.release=function(){},e.prototype.toDomElement=function(){var e=new r.DOM(this.config.tag,{id:this.config.id,class:this.getCssClasses(),role:this.config.role},this);return e},e.prototype.getDomElement=function(){return this.element||(this.element=this.toDomElement()),this.element},e.prototype.hasDomElement=function(){return Boolean(this.element)},e.prototype.setAriaLabel=function(e){this.setAriaAttr("label",a.i18n.performLocalization(e))},e.prototype.setAriaAttr=function(e,t){this.getDomElement().attr("aria-".concat(e),t)},e.prototype.mergeConfig=function(e,t,n){var o=Object.assign({},n,t,e);return o},e.prototype.getCssClasses=function(){var e=this,t=[this.config.cssClass].concat(this.config.cssClasses);t=t.map(function(t){return e.prefixCss(t)});var n=t.join(" ");return n.trim()},e.prototype.prefixCss=function(e){return this.config.cssPrefix+"-"+e},e.prototype.getConfig=function(){return this.config},e.prototype.hide=function(){this.hidden||(this.hidden=!0,this.getDomElement().addClass(this.prefixCss(e.CLASS_HIDDEN)),this.onHideEvent())},e.prototype.show=function(){this.hidden&&(this.getDomElement().removeClass(this.prefixCss(e.CLASS_HIDDEN)),this.hidden=!1,this.onShowEvent())},e.prototype.isHidden=function(){return this.hidden},e.prototype.isShown=function(){return!this.isHidden()},e.prototype.toggleHidden=function(){this.isHidden()?this.show():this.hide()},e.prototype.disable=function(){this.disabled||(this.disabled=!0,this.getDomElement().addClass(this.prefixCss(e.CLASS_DISABLED)),this.onDisabledEvent())},e.prototype.enable=function(){this.disabled&&(this.getDomElement().removeClass(this.prefixCss(e.CLASS_DISABLED)),this.disabled=!1,this.onEnabledEvent())},e.prototype.isDisabled=function(){return this.disabled},e.prototype.isEnabled=function(){return!this.isDisabled()},e.prototype.isHovered=function(){return this.hovered},e.prototype.onShowEvent=function(){this.componentEvents.onShow.dispatch(this)},e.prototype.onHideEvent=function(){this.componentEvents.onHide.dispatch(this)},e.prototype.onEnabledEvent=function(){this.componentEvents.onEnabled.dispatch(this)},e.prototype.onDisabledEvent=function(){this.componentEvents.onDisabled.dispatch(this)},e.prototype.onViewModeChangedEvent=function(e){this.viewMode!==e&&(this.viewMode=e,this.componentEvents.onViewModeChanged.dispatch(this,{mode:e}))},e.prototype.onHoverChangedEvent=function(e){this.hovered=e,this.componentEvents.onHoverChanged.dispatch(this,{hovered:e})},Object.defineProperty(e.prototype,"onShow",{get:function(){return this.componentEvents.onShow.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onHide",{get:function(){return this.componentEvents.onHide.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onEnabled",{get:function(){return this.componentEvents.onEnabled.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDisabled",{get:function(){return this.componentEvents.onDisabled.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onHoverChanged",{get:function(){return this.componentEvents.onHoverChanged.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onViewModeChanged",{get:function(){return this.componentEvents.onViewModeChanged.getEvent()},enumerable:!1,configurable:!0}),e.CLASS_HIDDEN="hidden",e.CLASS_DISABLED="disabled",e}();n.Component=l},{"../dom":84,"../eventdispatcher":86,"../guid":89,"../localization/i18n":91}],19:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Container=void 0;var r=e("./component"),s=e("../dom"),a=e("../arrayutils"),l=e("../localization/i18n"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-container",components:[]},n.config),n.componentsToAdd=[],n.componentsToRemove=[],n.componentsInPersistentViewMode=0,n}return i(t,e),t.prototype.addComponent=function(e){this.config.components.push(e),this.componentsToAdd.push(e)},t.prototype.removeComponent=function(e){return null!=a.ArrayUtils.remove(this.config.components,e)&&(this.componentsToRemove.push(e),!0)},t.prototype.getComponents=function(){return this.config.components},t.prototype.removeComponents=function(){for(var e=0,t=this.getComponents().slice();e<t.length;e++){var n=t[e];this.removeComponent(n)}},t.prototype.updateComponents=function(){for(var e;void 0!==(e=this.componentsToRemove.shift());)e.getDomElement().remove();for(;void 0!==(e=this.componentsToAdd.shift());)this.innerContainerElement.append(e.getDomElement())},t.prototype.toDomElement=function(){var e=new s.DOM(this.config.tag,{id:this.config.id,class:this.getCssClasses(),role:this.config.role,"aria-label":l.i18n.performLocalization(this.config.ariaLabel)},this),t=new s.DOM(this.config.tag,{class:this.prefixCss("container-wrapper")});this.innerContainerElement=t;for(var n=0,o=this.config.components;n<o.length;n++){var i=o[n];this.componentsToAdd.push(i)}return this.updateComponents(),e.append(t),e},t.prototype.suspendHideTimeout=function(){},t.prototype.resumeHideTimeout=function(){},t.prototype.trackComponentViewMode=function(e){e===r.ViewMode.Persistent?this.componentsInPersistentViewMode++:e===r.ViewMode.Temporary&&(this.componentsInPersistentViewMode=Math.max(this.componentsInPersistentViewMode-1,0)),
this.componentsInPersistentViewMode>0?this.suspendHideTimeout():this.resumeHideTimeout()},t}(r.Component);n.Container=c},{"../arrayutils":1,"../dom":84,"../localization/i18n":91,"./component":18}],20:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ControlBar=void 0;var r=e("./container"),s=e("../uiutils"),a=e("./spacer"),l=e("../localization/i18n"),c=e("../browserutils"),u=e("./settingspanel"),p=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-controlbar",hidden:!0,role:"region",ariaLabel:l.i18n.getLocalizer("controlBar")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=0,l=!1;n.getConfig().disableAutoHideWhenHovered&&!c.BrowserUtils.isTouchSupported&&s.UIUtils.traverseTree(this,function(e){e instanceof r.Container||e instanceof a.Spacer||e.onHoverChanged.subscribe(function(e,t){t.hovered?i++:i--})}),c.BrowserUtils.isMobile&&(n.onComponentShow.subscribe(function(e){e instanceof u.SettingsPanel&&(l=!0)}),n.onComponentHide.subscribe(function(e){e instanceof u.SettingsPanel&&(l=!1)})),n.onControlsShow.subscribe(function(){o.show()}),n.onPreviewControlsHide.subscribe(function(e,t){t.cancel=t.cancel||i>0||l}),n.onControlsHide.subscribe(function(){o.hide()})},t}(r.Container);n.ControlBar=p},{"../browserutils":3,"../localization/i18n":91,"../uiutils":117,"./container":19,"./settingspanel":45,"./spacer":52}],21:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.EcoModeContainer=void 0;var r=e("../localization/i18n"),s=e("./container"),a=e("./ecomodetogglebutton"),l=e("./label"),c=e("./settingspanelitem"),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;n.savedEmissons=0;var o=new a.EcoModeToggleButton,i=new l.Label({text:r.i18n.getLocalizer("ecoMode.title"),for:o.getConfig().id,id:"ecomodelabel"});return n.emissionsSavedLabel=new l.Label({text:"".concat(n.savedEmissons.toFixed(4)," gCO2"),cssClass:"ui-label-savedEnergy"}),n.ecoModeToggleButtonItem=new c.SettingsPanelItem(i,o),n.ecoModeSavedEmissionsItem=new c.SettingsPanelItem("Saved Emissions",n.emissionsSavedLabel,{hidden:!0}),n.addComponent(n.ecoModeToggleButtonItem),n.addComponent(n.ecoModeSavedEmissionsItem),o.onToggleOn.subscribe(function(){n.ecoModeSavedEmissionsItem.show(),n.onToggleCallback()}),o.onToggleOff.subscribe(function(){n.ecoModeSavedEmissionsItem.hide(),n.onToggleCallback()}),n}return i(t,e),t.prototype.setOnToggleCallback=function(e){this.onToggleCallback=e},t.prototype.configure=function(e){var t=this;e.on(e.exports.PlayerEvent.SegmentPlayback,function(n){if(n.mimeType.includes("video")){var o=n.mediaInfo,i=o.height,r=o.width,s=o.bitrate,a=o.frameRate,l=t.getMaxQualityAvailable(e.getAvailableVideoQualities()),c=l.height,u=l.bitrate,p=l.width,f=t.calculateEnergyConsumption(a,i,r,s,n.duration),g=t.calculateEnergyConsumption(a,c,p,u,n.duration);t.ecoModeSavedEmissionsItem.isShown()&&t.updateSavedEmissions(f,g,t.emissionsSavedLabel)}})},t.prototype.updateSavedEmissions=function(e,t,n){var o=475;this.currentEnergyEmission=e*o;var i=t*o;this.savedEmissons+=i-this.currentEnergyEmission,n.setText(this.savedEmissons.toFixed(4)+" gCO2")},t.prototype.calculateEnergyConsumption=function(e,t,n,o,i){var r=.035,s=5.76e-9,a=697e-8,l=8.52,c=324e-7,u=1.15,p=4.16,f=r*e+s*t*n+(a+c)*(o/1e3)+p+l+u,g=f*i/36e5;return g},t.prototype.getMaxQualityAvailable=function(e){var t=e.sort(function(e,t){return e.bitrate-t.bitrate});return t[t.length-1]},t}(s.Container);n.EcoModeContainer=u},{"../localization/i18n":91,"./container":19,"./ecomodetogglebutton":22,"./label":28,"./settingspanelitem":46}],22:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.EcoModeToggleButton=void 0;var r=e("./togglebutton"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,o={text:s.i18n.getLocalizer("ecoMode"),cssClass:"ui-ecomodetogglebutton",onClass:"on",offClass:"off",ariaLabel:s.i18n.getLocalizer("ecoMode")};return n.config=n.mergeConfig(t,o,n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.areAdaptationApisAvailable(t)?(this.onClick.subscribe(function(){o.toggle()}),this.onToggleOn.subscribe(function(){o.enableEcoMode(t),t.setVideoQuality("auto")}),this.onToggleOff.subscribe(function(){o.disableEcoMode(t)}),t.on(t.exports.PlayerEvent.VideoQualityChanged,function(e){"auto"!==e.targetQuality.id&&(o.off(),o.disableEcoMode(t))})):e.prototype.disable.call(this)},t.prototype.areAdaptationApisAvailable=function(e){var t=Boolean(e.adaptation.getConfig&&"function"==typeof e.adaptation.getConfig),n=Boolean(e.adaptation.setConfig&&"function"==typeof e.adaptation.setConfig);return Boolean(e.adaptation&&t&&n)},t.prototype.enableEcoMode=function(e){this.adaptationConfig=e.adaptation.getConfig();var t=e.getAvailableVideoQualities()[0].codec;t.includes("avc")&&e.adaptation.setConfig({resolution:{maxSelectableVideoHeight:720},limitToPlayerSize:!0}),(t.includes("hvc")||t.includes("hev"))&&e.adaptation.setConfig({resolution:{maxSelectableVideoHeight:1080},limitToPlayerSize:!0}),(t.includes("av1")||t.includes("av01"))&&e.adaptation.setConfig({resolution:{maxSelectableVideoHeight:1440},limitToPlayerSize:!0})},t.prototype.disableEcoMode=function(e){e.adaptation.setConfig(this.adaptationConfig)},t}(r.ToggleButton);n.EcoModeToggleButton=a},{"../localization/i18n":91,"./togglebutton":74}],23:[function(e,t,n){"use strict";function o(e,t){if(e){if("function"==typeof e)return e(t);if(e[t.code]){var n=e[t.code];return"string"==typeof n?n:n(t)}}}var i,r=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorMessageOverlay=void 0;var s=e("./container"),a=e("./label"),l=e("./tvnoisecanvas"),c=e("../errorutils"),u=e("../mobilev3playerapi"),p=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.errorLabel=new a.Label({cssClass:"ui-errormessage-label"}),n.tvNoiseBackground=new l.TvNoiseCanvas,n.config=n.mergeConfig(t,{cssClass:"ui-errormessage-overlay",components:[n.tvNoiseBackground,n.errorLabel],hidden:!0},n.config),n}return r(t,e),t.prototype.configure=function(t,n){var i=this;e.prototype.configure.call(this,t,n);var r=this.getConfig(),s=function(e,t){var s=o(n.getConfig().errorMessages||r.messages,e);s&&(t=s),i.display(t)};if((0,u.isMobileV3PlayerAPI)(t)){var a=function(e){var t=c.ErrorUtils.defaultMobileV3ErrorMessageTranslator(e);s(e,t)};t.on(u.MobileV3PlayerEvent.PlayerError,a),t.on(u.MobileV3PlayerEvent.SourceError,a)}else t.on(t.exports.PlayerEvent.Error,function(e){var t=c.ErrorUtils.defaultWebErrorMessageTranslator(e);s(e,t)});t.on(t.exports.PlayerEvent.SourceLoaded,function(e){i.isShown()&&(i.tvNoiseBackground.stop(),i.hide())})},t.prototype.display=function(e){this.errorLabel.setText(e),this.tvNoiseBackground.start(),this.show()},t.prototype.release=function(){e.prototype.release.call(this),this.tvNoiseBackground.stop()},t}(s.Container);n.ErrorMessageOverlay=p},{"../errorutils":85,"../mobilev3playerapi":97,"./container":19,"./label":28,"./tvnoisecanvas":75}],24:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.FullscreenToggleButton=void 0;var r=e("./togglebutton"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-fullscreentogglebutton",text:s.i18n.getLocalizer("fullscreen")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){return t.isViewModeAvailable(t.exports.ViewMode.Fullscreen)},r=function(){t.getViewMode()===t.exports.ViewMode.Fullscreen?o.on():o.off()},s=function(){i()?o.show():o.hide()};t.on(t.exports.PlayerEvent.ViewModeChanged,r),t.exports.PlayerEvent.ViewModeAvailabilityChanged&&t.on(t.exports.PlayerEvent.ViewModeAvailabilityChanged,s),n.getConfig().events.onUpdated.subscribe(s),this.onClick.subscribe(function(){if(i()){var e=t.getViewMode()===t.exports.ViewMode.Fullscreen?t.exports.ViewMode.Inline:t.exports.ViewMode.Fullscreen;t.setViewMode(e)}else console&&console.log("Fullscreen unavailable")}),s(),r()},t}(r.ToggleButton);n.FullscreenToggleButton=a},{"../localization/i18n":91,"./togglebutton":74}],25:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.HugePlaybackToggleButton=void 0;var r=e("./playbacktogglebutton"),s=e("../dom"),a=e("../localization/i18n"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-hugeplaybacktogglebutton",text:a.i18n.getLocalizer("playPause"),role:"button"},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n,!1),"boolean"==typeof n.getConfig().enterFullscreenOnInitialPlayback&&(this.config.enterFullscreenOnInitialPlayback=n.getConfig().enterFullscreenOnInitialPlayback);var i=function(){t.isPlaying()||o.isPlayInitiated?t.pause("ui"):t.play("ui")};console.log(t);var r=function(){t.getViewMode()===t.exports.ViewMode.Fullscreen?t.setViewMode(t.exports.ViewMode.Inline):t.setViewMode(t.exports.ViewMode.Fullscreen)},s=!0,a=0,l=0;this.onClick.subscribe(function(){if(s)return i(),void(o.config.enterFullscreenOnInitialPlayback&&t.setViewMode(t.exports.ViewMode.Fullscreen));var e=Date.now();return e-a<200?(r(),void(l=e)):e-a<500?(r(),i(),void(l=e)):(a=e,void setTimeout(function(){Date.now()-l>200&&i()},200))}),t.on(t.exports.PlayerEvent.Play,function(){s=!1}),t.on(t.exports.PlayerEvent.Warning,function(e){e.code===t.exports.WarningCode.PLAYBACK_COULD_NOT_BE_STARTED&&(s=!0)});var c=function(){o.setTransitionAnimationsEnabled(!1),o.onToggle.subscribeOnce(function(){o.setTransitionAnimationsEnabled(!0)})};c();var u=t.getConfig().playback&&Boolean(t.getConfig().playback.autoplay),p=!t.getSource()&&u;(t.isPlaying()||p)&&(this.on(),c(),t.on(t.exports.PlayerEvent.Warning,function(e){e.code===t.exports.WarningCode.PLAYBACK_COULD_NOT_BE_STARTED&&c()}))},t.prototype.toDomElement=function(){var t=e.prototype.toDomElement.call(this);return t.append(new s.DOM("div",{class:this.prefixCss("image")})),t},t.prototype.setTransitionAnimationsEnabled=function(e){var t=this.prefixCss("no-transition-animations");e?this.getDomElement().removeClass(t):this.getDomElement().hasClass(t)||this.getDomElement().addClass(t)},t}(r.PlaybackToggleButton);n.HugePlaybackToggleButton=l},{"../dom":84,"../localization/i18n":91,"./playbacktogglebutton":35}],26:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.HugeReplayButton=void 0;var r=e("./button"),s=e("../dom"),a=e("../localization/i18n"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-hugereplaybutton",text:a.i18n.getLocalizer("replay")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){t.play("ui")})},t.prototype.toDomElement=function(){var t=e.prototype.toDomElement.call(this);return t.append(new s.DOM("div",{class:this.prefixCss("image")})),t},t}(r.Button);n.HugeReplayButton=l},{"../dom":84,"../localization/i18n":91,"./button":12}],27:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ItemSelectionList=void 0;var r=e("./listselector"),s=e("../dom"),a=e("../localization/i18n"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{tag:"ul",cssClass:"ui-itemselectionlist"},n.config),n}return i(t,e),t.prototype.isActive=function(){return this.items.length>1},t.prototype.toDomElement=function(){var e=new s.DOM("ul",{id:this.config.id,class:this.getCssClasses()},this);return this.listElement=e,this.updateDomItems(),e},t.prototype.updateDomItems=function(e){var n=this;void 0===e&&(e=null),this.listElement.empty();for(var o=null,i=function(e){e.addClass(n.prefixCss(t.CLASS_SELECTED))},r=function(e){e.removeClass(n.prefixCss(t.CLASS_SELECTED))},l=function(t){var l=new s.DOM("li",{type:"li",class:c.prefixCss("ui-selectionlistitem")}).append(new s.DOM("a",{}).html(a.i18n.performLocalization(t.label)));o||(null==e?o=l:String(e)===t.key&&(o=l)),l.on("click",function(){o&&r(o),o=l,i(l),n.onItemSelectedEvent(t.key,!1)}),o&&i(o),c.listElement.append(l)},c=this,u=0,p=this.items;u<p.length;u++){var f=p[u];l(f)}},t.prototype.onItemAddedEvent=function(t){e.prototype.onItemAddedEvent.call(this,t),this.updateDomItems(this.selectedItem)},t.prototype.onItemRemovedEvent=function(t){e.prototype.onItemRemovedEvent.call(this,t),this.updateDomItems(this.selectedItem)},t.prototype.onItemSelectedEvent=function(t,n){void 0===n&&(n=!0),e.prototype.onItemSelectedEvent.call(this,t),n&&this.updateDomItems(t)},t.CLASS_SELECTED="selected",t}(r.ListSelector);n.ItemSelectionList=l},{"../dom":84,"../localization/i18n":91,"./listselector":30}],28:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Label=void 0;var r=e("./component"),s=e("../dom"),a=e("../eventdispatcher"),l=e("../localization/i18n"),c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.labelEvents={onClick:new a.EventDispatcher,onTextChanged:new a.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-label"},n.config),n.text=n.config.text,n}return i(t,e),t.prototype.toDomElement=function(){var e=this,t=null!=this.config.for?"label":"span",n=new s.DOM(t,{id:this.config.id,for:this.config.for,class:this.getCssClasses()},this).html(l.i18n.performLocalization(this.text));return n.on("click",function(){e.onClickEvent()}),n},t.prototype.setText=function(e){if(e!==this.text){this.text=e;var t=l.i18n.performLocalization(e);this.getDomElement().html(t),this.onTextChangedEvent(t)}},t.prototype.getText=function(){return l.i18n.performLocalization(this.text)},t.prototype.clearText=function(){this.getDomElement().html(""),this.onTextChangedEvent(null)},t.prototype.isEmpty=function(){return!this.text},t.prototype.onClickEvent=function(){this.labelEvents.onClick.dispatch(this)},t.prototype.onTextChangedEvent=function(e){this.labelEvents.onTextChanged.dispatch(this,e)},Object.defineProperty(t.prototype,"onClick",{get:function(){return this.labelEvents.onClick.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTextChanged",{get:function(){return this.labelEvents.onTextChanged.getEvent()},enumerable:!1,configurable:!0}),t}(r.Component);n.Label=c},{"../dom":84,"../eventdispatcher":86,"../localization/i18n":91,"./component":18}],29:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ListBox=void 0;var r=e("./togglebutton"),s=e("./listselector"),a=e("../dom"),l=e("../arrayutils"),c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.components=[],n.removeListBoxDomItem=function(e,t){var o=n.getComponentForKey(t);o&&(o.getDomElement().remove(),l.ArrayUtils.remove(n.components,o))},n.addListBoxDomItem=function(e,t){var o=n.getComponentForKey(t),i=n.getItemForKey(t);if(o)o.setText(i.label);else{var r=n.buildListBoxItemButton(i);r.onClick.subscribe(function(){n.handleSelectionChange(r)}),n.components.push(r),n.listBoxElement.append(r.getDomElement())}},n.refreshSelectedItem=function(){for(var e=0,t=n.items;e<t.length;e++){var o=t[e],i=n.getComponentForKey(o.key);i&&(String(i.key)===String(n.selectedItem)?i.on():i.off())}},n.handleSelectionChange=function(e){n.onItemSelectedEvent(e.key)},n.config=n.mergeConfig(t,{cssClass:"ui-listbox"},n.config),n}return i(t,e),t.prototype.configure=function(t,n){this.onItemAdded.subscribe(this.addListBoxDomItem),this.onItemRemoved.subscribe(this.removeListBoxDomItem),this.onItemSelected.subscribe(this.refreshSelectedItem),e.prototype.configure.call(this,t,n)},t.prototype.toDomElement=function(){var e=new a.DOM("div",{id:this.config.id,class:this.getCssClasses()},this);return this.listBoxElement=e,this.createListBoxDomItems(),this.refreshSelectedItem(),e},t.prototype.createListBoxDomItems=function(){this.listBoxElement.empty(),this.components=[];for(var e=0,t=this.items;e<t.length;e++){var n=t[e];this.addListBoxDomItem(this,n.key)}},t.prototype.buildListBoxItemButton=function(e){return new u({key:e.key,text:e.label,ariaLabel:e.ariaLabel})},t.prototype.getComponentForKey=function(e){return this.components.find(function(t){return e===t.key})},t}(s.ListSelector);n.ListBox=c;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-listbox-button",onClass:"selected",offClass:""},n.config),n}return i(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return this.config.key},enumerable:!1,configurable:!0}),t}(r.ToggleButton)},{"../arrayutils":1,"../dom":84,"./listselector":30,"./togglebutton":74}],30:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.ListSelector=void 0;var s=e("./component"),a=e("../eventdispatcher"),l=e("../arrayutils"),c=e("../localization/i18n"),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.listSelectorEvents={onItemAdded:new a.EventDispatcher,onItemRemoved:new a.EventDispatcher,onItemSelected:new a.EventDispatcher},n.config=n.mergeConfig(t,{items:[],cssClass:"ui-listselector"},n.config),n.items=n.config.items,n}return i(t,e),t.prototype.getItemIndex=function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].key===e)return t;return-1},t.prototype.getItems=function(){return this.items},t.prototype.hasItem=function(e){return this.getItemIndex(e)>-1},t.prototype.addItem=function(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o="");var i=r({key:e,label:c.i18n.performLocalization(t)},o&&{ariaLabel:o});if(!this.config.filter||this.config.filter(i)){if(this.config.translator&&(i.label=this.config.translator(i)),this.removeItem(e),n){var s=this.items.findIndex(function(t){return t.key>e});s<0?this.items.push(i):this.items.splice(s,0,i)}else this.items.push(i);this.onItemAddedEvent(e)}},t.prototype.removeItem=function(e){var t=this.getItemIndex(e);return t>-1&&(l.ArrayUtils.remove(this.items,this.items[t]),this.onItemRemovedEvent(e),!0)},t.prototype.selectItem=function(e){if(e===this.selectedItem)return!0;var t=this.getItemIndex(e);return t>-1&&(this.selectedItem=e,this.onItemSelectedEvent(e),!0)},t.prototype.getSelectedItem=function(){return this.selectedItem},t.prototype.getItemForKey=function(e){return this.items.find(function(t){return t.key===e})},t.prototype.synchronizeItems=function(e){var t=this;e.filter(function(e){return!t.hasItem(e.key)}).forEach(function(e){return t.addItem(e.key,e.label,e.sortedInsert,e.ariaLabel)}),this.items.filter(function(t){return 0===e.filter(function(e){return e.key===t.key}).length}).forEach(function(e){return t.removeItem(e.key)})},t.prototype.clearItems=function(){var e=this.items;this.items=[],this.selectedItem=null;for(var t=0,n=e;t<n.length;t++){var o=n[t];this.onItemRemovedEvent(o.key)}},t.prototype.itemCount=function(){return Object.keys(this.items).length},t.prototype.onItemAddedEvent=function(e){this.listSelectorEvents.onItemAdded.dispatch(this,e)},t.prototype.onItemRemovedEvent=function(e){this.listSelectorEvents.onItemRemoved.dispatch(this,e)},t.prototype.onItemSelectedEvent=function(e){this.listSelectorEvents.onItemSelected.dispatch(this,e)},Object.defineProperty(t.prototype,"onItemAdded",{get:function(){return this.listSelectorEvents.onItemAdded.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onItemRemoved",{get:function(){return this.listSelectorEvents.onItemRemoved.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onItemSelected",{get:function(){return this.listSelectorEvents.onItemSelected.getEvent()},enumerable:!1,configurable:!0}),t}(s.Component);n.ListSelector=u},{"../arrayutils":1,"../eventdispatcher":86,"../localization/i18n":91,"./component":18}],31:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.MetadataLabel=n.MetadataLabelContent=void 0;var r,s=e("./label");(function(e){e[e.Title=0]="Title",e[e.Description=1]="Description"})(r||(n.MetadataLabelContent=r={}));var a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["label-metadata","label-metadata-"+r[t.content].toLowerCase()]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),s=n.getConfig(),a=function(){switch(i.content){case r.Title:o.setText(s.metadata.title);break;case r.Description:o.setText(s.metadata.description)}},l=function(){o.setText(null)};a(),t.on(t.exports.PlayerEvent.SourceUnloaded,l),n.getConfig().events.onUpdated.subscribe(a)},t}(s.Label);n.MetadataLabel=a},{"./label":28}],32:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.PictureInPictureToggleButton=void 0;var r=e("./togglebutton"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-piptogglebutton",text:s.i18n.getLocalizer("pictureInPicture")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){return t.isViewModeAvailable(t.exports.ViewMode.PictureInPicture)},r=function(){t.getViewMode()===t.exports.ViewMode.PictureInPicture?o.on():o.off()},s=function(){i()?o.show():o.hide()};t.on(t.exports.PlayerEvent.ViewModeChanged,r),t.exports.PlayerEvent.ViewModeAvailabilityChanged&&t.on(t.exports.PlayerEvent.ViewModeAvailabilityChanged,s),n.getConfig().events.onUpdated.subscribe(s),this.onClick.subscribe(function(){if(i()){var e=t.getViewMode()===t.exports.ViewMode.PictureInPicture?t.exports.ViewMode.Inline:t.exports.ViewMode.PictureInPicture;t.setViewMode(e)}else console&&console.log("PIP unavailable")}),s(),r()},t}(r.ToggleButton);n.PictureInPictureToggleButton=a},{"../localization/i18n":91,"./togglebutton":74}],33:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.PlaybackSpeedSelectBox=void 0;var r=e("./selectbox"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.defaultPlaybackSpeeds=[.25,.5,1,1.5,2],n.config=n.mergeConfig(t,{cssClasses:["ui-playbackspeedselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addDefaultItems(),this.onItemSelected.subscribe(function(e,n){t.setPlaybackSpeed(parseFloat(n)),o.selectItem(n)});var i=function(){var e=t.getPlaybackSpeed();o.setSpeed(e)};t.on(t.exports.PlayerEvent.PlaybackSpeedChanged,i),n.getConfig().events.onUpdated.subscribe(i)},t.prototype.setSpeed=function(e){this.selectItem(String(e))||(this.clearItems(),this.addDefaultItems([e]),this.selectItem(String(e)))},t.prototype.addDefaultItems=function(e){var t=this;void 0===e&&(e=[]);var n=this.defaultPlaybackSpeeds.concat(e).sort();n.forEach(function(e){1!==e?t.addItem(String(e),"".concat(e,"x")):t.addItem(String(e),s.i18n.getLocalizer("normal"))})},t.prototype.clearItems=function(){this.items=[],this.selectedItem=null},t}(r.SelectBox);n.PlaybackSpeedSelectBox=a},{"../localization/i18n":91,"./selectbox":44}],34:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.PlaybackTimeLabel=n.PlaybackTimeLabelMode=void 0;var r,s=e("./label"),a=e("../playerutils"),l=e("../stringutils"),c=e("../localization/i18n");(function(e){e[e.CurrentTime=0]="CurrentTime",e[e.TotalTime=1]="TotalTime",e[e.CurrentAndTotalTime=2]="CurrentAndTotalTime",e[e.RemainingTime=3]="RemainingTime"})(r||(n.PlaybackTimeLabelMode=r={}));var u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-playbacktimelabel",timeLabelMode:r.CurrentAndTotalTime,hideInLivePlayback:!1},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=!1,s=this.prefixCss("ui-playbacktimelabel-live"),u=this.prefixCss("ui-playbacktimelabel-live-edge"),p=0,f=function(){t.timeShift(0)},g=function(){r=t.isLive(),r?(o.getDomElement().addClass(s),o.setText(c.i18n.getLocalizer("live")),i.hideInLivePlayback&&o.hide(),o.onClick.subscribe(f),d()):(o.getDomElement().removeClass(s),o.getDomElement().removeClass(u),o.show(),o.onClick.unsubscribe(f))},d=function(){if(r){var e=t.getTimeShift()<0,n=t.getMaxTimeShift()<0
;e||t.isPaused()&&n?o.getDomElement().removeClass(u):o.getDomElement().addClass(u)}},h=new a.PlayerUtils.LiveStreamDetector(t,n);h.onLiveChanged.subscribe(function(e,t){r=t.live,g()}),h.detect();var v=function(){r||t.getDuration()===1/0||o.setTime(a.PlayerUtils.getCurrentTimeRelativeToSeekableRange(t),t.getDuration());var e=o.getDomElement().width();e>p&&(p=e,o.getDomElement().css({"min-width":p+"px"}))},y=function(){o.timeFormat=Math.abs(t.isLive()?t.getMaxTimeShift():t.getDuration())>=3600?l.StringUtils.FORMAT_HHMMSS:l.StringUtils.FORMAT_MMSS,v()};t.on(t.exports.PlayerEvent.TimeChanged,v),t.on(t.exports.PlayerEvent.Ready,y),t.on(t.exports.PlayerEvent.Seeked,v),t.on(t.exports.PlayerEvent.TimeShift,d),t.on(t.exports.PlayerEvent.TimeShifted,d),t.on(t.exports.PlayerEvent.Playing,d),t.on(t.exports.PlayerEvent.Paused,d),t.on(t.exports.PlayerEvent.StallStarted,d),t.on(t.exports.PlayerEvent.StallEnded,d);var m=function(){p=0,o.getDomElement().css({"min-width":null}),y()};n.getConfig().events.onUpdated.subscribe(m),m()},t.prototype.setTime=function(e,t){var n=l.StringUtils.secondsToTime(e,this.timeFormat),o=l.StringUtils.secondsToTime(t,this.timeFormat);switch(this.config.timeLabelMode){case r.CurrentTime:this.setText("".concat(n));break;case r.TotalTime:this.setText("".concat(o));break;case r.CurrentAndTotalTime:this.setText("".concat(n," / ").concat(o));break;case r.RemainingTime:this.setText("".concat(l.StringUtils.secondsToTime(t-e,this.timeFormat)))}},t.prototype.setTimeFormat=function(e){this.timeFormat=e},t}(s.Label);n.PlaybackTimeLabel=u},{"../localization/i18n":91,"../playerutils":98,"../stringutils":111,"./label":28}],35:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.PlaybackToggleButton=void 0;var r=e("./togglebutton"),s=e("../playerutils"),a=e("../localization/i18n"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-playbacktogglebutton",text:a.i18n.getLocalizer("play"),onAriaLabel:a.i18n.getLocalizer("pause"),offAriaLabel:a.i18n.getLocalizer("play")},n.config),n.isPlayInitiated=!1,n}return i(t,e),t.prototype.configure=function(n,o,i){var r=this;void 0===i&&(i=!0),e.prototype.configure.call(this,n,o),"boolean"==typeof o.getConfig().enterFullscreenOnInitialPlayback&&(this.config.enterFullscreenOnInitialPlayback=o.getConfig().enterFullscreenOnInitialPlayback);var a=!1,l=!0,c=function(){a||(n.isPlaying()||r.isPlayInitiated?r.on():r.off())};n.on(n.exports.PlayerEvent.Play,function(e){r.isPlayInitiated=!0,l=!1,c()}),n.on(n.exports.PlayerEvent.Paused,function(e){r.isPlayInitiated=!1,c()}),n.on(n.exports.PlayerEvent.Playing,function(e){r.isPlayInitiated=!1,c()}),n.on(n.exports.PlayerEvent.SourceLoaded,c),o.getConfig().events.onUpdated.subscribe(c),n.on(n.exports.PlayerEvent.SourceUnloaded,c),n.on(n.exports.PlayerEvent.PlaybackFinished,c),n.on(n.exports.PlayerEvent.CastStarted,c),n.on(n.exports.PlayerEvent.Warning,function(e){e.code===n.exports.WarningCode.PLAYBACK_COULD_NOT_BE_STARTED&&(r.isPlayInitiated=!1,l=!0,r.off())});var u=function(){var e=n.isLive()&&!s.PlayerUtils.isTimeShiftAvailable(n);e?r.getDomElement().addClass(r.prefixCss(t.CLASS_STOPTOGGLE)):r.getDomElement().removeClass(r.prefixCss(t.CLASS_STOPTOGGLE))},p=new s.PlayerUtils.TimeShiftAvailabilityDetector(n),f=new s.PlayerUtils.LiveStreamDetector(n,o);p.onTimeShiftAvailabilityChanged.subscribe(function(){return u()}),f.onLiveChanged.subscribe(function(){return u()}),p.detect(),f.detect(),i&&this.onClick.subscribe(function(){n.isPlaying()||r.isPlayInitiated?n.pause("ui"):(n.play("ui"),l&&r.config.enterFullscreenOnInitialPlayback&&n.setViewMode(n.exports.ViewMode.Fullscreen))}),o.onSeek.subscribe(function(){a=!0}),o.onSeeked.subscribe(function(){a=!1}),c()},t.CLASS_STOPTOGGLE="stoptoggle",t}(r.ToggleButton);n.PlaybackToggleButton=l},{"../localization/i18n":91,"../playerutils":98,"./togglebutton":74}],36:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.PlaybackToggleOverlay=void 0;var r=e("./container"),s=e("./hugeplaybacktogglebutton"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.playbackToggleButton=new s.HugePlaybackToggleButton({enterFullscreenOnInitialPlayback:Boolean(t.enterFullscreenOnInitialPlayback)}),n.config=n.mergeConfig(t,{cssClass:"ui-playbacktoggle-overlay",components:[n.playbackToggleButton]},n.config),n}return i(t,e),t}(r.Container);n.PlaybackToggleOverlay=a},{"./container":19,"./hugeplaybacktogglebutton":25}],37:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.QuickSeekButton=void 0;var r=e("./button"),s=e("../localization/i18n"),a=e("../playerutils"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;n.onSeek=function(e){n.currentSeekTarget=e.seekTarget},n.onSeekedOrTimeShifted=function(){n.currentSeekTarget=null},n.onTimeShift=function(e){n.currentSeekTarget=n.player.getTimeShift()+(e.target-e.position)},n.currentSeekTarget=null,n.config=n.mergeConfig(t,{seekSeconds:-10,cssClass:"ui-quickseekbutton"},n.config);var o=n.config.seekSeconds<0?"rewind":"forward";return n.config.text=n.config.text||s.i18n.getLocalizer("quickseek.".concat(o)),n.config.ariaLabel=n.config.ariaLabel||s.i18n.getLocalizer("quickseek.".concat(o)),n.getDomElement().data(n.prefixCss("seek-direction"),o),n}return i(t,e),t.prototype.configure=function(t,n){var o,i,r=this;e.prototype.configure.call(this,t,n),this.player=t;var s=function(e,t){e&&!t?r.hide():r.show()},l=new a.PlayerUtils.TimeShiftAvailabilityDetector(t);l.onTimeShiftAvailabilityChanged.subscribe(function(e,t){i=t.timeShiftAvailable,s(o,i)});var c=new a.PlayerUtils.LiveStreamDetector(t,n);c.onLiveChanged.subscribe(function(e,t){o=t.live,s(o,i)}),l.detect(),c.detect(),this.onClick.subscribe(function(){if((!o||i)&&!(o&&r.config.seekSeconds>0&&0===t.getTimeShift())){var e=null!==r.currentSeekTarget?r.currentSeekTarget:o?t.getTimeShift():t.getCurrentTime(),n=e+r.config.seekSeconds;if(o){var s=a.PlayerUtils.clampValueToRange(n,t.getMaxTimeShift(),0);t.timeShift(s)}else{s=a.PlayerUtils.clampValueToRange(n,0,t.getDuration());t.seek(s)}}}),this.player.on(this.player.exports.PlayerEvent.Seek,this.onSeek),this.player.on(this.player.exports.PlayerEvent.Seeked,this.onSeekedOrTimeShifted),this.player.on(this.player.exports.PlayerEvent.TimeShift,this.onTimeShift),this.player.on(this.player.exports.PlayerEvent.TimeShifted,this.onSeekedOrTimeShifted)},t.prototype.release=function(){this.player.off(this.player.exports.PlayerEvent.Seek,this.onSeek),this.player.off(this.player.exports.PlayerEvent.Seeked,this.onSeekedOrTimeShifted),this.player.off(this.player.exports.PlayerEvent.TimeShift,this.onTimeShift),this.player.off(this.player.exports.PlayerEvent.TimeShifted,this.onSeekedOrTimeShifted),this.currentSeekTarget=null,this.player=null},t}(r.Button);n.QuickSeekButton=l},{"../localization/i18n":91,"../playerutils":98,"./button":12}],38:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.RecommendationOverlay=void 0;var r=e("./container"),s=e("./component"),a=e("../dom"),l=e("../stringutils"),c=e("./hugereplaybutton"),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.replayButton=new c.HugeReplayButton,n.config=n.mergeConfig(t,{cssClass:"ui-recommendation-overlay",hidden:!0,components:[n.replayButton]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){for(var e=0,t=o.getComponents().slice();e<t.length;e++){var n=t[e];n instanceof p&&o.removeComponent(n)}o.updateComponents(),o.getDomElement().removeClass(o.prefixCss("recommendations"))},r=function(){i();var e=n.getConfig().recommendations;if(e.length>0){for(var t=1,r=0,s=e;r<s.length;r++){var a=s[r];o.addComponent(new p({itemConfig:a,cssClasses:["recommendation-item-"+t++]}))}o.updateComponents(),o.getDomElement().addClass(o.prefixCss("recommendations"))}};n.getConfig().events.onUpdated.subscribe(r),t.on(t.exports.PlayerEvent.SourceUnloaded,function(){i(),o.hide()}),t.on(t.exports.PlayerEvent.PlaybackFinished,function(){o.show()}),t.on(t.exports.PlayerEvent.Play,function(){o.hide()}),r()},t}(r.Container);n.RecommendationOverlay=u;var p=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-recommendation-item",itemConfig:null},n.config),n}return i(t,e),t.prototype.toDomElement=function(){var e=this.config.itemConfig,t=new a.DOM("a",{id:this.config.id,class:this.getCssClasses(),href:e.url},this).css({"background-image":"url(".concat(e.thumbnail,")")}),n=new a.DOM("div",{class:this.prefixCss("background")});t.append(n);var o=new a.DOM("span",{class:this.prefixCss("title")}).append(new a.DOM("span",{class:this.prefixCss("innertitle")}).html(e.title));t.append(o);var i=new a.DOM("span",{class:this.prefixCss("duration")}).append(new a.DOM("span",{class:this.prefixCss("innerduration")}).html(e.duration?l.StringUtils.secondsToTime(e.duration):""));return t.append(i),t},t}(s.Component)},{"../dom":84,"../stringutils":111,"./component":18,"./container":19,"./hugereplaybutton":26}],39:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ReplayButton=void 0;var r=e("./button"),s=e("../localization/i18n"),a=e("../playerutils"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-replaybutton",text:s.i18n.getLocalizer("replay"),ariaLabel:s.i18n.getLocalizer("replay")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),t.isLive()&&this.hide();var i=new a.PlayerUtils.LiveStreamDetector(t,n);i.onLiveChanged.subscribe(function(e,t){t.live?o.hide():o.show()}),this.onClick.subscribe(function(){t.hasEnded()?t.play("ui"):t.seek(0)})},t}(r.Button);n.ReplayButton=l},{"../localization/i18n":91,"../playerutils":98,"./button":12}],40:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SeekBar=void 0;var r=e("./../groupplaybackapi"),s=e("./component"),a=e("../dom"),l=e("../eventdispatcher"),c=e("../timeout"),u=e("../playerutils"),p=e("../stringutils"),f=e("./seekbarcontroller"),g=e("../localization/i18n"),d=e("../browserutils"),h=e("./timelinemarkershandler"),v=e("./seekbarbufferlevel"),y=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;n.playbackPositionPercentage=0,n.isUserSeeking=!1,n.seekBarEvents={onSeek:new l.EventDispatcher,onSeekPreview:new l.EventDispatcher,onSeeked:new l.EventDispatcher},n.seekWhileScrubbing=function(e,t){t.scrubbing&&n.seek(t.position)},n.getTargetSeekPosition=function(e){var t;if(n.player.isLive()){var o=n.player.getMaxTimeShift();t=o-o*(e/100)}else{var i=u.PlayerUtils.getSeekableRangeStart(n.player,0),r=n.player.getDuration()*(e/100);t=r+i}return t},n.seek=function(e){var t=n.getTargetSeekPosition(e);n.player.isLive()?n.player.timeShift(t,"ui"):n.player.seek(t,"ui")},n.updateLabelPosition=function(e){n.uiBoundingRect||(n.uiBoundingRect=n.uiManager.getUI().getDomElement().get(0).getBoundingClientRect()),n.label.setPositionInBounds(e,n.uiBoundingRect)};var o=n.config.keyStepIncrements||{leftRight:1,upDown:5};return n.config=n.mergeConfig(t,{cssClass:"ui-seekbar",vertical:!1,smoothPlaybackPositionUpdateIntervalMs:50,keyStepIncrements:o,ariaLabel:g.i18n.getLocalizer("seekBar"),tabIndex:0,snappingRange:1,enableSeekPreview:!0,snappingEnabled:!0},n.config),n.label=n.config.label,n}return i(t,e),t.prototype.initialize=function(){e.prototype.initialize.call(this),this.hasLabel()&&this.getLabel().initialize()},t.prototype.setAriaSliderMinMax=function(e,t){this.getDomElement().attr("aria-valuemin",e),this.getDomElement().attr("aria-valuemax",t)},t.prototype.setAriaSliderValues=function(){if(this.seekBarType===f.SeekBarType.Live){var e=Math.ceil(this.player.getTimeShift()).toString();this.getDomElement().attr("aria-valuenow",e),this.getDomElement().attr("aria-valuetext","".concat(g.i18n.performLocalization(g.i18n.getLocalizer("seekBar.timeshift"))," ").concat(g.i18n.performLocalization(g.i18n.getLocalizer("seekBar.value")),": ").concat(e))}else if(this.seekBarType===f.SeekBarType.Vod){var t="".concat(p.StringUtils.secondsToText(this.player.getCurrentTime())," ").concat(g.i18n.performLocalization(g.i18n.getLocalizer("seekBar.durationText"))," ").concat(p.StringUtils.secondsToText(this.player.getDuration()));this.getDomElement().attr("aria-valuenow",Math.floor(this.player.getCurrentTime()).toString()),this.getDomElement().attr("aria-valuetext",t)}},t.prototype.getPlaybackPositionPercentage=function(){return this.player.isLive()?100-100/this.player.getMaxTimeShift()*this.player.getTimeShift():100/this.player.getDuration()*this.getRelativeCurrentTime()},t.prototype.updateBufferLevel=function(e){var t;t=this.player.isLive()?100:e+(0,v.getMinBufferLevel)(this.player),this.setBufferPosition(t)},t.prototype.configure=function(n,o,i){var s=this;void 0===i&&(i=!0),e.prototype.configure.call(this,n,o),this.player=n,this.uiManager=o,this.setPosition(this.seekBarBackdrop,100);var a=new f.SeekBarController(this.config.keyStepIncrements,n,o.getConfig().volumeController);if(a.setSeekBarControls(this.getDomElement(),function(){return s.seekBarType}),i){o.onControlsShow.subscribe(function(){s.isUiShown=!0,!s.smoothPlaybackPositionUpdater||n.isLive()||s.smoothPlaybackPositionUpdater.isActive()||(d(null,!0),s.smoothPlaybackPositionUpdater.start())}),o.onControlsHide.subscribe(function(){s.isUiShown=!1,s.smoothPlaybackPositionUpdater&&s.smoothPlaybackPositionUpdater.isActive()&&s.smoothPlaybackPositionUpdater.clear()});var l,c=!1,p=!1,g=!1,d=function(e,o){if(void 0===e&&(e=null),void 0===o&&(o=!1),!s.isUserSeeking){var i=s.getPlaybackPositionPercentage();if(s.updateBufferLevel(i),p&&e&&e.type===n.exports.PlayerEvent.SegmentRequestFinished&&i!==s.playbackPositionPercentage&&(i=s.playbackPositionPercentage),n.isLive())0===n.getMaxTimeShift()?s.setPlaybackPosition(100):(s.isSeeking()||s.setPlaybackPosition(i),s.setAriaSliderMinMax(n.getMaxTimeShift().toString(),"0"));else{var r=s.config.smoothPlaybackPositionUpdateIntervalMs===t.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED||o||n.isPaused(),a=n.isPaused()===n.isPlaying();!r&&!a||s.isSeeking()||s.setPlaybackPosition(i),s.setAriaSliderMinMax("0",n.getDuration().toString())}s.isUiShown&&s.setAriaSliderValues()}};n.on(n.exports.PlayerEvent.Ready,d),n.on(n.exports.PlayerEvent.TimeChanged,d),n.on(n.exports.PlayerEvent.StallEnded,d),n.on(n.exports.PlayerEvent.TimeShifted,d),n.on(n.exports.PlayerEvent.SegmentRequestFinished,d),this.configureLivePausedTimeshiftUpdater(n,o,d);var h=function(){g=!0,s.setSeeking(!0),p=!1},v=function(e){void 0===e&&(e=null),g=!1,s.setSeeking(!1),d(e,!0)},y=function(){c&&n.play("ui-seek")};n.on(n.exports.PlayerEvent.Seek,h),n.on(n.exports.PlayerEvent.Seeked,v),n.on(n.exports.PlayerEvent.TimeShift,h),n.on(n.exports.PlayerEvent.TimeShifted,v);var m=function(e){return!!e.groupPlayback};this.onSeek.subscribe(function(e){s.isUserSeeking=!0,o.onSeek.dispatch(e),m(n)&&n.groupPlayback.hasJoined()&&!l&&(l=n.groupPlayback.beginSuspension(r.GroupPlaybackSuspensionReason.UserIsScrubbing)),g||(c=n.isPlaying(),c&&n.pause("ui-seek"))}),this.onSeekPreview.subscribe(function(e,t){o.onSeekPreview.dispatch(e,t),p=t.scrubbing}),"boolean"==typeof o.getConfig().enableSeekPreview&&(this.config.enableSeekPreview=o.getConfig().enableSeekPreview),this.config.enableSeekPreview&&this.onSeekPreview.subscribeRateLimited(this.seekWhileScrubbing,200),this.onSeeked.subscribe(function(e,t){if(s.isUserSeeking=!1,s.seek(t),o.onSeeked.dispatch(e),y(),m(n)&&n.groupPlayback.hasJoined()&&l){var i=s.getTargetSeekPosition(t);n.groupPlayback.endSuspension(l,{proposedPlaybackTime:i}),l=void 0}}),this.hasLabel()&&this.getLabel().configure(n,o);var b=!1,C=!1,P=function(e,t){e&&!t?s.hide():s.show(),d(null,!0),s.refreshPlaybackPosition()},S=new u.PlayerUtils.LiveStreamDetector(n,o);S.onLiveChanged.subscribe(function(e,t){b=t.live,b&&null!=s.smoothPlaybackPositionUpdater?(s.smoothPlaybackPositionUpdater.clear(),s.seekBarType=f.SeekBarType.Live):s.seekBarType=f.SeekBarType.Vod,P(b,C)});var w=new u.PlayerUtils.TimeShiftAvailabilityDetector(n);w.onTimeShiftAvailabilityChanged.subscribe(function(e,t){C=t.timeShiftAvailable,P(b,C)}),S.detect(),w.detect(),n.on(n.exports.PlayerEvent.PlayerResized,function(){s.refreshPlaybackPosition(),s.uiBoundingRect=s.uiManager.getUI().getDomElement().get(0).getBoundingClientRect()}),o.onConfigured.subscribe(function(){s.refreshPlaybackPosition()}),n.on(n.exports.PlayerEvent.SourceLoaded,function(){s.refreshPlaybackPosition()}),o.getConfig().events.onUpdated.subscribe(function(){d()}),"number"==typeof o.getConfig().seekbarSnappingRange&&(this.config.snappingRange=o.getConfig().seekbarSnappingRange),"boolean"==typeof o.getConfig().seekbarSnappingEnabled&&(this.config.snappingEnabled=o.getConfig().seekbarSnappingEnabled),d(),this.setBufferPosition(0),this.setSeekPosition(0),this.config.smoothPlaybackPositionUpdateIntervalMs!==t.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED&&this.configureSmoothPlaybackPositionUpdater(n,o),this.initializeTimelineMarkers(n,o)}else this.seekBarType=f.SeekBarType.Volume},t.prototype.initializeTimelineMarkers=function(e,t){var n=this,o={cssPrefix:this.config.cssPrefix,snappingRange:this.config.snappingRange};this.timelineMarkersHandler=new h.TimelineMarkersHandler(o,function(){return n.seekBar.width()},this.seekBarMarkersContainer),this.timelineMarkersHandler.initialize(e,t)},t.prototype.configureLivePausedTimeshiftUpdater=function(e,t,n){var o=this;this.pausedTimeshiftUpdater=new c.Timeout(1e3,n,!0),e.on(e.exports.PlayerEvent.Paused,function(){e.isLive()&&e.getMaxTimeShift()<0&&o.pausedTimeshiftUpdater.start()}),e.on(e.exports.PlayerEvent.Play,function(){return o.pausedTimeshiftUpdater.clear()})},t.prototype.configureSmoothPlaybackPositionUpdater=function(e,t){var n=this,o=0,i=0,r=50,s=r/1e3;this.smoothPlaybackPositionUpdater=new c.Timeout(r,function(){if(!n.isSeeking()){o+=s;try{i=n.getRelativeCurrentTime()}catch(t){return void(t instanceof e.exports.PlayerAPINotAvailableError&&n.smoothPlaybackPositionUpdater.clear())}var t=o-i;Math.abs(t)>2?o=i:t<=-s?o+=s:t>=s&&(o-=s);var r=100/e.getDuration()*o;n.setPlaybackPosition(r)}},!0);var a=function(){e.isLive()||(o=n.getRelativeCurrentTime(),n.smoothPlaybackPositionUpdater.start())},l=function(){n.smoothPlaybackPositionUpdater.clear()};e.on(e.exports.PlayerEvent.Play,a),e.on(e.exports.PlayerEvent.Playing,a),e.on(e.exports.PlayerEvent.Paused,l),e.on(e.exports.PlayerEvent.PlaybackFinished,l),e.on(e.exports.PlayerEvent.Seeked,function(){o=n.getRelativeCurrentTime()}),e.on(e.exports.PlayerEvent.SourceUnloaded,l),e.isPlaying()&&a()},t.prototype.getRelativeCurrentTime=function(){return u.PlayerUtils.getCurrentTimeRelativeToSeekableRange(this.player)},t.prototype.release=function(){e.prototype.release.call(this),this.smoothPlaybackPositionUpdater&&this.smoothPlaybackPositionUpdater.clear(),this.pausedTimeshiftUpdater&&this.pausedTimeshiftUpdater.clear(),this.config.enableSeekPreview&&this.onSeekPreview.unsubscribe(this.seekWhileScrubbing)},t.prototype.toDomElement=function(){var e=this;this.config.vertical&&this.config.cssClasses.push("vertical");var t=new a.DOM("div",{id:this.config.id,class:this.getCssClasses(),role:"slider","aria-label":g.i18n.performLocalization(this.config.ariaLabel),tabindex:this.config.tabIndex.toString()},this),n=new a.DOM("div",{class:this.prefixCss("seekbar")});this.seekBar=n;var o=new a.DOM("div",{class:this.prefixCss("seekbar-bufferlevel")});this.seekBarBufferPosition=o;var i=new a.DOM("div",{class:this.prefixCss("seekbar-playbackposition")});this.seekBarPlaybackPosition=i;var r=new a.DOM("div",{class:this.prefixCss("seekbar-playbackposition-marker")});this.seekBarPlaybackPositionMarker=r;var s=new a.DOM("div",{class:this.prefixCss("seekbar-seekposition")});this.seekBarSeekPosition=s;var l=new a.DOM("div",{class:this.prefixCss("seekbar-backdrop")});this.seekBarBackdrop=l;var c=new a.DOM("div",{class:this.prefixCss("seekbar-markers")});this.seekBarMarkersContainer=c,n.append(this.seekBarBackdrop,this.seekBarBufferPosition,this.seekBarSeekPosition,this.seekBarPlaybackPosition,this.seekBarMarkersContainer,this.seekBarPlaybackPositionMarker);var u=!1,p=function(t){t.preventDefault(),null!=e.player.vr&&t.stopPropagation();var n=e.getOffset(t),o=100*n,i=n*e.seekBar.width();e.setSeekPosition(o),e.setPlaybackPosition(o),e.onSeekPreviewEvent(o,i,!0)},f=function(t){var n;t.preventDefault(),new a.DOM(document).off("touchmove mousemove",p),new a.DOM(document).off("touchend mouseup",f);var o=100*e.getOffset(t);if(e.config.snappingEnabled){var i=null===(n=e.timelineMarkersHandler)||void 0===n?void 0:n.getMarkerAtPosition(o);o=i?i.position:o}e.setSeeking(!1),u=!1,e.onSeekedEvent(o)};return n.on("touchstart mousedown",function(t){var n=d.BrowserUtils.isTouchSupported&&e.isTouchEvent(t);t.preventDefault(),null!=e.player.vr&&t.stopPropagation(),e.setSeeking(!0),u=!0,e.onSeekEvent(),new a.DOM(document).on(n?"touchmove":"mousemove",p),new a.DOM(document).on(n?"touchend":"mouseup",f)}),n.on("touchmove mousemove",function(t){t.preventDefault(),u&&p(t);var n=e.getOffset(t),o=100*n,i=n*e.seekBar.width();e.setSeekPosition(o),e.onSeekPreviewEvent(o,i,!1),e.hasLabel()&&e.getLabel().isHidden()&&e.getLabel().show()}),n.on("touchend mouseleave",function(t){t.preventDefault(),e.setSeekPosition(0),e.hasLabel()&&e.getLabel().hide()}),t.append(n),this.label&&t.append(this.label.getDomElement()),t},t.prototype.getHorizontalOffset=function(e){var t=this.seekBar.offset().left,n=this.seekBar.width(),o=e-t,i=1/n*o;return this.sanitizeOffset(i)},t.prototype.getVerticalOffset=function(e){var t=this.seekBar.offset().top,n=this.seekBar.height(),o=e-t,i=1/n*o;return 1-this.sanitizeOffset(i)},t.prototype.getOffset=function(e){return d.BrowserUtils.isTouchSupported&&this.isTouchEvent(e)?this.config.vertical?this.getVerticalOffset("touchend"===e.type?e.changedTouches[0].pageY:e.touches[0].pageY):this.getHorizontalOffset("touchend"===e.type?e.changedTouches[0].pageX:e.touches[0].pageX):e instanceof MouseEvent?this.config.vertical?this.getVerticalOffset(e.pageY):this.getHorizontalOffset(e.pageX):(console&&console.warn("invalid event"),0)},t.prototype.sanitizeOffset=function(e){return e<0?e=0:e>1&&(e=1),e},t.prototype.setPlaybackPosition=function(e){this.playbackPositionPercentage=e,this.setPosition(this.seekBarPlaybackPosition,e);var t=this.config.vertical?this.seekBar.height()-this.seekBarPlaybackPositionMarker.height():this.seekBar.width(),n=t/100*e;this.config.vertical&&(n=this.seekBar.height()-n-this.seekBarPlaybackPositionMarker.height());var o=this.config.vertical?{transform:"translateY("+n+"px)","-ms-transform":"translateY("+n+"px)","-webkit-transform":"translateY("+n+"px)"}:{transform:"translateX("+n+"px)","-ms-transform":"translateX("+n+"px)","-webkit-transform":"translateX("+n+"px)"};this.seekBarPlaybackPositionMarker.css(o)},t.prototype.refreshPlaybackPosition=function(){this.setPlaybackPosition(this.playbackPositionPercentage)},t.prototype.setBufferPosition=function(e){this.setPosition(this.seekBarBufferPosition,e)},t.prototype.setSeekPosition=function(e){this.setPosition(this.seekBarSeekPosition,e)},t.prototype.setPosition=function(e,t){var n=t/100;n>=.99999&&n<=1.00001&&(n=.99999);var o=this.config.vertical?{transform:"scaleY("+n+")","-ms-transform":"scaleY("+n+")","-webkit-transform":"scaleY("+n+")"}:{transform:"scaleX("+n+")","-ms-transform":"scaleX("+n+")","-webkit-transform":"scaleX("+n+")"};e.css(o)},t.prototype.setSeeking=function(e){e?this.getDomElement().addClass(this.prefixCss(t.CLASS_SEEKING)):this.getDomElement().removeClass(this.prefixCss(t.CLASS_SEEKING))},t.prototype.isSeeking=function(){return this.getDomElement().hasClass(this.prefixCss(t.CLASS_SEEKING))},t.prototype.hasLabel=function(){return null!=this.label},t.prototype.getLabel=function(){return this.label},t.prototype.onSeekEvent=function(){this.seekBarEvents.onSeek.dispatch(this)},t.prototype.onSeekPreviewEvent=function(e,t,n){var o=this.timelineMarkersHandler&&this.timelineMarkersHandler.getMarkerAtPosition(e),i=e;o&&(o.duration>0?e<o.position?i=o.position:e>o.position+o.duration&&(i=o.position+o.duration):i=o.position),this.label&&this.updateLabelPosition(t),this.seekBarEvents.onSeekPreview.dispatch(this,{scrubbing:n,position:i,marker:o})},t.prototype.onSeekedEvent=function(e){this.seekBarEvents.onSeeked.dispatch(this,e)},Object.defineProperty(t.prototype,"onSeek",{get:function(){return this.seekBarEvents.onSeek.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSeekPreview",{get:function(){return this.seekBarEvents.onSeekPreview.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSeeked",{get:function(){return this.seekBarEvents.onSeeked.getEvent()},enumerable:!1,configurable:!0}),t.prototype.onShowEvent=function(){e.prototype.onShowEvent.call(this),this.refreshPlaybackPosition()},t.prototype.isTouchEvent=function(e){return window.TouchEvent&&e instanceof TouchEvent},t.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED=-1,t.CLASS_SEEKING="seeking",t}(s.Component);n.SeekBar=y},{"../browserutils":3,"../dom":84,"../eventdispatcher":86,"../localization/i18n":91,"../playerutils":98,"../stringutils":111,"../timeout":113,"./../groupplaybackapi":88,"./component":18,"./seekbarbufferlevel":41,"./seekbarcontroller":42,"./timelinemarkershandler":72}],41:[function(e,t,n){"use strict";function o(e){var t=e.getDuration(),n=e.getVideoBufferLength(),o=e.getAudioBufferLength(),i=Math.min(null!=n?n:Number.MAX_VALUE,null!=o?o:Number.MAX_VALUE);return i===Number.MAX_VALUE&&(i=0),100/t*i}Object.defineProperty(n,"__esModule",{value:!0}),n.getMinBufferLevel=o},{}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SeekBarController=n.SeekBarType=void 0;var o,i=e("../uiutils");(function(e){e[e.Vod=0]="Vod",e[e.Live=1]="Live",e[e.Volume=2]="Volume"})(o||(n.SeekBarType=o={}));var r=function(e,t,n){e<t.min?n(t.min):e>t.max?n(t.max):n(e)},s=function(){function e(e,t,n){this.keyStepIncrements=e,this.player=t,this.volumeController=n}return e.prototype.arrowKeyControls=function(e,t,n){var o=this,i=Math.floor(e);return{left:function(){return r(i-o.keyStepIncrements.leftRight,t,n)},right:function(){return r(i+o.keyStepIncrements.leftRight,t,n)},up:function(){return r(i+o.keyStepIncrements.upDown,t,n)},down:function(){return r(i-o.keyStepIncrements.upDown,t,n)},home:function(){return r(t.min,t,n)},end:function(){return r(t.max,t,n)}}},e.prototype.seekBarControls=function(e){if(e===o.Live)return this.arrowKeyControls(this.player.getTimeShift(),{min:this.player.getMaxTimeShift(),max:0},this.player.timeShift);if(e===o.Vod)return this.arrowKeyControls(this.player.getCurrentTime(),{min:0,max:this.player.getDuration()},this.player.seek);if(e===o.Volume&&null!=this.volumeController){var t=this.volumeController.startTransition();return this.arrowKeyControls(this.player.getVolume(),{min:0,max:100},t.finish.bind(t))}},e.prototype.setSeekBarControls=function(e,t){var n=this;e.on("keydown",function(e){var o=n.seekBarControls(t());switch(e.keyCode){case i.UIUtils.KeyCode.LeftArrow:o.left(),e.preventDefault();break;case i.UIUtils.KeyCode.RightArrow:o.right(),e.preventDefault();break;case i.UIUtils.KeyCode.UpArrow:o.up(),e.preventDefault();break;case i.UIUtils.KeyCode.DownArrow:o.down(),e.preventDefault();break;case i.UIUtils.KeyCode.Home:o.home(),e.preventDefault();break;case i.UIUtils.KeyCode.End:o.end(),e.preventDefault();break;case i.UIUtils.KeyCode.Space:n.player.isPlaying()?n.player.pause():n.player.play(),e.preventDefault()}})},e}();n.SeekBarController=s},{"../uiutils":117}],43:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SeekBarLabel=void 0;var r=e("./container"),s=e("./label"),a=e("./component"),l=e("../stringutils"),c=e("../imageloader"),u=e("../playerutils"),p=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.appliedMarkerCssClasses=[],n.handleSeekPreview=function(e,t){if(n.player.isLive()){var o=n.player.getMaxTimeShift(),i=o-o*(t.position/100);n.setTime(i);var r=function(e){var t=n.player.getTimeShift(),o=n.player.getCurrentTime(),i=o-t;return i+e},s=r(i);n.setThumbnail(n.player.getThumbnail(s))}else{var a=n.player.getDuration()*(t.position/100);n.setTime(a);var l=u.PlayerUtils.getSeekableRangeStart(n.player,0),c=a+l;n.setThumbnail(n.player.getThumbnail(c))}
if(t.marker?n.setTitleText(t.marker.marker.title):n.setTitleText(null),n.appliedMarkerCssClasses.length>0&&(n.getDomElement().removeClass(n.appliedMarkerCssClasses.join(" ")),n.appliedMarkerCssClasses=[]),t.marker){var p=(t.marker.marker.cssClasses||[]).map(function(e){return n.prefixCss(e)});n.getDomElement().addClass(p.join(" ")),n.appliedMarkerCssClasses=p}},n.timeLabel=new s.Label({cssClasses:["seekbar-label-time"]}),n.titleLabel=new s.Label({cssClasses:["seekbar-label-title"]}),n.thumbnail=new a.Component({cssClasses:["seekbar-thumbnail"],role:"img"}),n.thumbnailImageLoader=new c.ImageLoader,n.container=new r.Container({components:[n.thumbnail,new r.Container({components:[n.titleLabel,n.timeLabel],cssClass:"seekbar-label-metadata"})],cssClass:"seekbar-label-inner"}),n.caret=new s.Label({cssClasses:["seekbar-label-caret"]}),n.config=n.mergeConfig(t,{cssClass:"ui-seekbar-label",components:[n.container,n.caret],hidden:!0},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.player=t,this.uiManager=n,n.onSeekPreview.subscribeRateLimited(this.handleSeekPreview,100);var i=function(){o.timeFormat=Math.abs(t.isLive()?t.getMaxTimeShift():t.getDuration())>=3600?l.StringUtils.FORMAT_HHMMSS:l.StringUtils.FORMAT_MMSS,o.setTitleText(null),o.setThumbnail(null)};n.getConfig().events.onUpdated.subscribe(i),i()},t.prototype.setPositionInBounds=function(e,t){this.getDomElement().css("left",e+"px");var n=this.container.getDomElement().get(0).parentElement.getBoundingClientRect(),o=0;n.right>t.right?o=n.right-t.right:n.left<t.left&&(o=n.left-t.left),0!==o?(this.getDomElement().css("left",e-o+"px"),this.caret.getDomElement().css("transform","translateX(".concat(o,"px)"))):this.caret.getDomElement().css("transform",null)},t.prototype.setText=function(e){this.timeLabel.setText(e)},t.prototype.setTime=function(e){this.setText(l.StringUtils.secondsToTime(e,this.timeFormat))},t.prototype.setTitleText=function(e){void 0===e&&(e=""),this.titleLabel.setText(e)},t.prototype.setThumbnail=function(e){var t=this;void 0===e&&(e=null);var n=this.thumbnail.getDomElement();null==e?n.css({"background-image":null,display:null,width:null,height:null}):this.thumbnailImageLoader.load(e.url,function(o,i,r){void 0!==e.x?n.css(t.thumbnailCssSprite(e,i,r)):n.css(t.thumbnailCssSingleImage(e,i,r))})},t.prototype.thumbnailCssSprite=function(e,t,n){var o=t/e.width,i=n/e.height,r=e.x/e.width,s=e.y/e.height,a=100*o,l=100*i,c=100*r,u=100*s,p=1/e.width*e.height;return{display:"inherit","background-image":"url(".concat(e.url,")"),"padding-bottom":"".concat(100*p,"%"),"background-size":"".concat(a,"% ").concat(l,"%"),"background-position":"-".concat(c,"% -").concat(u,"%")}},t.prototype.thumbnailCssSingleImage=function(e,t,n){var o=1/t*n;return{display:"inherit","background-image":"url(".concat(e.url,")"),"padding-bottom":"".concat(100*o,"%"),"background-size":"100% 100%","background-position":"0 0"}},t.prototype.release=function(){e.prototype.release.call(this),this.uiManager.onSeekPreview.unsubscribe(this.handleSeekPreview)},t}(r.Container);n.SeekBarLabel=p},{"../imageloader":90,"../playerutils":98,"../stringutils":111,"./component":18,"./container":19,"./label":28}],44:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SelectBox=void 0;var r=e("./listselector"),s=e("../dom"),a=e("../localization/i18n"),l=e("../playerutils"),c=e("./component"),u=["mousemove","mouseenter","mouseleave","touchstart","touchmove","touchend","pointermove","click","keydown","keypress","keyup","blur"],p=["change","keyup","mouseup"],f=[["click",function(){return!0}],["keydown",function(e){return[" ","ArrowUp","ArrowDown"].includes(e.key)}],["mousedown",function(){return!0}]],g=100,d=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.dropdownCloseListenerTimeoutId=0,n.removeDropdownCloseListeners=function(){},n.removeDropdownOpenedListeners=function(){},n.onChange=function(){var e=n.selectElement.val();n.onItemSelectedEvent(e,!1)},n.closeDropdown=function(){var e=n.getSelectElement();void 0!==e&&e.blur()},n.onPlayerStateChange=function(e,t){[l.PlayerUtils.PlayerState.Idle,l.PlayerUtils.PlayerState.Finished].includes(t)&&n.closeDropdown()},n.onDropdownOpened=function(){clearTimeout(n.dropdownCloseListenerTimeoutId),n.dropdownCloseListenerTimeoutId=window.setTimeout(function(){return n.addDropdownCloseListeners()},g),n.onViewModeChangedEvent(c.ViewMode.Persistent)},n.onDropdownClosed=function(){clearTimeout(n.dropdownCloseListenerTimeoutId),n.removeDropdownCloseListeners(),n.onViewModeChangedEvent(c.ViewMode.Temporary)},n.config=n.mergeConfig(t,{cssClass:"ui-selectbox"},n.config),n}return i(t,e),t.prototype.toDomElement=function(){return this.selectElement=new s.DOM("select",{id:this.config.id,class:this.getCssClasses(),"aria-label":a.i18n.performLocalization(this.config.ariaLabel)},this),this.onDisabled.subscribe(this.closeDropdown),this.onHide.subscribe(this.closeDropdown),this.addDropdownOpenedListeners(),this.updateDomItems(),this.selectElement.on("change",this.onChange),this.selectElement},t.prototype.configure=function(t,n){var o;e.prototype.configure.call(this,t,n),this.uiContainer=n.getUI(),null===(o=this.uiContainer)||void 0===o||o.onPlayerStateChange().subscribe(this.onPlayerStateChange)},t.prototype.getSelectElement=function(){var e,t;return null===(t=null===(e=this.selectElement)||void 0===e?void 0:e.get())||void 0===t?void 0:t[0]},t.prototype.updateDomItems=function(e){if(void 0===e&&(e=null),void 0!==this.selectElement){this.selectElement.empty();for(var t=0,n=this.items;t<n.length;t++){var o=n[t],i=new s.DOM("option",{value:String(o.key)}).html(a.i18n.performLocalization(o.label));o.key===String(e)&&i.attr("selected","selected"),this.selectElement.append(i)}}},t.prototype.onItemAddedEvent=function(t){e.prototype.onItemAddedEvent.call(this,t),this.updateDomItems(this.selectedItem)},t.prototype.onItemRemovedEvent=function(t){e.prototype.onItemRemovedEvent.call(this,t),this.updateDomItems(this.selectedItem)},t.prototype.onItemSelectedEvent=function(t,n){void 0===n&&(n=!0),e.prototype.onItemSelectedEvent.call(this,t),n&&this.updateDomItems(t)},t.prototype.addDropdownCloseListeners=function(){var e=this;this.removeDropdownCloseListeners(),clearTimeout(this.dropdownCloseListenerTimeoutId),u.forEach(function(t){return document.addEventListener(t,e.onDropdownClosed,!0)}),p.forEach(function(t){return e.selectElement.on(t,e.onDropdownClosed,!0)}),this.removeDropdownCloseListeners=function(){u.forEach(function(t){return document.removeEventListener(t,e.onDropdownClosed,!0)}),p.forEach(function(t){return e.selectElement.off(t,e.onDropdownClosed,!0)})}},t.prototype.addDropdownOpenedListeners=function(){var e=this,t=[];this.removeDropdownOpenedListeners();for(var n=function(n,i){var r=function(t){i(t)&&e.onDropdownOpened()};t.push(function(){return e.selectElement.off(n,r,!0)}),o.selectElement.on(n,r,!0)},o=this,i=0,r=f;i<r.length;i++){var s=r[i],a=s[0],l=s[1];n(a,l)}this.removeDropdownOpenedListeners=function(){for(var e=0,n=t;e<n.length;e++){var o=n[e];o()}}},t.prototype.release=function(){e.prototype.release.call(this),this.removeDropdownCloseListeners(),this.removeDropdownOpenedListeners(),clearTimeout(this.dropdownCloseListenerTimeoutId)},t}(r.ListSelector);n.SelectBox=d},{"../dom":84,"../localization/i18n":91,"../playerutils":98,"./component":18,"./listselector":30}],45:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SettingsPanel=void 0;var r,s=e("./container"),a=e("./selectbox"),l=e("../timeout"),c=e("../eventdispatcher"),u=e("./settingspanelpage");(function(e){e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards"})(r||(r={}));var p=function(e){function t(t){var n=e.call(this,t)||this;return n.navigationStack=[],n.settingsPanelEvents={onSettingsStateChanged:new c.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-settings-panel",hideDelay:3e3,pageTransitionAnimation:!0},n.config),n.activePage=n.getRootPage(),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig();n.onControlsHide.subscribe(function(){return o.hideHoveredSelectBoxes()}),n.onComponentViewModeChanged.subscribe(function(e,t){var n=t.mode;return o.trackComponentViewMode(n)}),i.hideDelay>-1&&(this.hideTimeout=new l.Timeout(i.hideDelay,function(){o.hide(),o.hideHoveredSelectBoxes()}),this.getDomElement().on("mouseenter",function(){o.hideTimeout.clear()}),this.getDomElement().on("mouseleave",function(){o.hideTimeout.reset()}),this.getDomElement().on("focusin",function(){o.hideTimeout.clear()}),this.getDomElement().on("focusout",function(){o.hideTimeout.reset()})),this.onHide.subscribe(function(){i.hideDelay>-1&&o.hideTimeout.clear(),o.activePage.onInactiveEvent()}),this.onShow.subscribe(function(){o.resetNavigation(!0),o.activePage.onActiveEvent(),i.hideDelay>-1&&o.hideTimeout.start()}),this.getRootPage().onSettingsStateChanged.subscribe(function(){o.onSettingsStateChangedEvent()}),this.updateActivePageClass()},t.prototype.getActivePage=function(){return this.activePage},t.prototype.setActivePageIndex=function(e){this.setActivePage(this.getPages()[e])},t.prototype.setActivePage=function(e){e!==this.getActivePage()?this.navigateToPage(e,this.getActivePage(),r.Forwards,!this.config.pageTransitionAnimation):console.warn("Page is already the current one ... skipping navigation")},t.prototype.popToRootSettingsPanelPage=function(){this.resetNavigation(this.config.pageTransitionAnimation)},t.prototype.popSettingsPanelPage=function(){if(0!==this.navigationStack.length){var e=this.navigationStack[this.navigationStack.length-2];e||(e=this.getRootPage()),this.navigateToPage(e,this.activePage,r.Backwards,!this.config.pageTransitionAnimation)}else console.warn("Already on the root page ... skipping navigation")},t.prototype.rootPageHasActiveSettings=function(){return this.getRootPage().hasActiveSettings()},t.prototype.getPages=function(){return this.config.components.filter(function(e){return e instanceof u.SettingsPanelPage})},Object.defineProperty(t.prototype,"onSettingsStateChanged",{get:function(){return this.settingsPanelEvents.onSettingsStateChanged.getEvent()},enumerable:!1,configurable:!0}),t.prototype.release=function(){e.prototype.release.call(this),this.hideTimeout&&this.hideTimeout.clear()},t.prototype.addComponent=function(t){0===this.getPages().length&&t instanceof u.SettingsPanelPage&&(this.activePage=t),e.prototype.addComponent.call(this,t)},t.prototype.suspendHideTimeout=function(){this.hideTimeout.suspend()},t.prototype.resumeHideTimeout=function(){this.hideTimeout.resume(!0)},t.prototype.updateActivePageClass=function(){var e=this;this.getPages().forEach(function(n){n===e.activePage?n.getDomElement().addClass(e.prefixCss(t.CLASS_ACTIVE_PAGE)):n.getDomElement().removeClass(e.prefixCss(t.CLASS_ACTIVE_PAGE))})},t.prototype.resetNavigation=function(e){var t=this.getActivePage(),n=this.getRootPage();t&&(e||t.onInactiveEvent()),this.navigationStack=[],this.animateNavigation(n,t,e),this.activePage=n,this.updateActivePageClass()},t.prototype.navigateToPage=function(e,t,n,o){this.activePage=e,n===r.Forwards?this.navigationStack.push(e):this.navigationStack.pop(),this.animateNavigation(e,t,o),this.updateActivePageClass(),e.onActiveEvent(),t.onInactiveEvent()},t.prototype.animateNavigation=function(e,t,n){if(this.config.pageTransitionAnimation){var o=this.getDomElement(),i=this.getDomElement().get(0),r=i.scrollWidth,s=i.scrollHeight;t.getDomElement().css("display","none"),this.getDomElement().css({width:"",height:""});var a=e.getDomElement().get(0),l=a.cloneNode(!0),c=a.parentNode;c.appendChild(l),l.style.display="block";var u=i.scrollWidth,p=i.scrollHeight;l.parentElement.removeChild(l),t.getDomElement().css("display",""),o.css({width:r+"px",height:s+"px"}),n||this.forceBrowserReflow(),o.css({width:u+"px",height:p+"px"})}},t.prototype.forceBrowserReflow=function(){this.getDomElement().get(0).offsetLeft},t.prototype.hideHoveredSelectBoxes=function(){this.getComputedItems().map(function(e){return e.setting}).filter(function(e){return e instanceof a.SelectBox}).forEach(function(e){return e.closeDropdown()})},t.prototype.getComputedItems=function(){for(var e=[],t=0,n=this.getPages();t<n.length;t++){var o=n[t];e.push.apply(e,o.getItems())}return e},t.prototype.getRootPage=function(){return this.getPages()[0]},t.prototype.onSettingsStateChangedEvent=function(){this.settingsPanelEvents.onSettingsStateChanged.dispatch(this)},t.CLASS_ACTIVE_PAGE="active",t}(s.Container);n.SettingsPanel=p},{"../eventdispatcher":86,"../timeout":113,"./container":19,"./selectbox":44,"./settingspanelpage":47}],46:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SettingsPanelItem=void 0;var r=e("./container"),s=e("./component"),a=e("../eventdispatcher"),l=e("./label"),c=e("./selectbox"),u=e("./listbox"),p=e("./videoqualityselectbox"),f=e("./audioqualityselectbox"),g=e("./playbackspeedselectbox"),d=function(e){function t(t,n,o){void 0===o&&(o={});var i=e.call(this,o)||this;return i.settingsPanelItemEvents={onActiveChanged:new a.EventDispatcher},i.setting=n,i.config=i.mergeConfig(o,{cssClass:"ui-settings-panel-item",role:"menuitem"},i.config),null!==t&&(t instanceof s.Component?i.label=t:i.label=new l.Label({text:t,for:i.setting.getConfig().id}),i.addComponent(i.label)),i.addComponent(i.setting),i}return i(t,e),t.prototype.configure=function(e,t){var n=this;if(this.setting instanceof c.SelectBox||this.setting instanceof u.ListBox){var o=function(){if(n.setting instanceof c.SelectBox||n.setting instanceof u.ListBox){var e=2;(n.setting instanceof p.VideoQualitySelectBox&&n.setting.hasAutoItem()||n.setting instanceof f.AudioQualitySelectBox)&&(e=3),n.setting.itemCount()<e?n.hide():n.setting instanceof g.PlaybackSpeedSelectBox&&!t.getConfig().playbackSpeedSelectionEnabled?n.hide():n.show(),n.onActiveChangedEvent(),n.getDomElement().attr("aria-haspopup","true")}};this.setting.onItemAdded.subscribe(o),this.setting.onItemRemoved.subscribe(o),o()}},t.prototype.isActive=function(){return this.isShown()},t.prototype.onActiveChangedEvent=function(){this.settingsPanelItemEvents.onActiveChanged.dispatch(this)},Object.defineProperty(t.prototype,"onActiveChanged",{get:function(){return this.settingsPanelItemEvents.onActiveChanged.getEvent()},enumerable:!1,configurable:!0}),t}(r.Container);n.SettingsPanelItem=d},{"../eventdispatcher":86,"./audioqualityselectbox":8,"./component":18,"./container":19,"./label":28,"./listbox":29,"./playbackspeedselectbox":33,"./selectbox":44,"./videoqualityselectbox":77}],47:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SettingsPanelPage=void 0;var r=e("./container"),s=e("./settingspanelitem"),a=e("../eventdispatcher"),l=e("../browserutils"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.settingsPanelPageEvents={onSettingsStateChanged:new a.EventDispatcher,onActive:new a.EventDispatcher,onInactive:new a.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-settings-panel-page",role:"menu"},n.config),n}return i(t,e),t.prototype.configure=function(n,o){var i=this;e.prototype.configure.call(this,n,o);for(var r=function(){i.onSettingsStateChangedEvent();for(var e=null,n=0,o=i.getItems();n<o.length;n++){var r=o[n];r.getDomElement().removeClass(i.prefixCss(t.CLASS_LAST)),r.isShown()&&(e=r)}e&&e.getDomElement().addClass(i.prefixCss(t.CLASS_LAST))},s=0,a=this.getItems();s<a.length;s++){var l=a[s];l.onActiveChanged.subscribe(r)}},t.prototype.hasActiveSettings=function(){for(var e=0,t=this.getItems();e<t.length;e++){var n=t[e];if(n.isActive())return!0}return!1},t.prototype.getItems=function(){return this.config.components.filter(function(e){return e instanceof s.SettingsPanelItem})},t.prototype.onSettingsStateChangedEvent=function(){this.settingsPanelPageEvents.onSettingsStateChanged.dispatch(this)},Object.defineProperty(t.prototype,"onSettingsStateChanged",{get:function(){return this.settingsPanelPageEvents.onSettingsStateChanged.getEvent()},enumerable:!1,configurable:!0}),t.prototype.onActiveEvent=function(){var e=this.getItems().filter(function(e){return e.isActive()});this.settingsPanelPageEvents.onActive.dispatch(this),!(e.length>0)||l.BrowserUtils.isIOS||l.BrowserUtils.isMacIntel&&l.BrowserUtils.isTouchSupported||e[0].getDomElement().focusToFirstInput()},Object.defineProperty(t.prototype,"onActive",{get:function(){return this.settingsPanelPageEvents.onActive.getEvent()},enumerable:!1,configurable:!0}),t.prototype.onInactiveEvent=function(){this.settingsPanelPageEvents.onInactive.dispatch(this)},Object.defineProperty(t.prototype,"onInactive",{get:function(){return this.settingsPanelPageEvents.onInactive.getEvent()},enumerable:!1,configurable:!0}),t.CLASS_LAST="last",t}(r.Container);n.SettingsPanelPage=c},{"../browserutils":3,"../eventdispatcher":86,"./container":19,"./settingspanelitem":46}],48:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SettingsPanelPageBackButton=void 0;var r=e("./settingspanelpagenavigatorbutton"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-settingspanelpagebackbutton",text:"back"},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){o.popPage()})},t}(r.SettingsPanelPageNavigatorButton);n.SettingsPanelPageBackButton=s},{"./settingspanelpagenavigatorbutton":49}],49:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SettingsPanelPageNavigatorButton=void 0;var r=e("./button"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{},n.config),n.container=n.config.container,n.targetPage=n.config.targetPage,n}return i(t,e),t.prototype.popPage=function(){this.container.popSettingsPanelPage()},t.prototype.pushTargetPage=function(){this.container.setActivePage(this.targetPage)},t}(r.Button);n.SettingsPanelPageNavigatorButton=s},{"./button":12}],50:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SettingsPanelPageOpenButton=void 0;var r=e("./settingspanelpagenavigatorbutton"),s=e("../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-settingspanelpageopenbutton",text:s.i18n.getLocalizer("open"),role:"menuitem"},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.getDomElement().attr("aria-haspopup","true"),this.getDomElement().attr("aria-owns",this.config.targetPage.getConfig().id),this.onClick.subscribe(function(){o.pushTargetPage()})},t}(r.SettingsPanelPageNavigatorButton);n.SettingsPanelPageOpenButton=a},{"../localization/i18n":91,"./settingspanelpagenavigatorbutton":49}],51:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SettingsToggleButton=void 0;var r=e("./togglebutton"),s=e("./settingspanel"),a=e("../arrayutils"),l=e("../localization/i18n"),c=function(e){function t(t){var n=e.call(this,t)||this;if(n.visibleSettingsPanels=[],!t.settingsPanel)throw new Error("Required SettingsPanel is missing");return n.config=n.mergeConfig(t,{cssClass:"ui-settingstogglebutton",text:l.i18n.getLocalizer("settings"),settingsPanel:null,autoHideWhenNoActiveSettings:!0,role:"pop-up button"},n.config),n.getDomElement().attr("aria-owns",t.settingsPanel.getActivePage().getConfig().id),n.getDomElement().attr("aria-haspopup","true"),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=i.settingsPanel;if(this.onClick.subscribe(function(){r.isShown()||o.visibleSettingsPanels.slice().forEach(function(e){return e.hide()}),r.toggleHidden()}),r.onShow.subscribe(function(){o.on()}),r.onHide.subscribe(function(){o.off()}),n.onComponentShow.subscribe(function(e){e instanceof s.SettingsPanel&&(o.visibleSettingsPanels.push(e),e.onHide.subscribeOnce(function(){return a.ArrayUtils.remove(o.visibleSettingsPanels,e)}))}),i.autoHideWhenNoActiveSettings){var l=function(){r.rootPageHasActiveSettings()?o.isHidden()&&o.show():o.isShown()&&o.hide()};r.onSettingsStateChanged.subscribe(l),l()}},t}(r.ToggleButton);n.SettingsToggleButton=c},{"../arrayutils":1,"../localization/i18n":91,"./settingspanel":45,"./togglebutton":74}],52:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Spacer=void 0;var r=e("./component"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-spacer"},n.config),n}return i(t,e),t.prototype.onShowEvent=function(){},t.prototype.onHideEvent=function(){},t.prototype.onHoverChangedEvent=function(e){},t}(r.Component);n.Spacer=s},{"./component":18}],53:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SubtitleListBox=void 0;var r=e("./listbox"),s=e("../subtitleutils"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),new s.SubtitleSwitchHandler(t,this,n)},t}(r.ListBox);n.SubtitleListBox=a},{"../subtitleutils":112,"./listbox":29}],54:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SubtitleRegionContainer=n.SubtitleRegionContainerManager=n.SubtitleLabel=n.SubtitleOverlay=void 0;var r=e("./container"),s=e("./label"),a=e("./controlbar"),l=e("../eventdispatcher"),c=e("../dom"),u=e("../localization/i18n"),p=e("../vttutils"),f=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.preprocessLabelEventCallback=new l.EventDispatcher,n.previewSubtitleActive=!1,n.previewSubtitle=new g({text:u.i18n.getLocalizer("subtitle.example")}),n.config=n.mergeConfig(t,{cssClass:"ui-subtitle-overlay"},n.config),n}return i(t,e),t.prototype.configure=function(n,o){var i=this;e.prototype.configure.call(this,n,o);var r=new d;this.subtitleManager=r,this.subtitleContainerManager=new h(this),n.on(n.exports.PlayerEvent.CueEnter,function(e){var t=i.generateLabel(e);r.cueEnter(e,t),i.preprocessLabelEventCallback.dispatch(e,t),i.previewSubtitleActive&&i.subtitleContainerManager.removeLabel(i.previewSubtitle),i.show(),i.subtitleContainerManager.addLabel(t,i.getDomElement().size()),i.updateComponents(),o.getConfig().forceSubtitlesIntoViewContainer&&i.handleSubtitleCropping(t)}),n.on(n.exports.PlayerEvent.CueUpdate,function(e){var t=i.generateLabel(e),n=r.cueUpdate(e,t);i.preprocessLabelEventCallback.dispatch(e,t),n&&i.subtitleContainerManager.replaceLabel(n,t),o.getConfig().forceSubtitlesIntoViewContainer&&i.handleSubtitleCropping(t)}),n.on(n.exports.PlayerEvent.CueExit,function(e){var t=r.cueExit(e);t&&(i.subtitleContainerManager.removeLabel(t),i.updateComponents()),r.hasCues||(i.previewSubtitleActive?(i.subtitleContainerManager.addLabel(i.previewSubtitle),i.updateComponents()):i.hide())});var s=function(){i.hide(),i.subtitleContainerManager.clear(),r.clear(),i.removeComponents(),i.updateComponents()},l=function(){var e=r.clearInactiveCues(n.getCurrentTime());e.forEach(function(e){i.subtitleContainerManager.removeLabel(e.label)})};n.on(n.exports.PlayerEvent.AudioChanged,s),n.on(n.exports.PlayerEvent.SubtitleDisabled,s),n.on(n.exports.PlayerEvent.Seeked,l),n.on(n.exports.PlayerEvent.TimeShifted,l),n.on(n.exports.PlayerEvent.PlaybackFinished,s),n.on(n.exports.PlayerEvent.SourceUnloaded,s),o.onComponentShow.subscribe(function(e){e instanceof a.ControlBar&&i.getDomElement().addClass(i.prefixCss(t.CLASS_CONTROLBAR_VISIBLE))}),o.onComponentHide.subscribe(function(e){e instanceof a.ControlBar&&i.getDomElement().removeClass(i.prefixCss(t.CLASS_CONTROLBAR_VISIBLE))}),this.configureCea608Captions(n,o),s()},t.prototype.detectCroppedSubtitleLabel=function(e){var t=this.getDomElement().get(0),n=e.getBoundingClientRect(),o=t.getBoundingClientRect();return{top:n.top<o.top,right:n.right>o.right,bottom:n.bottom>o.bottom,left:n.left<o.left}},t.prototype.handleSubtitleCropping=function(e){var t=e.getDomElement(),n=this.detectCroppedSubtitleLabel(t.get(0));n.top&&(t.css("top","0"),t.removeCss("bottom")),n.right&&(t.css("right","0"),t.removeCss("left")),n.bottom&&(t.css("bottom","0"),t.removeCss("top")),n.left&&(t.css("left","0"),t.removeCss("right"))},t.prototype.generateLabel=function(e){var t=e.region;e.position&&(e.position.row=e.position.row||0,e.position.column=e.position.column||0,t=t||"cea608-row-".concat(e.position.row));var n=new g({text:e.html||d.generateImageTagText(e.image)||e.text,vtt:e.vtt,region:t,regionStyle:e.regionStyle});return n},t.prototype.configureCea608Captions=function(e,n){var o=this,i=0,r=0,s=!0,a=!1,l=function(){var e=new g({text:"X"});e.getDomElement().css({"font-size":"200px","line-height":"200px",visibility:"hidden"}),o.addComponent(e),o.updateComponents(),o.show();var n=e.getDomElement().width(),s=e.getDomElement().height(),a=n/s;o.removeComponent(e),o.updateComponents(),o.subtitleManager.hasCues||o.hide();var l=o.getDomElement().width()-10,c=o.getDomElement().height(),u=n*t.CEA608_NUM_COLUMNS/(s*t.CEA608_NUM_ROWS),p=l/c;if(p>u){i=c/t.CEA608_NUM_ROWS;var f=l/t.CEA608_NUM_COLUMNS,d=i*a;r=f-d}else i=l/t.CEA608_NUM_COLUMNS/a,r=0;for(var h=0,v=o.getComponents();h<v.length;h++){var y=v[h];y instanceof g&&(y.getDomElement().css({"font-size":"".concat(i,"px"),"letter-spacing":"".concat(r,"px")}),y.regionStyle="line-height: ".concat(i,"px;"))}};e.on(e.exports.PlayerEvent.PlayerResized,function(){a?l():s=!0}),this.preprocessLabelEventCallback.subscribe(function(e,n){var c=null!=e.position;c&&(a||(a=!0,o.getDomElement().addClass(o.prefixCss(t.CLASS_CEA_608)),s&&(l(),s=!1)),n.getDomElement().css({left:"".concat(e.position.column*t.CEA608_COLUMN_OFFSET,"%"),"font-size":"".concat(i,"px"),"letter-spacing":"".concat(r,"px")}),n.regionStyle="line-height: ".concat(i,"px;"))});var c=function(){o.getDomElement().removeClass(o.prefixCss(t.CLASS_CEA_608)),a=!1};e.on(e.exports.PlayerEvent.CueExit,function(){o.subtitleManager.hasCues||c()}),e.on(e.exports.PlayerEvent.SourceUnloaded,c),e.on(e.exports.PlayerEvent.SubtitleEnable,c),e.on(e.exports.PlayerEvent.SubtitleDisabled,c)},t.prototype.enablePreviewSubtitleLabel=function(){this.subtitleManager.hasCues||(this.previewSubtitleActive=!0,this.subtitleContainerManager.addLabel(this.previewSubtitle),this.updateComponents(),this.show())},t.prototype.removePreviewSubtitleLabel=function(){this.previewSubtitleActive&&(this.previewSubtitleActive=!1,this.subtitleContainerManager.removeLabel(this.previewSubtitle),this.updateComponents())},
t.CLASS_CONTROLBAR_VISIBLE="controlbar-visible",t.CLASS_CEA_608="cea608",t.CEA608_NUM_ROWS=15,t.CEA608_NUM_COLUMNS=32,t.CEA608_COLUMN_OFFSET=100/t.CEA608_NUM_COLUMNS,t}(r.Container);n.SubtitleOverlay=f;var g=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-subtitle-label"},n.config),n}return i(t,e),Object.defineProperty(t.prototype,"vtt",{get:function(){return this.config.vtt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"region",{get:function(){return this.config.region},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"regionStyle",{get:function(){return this.config.regionStyle},set:function(e){this.config.regionStyle=e},enumerable:!1,configurable:!0}),t}(s.Label);n.SubtitleLabel=g;var d=function(){function e(){this.activeSubtitleCueMap={},this.activeSubtitleCueCount=0}return e.calculateId=function(e){var t=e.start+"-"+e.text;return e.position&&(t+="-"+e.position.row+"-"+e.position.column),t},e.prototype.cueEnter=function(e,t){this.addCueToMap(e,t)},e.prototype.cueUpdate=function(e,t){var n=this.popCueFromMap(e);if(n)return this.addCueToMap(e,t),n},e.prototype.addCueToMap=function(t,n){var o=e.calculateId(t);this.activeSubtitleCueMap[o]=this.activeSubtitleCueMap[o]||[],this.activeSubtitleCueMap[o].push({event:t,label:n}),this.activeSubtitleCueCount++},e.prototype.popCueFromMap=function(t){var n=e.calculateId(t),o=this.activeSubtitleCueMap[n];if(o&&o.length>0){var i=o.shift();return this.activeSubtitleCueCount--,i.label}},e.prototype.clearInactiveCues=function(e){var t=this,n=[];return Object.keys(this.activeSubtitleCueMap).forEach(function(o){var i=t.activeSubtitleCueMap[o];i.forEach(function(o){(e<o.event.start||e>o.event.end)&&(t.popCueFromMap(o.event),n.push(o))})}),n},e.generateImageTagText=function(e){if(e){var t=new c.DOM("img",{src:e});return t.css("width","100%"),t.get(0).outerHTML}},e.prototype.getCues=function(t){var n=e.calculateId(t),o=this.activeSubtitleCueMap[n];if(o&&o.length>0)return o.map(function(e){return e.label})},e.prototype.cueExit=function(e){return this.popCueFromMap(e)},Object.defineProperty(e.prototype,"cueCount",{get:function(){return this.activeSubtitleCueCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCues",{get:function(){return this.cueCount>0},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.activeSubtitleCueMap={},this.activeSubtitleCueCount=0},e}(),h=function(){function e(e){this.subtitleOverlay=e,this.subtitleRegionContainers={},this.subtitleOverlay=e}return e.prototype.getRegion=function(e){return e.vtt?{regionContainerId:e.vtt.region&&e.vtt.region.id?e.vtt.region.id:"vtt",regionName:"vtt"}:{regionContainerId:e.region||"default",regionName:e.region||"default"}},e.prototype.addLabel=function(e,t){var n=this.getRegion(e),o=n.regionContainerId,i=n.regionName,r=["subtitle-position-".concat(i)];if(e.vtt&&e.vtt.region&&r.push("vtt-region-".concat(e.vtt.region.id)),!this.subtitleRegionContainers[o]){var s=new v({cssClasses:r});for(var a in this.subtitleRegionContainers[o]=s,e.regionStyle?s.getDomElement().attr("style",e.regionStyle):e.vtt&&!e.vtt.region?s.getDomElement().css("position","static"):s.getDomElement(),this.subtitleRegionContainers)this.subtitleOverlay.addComponent(this.subtitleRegionContainers[a])}this.subtitleRegionContainers[o].addLabel(e,t)},e.prototype.replaceLabel=function(e,t){var n=this.getRegion(e).regionContainerId;this.subtitleRegionContainers[n].removeLabel(e),this.subtitleRegionContainers[n].addLabel(t)},e.prototype.removeLabel=function(e){var t;t=e.vtt?e.vtt.region&&e.vtt.region.id?e.vtt.region.id:"vtt":e.region||"default",this.subtitleRegionContainers[t].removeLabel(e),this.subtitleRegionContainers[t].isEmpty()&&(this.subtitleOverlay.removeComponent(this.subtitleRegionContainers[t]),delete this.subtitleRegionContainers[t])},e.prototype.clear=function(){for(var e in this.subtitleRegionContainers)this.subtitleOverlay.removeComponent(this.subtitleRegionContainers[e]);this.subtitleRegionContainers={}},e}();n.SubtitleRegionContainerManager=h;var v=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.labelCount=0,n.config=n.mergeConfig(t,{cssClass:"subtitle-region-container"},n.config),n}return i(t,e),t.prototype.addLabel=function(e,t){this.labelCount++,e.vtt&&(e.vtt.region&&t&&p.VttUtils.setVttRegionStyles(this,e.vtt.region,t),p.VttUtils.setVttCueBoxStyles(e,t)),this.addComponent(e),this.updateComponents()},t.prototype.removeLabel=function(e){this.labelCount--,this.removeComponent(e),this.updateComponents()},t.prototype.isEmpty=function(){return 0===this.labelCount},t}(r.Container);n.SubtitleRegionContainer=v},{"../dom":84,"../eventdispatcher":86,"../localization/i18n":91,"../vttutils":119,"./container":19,"./controlbar":20,"./label":28}],55:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SubtitleSelectBox=void 0;var r=e("./selectbox"),s=e("../subtitleutils"),a=e("../localization/i18n"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitleselectbox"],ariaLabel:a.i18n.getLocalizer("subtitle.select")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),new s.SubtitleSwitchHandler(t,this,n)},t}(r.SelectBox);n.SubtitleSelectBox=l},{"../localization/i18n":91,"../subtitleutils":112,"./selectbox":44}],56:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundColorSelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsbackgroundcolorselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("white",s.i18n.getLocalizer("colors.white")),this.addItem("black",s.i18n.getLocalizer("colors.black")),this.addItem("red",s.i18n.getLocalizer("colors.red")),this.addItem("green",s.i18n.getLocalizer("colors.green")),this.addItem("blue",s.i18n.getLocalizer("colors.blue")),this.addItem("cyan",s.i18n.getLocalizer("colors.cyan")),this.addItem("yellow",s.i18n.getLocalizer("colors.yellow")),this.addItem("magenta",s.i18n.getLocalizer("colors.magenta"));var i=function(){o.settingsManager.backgroundColor.isSet()&&o.settingsManager.backgroundOpacity.isSet()?o.toggleOverlayClass("bgcolor-"+o.settingsManager.backgroundColor.value+o.settingsManager.backgroundOpacity.value):o.toggleOverlayClass(null)};this.onItemSelected.subscribe(function(e,t){o.settingsManager.backgroundColor.value=t}),this.settingsManager.backgroundColor.onChanged.subscribe(function(e,t){o.settingsManager.backgroundColor.isSet()?o.settingsManager.backgroundOpacity.isSet()||(o.settingsManager.backgroundOpacity.value="100"):o.settingsManager.backgroundOpacity.clear(),o.selectItem(t.value),i()}),this.settingsManager.backgroundOpacity.onChanged.subscribe(function(){i()}),this.settingsManager.backgroundColor.isSet()&&this.selectItem(this.settingsManager.backgroundColor.value)},t}(r.SubtitleSettingSelectBox);n.BackgroundColorSelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],57:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundOpacitySelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsbackgroundopacityselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("100",s.i18n.getLocalizer("percent",{value:100})),this.addItem("75",s.i18n.getLocalizer("percent",{value:75})),this.addItem("50",s.i18n.getLocalizer("percent",{value:50})),this.addItem("25",s.i18n.getLocalizer("percent",{value:25})),this.addItem("0",s.i18n.getLocalizer("percent",{value:0})),this.onItemSelected.subscribe(function(e,t){o.settingsManager.backgroundOpacity.value=t,o.settingsManager.backgroundOpacity.isSet()?o.settingsManager.backgroundColor.isSet()||(o.settingsManager.backgroundColor.value="black"):o.settingsManager.backgroundColor.clear()}),this.settingsManager.backgroundOpacity.onChanged.subscribe(function(e,t){o.selectItem(t.value)}),this.settingsManager.backgroundOpacity.isSet()&&this.selectItem(this.settingsManager.backgroundOpacity.value)},t}(r.SubtitleSettingSelectBox);n.BackgroundOpacitySelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],58:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterEdgeColorSelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitle-settings-character-edge-color-select-box"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("white",s.i18n.getLocalizer("colors.white")),this.addItem("black",s.i18n.getLocalizer("colors.black")),this.addItem("red",s.i18n.getLocalizer("colors.red")),this.addItem("green",s.i18n.getLocalizer("colors.green")),this.addItem("blue",s.i18n.getLocalizer("colors.blue")),this.addItem("cyan",s.i18n.getLocalizer("colors.cyan")),this.addItem("yellow",s.i18n.getLocalizer("colors.yellow")),this.addItem("magenta",s.i18n.getLocalizer("colors.magenta")),this.onItemSelected.subscribe(function(e,t){o.settingsManager.characterEdgeColor.value=t,o.settingsManager.characterEdgeColor.isSet()?o.settingsManager.characterEdge.isSet()||(o.settingsManager.characterEdge.value="uniform"):o.settingsManager.characterEdge.clear()}),this.settingsManager.characterEdgeColor.onChanged.subscribe(function(e,t){o.selectItem(t.value)}),this.settingsManager.characterEdgeColor.isSet()&&this.selectItem(this.settingsManager.characterEdgeColor.value)},t}(r.SubtitleSettingSelectBox);n.CharacterEdgeColorSelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],59:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterEdgeSelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingscharacteredgeselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("raised",s.i18n.getLocalizer("settings.subtitles.characterEdge.raised")),this.addItem("depressed",s.i18n.getLocalizer("settings.subtitles.characterEdge.depressed")),this.addItem("uniform",s.i18n.getLocalizer("settings.subtitles.characterEdge.uniform")),this.addItem("dropshadowed",s.i18n.getLocalizer("settings.subtitles.characterEdge.dropshadowed"));var i=function(){o.settingsManager.characterEdge.isSet()&&o.settingsManager.characterEdgeColor.isSet()?o.toggleOverlayClass("characteredge-"+o.settingsManager.characterEdge.value+"-"+o.settingsManager.characterEdgeColor.value):o.toggleOverlayClass(null)};this.onItemSelected.subscribe(function(e,t){o.settingsManager.characterEdge.value=t}),this.settingsManager.characterEdge.onChanged.subscribe(function(e,t){o.settingsManager.characterEdge.isSet()?o.settingsManager.characterEdgeColor.isSet()||(o.settingsManager.characterEdgeColor.value="black"):o.settingsManager.characterEdgeColor.clear(),o.selectItem(t.value),i()}),this.settingsManager.characterEdgeColor.onChanged.subscribe(function(){i()}),this.settingsManager.characterEdge.isSet()&&this.selectItem(this.settingsManager.characterEdge.value)},t}(r.SubtitleSettingSelectBox);n.CharacterEdgeSelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],60:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.FontColorSelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsfontcolorselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("white",s.i18n.getLocalizer("colors.white")),this.addItem("black",s.i18n.getLocalizer("colors.black")),this.addItem("red",s.i18n.getLocalizer("colors.red")),this.addItem("green",s.i18n.getLocalizer("colors.green")),this.addItem("blue",s.i18n.getLocalizer("colors.blue")),this.addItem("cyan",s.i18n.getLocalizer("colors.cyan")),this.addItem("yellow",s.i18n.getLocalizer("colors.yellow")),this.addItem("magenta",s.i18n.getLocalizer("colors.magenta"));var i=function(){o.settingsManager.fontColor.isSet()&&o.settingsManager.fontOpacity.isSet()?o.toggleOverlayClass("fontcolor-"+o.settingsManager.fontColor.value+o.settingsManager.fontOpacity.value):o.toggleOverlayClass(null)};this.onItemSelected.subscribe(function(e,t){o.settingsManager.fontColor.value=t}),this.settingsManager.fontColor.onChanged.subscribe(function(e,t){o.settingsManager.fontColor.isSet()?o.settingsManager.fontOpacity.isSet()||(o.settingsManager.fontOpacity.value="100"):o.settingsManager.fontOpacity.clear(),o.selectItem(t.value),i()}),this.settingsManager.fontOpacity.onChanged.subscribe(function(){i()}),this.settingsManager.fontColor.isSet()&&this.selectItem(this.settingsManager.fontColor.value)},t}(r.SubtitleSettingSelectBox);n.FontColorSelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],61:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.FontFamilySelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsfontfamilyselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("monospacedserif",s.i18n.getLocalizer("settings.subtitles.font.family.monospacedserif")),this.addItem("proportionalserif",s.i18n.getLocalizer("settings.subtitles.font.family.proportionalserif")),this.addItem("monospacedsansserif",s.i18n.getLocalizer("settings.subtitles.font.family.monospacedsansserif")),this.addItem("proportionalsansserif",s.i18n.getLocalizer("settings.subtitles.font.family.proportionalsansserif")),this.addItem("casual",s.i18n.getLocalizer("settings.subtitles.font.family.casual")),this.addItem("cursive",s.i18n.getLocalizer("settings.subtitles.font.family.cursive")),this.addItem("smallcapital",s.i18n.getLocalizer("settings.subtitles.font.family.smallcapital")),this.settingsManager.fontFamily.onChanged.subscribe(function(e,t){t.isSet()?o.toggleOverlayClass("fontfamily-"+t.value):o.toggleOverlayClass(null),o.selectItem(t.value)}),this.onItemSelected.subscribe(function(e,t){o.settingsManager.fontFamily.value=t}),this.settingsManager.fontFamily.isSet()&&this.selectItem(this.settingsManager.fontFamily.value)},t}(r.SubtitleSettingSelectBox);n.FontFamilySelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],62:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.FontOpacitySelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsfontopacityselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("100",s.i18n.getLocalizer("percent",{value:100})),this.addItem("75",s.i18n.getLocalizer("percent",{value:75})),this.addItem("50",s.i18n.getLocalizer("percent",{value:50})),this.addItem("25",s.i18n.getLocalizer("percent",{value:25})),this.onItemSelected.subscribe(function(e,t){o.settingsManager.fontOpacity.value=t,o.settingsManager.fontOpacity.isSet()?o.settingsManager.fontColor.isSet()||(o.settingsManager.fontColor.value="white"):o.settingsManager.fontColor.clear()}),this.settingsManager.fontOpacity.onChanged.subscribe(function(e,t){o.selectItem(t.value)}),this.settingsManager.fontOpacity.isSet()&&this.selectItem(this.settingsManager.fontOpacity.value)},t}(r.SubtitleSettingSelectBox);n.FontOpacitySelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],63:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.FontSizeSelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsfontsizeselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("50",s.i18n.getLocalizer("percent",{value:50})),this.addItem("75",s.i18n.getLocalizer("percent",{value:75})),this.addItem("100",s.i18n.getLocalizer("percent",{value:100})),this.addItem("150",s.i18n.getLocalizer("percent",{value:150})),this.addItem("200",s.i18n.getLocalizer("percent",{value:200})),this.addItem("300",s.i18n.getLocalizer("percent",{value:300})),this.addItem("400",s.i18n.getLocalizer("percent",{value:400})),this.settingsManager.fontSize.onChanged.subscribe(function(e,t){t.isSet()?o.toggleOverlayClass("fontsize-"+t.value):o.toggleOverlayClass(null),o.selectItem(t.value)}),this.onItemSelected.subscribe(function(e,t){o.settingsManager.fontSize.value=t}),this.settingsManager.fontSize.isSet()&&this.selectItem(this.settingsManager.fontSize.value)},t}(r.SubtitleSettingSelectBox);n.FontSizeSelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],64:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.FontStyleSelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitle-settings-font-style-select-box"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o,i,r=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("italic",s.i18n.getLocalizer("settings.subtitles.font.style.italic")),this.addItem("bold",s.i18n.getLocalizer("settings.subtitles.font.style.bold")),null===(o=this.settingsManager)||void 0===o||o.fontStyle.onChanged.subscribe(function(e,t){t.isSet()?r.toggleOverlayClass("fontstyle-"+t.value):r.toggleOverlayClass(null),r.selectItem(t.value)}),this.onItemSelected.subscribe(function(e,t){r.settingsManager&&(r.settingsManager.fontStyle.value=t)}),(null===(i=this.settingsManager)||void 0===i?void 0:i.fontStyle.isSet())&&this.selectItem(this.settingsManager.fontStyle.value)},t}(r.SubtitleSettingSelectBox);n.FontStyleSelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],65:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SubtitleSettingSelectBox=void 0;var r=e("../selectbox"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.overlay=t.overlay,n}return i(t,e),t.prototype.toggleOverlayClass=function(e){this.currentCssClass&&(this.overlay.getDomElement().removeClass(this.currentCssClass),this.currentCssClass=null),e&&(this.currentCssClass=this.prefixCss(e),this.overlay.getDomElement().addClass(this.currentCssClass))},t.prototype.configure=function(e,t){this.settingsManager=t.getSubtitleSettingsManager()},t}(r.SelectBox);n.SubtitleSettingSelectBox=s},{"../selectbox":44}],66:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SubtitleSettingsLabel=void 0;var r=e("../container"),s=e("../../dom"),a=e("../../localization/i18n"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.opener=t.opener,n.text=t.text,n.for=t.for,n.config=n.mergeConfig(t,{cssClass:"ui-label",components:[n.opener]},n.config),n}return i(t,e),t.prototype.toDomElement=function(){var e=new s.DOM("label",{id:this.config.id,class:this.getCssClasses(),for:this.for},this).append(new s.DOM("span",{}).html(a.i18n.performLocalization(this.text)),this.opener.getDomElement());return e},t}(r.Container);n.SubtitleSettingsLabel=l},{"../../dom":84,"../../localization/i18n":91,"../container":19}],67:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SubtitleSettingsProperty=n.SubtitleSettingsManager=void 0;var r=e("../../storageutils"),s=e("../component"),a=e("../../eventdispatcher"),l=function(){function e(){this._properties={fontColor:new u(this),fontOpacity:new u(this),fontFamily:new u(this),fontSize:new u(this),fontStyle:new u(this),characterEdge:new u(this),characterEdgeColor:new u(this),backgroundColor:new u(this),backgroundOpacity:new u(this),windowColor:new u(this),windowOpacity:new u(this)},this.userSettings={},this.localStorageKey=c.instance().prefixCss("subtitlesettings")}return e.prototype.reset=function(){for(var e in this._properties)this._properties[e].clear()},Object.defineProperty(e.prototype,"fontColor",{get:function(){return this._properties.fontColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontOpacity",{get:function(){return this._properties.fontOpacity},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._properties.fontFamily},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._properties.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._properties.fontStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"characterEdge",{get:function(){return this._properties.characterEdge},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"characterEdgeColor",{get:function(){return this._properties.characterEdgeColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._properties.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundOpacity",{get:function(){return this._properties.backgroundOpacity},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"windowColor",{get:function(){return this._properties.windowColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"windowOpacity",{get:function(){return this._properties.windowOpacity},enumerable:!1,configurable:!0}),e.prototype.initialize=function(){var e=this,t=function(t){n._properties[t].onChanged.subscribe(function(n,o){o.isSet()?e.userSettings[t]=o.value:delete e.userSettings[t],e.save()})},n=this;for(var o in this._properties)t(o);this.load()},e.prototype.save=function(){r.StorageUtils.setObject(this.localStorageKey,this.userSettings)},e.prototype.load=function(){for(var e in this.userSettings=r.StorageUtils.getObject(this.localStorageKey)||{},this.userSettings)this._properties[e].value=this.userSettings[e]},e}();n.SubtitleSettingsManager=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.instance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype.prefixCss=function(t){return e.prototype.prefixCss.call(this,t)},t}(s.Component),u=function(){function e(e){this._manager=e,this._onChanged=new a.EventDispatcher}return e.prototype.isSet=function(){return null!=this._value},e.prototype.clear=function(){this._value=null,this.onChangedEvent(null)},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){"string"==typeof e&&"null"===e&&(e=null),this._value=e,this.onChangedEvent(e)},enumerable:!1,configurable:!0}),e.prototype.onChangedEvent=function(e){this._onChanged.dispatch(this._manager,this)},Object.defineProperty(e.prototype,"onChanged",{get:function(){return this._onChanged.getEvent()},enumerable:!1,configurable:!0}),e}();n.SubtitleSettingsProperty=u},{"../../eventdispatcher":86,"../../storageutils":110,"../component":18}],68:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SubtitleSettingsPanelPage=void 0;var r=e("../settingspanelpage"),s=e("./fontsizeselectbox"),a=e("./fontstyleselectbox"),l=e("./fontfamilyselectbox"),c=e("./fontcolorselectbox"),u=e("./fontopacityselectbox"),p=e("./characteredgeselectbox"),f=e("./characteredgecolorselectbox"),g=e("./backgroundcolorselectbox"),d=e("./backgroundopacityselectbox"),h=e("./windowcolorselectbox"),v=e("./windowopacityselectbox"),y=e("./subtitlesettingsresetbutton"),m=e("../settingspanelpagebackbutton"),b=e("../settingspanelitem"),C=e("../../localization/i18n"),P=function(e){function t(t){var n=e.call(this,t)||this;return n.overlay=t.overlay,n.settingsPanel=t.settingsPanel,
n.config=n.mergeConfig(t,{components:[new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.font.size"),new s.FontSizeSelectBox({overlay:n.overlay})),new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.font.style"),new a.FontStyleSelectBox({overlay:n.overlay})),new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.font.family"),new l.FontFamilySelectBox({overlay:n.overlay})),new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.font.color"),new c.FontColorSelectBox({overlay:n.overlay})),new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.font.opacity"),new u.FontOpacitySelectBox({overlay:n.overlay})),new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.characterEdge"),new p.CharacterEdgeSelectBox({overlay:n.overlay})),new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.characterEdge.color"),new f.CharacterEdgeColorSelectBox({overlay:n.overlay})),new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.background.color"),new g.BackgroundColorSelectBox({overlay:n.overlay})),new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.background.opacity"),new d.BackgroundOpacitySelectBox({overlay:n.overlay})),new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.window.color"),new h.WindowColorSelectBox({overlay:n.overlay})),new b.SettingsPanelItem(C.i18n.getLocalizer("settings.subtitles.window.opacity"),new v.WindowOpacitySelectBox({overlay:n.overlay})),new b.SettingsPanelItem(new m.SettingsPanelPageBackButton({container:n.settingsPanel,text:C.i18n.getLocalizer("back")}),new y.SubtitleSettingsResetButton({}),{role:"menubar"})]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onActive.subscribe(function(){o.overlay.enablePreviewSubtitleLabel()}),this.onInactive.subscribe(function(){o.overlay.removePreviewSubtitleLabel()})},t}(r.SettingsPanelPage);n.SubtitleSettingsPanelPage=P},{"../../localization/i18n":91,"../settingspanelitem":46,"../settingspanelpage":47,"../settingspanelpagebackbutton":48,"./backgroundcolorselectbox":56,"./backgroundopacityselectbox":57,"./characteredgecolorselectbox":58,"./characteredgeselectbox":59,"./fontcolorselectbox":60,"./fontfamilyselectbox":61,"./fontopacityselectbox":62,"./fontsizeselectbox":63,"./fontstyleselectbox":64,"./subtitlesettingsresetbutton":69,"./windowcolorselectbox":70,"./windowopacityselectbox":71}],69:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SubtitleSettingsResetButton=void 0;var r=e("../button"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-subtitlesettingsresetbutton",text:s.i18n.getLocalizer("reset")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.settingsManager=n.getSubtitleSettingsManager(),this.onClick.subscribe(function(){o.settingsManager.reset()})},t}(r.Button);n.SubtitleSettingsResetButton=a},{"../../localization/i18n":91,"../button":12}],70:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.WindowColorSelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingswindowcolorselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("white",s.i18n.getLocalizer("colors.white")),this.addItem("black",s.i18n.getLocalizer("colors.black")),this.addItem("red",s.i18n.getLocalizer("colors.red")),this.addItem("green",s.i18n.getLocalizer("colors.green")),this.addItem("blue",s.i18n.getLocalizer("colors.blue")),this.addItem("cyan",s.i18n.getLocalizer("colors.cyan")),this.addItem("yellow",s.i18n.getLocalizer("colors.yellow")),this.addItem("magenta",s.i18n.getLocalizer("colors.magenta"));var i=function(){o.settingsManager.windowColor.isSet()&&o.settingsManager.windowOpacity.isSet()?o.toggleOverlayClass("windowcolor-"+o.settingsManager.windowColor.value+o.settingsManager.windowOpacity.value):o.toggleOverlayClass(null)};this.onItemSelected.subscribe(function(e,t){o.settingsManager.windowColor.value=t}),this.settingsManager.windowColor.onChanged.subscribe(function(e,t){o.settingsManager.windowColor.isSet()?o.settingsManager.windowOpacity.isSet()||(o.settingsManager.windowOpacity.value="100"):o.settingsManager.windowOpacity.clear(),o.selectItem(t.value),i()}),this.settingsManager.windowOpacity.onChanged.subscribe(function(){i()}),this.settingsManager.windowColor.isSet()&&this.selectItem(this.settingsManager.windowColor.value)},t}(r.SubtitleSettingSelectBox);n.WindowColorSelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],71:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.WindowOpacitySelectBox=void 0;var r=e("./subtitlesettingselectbox"),s=e("../../localization/i18n"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingswindowopacityselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,s.i18n.getLocalizer("default")),this.addItem("100",s.i18n.getLocalizer("percent",{value:100})),this.addItem("75",s.i18n.getLocalizer("percent",{value:75})),this.addItem("50",s.i18n.getLocalizer("percent",{value:50})),this.addItem("25",s.i18n.getLocalizer("percent",{value:25})),this.addItem("0",s.i18n.getLocalizer("percent",{value:0})),this.onItemSelected.subscribe(function(e,t){o.settingsManager.windowOpacity.value=t,o.settingsManager.windowOpacity.isSet()?o.settingsManager.windowColor.isSet()||(o.settingsManager.windowColor.value="black"):o.settingsManager.windowColor.clear()}),this.settingsManager.windowOpacity.onChanged.subscribe(function(e,t){o.selectItem(t.value)}),this.settingsManager.windowOpacity.isSet()&&this.selectItem(this.settingsManager.windowOpacity.value)},t}(r.SubtitleSettingSelectBox);n.WindowOpacitySelectBox=a},{"../../localization/i18n":91,"./subtitlesettingselectbox":65}],72:[function(e,t,n){"use strict";function o(e,t){var n=r(e),o=100/n*i(t,e,n),s=100/n*t.duration;return o<0&&!isNaN(s)&&(s+=o),100-o<s&&(s=100-o),{markerDuration:s,markerPosition:o}}function i(e,t,n){return t.isLive()?n-(c.PlayerUtils.getSeekableRangeRespectingLive(t).end-e.time):e.time}function r(e){if(!e.isLive())return e.getDuration();var t=c.PlayerUtils.getSeekableRangeRespectingLive(e),n=t.start,o=t.end;return o-n}function s(e,t){return(t<0||isNaN(t))&&e<0}function a(e,t){var n=e.getDuration()!==1/0||e.isLive(),o=t.getConfig().metadata.markers.length>0;return n&&o}Object.defineProperty(n,"__esModule",{value:!0}),n.TimelineMarkersHandler=void 0;var l=e("../dom"),c=e("../playerutils"),u=e("../timeout"),p=function(){function e(e,t,n){this.config=e,this.getSeekBarWidth=t,this.markersContainer=n,this.timelineMarkers=[]}return e.prototype.initialize=function(e,t){this.player=e,this.uimanager=t,this.configureMarkers()},e.prototype.configureMarkers=function(){var e=this;this.player.on(this.player.exports.PlayerEvent.SourceUnloaded,function(){return e.clearMarkers()}),this.player.on(this.player.exports.PlayerEvent.AdBreakStarted,function(){return e.clearMarkers()}),this.player.on(this.player.exports.PlayerEvent.AdBreakFinished,function(){return e.updateMarkers()}),this.player.on(this.player.exports.PlayerEvent.PlayerResized,function(){return e.updateMarkersDOM()}),this.player.on(this.player.exports.PlayerEvent.SourceLoaded,function(){e.player.isLive()&&(e.player.on(e.player.exports.PlayerEvent.TimeChanged,function(){return e.updateMarkers()}),e.configureLivePausedTimeshiftUpdater(function(){return e.updateMarkers()}))}),this.uimanager.getConfig().events.onUpdated.subscribe(function(){return e.updateMarkers()}),this.uimanager.onRelease.subscribe(function(){return e.uimanager.getConfig().events.onUpdated.unsubscribe(function(){return e.updateMarkers()})}),this.updateMarkers()},e.prototype.getMarkerAtPosition=function(e){var t=this.config.snappingRange,n=this.timelineMarkers.find(function(n){var o=n.duration>0,i=o&&e>=n.position-t&&e<=n.position+n.duration+t,r=e>=n.position-t&&e<=n.position+t;return i||r});return n||null},e.prototype.clearMarkers=function(){this.timelineMarkers=[],this.markersContainer.empty()},e.prototype.removeMarkerFromConfig=function(e){this.uimanager.getConfig().metadata.markers=this.uimanager.getConfig().metadata.markers.filter(function(t){return e!==t})},e.prototype.filterRemovedMarkers=function(){var e=this;this.timelineMarkers=this.timelineMarkers.filter(function(t){var n=e.uimanager.getConfig().metadata.markers.find(function(e){return t.marker===e});return n||e.removeMarkerFromDOM(t),n})},e.prototype.removeMarkerFromDOM=function(e){e.element&&e.element.remove()},e.prototype.updateMarkers=function(){var e=this;a(this.player,this.uimanager)?(this.filterRemovedMarkers(),this.uimanager.getConfig().metadata.markers.forEach(function(t){var n=o(e.player,t),i=n.markerPosition,r=n.markerDuration;if(s(i,r))e.removeMarkerFromConfig(t);else if(i<=100){var a=e.timelineMarkers.find(function(e){return e.marker===t});if(a)a.position=i,a.duration=r,e.updateMarkerDOM(a);else{var l={marker:t,position:i,duration:r};e.timelineMarkers.push(l),e.createMarkerDOM(l)}}})):this.clearMarkers()},e.prototype.getMarkerCssProperties=function(e){var t=this.getSeekBarWidth(),n=t/100*(e.position<0?0:e.position),o={transform:"translateX(".concat(n,"px)")};if(e.duration>0){var i=Math.round(t/100*e.duration);o.width="".concat(i,"px")}return o},e.prototype.updateMarkerDOM=function(e){e.element.css(this.getMarkerCssProperties(e))},e.prototype.createMarkerDOM=function(e){var t=this,n=["seekbar-marker"].concat(e.marker.cssClasses||[]).map(function(e){return t.prefixCss(e)}),o=new l.DOM("div",{class:n.join(" "),"data-marker-time":String(e.marker.time),"data-marker-title":String(e.marker.title)}).css(this.getMarkerCssProperties(e));if(e.marker.imageUrl){var i=function(){r.remove()},r=new l.DOM("img",{class:this.prefixCss("seekbar-marker-image"),src:e.marker.imageUrl}).on("error",i);o.append(r)}e.element=o,this.markersContainer.append(o)},e.prototype.updateMarkersDOM=function(){var e=this;this.timelineMarkers.forEach(function(t){t.element?e.updateMarkerDOM(t):e.createMarkerDOM(t)})},e.prototype.configureLivePausedTimeshiftUpdater=function(e){var t=this;this.pausedTimeshiftUpdater=new u.Timeout(1e3,e,!0),this.player.on(this.player.exports.PlayerEvent.Paused,function(){t.player.isLive()&&t.player.getMaxTimeShift()<0&&t.pausedTimeshiftUpdater.start()}),this.player.on(this.player.exports.PlayerEvent.Play,function(){return t.pausedTimeshiftUpdater.clear()}),this.player.on(this.player.exports.PlayerEvent.Destroy,function(){return t.pausedTimeshiftUpdater.clear()})},e.prototype.prefixCss=function(e){return this.config.cssPrefix+"-"+e},e}();n.TimelineMarkersHandler=p},{"../dom":84,"../playerutils":98,"../timeout":113}],73:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.TitleBar=void 0;var r=e("./container"),s=e("./metadatalabel"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-titlebar",hidden:!0,components:[new s.MetadataLabel({content:s.MetadataLabelContent.Title}),new s.MetadataLabel({content:s.MetadataLabelContent.Description})],keepHiddenWithoutMetadata:!1},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);for(var i=this.getConfig(),r=!this.isHidden(),a=!0,l=function(){a=!1;for(var e=0,t=o.getComponents();e<t.length;e++){var n=t[e];if(n instanceof s.MetadataLabel&&!n.isEmpty()){a=!0;break}}o.isShown()?i.keepHiddenWithoutMetadata&&!a&&o.hide():r&&o.show()},c=0,u=this.getComponents();c<u.length;c++){var p=u[c];p instanceof s.MetadataLabel&&p.onTextChanged.subscribe(l)}n.onControlsShow.subscribe(function(){r=!0,i.keepHiddenWithoutMetadata&&!a||o.show()}),n.onControlsHide.subscribe(function(){r=!1,o.hide()}),l()},t}(r.Container);n.TitleBar=a},{"./container":19,"./metadatalabel":31}],74:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ToggleButton=void 0;var r=e("./button"),s=e("../eventdispatcher"),a=function(e){function t(t){var n=e.call(this,t)||this;n.toggleButtonEvents={onToggle:new s.EventDispatcher,onToggleOn:new s.EventDispatcher,onToggleOff:new s.EventDispatcher};var o={cssClass:"ui-togglebutton",onClass:"on",offClass:"off"};return t.onAriaLabel&&(t.ariaLabel=t.onAriaLabel),n.config=n.mergeConfig(t,o,n.config),n}return i(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n);var o=this.getConfig();this.getDomElement().addClass(this.prefixCss(o.offClass))},t.prototype.on=function(){if(this.isOff()){var e=this.getConfig();this.onState=!0,this.getDomElement().removeClass(this.prefixCss(e.offClass)),this.getDomElement().addClass(this.prefixCss(e.onClass)),this.onToggleEvent(),this.onToggleOnEvent(),this.setAriaAttr("pressed","true"),this.config.onAriaLabel&&this.setAriaLabel(this.config.onAriaLabel)}},t.prototype.off=function(){if(this.isOn()){var e=this.getConfig();this.onState=!1,this.getDomElement().removeClass(this.prefixCss(e.onClass)),this.getDomElement().addClass(this.prefixCss(e.offClass)),this.onToggleEvent(),this.onToggleOffEvent(),this.setAriaAttr("pressed","false"),this.config.offAriaLabel&&this.setAriaLabel(this.config.offAriaLabel)}},t.prototype.toggle=function(){this.isOn()?this.off():this.on()},t.prototype.isOn=function(){return this.onState},t.prototype.isOff=function(){return!this.isOn()},t.prototype.onClickEvent=function(){e.prototype.onClickEvent.call(this),this.onToggleEvent()},t.prototype.onToggleEvent=function(){this.toggleButtonEvents.onToggle.dispatch(this)},t.prototype.onToggleOnEvent=function(){this.toggleButtonEvents.onToggleOn.dispatch(this)},t.prototype.onToggleOffEvent=function(){this.toggleButtonEvents.onToggleOff.dispatch(this)},Object.defineProperty(t.prototype,"onToggle",{get:function(){return this.toggleButtonEvents.onToggle.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onToggleOn",{get:function(){return this.toggleButtonEvents.onToggleOn.getEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onToggleOff",{get:function(){return this.toggleButtonEvents.onToggleOff.getEvent()},enumerable:!1,configurable:!0}),t}(r.Button);n.ToggleButton=a},{"../eventdispatcher":86,"./button":12}],75:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.TvNoiseCanvas=void 0;var r=e("./component"),s=e("../dom"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.canvasWidth=160,n.canvasHeight=90,n.interferenceHeight=50,n.lastFrameUpdate=0,n.frameInterval=60,n.useAnimationFrame=!!window.requestAnimationFrame,n.config=n.mergeConfig(t,{cssClass:"ui-tvnoisecanvas"},n.config),n}return i(t,e),t.prototype.toDomElement=function(){return this.canvas=new s.DOM("canvas",{class:this.getCssClasses()},this)},t.prototype.start=function(){this.canvasElement=this.canvas.get(0),this.canvasContext=this.canvasElement.getContext("2d"),this.noiseAnimationWindowPos=-this.canvasHeight,this.lastFrameUpdate=0,this.canvasElement.width=this.canvasWidth,this.canvasElement.height=this.canvasHeight,this.renderFrame()},t.prototype.stop=function(){this.useAnimationFrame?cancelAnimationFrame(this.frameUpdateHandlerId):clearTimeout(this.frameUpdateHandlerId)},t.prototype.renderFrame=function(){if(this.lastFrameUpdate+this.frameInterval>(new Date).getTime())this.scheduleNextRender();else{for(var e,t=this.canvasWidth,n=this.canvasHeight,o=this.canvasContext.createImageData(t,n),i=0;i<n;i++)for(var r=0;r<t;r++)e=t*i*4+4*r,o.data[e]=255*Math.random(),(i<this.noiseAnimationWindowPos||i>this.noiseAnimationWindowPos+this.interferenceHeight)&&(o.data[e]*=.85),o.data[e+1]=o.data[e],o.data[e+2]=o.data[e],o.data[e+3]=50;this.canvasContext.putImageData(o,0,0),this.lastFrameUpdate=(new Date).getTime(),this.noiseAnimationWindowPos+=7,this.noiseAnimationWindowPos>n&&(this.noiseAnimationWindowPos=-n),this.scheduleNextRender()}},t.prototype.scheduleNextRender=function(){this.useAnimationFrame?this.frameUpdateHandlerId=window.requestAnimationFrame(this.renderFrame.bind(this)):this.frameUpdateHandlerId=window.setTimeout(this.renderFrame.bind(this),this.frameInterval)},t}(r.Component);n.TvNoiseCanvas=a},{"../dom":84,"./component":18}],76:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.UIContainer=void 0;var r=e("./container"),s=e("../dom"),a=e("../timeout"),l=e("../playerutils"),c=e("../eventdispatcher"),u=e("../localization/i18n"),p=e("./button"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.hideUi=function(){},n.showUi=function(){},n.config=n.mergeConfig(t,{cssClass:"ui-uicontainer",role:"region",ariaLabel:u.i18n.getLocalizer("player"),hideDelay:5e3,hideImmediatelyOnMouseLeave:!1},n.config),n.playerStateChange=new c.EventDispatcher,n.hidingPrevented=function(){return!1},n}return i(t,e),t.prototype.configure=function(t,n){var o=this.getConfig();o.userInteractionEventSource?this.userInteractionEventSource=new s.DOM(o.userInteractionEventSource):this.userInteractionEventSource=this.getDomElement(),e.prototype.configure.call(this,t,n),this.configureUIShowHide(t,n),this.configurePlayerStates(t,n)},t.prototype.configureUIShowHide=function(e,n){var o=this,i=this.getConfig();if(-1!==i.hideDelay){var r,s=!1,l=!1,c=!0;this.hidingPrevented=function(){return i.hidePlayerStateExceptions&&i.hidePlayerStateExceptions.indexOf(r)>-1},this.showUi=function(){s||(n.onControlsShow.dispatch(o),s=!0),l||e.isCasting()||o.hidingPrevented()||o.uiHideTimeout.start()},this.hideUi=function(){if(s&&!e.isCasting()){var t={};n.onPreviewControlsHide.dispatch(o,t),t.cancel?o.showUi():(n.onControlsHide.dispatch(o),s=!1)}},this.uiHideTimeout=new a.Timeout(i.hideDelay,this.hideUi),this.userInteractionEvents=[{name:"touchend",handler:function(n){var i=function(e){var n=function(e){return!e||e===o.userInteractionEventSource.get(0)||e.component instanceof t?null:e.component&&e.component instanceof p.Button?e.component:n(e.parentElement)},i=n(e.target);return!(i&&i.getConfig().acceptsTouchWithUiHidden)};s||(c&&!e.isPlaying()?c=!1:i(n)&&n.preventDefault(),o.showUi())}},{name:"mouseenter",handler:function(){o.showUi()}},{name:"mousemove",handler:function(){o.showUi()}},{name:"focusin",handler:function(){o.showUi()}},{name:"keydown",handler:function(){o.showUi()}},{name:"mouseleave",handler:function(){l||o.hidingPrevented()||(o.config.hideImmediatelyOnMouseLeave?o.hideUi():o.uiHideTimeout.start())}}],this.userInteractionEvents.forEach(function(e){return o.userInteractionEventSource.on(e.name,e.handler)}),n.onSeek.subscribe(function(){o.uiHideTimeout.clear(),l=!0}),n.onSeeked.subscribe(function(){l=!1,o.hidingPrevented()||o.uiHideTimeout.start()}),n.onComponentViewModeChanged.subscribe(function(e,t){var n=t.mode;return o.trackComponentViewMode(n)}),e.on(e.exports.PlayerEvent.CastStarted,function(){o.showUi()}),this.playerStateChange.subscribe(function(e,t){r=t,o.hidingPrevented()?(o.uiHideTimeout.clear(),o.showUi()):o.uiHideTimeout.start()})}else n.onConfigured.subscribe(function(){return n.onControlsShow.dispatch(o)})},t.prototype.configurePlayerStates=function(e,n){var o=this,i=this.getDomElement(),r=[];for(var a in l.PlayerUtils.PlayerState)if(isNaN(Number(a))){var c=l.PlayerUtils.PlayerState[l.PlayerUtils.PlayerState[a]];r[l.PlayerUtils.PlayerState[a]]=this.prefixCss(t.STATE_PREFIX+c.toLowerCase())}var u=function(){i.removeClass(r[l.PlayerUtils.PlayerState.Idle]),i.removeClass(r[l.PlayerUtils.PlayerState.Prepared]),i.removeClass(r[l.PlayerUtils.PlayerState.Playing]),i.removeClass(r[l.PlayerUtils.PlayerState.Paused]),i.removeClass(r[l.PlayerUtils.PlayerState.Finished])},p=function(e){u(),i.addClass(r[e]),o.playerStateChange.dispatch(o,e)};e.on(e.exports.PlayerEvent.SourceLoaded,function(){p(l.PlayerUtils.PlayerState.Prepared)}),e.on(e.exports.PlayerEvent.Play,function(){p(l.PlayerUtils.PlayerState.Playing)}),e.on(e.exports.PlayerEvent.Playing,function(){p(l.PlayerUtils.PlayerState.Playing)}),e.on(e.exports.PlayerEvent.Paused,function(){p(l.PlayerUtils.PlayerState.Paused)}),e.on(e.exports.PlayerEvent.PlaybackFinished,function(){p(l.PlayerUtils.PlayerState.Finished)}),e.on(e.exports.PlayerEvent.SourceUnloaded,function(){p(l.PlayerUtils.PlayerState.Idle)}),n.getConfig().events.onUpdated.subscribe(function(){p(l.PlayerUtils.getState(e))}),e.on(e.exports.PlayerEvent.ViewModeChanged,function(){e.getViewMode()===e.exports.ViewMode.Fullscreen?i.addClass(o.prefixCss(t.FULLSCREEN)):i.removeClass(o.prefixCss(t.FULLSCREEN))}),e.getViewMode()===e.exports.ViewMode.Fullscreen&&i.addClass(this.prefixCss(t.FULLSCREEN)),e.on(e.exports.PlayerEvent.StallStarted,function(){i.addClass(o.prefixCss(t.BUFFERING))}),e.on(e.exports.PlayerEvent.StallEnded,function(){i.removeClass(o.prefixCss(t.BUFFERING))}),e.isStalled()&&i.addClass(this.prefixCss(t.BUFFERING)),e.on(e.exports.PlayerEvent.CastStarted,function(){i.addClass(o.prefixCss(t.REMOTE_CONTROL))}),e.on(e.exports.PlayerEvent.CastStopped,function(){i.removeClass(o.prefixCss(t.REMOTE_CONTROL))}),e.isCasting()&&i.addClass(this.prefixCss(t.REMOTE_CONTROL)),n.onControlsShow.subscribe(function(){i.removeClass(o.prefixCss(t.CONTROLS_HIDDEN)),i.addClass(o.prefixCss(t.CONTROLS_SHOWN))}),n.onControlsHide.subscribe(function(){i.removeClass(o.prefixCss(t.CONTROLS_SHOWN)),i.addClass(o.prefixCss(t.CONTROLS_HIDDEN))});var f=function(e,t){i.removeClass(o.prefixCss("layout-max-width-400")),i.removeClass(o.prefixCss("layout-max-width-600")),i.removeClass(o.prefixCss("layout-max-width-800")),i.removeClass(o.prefixCss("layout-max-width-1200")),e<=400?i.addClass(o.prefixCss("layout-max-width-400")):e<=600?i.addClass(o.prefixCss("layout-max-width-600")):e<=800?i.addClass(o.prefixCss("layout-max-width-800")):e<=1200&&i.addClass(o.prefixCss("layout-max-width-1200"))};e.on(e.exports.PlayerEvent.PlayerResized,function(e){var t=Math.round(Number(e.width.substring(0,e.width.length-2))),n=Math.round(Number(e.height.substring(0,e.height.length-2)));f(t,n)}),f(new s.DOM(e.getContainer()).width(),new s.DOM(e.getContainer()).height())},t.prototype.release=function(){var t=this;this.userInteractionEvents&&this.userInteractionEvents.forEach(function(e){return t.userInteractionEventSource.off(e.name,e.handler)}),e.prototype.release.call(this),this.uiHideTimeout&&this.uiHideTimeout.clear()},t.prototype.onPlayerStateChange=function(){return this.playerStateChange.getEvent()},t.prototype.suspendHideTimeout=function(){this.uiHideTimeout.suspend()},t.prototype.resumeHideTimeout=function(){this.uiHideTimeout.resume(!this.hidingPrevented())},t.prototype.toDomElement=function(){var t=e.prototype.toDomElement.call(this);return document&&void 0!==document.createElement("p").style.flex?t.addClass(this.prefixCss("flexbox")):t.addClass(this.prefixCss("no-flexbox")),t},t.STATE_PREFIX="player-state-",t.FULLSCREEN="fullscreen",t.BUFFERING="buffering",t.REMOTE_CONTROL="remote-control",t.CONTROLS_SHOWN="controls-shown",t.CONTROLS_HIDDEN="controls-hidden",t}(r.Container);n.UIContainer=f},{"../dom":84,"../eventdispatcher":86,"../localization/i18n":91,"../playerutils":98,"../timeout":113,"./button":12,"./container":19}],77:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.VideoQualitySelectBox=void 0;var r=e("./selectbox"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-videoqualityselectbox"]},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){o.selectItem(t.getVideoQuality().id)},r=function(){var e=t.getAvailableVideoQualities();o.clearItems(),o.hasAuto="progressive"!==t.getStreamType(),o.hasAuto&&o.addItem("auto",s.i18n.getLocalizer("auto"));for(var n=0,r=e;n<r.length;n++){var a=r[n];o.addItem(a.id,a.label)}i()};this.onItemSelected.subscribe(function(e,n){t.setVideoQuality(n)}),t.on(t.exports.PlayerEvent.SourceUnloaded,r),t.on(t.exports.PlayerEvent.PeriodSwitched,r),t.on(t.exports.PlayerEvent.VideoQualityChanged,i),t.exports.PlayerEvent.VideoQualityAdded&&(t.on(t.exports.PlayerEvent.VideoQualityAdded,r),t.on(t.exports.PlayerEvent.VideoQualityRemoved,r)),n.getConfig().events.onUpdated.subscribe(r)},t.prototype.hasAutoItem=function(){return this.hasAuto},t}(r.SelectBox);n.VideoQualitySelectBox=a},{"../localization/i18n":91,"./selectbox":44}],78:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.VolumeControlButton=void 0;var r=e("./container"),s=e("./volumeslider"),a=e("./volumetogglebutton"),l=e("../timeout"),c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.volumeToggleButton=new a.VolumeToggleButton,n.volumeSlider=new s.VolumeSlider({vertical:null==t.vertical||t.vertical,hidden:!0}),n.config=n.mergeConfig(t,{cssClass:"ui-volumecontrolbutton",components:[n.volumeToggleButton,n.volumeSlider],hideDelay:500},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getVolumeToggleButton(),r=this.getVolumeSlider();this.volumeSliderHideTimeout=new l.Timeout(this.getConfig().hideDelay,function(){r.hide()});var s=!1;i.getDomElement().on("mouseenter",function(){r.isHidden()&&r.show(),o.volumeSliderHideTimeout.clear()}),i.getDomElement().on("mouseleave",function(){o.volumeSliderHideTimeout.reset()}),r.getDomElement().on("mouseenter",function(){o.volumeSliderHideTimeout.clear(),s=!0}),r.getDomElement().on("mouseleave",function(){r.isSeeking()?o.volumeSliderHideTimeout.clear():o.volumeSliderHideTimeout.reset(),s=!1}),r.onSeeked.subscribe(function(){s||o.volumeSliderHideTimeout.reset()})},t.prototype.release=function(){e.prototype.release.call(this),this.volumeSliderHideTimeout.clear()},t.prototype.getVolumeToggleButton=function(){return this.volumeToggleButton},t.prototype.getVolumeSlider=function(){return this.volumeSlider},t}(r.Container);n.VolumeControlButton=c},{"../timeout":113,"./container":19,"./volumeslider":79,"./volumetogglebutton":80}],79:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.VolumeSlider=void 0;var r=e("./seekbar"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.updateVolumeWhileScrubbing=function(e,t){t.scrubbing&&n.volumeTransition&&n.volumeTransition.update(t.position)},n.config=n.mergeConfig(t,{cssClass:"ui-volumeslider",hideIfVolumeControlProhibited:!0,ariaLabel:s.i18n.getLocalizer("settings.audio.volume"),tabIndex:0},n.config),n}return i(t,e),t.prototype.setVolumeAriaSliderValues=function(e){this.getDomElement().attr("aria-valuenow",Math.ceil(e).toString()),
this.getDomElement().attr("aria-valuetext","".concat(s.i18n.performLocalization(s.i18n.getLocalizer("seekBar.value")),": ").concat(Math.ceil(e)))},t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n,!1),this.setAriaSliderMinMax("0","100");var i=this.getConfig(),r=n.getConfig().volumeController;!i.hideIfVolumeControlProhibited||this.detectVolumeControlAvailability()?(r.onChanged.subscribe(function(e,t){t.muted?(o.setVolumeAriaSliderValues(0),o.setPlaybackPosition(0)):(o.setPlaybackPosition(t.volume),o.setVolumeAriaSliderValues(t.volume))}),this.onSeek.subscribe(function(){o.volumeTransition=r.startTransition()}),this.onSeekPreview.subscribeRateLimited(this.updateVolumeWhileScrubbing,50),this.onSeeked.subscribe(function(e,t){o.volumeTransition&&o.volumeTransition.finish(t)}),t.on(t.exports.PlayerEvent.PlayerResized,function(){o.refreshPlaybackPosition()}),n.onConfigured.subscribe(function(){o.refreshPlaybackPosition()}),n.getConfig().events.onUpdated.subscribe(function(){o.refreshPlaybackPosition()}),n.onComponentShow.subscribe(function(){o.refreshPlaybackPosition()}),n.onComponentHide.subscribe(function(){o.refreshPlaybackPosition()}),r.onChangedEvent()):this.hide()},t.prototype.detectVolumeControlAvailability=function(){var e=document.createElement("video");return e.volume=.7,1!==e.volume},t.prototype.release=function(){e.prototype.release.call(this),this.onSeekPreview.unsubscribe(this.updateVolumeWhileScrubbing)},t}(r.SeekBar);n.VolumeSlider=a},{"../localization/i18n":91,"./seekbar":40}],80:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.VolumeToggleButton=void 0;var r=e("./togglebutton"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,o={cssClass:"ui-volumetogglebutton",text:s.i18n.getLocalizer("settings.audio.mute"),onClass:"muted",offClass:"unmuted",ariaLabel:s.i18n.getLocalizer("settings.audio.mute")};return n.config=n.mergeConfig(t,o,n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=n.getConfig().volumeController;i.onChanged.subscribe(function(e,t){t.muted?o.on():o.off();var n=Math.ceil(t.volume/10);o.getDomElement().data(o.prefixCss("volume-level-tens"),String(n))}),this.onClick.subscribe(function(){i.toggleMuted()}),i.onChangedEvent()},t}(r.ToggleButton);n.VolumeToggleButton=a},{"../localization/i18n":91,"./togglebutton":74}],81:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.VRToggleButton=void 0;var r=e("./togglebutton"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-vrtogglebutton",text:s.i18n.getLocalizer("vr")},n.config),n}return i(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){var e=t.getSource();return e&&Boolean(e.vr)},r=function(){var e=t.getSource();return t.vr&&Boolean(e.vr)},s=function(e){e.type===t.exports.PlayerEvent.Warning&&e.code!==t.exports.WarningCode.VR_RENDERING_ERROR||(i()&&r()?(o.show(),t.vr&&t.vr.getStereo()?o.on():o.off()):o.hide())},a=function(){i()?o.show():o.hide()};t.on(t.exports.PlayerEvent.VRStereoChanged,s),t.on(t.exports.PlayerEvent.Warning,s),t.on(t.exports.PlayerEvent.SourceUnloaded,a),n.getConfig().events.onUpdated.subscribe(a),this.onClick.subscribe(function(){r()?t.vr&&t.vr.getStereo()?t.vr.setStereo(!1):t.vr.setStereo(!0):console&&console.log("No VR content")}),a()},t}(r.ToggleButton);n.VRToggleButton=a},{"../localization/i18n":91,"./togglebutton":74}],82:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Watermark=void 0;var r=e("./clickoverlay"),s=e("../localization/i18n"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-watermark",url:"http://bitmovin.com",role:"link",text:"logo",ariaLabel:s.i18n.getLocalizer("watermarkLink")},n.config),n}return i(t,e),t}(r.ClickOverlay);n.Watermark=a},{"../localization/i18n":91,"./clickoverlay":16}],83:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DemoFactory=void 0;var o,i=e("./components/vrtogglebutton"),r=e("./components/settingstogglebutton"),s=e("./components/volumeslider"),a=e("./components/playbacktimelabel"),l=e("./components/airplaytogglebutton"),c=e("./components/errormessageoverlay"),u=e("./components/controlbar"),p=e("./components/casttogglebutton"),f=e("./components/fullscreentogglebutton"),g=e("./components/recommendationoverlay"),d=e("./components/playbackspeedselectbox"),h=e("./components/audioqualityselectbox"),v=e("./components/caststatusoverlay"),y=e("./components/uicontainer"),m=e("./components/watermark"),b=e("./components/subtitleoverlay"),C=e("./components/settingspanel"),P=e("./components/seekbarlabel"),S=e("./components/playbacktoggleoverlay"),w=e("./components/pictureinpicturetogglebutton"),E=e("./components/spacer"),_=e("./components/container"),O=e("./components/volumetogglebutton"),k=e("./components/playbacktogglebutton"),x=e("./components/seekbar"),T=e("./components/videoqualityselectbox"),M=e("./uimanager"),L=e("./components/titlebar"),A=e("./components/bufferingoverlay"),B=e("./components/subtitlelistbox"),I=e("./components/audiotracklistbox"),j=e("./components/settingspanelitem"),D=e("./components/settingspanelpage"),U=e("./uifactory"),z=e("./main");(function(e){function t(e,t){void 0===t&&(t={});var o=600;return new M.UIManager(e,[{ui:U.UIFactory.modernSmallScreenAdsUI(),condition:function(e){return e.isMobile&&e.documentWidth<o&&e.isAd&&e.adRequiresUi}},{ui:U.UIFactory.modernAdsUI(),condition:function(e){return e.isAd&&e.adRequiresUi}},{ui:U.UIFactory.modernSmallScreenUI(),condition:function(e){return e.isMobile&&e.documentWidth<o}},{ui:n()}],t)}function n(){var e=new b.SubtitleOverlay,t=new C.SettingsPanel({components:[new D.SettingsPanelPage({components:[new j.SettingsPanelItem("Video Quality",new T.VideoQualitySelectBox),new j.SettingsPanelItem("Speed",new d.PlaybackSpeedSelectBox),new j.SettingsPanelItem("Audio Quality",new h.AudioQualitySelectBox)]})],hidden:!0}),n=new B.SubtitleListBox,o=new C.SettingsPanel({components:[new D.SettingsPanelPage({components:[new j.SettingsPanelItem(null,n)]})],hidden:!0}),M=new I.AudioTrackListBox,U=new C.SettingsPanel({components:[new D.SettingsPanelPage({components:[new j.SettingsPanelItem(null,M)]})],hidden:!0}),R=new u.ControlBar({components:[U,o,t,new _.Container({components:[new a.PlaybackTimeLabel({timeLabelMode:a.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new x.SeekBar({label:new P.SeekBarLabel}),new a.PlaybackTimeLabel({timeLabelMode:a.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]}),new _.Container({components:[new k.PlaybackToggleButton,new z.QuickSeekButton({seekSeconds:-10}),new z.QuickSeekButton({seekSeconds:10}),new O.VolumeToggleButton,new s.VolumeSlider,new E.Spacer,new w.PictureInPictureToggleButton,new l.AirPlayToggleButton,new p.CastToggleButton,new i.VRToggleButton,new r.SettingsToggleButton({settingsPanel:U,cssClass:"ui-audiotracksettingstogglebutton"}),new r.SettingsToggleButton({settingsPanel:o,cssClass:"ui-subtitlesettingstogglebutton"}),new r.SettingsToggleButton({settingsPanel:t}),new f.FullscreenToggleButton],cssClasses:["controlbar-bottom"]})]});return new y.UIContainer({components:[e,new A.BufferingOverlay,new S.PlaybackToggleOverlay,new v.CastStatusOverlay,R,new L.TitleBar,new g.RecommendationOverlay,new m.Watermark,new c.ErrorMessageOverlay]})}e.buildDemoWithSeparateAudioSubtitlesButtons=t})(o||(n.DemoFactory=o={}))},{"./components/airplaytogglebutton":7,"./components/audioqualityselectbox":8,"./components/audiotracklistbox":9,"./components/bufferingoverlay":11,"./components/caststatusoverlay":13,"./components/casttogglebutton":14,"./components/container":19,"./components/controlbar":20,"./components/errormessageoverlay":23,"./components/fullscreentogglebutton":24,"./components/pictureinpicturetogglebutton":32,"./components/playbackspeedselectbox":33,"./components/playbacktimelabel":34,"./components/playbacktogglebutton":35,"./components/playbacktoggleoverlay":36,"./components/recommendationoverlay":38,"./components/seekbar":40,"./components/seekbarlabel":43,"./components/settingspanel":45,"./components/settingspanelitem":46,"./components/settingspanelpage":47,"./components/settingstogglebutton":51,"./components/spacer":52,"./components/subtitlelistbox":53,"./components/subtitleoverlay":54,"./components/titlebar":73,"./components/uicontainer":76,"./components/videoqualityselectbox":77,"./components/volumeslider":79,"./components/volumetogglebutton":80,"./components/vrtogglebutton":81,"./components/watermark":82,"./main":96,"./uifactory":115,"./uimanager":116}],84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DOM=void 0;var o=function(){function e(e,t,n){if(this.document=document,e instanceof Array){if(e.length>0&&e[0]instanceof HTMLElement){var o=e;this.elements=o}}else if(e instanceof HTMLElement){var i=e;this.elements=[i]}else if(e instanceof Document)this.elements=null;else if(t){var r=e;i=document.createElement(r);for(var s in t){var a=t[s];null!=a&&i.setAttribute(s,a)}n&&(i.component=n),this.elements=[i]}else{var l=e;this.elements=this.findChildElements(l)}}return Object.defineProperty(e.prototype,"length",{get:function(){return this.elements?this.elements.length:0},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return void 0===e?this.elements:!this.elements||e>=this.elements.length||e<-this.elements.length?void 0:e<0?this.elements[this.elements.length-e]:this.elements[e]},e.prototype.forEach=function(e){this.elements&&this.elements.forEach(function(t){e(t)})},e.prototype.findChildElementsOfElement=function(e,t){var n=e.querySelectorAll(t);return[].slice.call(n)},e.prototype.findChildElements=function(e){var t=this,n=[];return this.elements?(this.forEach(function(o){n=n.concat(t.findChildElementsOfElement(o,e))}),n):this.findChildElementsOfElement(document,e)},e.prototype.find=function(t){var n=this.findChildElements(t);return new e(n)},e.prototype.focusToFirstInput=function(){var e=this.findChildElements('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e.length>0&&e[0].focus()},e.prototype.scrollTo=function(e,t){this.elements[0].scrollTo(e,t)},e.prototype.html=function(e){return arguments.length>0?this.setHtml(e):this.getHtml()},e.prototype.getHtml=function(){return this.elements[0].innerHTML},e.prototype.setHtml=function(e){return void 0!==e&&null!=e||(e=""),this.forEach(function(t){t.innerHTML=e}),this},e.prototype.empty=function(){return this.forEach(function(e){e.innerHTML=""}),this},e.prototype.val=function(){var e=this.elements[0];if(e instanceof HTMLSelectElement||e instanceof HTMLInputElement)return e.value;throw new Error("val() not supported for ".concat(typeof e))},e.prototype.attr=function(e,t){return arguments.length>1?this.setAttr(e,t):this.getAttr(e)},e.prototype.removeAttr=function(e){this.forEach(function(t){t.removeAttribute(e)})},e.prototype.getAttr=function(e){return this.elements[0].getAttribute(e)},e.prototype.setAttr=function(e,t){return this.forEach(function(n){n.setAttribute(e,t)}),this},e.prototype.data=function(e,t){return arguments.length>1?this.setData(e,t):this.getData(e)},e.prototype.getData=function(e){return this.elements[0].getAttribute("data-"+e)},e.prototype.setData=function(e,t){return this.forEach(function(n){n.setAttribute("data-"+e,t)}),this},e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.forEach(function(t){e.forEach(function(e){e.elements.forEach(function(n,o){t.appendChild(e.elements[o])})})}),this},e.prototype.remove=function(){this.forEach(function(e){var t=e.parentNode;t&&t.removeChild(e)})},e.prototype.offset=function(){var e=this.elements[0],t=e.getBoundingClientRect(),n=document.body.parentElement.getBoundingClientRect();return{top:t.top-n.top,left:t.left-n.left}},e.prototype.width=function(){return this.elements[0].offsetWidth},e.prototype.height=function(){return this.elements[0].offsetHeight},e.prototype.size=function(){return{width:this.width(),height:this.height()}},e.prototype.on=function(e,t,n){var o=this,i=e.split(" ");return i.forEach(function(e){null==o.elements?o.document.addEventListener(e,t,n):o.forEach(function(o){o.addEventListener(e,t,n)})}),this},e.prototype.off=function(e,t,n){var o=this,i=e.split(" ");return i.forEach(function(e){null==o.elements?o.document.removeEventListener(e,t,n):o.forEach(function(o){o.removeEventListener(e,t,n)})}),this},e.prototype.addClass=function(e){return this.forEach(function(t){var n;if(t.classList){var o=e.split(" ").filter(function(e){return e.length>0});o.length>0&&(n=t.classList).add.apply(n,o)}else t.className+=" "+e}),this},e.prototype.removeClass=function(e){return this.forEach(function(t){var n;if(t.classList){var o=e.split(" ").filter(function(e){return e.length>0});o.length>0&&(n=t.classList).remove.apply(n,o)}else t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}),this},e.prototype.hasClass=function(e){var t=!1;return this.forEach(function(n){n.classList?n.classList.contains(e)&&(t=!0):new RegExp("(^| )"+e+"( |$)","gi").test(n.className)&&(t=!0)}),t},e.prototype.css=function(e,t){if("string"==typeof e){var n=e;return 2===arguments.length?this.setCss(n,t):this.getCss(n)}var o=e;return this.setCssCollection(o)},e.prototype.removeCss=function(e,t){return void 0===t&&(t=0),this.elements[t].style.removeProperty(e)},e.prototype.getCss=function(e){return getComputedStyle(this.elements[0])[e]},e.prototype.setCss=function(e,t){return this.forEach(function(n){n.style[e]=t}),this},e.prototype.setCssCollection=function(e){return this.forEach(function(t){Object.assign(t.style,e)}),this},e}();n.DOM=o},{}],85:[function(e,t,n){"use strict";var o;Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorUtils=void 0,function(e){e.defaultErrorMessages={1000:"Error is unknown",1001:"The player API is not available after a call to PlayerAPI.destroy.",1100:"General setup error",1101:"There was an error when inserting the HTML video element",1102:"No configuration was provided",1103:"The license is not valid",1104:"The the domain-locked player is not authorized to playback on this domain",1105:"The domain is not allowlisted",1106:"The license server URL is invalid",1107:"The impression server URL is invalid",1108:"Could not initialize a rendering engine",1109:"The used flash version does not support playback",1110:"Native Flash is not authorized by a valid Adobe token",1111:"Flash doesn't have sufficient resources",1112:"Flash container API not available",1113:'Protocol not supported. This site has been loaded using "file" protocol, but unfortunately this is not supported. Please load the page using a web server (using http or https)',1200:"General source error",1201:"No valid source was provided",1202:"The downloaded manifest is invalid",1203:"There was no technology detected to playback the provided source",1204:"The stream type is not supported",1205:"The forced technology is not supported",1206:"No stream found for supported technologies.",1207:"The downloaded segment is empty",1208:"The manifest could not be loaded",1209:"Progressive stream type not supported or the stream has an error",1210:"HLS stream has an error",1211:"The encryption method is not supported",1300:"General playback error",1301:"Video decoder or demuxer had an error with the content",1302:"General error if Flash renderer has an error",1303:"Flash doesn't have sufficient resources",1304:"The transmuxer could not be initialized",1400:"Network error while downloading",1401:"The manifest download timed out",1402:"The segment download timed out",1403:"The progressive stream download timed out",1404:"The Certificate could not be loaded",2000:"General DRM error",2001:"Required DRM configuration is missing",2002:"The licensing server URL is missing",2003:"License request failed",2004:"Key or KeyId is missing",2005:"Key size is not supported",2006:"Unable to instantiate a key system supporting the required combinations",2007:"Unable to create or initialize key session",2008:"The MediaKey object could not be created/initialized",2009:"Key error",2010:"The key system is not supported",2011:"The certificate is not valid",2012:"Invalid header key/value pair for PlayReady license request",2013:"Content cannot be played back because the output is restricted on this machine",2014:"DRM error for the Flash renderer",2100:"General VR error",2101:"Player technology not compatible with VR playback",3000:"General module error",3001:"The definition of the module is invalid (e.g. incomplete).",3002:"The module definition specifies dependencies but the module is not provided via a function for deferred loading.",3003:"A module cannot be loaded because it has not been added to the player core.",3004:"A module cannot be loaded because one or more dependencies are missing.",3100:"An Advertising module error has occurred. Refer to the attached AdvertisingError."},e.defaultMobileV3ErrorMessageTranslator=function(e){return e.message},e.defaultWebErrorMessageTranslator=function(t){var n=e.defaultErrorMessages[t.code];return n?"".concat(n,"\n(").concat(t.name,")"):"".concat(t.code," ").concat(t.name)}}(o||(n.ErrorUtils=o={}))},{}],86:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.EventDispatcher=void 0;var r=e("./arrayutils"),s=e("./timeout"),a=function(){function e(){this.listeners=[]}return e.prototype.subscribe=function(e){this.listeners.push(new l(e))},e.prototype.subscribeOnce=function(e){this.listeners.push(new l(e,!0))},e.prototype.subscribeRateLimited=function(e,t){this.listeners.push(new c(e,t))},e.prototype.unsubscribe=function(e){for(var t=0;t<this.listeners.length;t++){var n=this.listeners[t];if(n.listener===e)return n.clear(),r.ArrayUtils.remove(this.listeners,n),!0}return!1},e.prototype.unsubscribeAll=function(){for(var e=0,t=this.listeners;e<t.length;e++){var n=t[e];n.clear()}this.listeners=[]},e.prototype.dispatch=function(e,t){void 0===t&&(t=null);for(var n=[],o=this.listeners.slice(0),i=0,s=o;i<s.length;i++){var a=s[i];a.fire(e,t),a.isOnce()&&n.push(a)}for(var l=0,c=n;l<c.length;l++){var u=c[l];r.ArrayUtils.remove(this.listeners,u)}},e.prototype.getEvent=function(){return this},e}();n.EventDispatcher=a;var l=function(){function e(e,t){void 0===t&&(t=!1),this.eventListener=e,this.once=t}return Object.defineProperty(e.prototype,"listener",{get:function(){return this.eventListener},enumerable:!1,configurable:!0}),e.prototype.fire=function(e,t){this.eventListener(e,t)},e.prototype.isOnce=function(){return this.once},e.prototype.clear=function(){},e}(),c=function(e){function t(t,n){var o=e.call(this,t)||this;o.rateMs=n;var i=function(){o.rateLimitTimout.start()};return o.rateLimitTimout=new s.Timeout(o.rateMs,function(){o.lastSeenEvent&&(o.fireSuper(o.lastSeenEvent.sender,o.lastSeenEvent.args),i(),o.lastSeenEvent=null)}),o.rateLimitingEventListener=function(e,t){if(o.shouldFireEvent())return o.fireSuper(e,t),void i();o.lastSeenEvent={sender:e,args:t}},o}return i(t,e),t.prototype.shouldFireEvent=function(){return!this.rateLimitTimout.isActive()},t.prototype.fireSuper=function(t,n){e.prototype.fire.call(this,t,n)},t.prototype.fire=function(e,t){this.rateLimitingEventListener(e,t)},t.prototype.clear=function(){e.prototype.clear.call(this),this.rateLimitTimout.clear()},t}(l)},{"./arrayutils":1,"./timeout":113}],87:[function(e,t,n){"use strict";function o(e,t){return 0===e.id.indexOf(t)}function i(e){return e instanceof HTMLElement&&e.classList instanceof DOMTokenList}Object.defineProperty(n,"__esModule",{value:!0}),n.FocusVisibilityTracker=void 0;var r="bmpui-focus-visible",s=function(){function e(e){var t=this;this.bitmovinUiPrefix=e,this.lastInteractionWasKeyboard=!0,this.onKeyDown=function(e){e.metaKey||e.altKey||e.ctrlKey||(t.lastInteractionWasKeyboard=!0)},this.onMouseOrPointerOrTouch=function(){return t.lastInteractionWasKeyboard=!1},this.onFocus=function(e){var n=e.target;t.lastInteractionWasKeyboard&&i(n)&&o(n,t.bitmovinUiPrefix)&&!n.classList.contains(r)&&n.classList.add(r)},this.onBlur=function(e){var t=e.target;i(t)&&t.classList.remove(r)},this.eventHandlerMap={mousedown:this.onMouseOrPointerOrTouch,pointerdown:this.onMouseOrPointerOrTouch,touchstart:this.onMouseOrPointerOrTouch,keydown:this.onKeyDown,focus:this.onFocus,blur:this.onBlur},this.registerEventListeners()}return e.prototype.registerEventListeners=function(){for(var e in this.eventHandlerMap)document.addEventListener(e,this.eventHandlerMap[e],!0)},e.prototype.unregisterEventListeners=function(){for(var e in this.eventHandlerMap)document.removeEventListener(e,this.eventHandlerMap[e],!0)},e.prototype.release=function(){this.unregisterEventListeners()},e}();n.FocusVisibilityTracker=s},{}],88:[function(e,t,n){"use strict";var o;Object.defineProperty(n,"__esModule",{value:!0}),n.GroupPlaybackSuspensionReason=void 0,function(e){e.UserIsScrubbing="userIsScrubbing"}(o||(n.GroupPlaybackSuspensionReason=o={}))},{}],89:[function(e,t,n){"use strict";var o;Object.defineProperty(n,"__esModule",{value:!0}),n.Guid=void 0,function(e){function t(){return n++}var n=1;e.next=t}(o||(n.Guid=o={}))},{}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ImageLoader=void 0;var o=e("./dom"),i=function(){function e(){this.state={}}return e.prototype.load=function(e,t){var n=this;if(this.state[e]){var i=this.state[e];i.loadedCallback=t,i.loaded&&this.callLoadedCallback(i)}else{var r={url:e,image:new o.DOM("img",{}),loadedCallback:t,loaded:!1,width:0,height:0};this.state[e]=r,r.image.on("load",function(e){r.loaded=!0,r.width=r.image.get(0).width,r.height=r.image.get(0).height,n.callLoadedCallback(r)}),r.image.attr("src",r.url)}},e.prototype.callLoadedCallback=function(e){e.loadedCallback(e.url,e.width,e.height)},e}();n.ImageLoader=i},{"./dom":84}],91:[function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.i18n=n.I18n=n.defaultVocabularies=void 0;var r=i(e("./languages/de.json")),s=i(e("./languages/en.json")),a=i(e("./languages/es.json")),l=i(e("./languages/nl.json"));n.defaultVocabularies={en:s.default,de:r.default,es:a.default,nl:l.default};var c={language:"en",vocabularies:n.defaultVocabularies},u=function(){function e(e){this.setConfig(e)}return e.prototype.setConfig=function(e){var t=o(o({},c),e),n="auto"===t.language,i=this.mergeVocabulariesWithDefaultVocabularies(t.vocabularies);this.initializeLanguage(t.language,n,i),this.initializeVocabulary(i)},e.containsLanguage=function(e,t){return e.hasOwnProperty(t)},e.prototype.mergeVocabulariesWithDefaultVocabularies=function(t){void 0===t&&(t={});var i=o(o({},n.defaultVocabularies),t);return Object.keys(i).reduce(function(r,s){var a,l=i[s];return e.containsLanguage(n.defaultVocabularies,s)&&e.containsLanguage(t,s)&&(l=o(o({},n.defaultVocabularies[s]),t[s])),o(o({},r),(a={},a[s]=l,a))},{})},e.prototype.initializeLanguage=function(t,n,o){if(n){var i=window.navigator.language;if(e.containsLanguage(o,i))return void(this.language=i);var r=i.slice(0,2);if(e.containsLanguage(o,r))return void(this.language=r)}this.language=t},e.prototype.initializeVocabulary=function(e){this.vocabulary=["en",this.language].reduce(function(t,n){return o(o({},t),e[n]||{})},{})},e.prototype.replaceVariableWithPlaceholderIfExists=function(e,t){var n=e.match(new RegExp("{[a-zA-Z0-9]+}","g"));return 0===n.length?e:n.map(function(e){return{match:e,key:e.slice(1,-1)}}).reduce(function(e,n){var o=n.key,i=n.match;return t.hasOwnProperty(o)?e.replace(i,t[o]):e},e)},e.prototype.getLocalizer=function(e,t){var n=this;return function(){if(null!=e){var o=n.vocabulary[e];return null==o&&(o=e),null!=t&&(o=n.replaceVariableWithPlaceholderIfExists(o,t)),o}}},e.prototype.performLocalization=function(e){return"function"==typeof e?e():e},e}();n.I18n=u,n.i18n=new u(c)},{"./languages/de.json":92,"./languages/en.json":93,"./languages/es.json":94,"./languages/nl.json":95}],92:[function(e,t,n){t.exports={"settings.video.quality":"Videoqualitt","settings.audio.quality":"Audioqualitt","settings.audio.track":"Audiospur",speed:"Geschwindigkeit",play:"Abspielen",pause:"Pause",playPause:"Abspielen/Pause",open:"ffnen",close:"Schlieen","settings.audio.mute":"Stummschaltung","settings.audio.volume":"Lautstrke",pictureInPicture:"Bild im Bild",appleAirplay:"Apple AirPlay",googleCast:"Google Cast",vr:"VR",settings:"Einstellungen",fullscreen:"Vollbild",off:"aus","settings.subtitles":"Untertitel","settings.subtitles.font.size":"Gre","settings.subtitles.font.style":"Schriftstil","settings.subtitles.font.style.bold":"Fett","settings.subtitles.font.style.italic":"Kursiv","settings.subtitles.font.family":"Schriftart","settings.subtitles.font.color":"Farbe","settings.subtitles.font.opacity":"Deckkraft","settings.subtitles.characterEdge":"Rnder","settings.subtitles.characterEdge.color":"Buchstabenrandfarbe","settings.subtitles.background.color":"Hintergrundfarbe","settings.subtitles.background.opacity":"Hintergrunddeckkraft","settings.subtitles.window.color":"Hintergrundfarbe","settings.subtitles.window.opacity":"Hintergrunddeckkraft","settings.time.hours":"Stunden","settings.time.minutes":"Minuten","settings.time.seconds":"Sekunden",back:"Zurck",reset:"Zurcksetzen",replay:"Wiederholen","ads.remainingTime":"Diese Anzeige endet in {remainingTime} Sekunden",default:"standard","colors.white":"wei","colors.black":"schwarz","colors.red":"rot","colors.green":"grn","colors.blue":"blau","colors.yellow":"gelb","subtitle.example":"Beispiel Untertitel","subtitle.select":"Untertitel auswhlen",playingOn:"Spielt auf <strong>{castDeviceName}</strong>",connectingTo:"Verbindung mit <strong>{castDeviceName}</strong> wird hergestellt...",watermarkLink:"Link zum Homepage",controlBar:"Videoplayer Kontrollen",player:"Video player",seekBar:"Video-Timeline","seekBar.value":"Wert","seekBar.timeshift":"Timeshift","seekBar.durationText":"aus","quickseek.forward":"Vor","quickseek.rewind":"Zurck",ecoMode:"ecoMode","ecoMode.title":"Eco Mode"}},{}],93:[function(e,t,n){t.exports={"settings.video.quality":"Video Quality","settings.audio.quality":"Audio Quality","settings.audio.track":"Audio Track","settings.audio.mute":"Mute","settings.audio.volume":"Volume","settings.subtitles.window.color":"Window color","settings.subtitles.window.opacity":"Window opacity","settings.subtitles":"Subtitles","settings.subtitles.font.color":"Font color","settings.subtitles.font.opacity":"Font opacity","settings.subtitles.background.color":"Background color","settings.subtitles.background.opacity":"Background opacity","colors.white":"white","colors.black":"black","colors.red":"red","colors.green":"green","colors.blue":"blue","colors.cyan":"cyan","colors.yellow":"yellow","colors.magenta":"magenta",percent:"{value}%","settings.subtitles.font.size":"Font size","settings.subtitles.font.style":"Font style","settings.subtitles.font.style.bold":"bold","settings.subtitles.font.style.italic":"italic","settings.subtitles.characterEdge":"Character edge","settings.subtitles.characterEdge.raised":"raised","settings.subtitles.characterEdge.depressed":"depressed","settings.subtitles.characterEdge.uniform":"uniform","settings.subtitles.characterEdge.dropshadowed":"drop shadowed","settings.subtitles.characterEdge.color":"Character edge color","settings.subtitles.font.family":"Font family","settings.subtitles.font.family.monospacedserif":"monospaced serif","settings.subtitles.font.family.proportionalserif":"proportional serif","settings.subtitles.font.family.monospacedsansserif":"monospaced sans serif","settings.subtitles.font.family.proportionalsansserif":"proportional sans serif","settings.subtitles.font.family.casual":"casual","settings.subtitles.font.family.cursive":"cursive","settings.subtitles.font.family.smallcapital":"small capital","settings.time.hours":"Hours","settings.time.minutes":"Minutes","settings.time.seconds":"Seconds","ads.remainingTime":"This ad will end in {remainingTime} seconds.",settings:"Settings",fullscreen:"Fullscreen",speed:"Speed",playPause:"Play/Pause",play:"Play",pause:"Pause",open:"open",close:"Close",pictureInPicture:"Picture-in-Picture",appleAirplay:"Apple AirPlay",googleCast:"Google Cast",vr:"VR",off:"off",auto:"auto",ecoMode:"ecoMode","ecoMode.title":"Eco Mode",back:"Back",reset:"Reset",replay:"Replay",normal:"normal",default:"default",live:"Live","subtitle.example":"example subtitle","subtitle.select":"Select subtitle",playingOn:"Playing on <strong>{castDeviceName}</strong>",connectingTo:"Connecting to <strong>{castDeviceName}</strong>...",watermarkLink:"Link to Homepage",controlBar:"Video player controls",player:"Video player",seekBar:"Video timeline","seekBar.value":"Value","seekBar.timeshift":"Timeshift","seekBar.durationText":"out of","quickseek.forward":"Fast Forward","quickseek.rewind":"Rewind"}},{}],94:[function(e,t,n){t.exports={"settings.video.quality":"Calidad de Video","settings.audio.quality":"Calidad de Audio","settings.audio.track":"Pista de Audio","settings.audio.mute":"Silencio","settings.audio.volume":"Volumen","settings.subtitles.window.color":"color de Ventana","settings.subtitles.window.opacity":"opacidad de Ventana","settings.subtitles":"Subttulos","settings.subtitles.font.color":"color de Fuente","settings.subtitles.font.opacity":"opacidad de Fuente","settings.subtitles.background.color":"color de Fondo","settings.subtitles.background.opacity":"opacidad de Fondo","colors.white":"blanco","colors.black":"negro",
"colors.red":"rojo","colors.green":"verde","colors.blue":"azul","colors.cyan":"cian","colors.yellow":"amarillo","colors.magenta":"magenta",percent:"{value}%","settings.subtitles.font.size":"tamao de Fuente","settings.subtitles.font.style":"Estilo de Fuente","settings.subtitles.font.style.bold":"negrita","settings.subtitles.font.style.italic":"cursiva","settings.subtitles.characterEdge":"borde del Caracter","settings.subtitles.characterEdge.raised":"alzado","settings.subtitles.characterEdge.depressed":"discreto","settings.subtitles.characterEdge.uniform":"uniforme","settings.subtitles.characterEdge.dropshadowed":"sombreado","settings.subtitles.characterEdge.color":"color de contorno de texto","settings.subtitles.font.family":"tipo de Fuente","settings.subtitles.font.family.monospacedserif":"monospaced serif","settings.subtitles.font.family.proportionalserif":"proportional serif","settings.subtitles.font.family.monospacedsansserif":"monospaced sans serif","settings.subtitles.font.family.proportionalsansserif":"proportional sans serif","settings.subtitles.font.family.casual":"casual","settings.subtitles.font.family.cursive":"cursiva","settings.subtitles.font.family.smallcapital":"small capital","settings.time.hours":"Horas","settings.time.minutes":"Minutos","settings.time.seconds":"Segundos","ads.remainingTime":"Este anuncio acabar en {remainingTime} segundos.",settings:"Configuracin",fullscreen:"Pantalla Completa",speed:"Velocidad",playPause:"Reproducir/Pausa",play:"Reproducir",pause:"Pausa",open:"Abrir",close:"Cerrar",pictureInPicture:"Imagen en Imagen",appleAirplay:"Apple AirPlay",googleCast:"Google Cast",vr:"VR",off:"off",auto:"auto",ecoMode:"ecoMode","ecoMode.title":"Eco Mode",back:"Atrs",reset:"Reiniciar",replay:"Rebobinar",normal:"normal",default:"predeterminado",live:"Directo","subtitle.example":"Ejemplo de Subttulo","subtitle.select":"Seleccionar subttulo",playingOn:"Reproduciendo en <strong>{castDeviceName}</strong>",connectingTo:"Conectando a <strong>{castDeviceName}</strong>...",watermarkLink:"Enlace al inicio",controlBar:"Controles del Reproductor",player:"Reproductor de Video",seekBar:"Lnea de Tiempo","seekBar.value":"posicin","seekBar.timeshift":"cambio de posicin","seekBar.durationText":"de","quickseek.forward":"Adelantar","quickseek.rewind":"Rebobinar"}},{}],95:[function(e,t,n){t.exports={"settings.video.quality":"Videokwaliteit","settings.audio.quality":"Audiokwaliteit","settings.audio.track":"Audiospoor","settings.audio.mute":"Dempen","settings.audio.volume":"Volume","settings.subtitles.window.color":"Vensterkleur","settings.subtitles.window.opacity":"Venster doorzichtigheid","settings.subtitles":"Ondertiteling","settings.subtitles.font.color":"Lettertype kleur","settings.subtitles.font.opacity":"Lettertype doorzichtigheid","settings.subtitles.background.color":"Achtergrondkleur","settings.subtitles.background.opacity":"Achtergrond doorzichtigheid","colors.white":"wit","colors.black":"zwart","colors.red":"rood","colors.green":"groen","colors.blue":"blauw","colors.cyan":"cyaan","colors.yellow":"geel","colors.magenta":"magenta",percent:"{value}%","settings.subtitles.font.size":"Lettertype grootte","settings.subtitles.characterEdge":"Lettertype rand","settings.subtitles.characterEdge.raised":"verhoogd","settings.subtitles.characterEdge.depressed":"verlaagd","settings.subtitles.characterEdge.uniform":"uniform","settings.subtitles.characterEdge.dropshadowed":"schaduw","settings.subtitles.font.family":"Standaard lettertype","settings.subtitles.font.family.monospacedserif":"monospace serif","settings.subtitles.font.family.proportionalserif":"proportioneel serif","settings.subtitles.font.family.monospacedsansserif":"monospace sans-serif","settings.subtitles.font.family.proportionalsansserif":"proportioneel sans-serif","settings.subtitles.font.family.casual":"casual","settings.subtitles.font.family.cursive":"cursief","settings.subtitles.font.family.smallcapital":"kleine hoofdletters","settings.time.hours":"Uren","settings.time.minutes":"Minuten","settings.time.seconds":"Seconden","ads.remainingTime":"Deze advertentie eindigt in {remainingTime} seconden.",settings:"Instellingen",fullscreen:"Volledig scherm",speed:"Snelheid",playPause:"Afspelen/Pauzeren",play:"Afspelen",pause:"Pauzeren",open:"Openen",close:"Sluiten",pictureInPicture:"Picture-in-Picture",appleAirplay:"Apple AirPlay",googleCast:"Google Cast",vr:"VR",off:"uit",auto:"automatisch",ecoMode:"Eco-modus","ecoMode.title":"Eco-modus",back:"Terug",reset:"Reset",replay:"Opnieuw afspelen",normal:"normaal",default:"standaard",live:"Live","subtitle.example":"voorbeeld ondertiteling","subtitle.select":"Selecteer ondertiteling",playingOn:"Speelt af op <strong>{castDeviceName}</strong>",connectingTo:"Verbinden met <strong>{castDeviceName}</strong>...",watermarkLink:"Link naar homepage",controlBar:"Videospeler bediening",player:"Videospeler",seekBar:"Video tijdlijn","seekBar.value":"Waarde","seekBar.timeshift":"Tijdverschuiving","seekBar.durationText":"van","quickseek.forward":"Vooruitspoelen","quickseek.rewind":"Terugspoelen"}},{}],96:[function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.ClickOverlay=n.VolumeControlButton=n.TitleBar=n.SubtitleSelectBox=n.SubtitleOverlay=n.SeekBarLabel=n.RecommendationOverlay=n.ErrorMessageOverlay=n.Component=n.CastToggleButton=n.CastStatusOverlay=n.AudioTrackSelectBox=n.AudioQualitySelectBox=n.Label=n.Container=n.UIContainer=n.Watermark=n.VRToggleButton=n.VolumeToggleButton=n.VideoQualitySelectBox=n.ToggleButton=n.SettingsToggleButton=n.SettingsPanel=n.ItemSelectionList=n.SelectBox=n.SeekBar=n.PlaybackToggleButton=n.PlaybackTimeLabelMode=n.PlaybackTimeLabel=n.HugePlaybackToggleButton=n.FullscreenToggleButton=n.ControlBar=n.Button=n.ListOrientation=n.ListNavigationGroup=n.RootNavigationGroup=n.NavigationGroup=n.SpatialNavigation=n.I18n=n.i18n=n.ErrorUtils=n.StorageUtils=n.BrowserUtils=n.UIUtils=n.PlayerUtils=n.StringUtils=n.ArrayUtils=n.DemoFactory=n.UIFactory=n.version=void 0,n.ListSelector=n.QuickSeekButton=n.ReplayButton=n.SettingsPanelItem=n.SubtitleSettingsPanelPage=n.SettingsPanelPageOpenButton=n.SettingsPanelPageBackButton=n.SettingsPanelPage=n.AudioTrackListBox=n.SubtitleListBox=n.ListBox=n.SubtitleSettingsResetButton=n.WindowOpacitySelectBox=n.WindowColorSelectBox=n.SubtitleSettingsLabel=n.SubtitleSettingSelectBox=n.FontSizeSelectBox=n.FontOpacitySelectBox=n.FontFamilySelectBox=n.FontColorSelectBox=n.CharacterEdgeSelectBox=n.BackgroundOpacitySelectBox=n.BackgroundColorSelectBox=n.Spacer=n.PictureInPictureToggleButton=n.VolumeSlider=n.AirPlayToggleButton=n.MetadataLabelContent=n.MetadataLabel=n.CloseButton=n.PlaybackToggleOverlay=n.CastUIContainer=n.BufferingOverlay=n.HugeReplayButton=n.PlaybackSpeedSelectBox=n.AdClickOverlay=n.AdMessageLabel=n.AdSkipButton=void 0,n.version="3.85.0",i(e("./uimanager"),n),i(e("./uiconfig"),n);var r=e("./uifactory");Object.defineProperty(n,"UIFactory",{enumerable:!0,get:function(){return r.UIFactory}});var s=e("./demofactory");Object.defineProperty(n,"DemoFactory",{enumerable:!0,get:function(){return s.DemoFactory}});var a=e("./arrayutils");Object.defineProperty(n,"ArrayUtils",{enumerable:!0,get:function(){return a.ArrayUtils}});var l=e("./stringutils");Object.defineProperty(n,"StringUtils",{enumerable:!0,get:function(){return l.StringUtils}});var c=e("./playerutils");Object.defineProperty(n,"PlayerUtils",{enumerable:!0,get:function(){return c.PlayerUtils}});var u=e("./uiutils");Object.defineProperty(n,"UIUtils",{enumerable:!0,get:function(){return u.UIUtils}});var p=e("./browserutils");Object.defineProperty(n,"BrowserUtils",{enumerable:!0,get:function(){return p.BrowserUtils}});var f=e("./storageutils");Object.defineProperty(n,"StorageUtils",{enumerable:!0,get:function(){return f.StorageUtils}});var g=e("./errorutils");Object.defineProperty(n,"ErrorUtils",{enumerable:!0,get:function(){return g.ErrorUtils}});var d=e("./localization/i18n");Object.defineProperty(n,"i18n",{enumerable:!0,get:function(){return d.i18n}}),Object.defineProperty(n,"I18n",{enumerable:!0,get:function(){return d.I18n}});var h=e("./spatialnavigation/spatialnavigation");Object.defineProperty(n,"SpatialNavigation",{enumerable:!0,get:function(){return h.SpatialNavigation}});var v=e("./spatialnavigation/navigationgroup");Object.defineProperty(n,"NavigationGroup",{enumerable:!0,get:function(){return v.NavigationGroup}});var y=e("./spatialnavigation/rootnavigationgroup");Object.defineProperty(n,"RootNavigationGroup",{enumerable:!0,get:function(){return y.RootNavigationGroup}});var m=e("./spatialnavigation/ListNavigationGroup");Object.defineProperty(n,"ListNavigationGroup",{enumerable:!0,get:function(){return m.ListNavigationGroup}}),Object.defineProperty(n,"ListOrientation",{enumerable:!0,get:function(){return m.ListOrientation}});var b=e("./components/button");Object.defineProperty(n,"Button",{enumerable:!0,get:function(){return b.Button}});var C=e("./components/controlbar");Object.defineProperty(n,"ControlBar",{enumerable:!0,get:function(){return C.ControlBar}});var P=e("./components/fullscreentogglebutton");Object.defineProperty(n,"FullscreenToggleButton",{enumerable:!0,get:function(){return P.FullscreenToggleButton}});var S=e("./components/hugeplaybacktogglebutton");Object.defineProperty(n,"HugePlaybackToggleButton",{enumerable:!0,get:function(){return S.HugePlaybackToggleButton}});var w=e("./components/playbacktimelabel");Object.defineProperty(n,"PlaybackTimeLabel",{enumerable:!0,get:function(){return w.PlaybackTimeLabel}}),Object.defineProperty(n,"PlaybackTimeLabelMode",{enumerable:!0,get:function(){return w.PlaybackTimeLabelMode}});var E=e("./components/playbacktogglebutton");Object.defineProperty(n,"PlaybackToggleButton",{enumerable:!0,get:function(){return E.PlaybackToggleButton}});var _=e("./components/seekbar");Object.defineProperty(n,"SeekBar",{enumerable:!0,get:function(){return _.SeekBar}});var O=e("./components/selectbox");Object.defineProperty(n,"SelectBox",{enumerable:!0,get:function(){return O.SelectBox}});var k=e("./components/itemselectionlist");Object.defineProperty(n,"ItemSelectionList",{enumerable:!0,get:function(){return k.ItemSelectionList}});var x=e("./components/settingspanel");Object.defineProperty(n,"SettingsPanel",{enumerable:!0,get:function(){return x.SettingsPanel}});var T=e("./components/settingstogglebutton");Object.defineProperty(n,"SettingsToggleButton",{enumerable:!0,get:function(){return T.SettingsToggleButton}});var M=e("./components/togglebutton");Object.defineProperty(n,"ToggleButton",{enumerable:!0,get:function(){return M.ToggleButton}});var L=e("./components/videoqualityselectbox");Object.defineProperty(n,"VideoQualitySelectBox",{enumerable:!0,get:function(){return L.VideoQualitySelectBox}});var A=e("./components/volumetogglebutton");Object.defineProperty(n,"VolumeToggleButton",{enumerable:!0,get:function(){return A.VolumeToggleButton}});var B=e("./components/vrtogglebutton");Object.defineProperty(n,"VRToggleButton",{enumerable:!0,get:function(){return B.VRToggleButton}});var I=e("./components/watermark");Object.defineProperty(n,"Watermark",{enumerable:!0,get:function(){return I.Watermark}});var j=e("./components/uicontainer");Object.defineProperty(n,"UIContainer",{enumerable:!0,get:function(){return j.UIContainer}});var D=e("./components/container");Object.defineProperty(n,"Container",{enumerable:!0,get:function(){return D.Container}});var U=e("./components/label");Object.defineProperty(n,"Label",{enumerable:!0,get:function(){return U.Label}});var z=e("./components/audioqualityselectbox");Object.defineProperty(n,"AudioQualitySelectBox",{enumerable:!0,get:function(){return z.AudioQualitySelectBox}});var R=e("./components/audiotrackselectbox");Object.defineProperty(n,"AudioTrackSelectBox",{enumerable:!0,get:function(){return R.AudioTrackSelectBox}});var V=e("./components/caststatusoverlay");Object.defineProperty(n,"CastStatusOverlay",{enumerable:!0,get:function(){return V.CastStatusOverlay}});var H=e("./components/casttogglebutton");Object.defineProperty(n,"CastToggleButton",{enumerable:!0,get:function(){return H.CastToggleButton}});var F=e("./components/component");Object.defineProperty(n,"Component",{enumerable:!0,get:function(){return F.Component}});var N=e("./components/errormessageoverlay");Object.defineProperty(n,"ErrorMessageOverlay",{enumerable:!0,get:function(){return N.ErrorMessageOverlay}});var W=e("./components/recommendationoverlay");Object.defineProperty(n,"RecommendationOverlay",{enumerable:!0,get:function(){return W.RecommendationOverlay}});var G=e("./components/seekbarlabel");Object.defineProperty(n,"SeekBarLabel",{enumerable:!0,get:function(){return G.SeekBarLabel}});var q=e("./components/subtitleoverlay");Object.defineProperty(n,"SubtitleOverlay",{enumerable:!0,get:function(){return q.SubtitleOverlay}});var K=e("./components/subtitleselectbox");Object.defineProperty(n,"SubtitleSelectBox",{enumerable:!0,get:function(){return K.SubtitleSelectBox}});var Q=e("./components/titlebar");Object.defineProperty(n,"TitleBar",{enumerable:!0,get:function(){return Q.TitleBar}});var Y=e("./components/volumecontrolbutton");Object.defineProperty(n,"VolumeControlButton",{enumerable:!0,get:function(){return Y.VolumeControlButton}});var X=e("./components/clickoverlay");Object.defineProperty(n,"ClickOverlay",{enumerable:!0,get:function(){return X.ClickOverlay}});var J=e("./components/adskipbutton");Object.defineProperty(n,"AdSkipButton",{enumerable:!0,get:function(){return J.AdSkipButton}});var Z=e("./components/admessagelabel");Object.defineProperty(n,"AdMessageLabel",{enumerable:!0,get:function(){return Z.AdMessageLabel}});var $=e("./components/adclickoverlay");Object.defineProperty(n,"AdClickOverlay",{enumerable:!0,get:function(){return $.AdClickOverlay}});var ee=e("./components/playbackspeedselectbox");Object.defineProperty(n,"PlaybackSpeedSelectBox",{enumerable:!0,get:function(){return ee.PlaybackSpeedSelectBox}});var te=e("./components/hugereplaybutton");Object.defineProperty(n,"HugeReplayButton",{enumerable:!0,get:function(){return te.HugeReplayButton}});var ne=e("./components/bufferingoverlay");Object.defineProperty(n,"BufferingOverlay",{enumerable:!0,get:function(){return ne.BufferingOverlay}});var oe=e("./components/castuicontainer");Object.defineProperty(n,"CastUIContainer",{enumerable:!0,get:function(){return oe.CastUIContainer}});var ie=e("./components/playbacktoggleoverlay");Object.defineProperty(n,"PlaybackToggleOverlay",{enumerable:!0,get:function(){return ie.PlaybackToggleOverlay}});var re=e("./components/closebutton");Object.defineProperty(n,"CloseButton",{enumerable:!0,get:function(){return re.CloseButton}});var se=e("./components/metadatalabel");Object.defineProperty(n,"MetadataLabel",{enumerable:!0,get:function(){return se.MetadataLabel}}),Object.defineProperty(n,"MetadataLabelContent",{enumerable:!0,get:function(){return se.MetadataLabelContent}});var ae=e("./components/airplaytogglebutton");Object.defineProperty(n,"AirPlayToggleButton",{enumerable:!0,get:function(){return ae.AirPlayToggleButton}});var le=e("./components/volumeslider");Object.defineProperty(n,"VolumeSlider",{enumerable:!0,get:function(){return le.VolumeSlider}});var ce=e("./components/pictureinpicturetogglebutton");Object.defineProperty(n,"PictureInPictureToggleButton",{enumerable:!0,get:function(){return ce.PictureInPictureToggleButton}});var ue=e("./components/spacer");Object.defineProperty(n,"Spacer",{enumerable:!0,get:function(){return ue.Spacer}});var pe=e("./components/subtitlesettings/backgroundcolorselectbox");Object.defineProperty(n,"BackgroundColorSelectBox",{enumerable:!0,get:function(){return pe.BackgroundColorSelectBox}});var fe=e("./components/subtitlesettings/backgroundopacityselectbox");Object.defineProperty(n,"BackgroundOpacitySelectBox",{enumerable:!0,get:function(){return fe.BackgroundOpacitySelectBox}});var ge=e("./components/subtitlesettings/characteredgeselectbox");Object.defineProperty(n,"CharacterEdgeSelectBox",{enumerable:!0,get:function(){return ge.CharacterEdgeSelectBox}});var de=e("./components/subtitlesettings/fontcolorselectbox");Object.defineProperty(n,"FontColorSelectBox",{enumerable:!0,get:function(){return de.FontColorSelectBox}});var he=e("./components/subtitlesettings/fontfamilyselectbox");Object.defineProperty(n,"FontFamilySelectBox",{enumerable:!0,get:function(){return he.FontFamilySelectBox}});var ve=e("./components/subtitlesettings/fontopacityselectbox");Object.defineProperty(n,"FontOpacitySelectBox",{enumerable:!0,get:function(){return ve.FontOpacitySelectBox}});var ye=e("./components/subtitlesettings/fontsizeselectbox");Object.defineProperty(n,"FontSizeSelectBox",{enumerable:!0,get:function(){return ye.FontSizeSelectBox}});var me=e("./components/subtitlesettings/subtitlesettingselectbox");Object.defineProperty(n,"SubtitleSettingSelectBox",{enumerable:!0,get:function(){return me.SubtitleSettingSelectBox}});var be=e("./components/subtitlesettings/subtitlesettingslabel");Object.defineProperty(n,"SubtitleSettingsLabel",{enumerable:!0,get:function(){return be.SubtitleSettingsLabel}});var Ce=e("./components/subtitlesettings/windowcolorselectbox");Object.defineProperty(n,"WindowColorSelectBox",{enumerable:!0,get:function(){return Ce.WindowColorSelectBox}});var Pe=e("./components/subtitlesettings/windowopacityselectbox");Object.defineProperty(n,"WindowOpacitySelectBox",{enumerable:!0,get:function(){return Pe.WindowOpacitySelectBox}});var Se=e("./components/subtitlesettings/subtitlesettingsresetbutton");Object.defineProperty(n,"SubtitleSettingsResetButton",{enumerable:!0,get:function(){return Se.SubtitleSettingsResetButton}});var we=e("./components/listbox");Object.defineProperty(n,"ListBox",{enumerable:!0,get:function(){return we.ListBox}});var Ee=e("./components/subtitlelistbox");Object.defineProperty(n,"SubtitleListBox",{enumerable:!0,get:function(){return Ee.SubtitleListBox}});var _e=e("./components/audiotracklistbox");Object.defineProperty(n,"AudioTrackListBox",{enumerable:!0,get:function(){return _e.AudioTrackListBox}});var Oe=e("./components/settingspanelpage");Object.defineProperty(n,"SettingsPanelPage",{enumerable:!0,get:function(){return Oe.SettingsPanelPage}});var ke=e("./components/settingspanelpagebackbutton");Object.defineProperty(n,"SettingsPanelPageBackButton",{enumerable:!0,get:function(){return ke.SettingsPanelPageBackButton}});var xe=e("./components/settingspanelpageopenbutton");Object.defineProperty(n,"SettingsPanelPageOpenButton",{enumerable:!0,get:function(){return xe.SettingsPanelPageOpenButton}});var Te=e("./components/subtitlesettings/subtitlesettingspanelpage");Object.defineProperty(n,"SubtitleSettingsPanelPage",{enumerable:!0,get:function(){return Te.SubtitleSettingsPanelPage}});var Me=e("./components/settingspanelitem");Object.defineProperty(n,"SettingsPanelItem",{enumerable:!0,get:function(){return Me.SettingsPanelItem}});var Le=e("./components/replaybutton");Object.defineProperty(n,"ReplayButton",{enumerable:!0,get:function(){return Le.ReplayButton}});var Ae=e("./components/quickseekbutton");Object.defineProperty(n,"QuickSeekButton",{enumerable:!0,get:function(){return Ae.QuickSeekButton}});var Be=e("./components/listselector");Object.defineProperty(n,"ListSelector",{enumerable:!0,get:function(){return Be.ListSelector}}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})},{"./arrayutils":1,"./browserutils":3,"./components/adclickoverlay":4,"./components/admessagelabel":5,"./components/adskipbutton":6,"./components/airplaytogglebutton":7,"./components/audioqualityselectbox":8,"./components/audiotracklistbox":9,"./components/audiotrackselectbox":10,"./components/bufferingoverlay":11,"./components/button":12,"./components/caststatusoverlay":13,"./components/casttogglebutton":14,"./components/castuicontainer":15,"./components/clickoverlay":16,"./components/closebutton":17,"./components/component":18,"./components/container":19,"./components/controlbar":20,"./components/errormessageoverlay":23,"./components/fullscreentogglebutton":24,"./components/hugeplaybacktogglebutton":25,"./components/hugereplaybutton":26,"./components/itemselectionlist":27,"./components/label":28,"./components/listbox":29,"./components/listselector":30,"./components/metadatalabel":31,"./components/pictureinpicturetogglebutton":32,"./components/playbackspeedselectbox":33,"./components/playbacktimelabel":34,"./components/playbacktogglebutton":35,"./components/playbacktoggleoverlay":36,"./components/quickseekbutton":37,"./components/recommendationoverlay":38,"./components/replaybutton":39,"./components/seekbar":40,"./components/seekbarlabel":43,"./components/selectbox":44,"./components/settingspanel":45,"./components/settingspanelitem":46,"./components/settingspanelpage":47,"./components/settingspanelpagebackbutton":48,"./components/settingspanelpageopenbutton":50,"./components/settingstogglebutton":51,"./components/spacer":52,"./components/subtitlelistbox":53,"./components/subtitleoverlay":54,"./components/subtitleselectbox":55,"./components/subtitlesettings/backgroundcolorselectbox":56,"./components/subtitlesettings/backgroundopacityselectbox":57,"./components/subtitlesettings/characteredgeselectbox":59,"./components/subtitlesettings/fontcolorselectbox":60,"./components/subtitlesettings/fontfamilyselectbox":61,"./components/subtitlesettings/fontopacityselectbox":62,"./components/subtitlesettings/fontsizeselectbox":63,"./components/subtitlesettings/subtitlesettingselectbox":65,"./components/subtitlesettings/subtitlesettingslabel":66,"./components/subtitlesettings/subtitlesettingspanelpage":68,"./components/subtitlesettings/subtitlesettingsresetbutton":69,"./components/subtitlesettings/windowcolorselectbox":70,"./components/subtitlesettings/windowopacityselectbox":71,"./components/titlebar":73,"./components/togglebutton":74,"./components/uicontainer":76,"./components/videoqualityselectbox":77,"./components/volumecontrolbutton":78,"./components/volumeslider":79,"./components/volumetogglebutton":80,"./components/vrtogglebutton":81,"./components/watermark":82,"./demofactory":83,"./errorutils":85,"./localization/i18n":91,"./playerutils":98,"./spatialnavigation/ListNavigationGroup":99,"./spatialnavigation/navigationgroup":103,"./spatialnavigation/rootnavigationgroup":105,"./spatialnavigation/spatialnavigation":107,"./storageutils":110,"./stringutils":111,"./uiconfig":114,"./uifactory":115,"./uimanager":116,"./uiutils":117}],97:[function(e,t,n){"use strict";function o(e){for(var t in i)if(i.hasOwnProperty(t)&&!e.exports.PlayerEvent.hasOwnProperty(t))return!1;return!0}var i;Object.defineProperty(n,"__esModule",{value:!0}),n.MobileV3PlayerEvent=void 0,n.isMobileV3PlayerAPI=o,function(e){e.SourceError="sourceerror",e.PlayerError="playererror",e.PlaylistTransition="playlisttransition"}(i||(n.MobileV3PlayerEvent=i={}))},{}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerUtils=void 0;var o,i=e("./eventdispatcher"),r=e("./browserutils");(function(e){function t(e){return e.isLive()&&0!==e.getMaxTimeShift()}function n(e){return e.hasEnded()?c.Finished:e.isPlaying()?c.Playing:e.isPaused()?c.Paused:null!=e.getSource()?c.Prepared:c.Idle}function o(t){var n=t.getCurrentTime();if(t.isLive())return n;var o=e.getSeekableRangeStart(t,0);return n-o}function s(e,t){return void 0===t&&(t=0),e.getSeekableRange()&&e.getSeekableRange().start||t}function a(e){if(!e.isLive())return e.getSeekableRange();var t=-e.getTimeShift(),n=-e.getMaxTimeShift(),o=e.getCurrentTime(),i=o+t,r=o-(n-t);return{start:r,end:i}}function l(e,t,n){var o=Math.min(t,n),i=Math.max(t,n);return Math.min(Math.max(e,o),i)}var c;(function(e){e[e.Idle=0]="Idle",e[e.Prepared=1]="Prepared",e[e.Playing=2]="Playing",e[e.Paused=3]="Paused",e[e.Finished=4]="Finished"})(c=e.PlayerState||(e.PlayerState={})),e.isTimeShiftAvailable=t,e.getState=n,e.getCurrentTimeRelativeToSeekableRange=o,e.getSeekableRangeStart=s,e.getSeekableRangeRespectingLive=a;var u=function(){function t(e){var t=this;this.timeShiftAvailabilityChangedEvent=new i.EventDispatcher,this.player=e,this.timeShiftAvailable=void 0;var n=function(){t.detect()};e.on(e.exports.PlayerEvent.SourceLoaded,n),e.on(e.exports.PlayerEvent.TimeChanged,n)}return t.prototype.detect=function(){if(this.player.isLive()){var t=e.isTimeShiftAvailable(this.player);t!==this.timeShiftAvailable&&(this.timeShiftAvailabilityChangedEvent.dispatch(this.player,{timeShiftAvailable:t}),this.timeShiftAvailable=t)}},Object.defineProperty(t.prototype,"onTimeShiftAvailabilityChanged",{get:function(){return this.timeShiftAvailabilityChangedEvent.getEvent()},enumerable:!1,configurable:!0}),t}();e.TimeShiftAvailabilityDetector=u;var p=function(){function e(e,t){var n=this;this.liveChangedEvent=new i.EventDispatcher,this.player=e,this.uimanager=t,this.live=void 0;var o=function(){n.detect()};this.uimanager.getConfig().events.onUpdated.subscribe(o),e.on(e.exports.PlayerEvent.Play,o),r.BrowserUtils.isAndroid&&r.BrowserUtils.isChrome&&e.on(e.exports.PlayerEvent.TimeChanged,o),e.exports.PlayerEvent.DurationChanged&&e.on(e.exports.PlayerEvent.DurationChanged,o),e.on(e.exports.PlayerEvent.AdBreakStarted,o),e.on(e.exports.PlayerEvent.AdBreakFinished,o)}return e.prototype.detect=function(){var e=this.player.isLive();e!==this.live&&(this.liveChangedEvent.dispatch(this.player,{live:e}),this.live=e)},Object.defineProperty(e.prototype,"onLiveChanged",{get:function(){return this.liveChangedEvent.getEvent()},enumerable:!1,configurable:!0}),e}();e.LiveStreamDetector=p,e.clampValueToRange=l})(o||(n.PlayerUtils=o={}))},{"./browserutils":3,"./eventdispatcher":86}],99:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(n,"__esModule",{value:!0}),n.ListNavigationGroup=n.ListOrientation=void 0;var s,a=e("./navigationgroup"),l=e("./types");(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(s||(n.ListOrientation=s={}));var c=function(e){function t(t,n){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var a=e.apply(this,r([n],o,!1))||this;switch(t){case s.Vertical:a.listNavigationDirections=[l.Direction.UP,l.Direction.DOWN];break;case s.Horizontal:a.listNavigationDirections=[l.Direction.LEFT,l.Direction.RIGHT]}return a}return i(t,e),t.prototype.handleAction=function(t){e.prototype.handleAction.call(this,t),t===l.Action.SELECT&&this.handleAction(l.Action.BACK)},t.prototype.handleNavigation=function(t){e.prototype.handleNavigation.call(this,t),this.listNavigationDirections.includes(t)||this.handleAction(l.Action.BACK)},t}(a.NavigationGroup);n.ListNavigationGroup=c},{"./navigationgroup":103,"./types":109}],100:[function(e,t,n){"use strict";function o(e){var t=[];return e.getComponents().forEach(function(e){(0,a.isContainer)(e)?t.push.apply(t,o(e)):(0,a.isComponent)(e)&&t.push(e)}),t}function i(e){return(0,a.isListBox)(e)?[].slice.call(e.getDomElement().get()[0].children):e.getDomElement().get().slice(0,1)}function r(e){var t=[];return e.filter(function(e){return!e.isHidden()}).forEach(function(e){var n=e instanceof s.Container?o(e):[e];n.forEach(function(e){t.push.apply(t,i(e))})}),t}Object.defineProperty(n,"__esModule",{value:!0}),n.getHtmlElementsFromComponents=r;var s=e("../components/container"),a=e("./typeguards")},{"../components/container":19,"./typeguards":108}],101:[function(e,t,n){"use strict";function o(){var e=[a,s,l,u,c].find(function(e){return e.isApplicable()});return e?e.keyCodes:p}Object.defineProperty(n,"__esModule",{value:!0}),n.getKeyMapForPlatform=o;var i=e("./types"),r=e("../browserutils"),s={isApplicable:function(){return r.BrowserUtils.isTizen},keyCodes:{38:i.Direction.UP,40:i.Direction.DOWN,37:i.Direction.LEFT,39:i.Direction.RIGHT,13:i.Action.SELECT,10009:i.Action.BACK}},a={isApplicable:function(){return r.BrowserUtils.isWebOs},keyCodes:{38:i.Direction.UP,40:i.Direction.DOWN,37:i.Direction.LEFT,39:i.Direction.RIGHT,13:i.Action.SELECT,461:i.Action.BACK}},l={isApplicable:function(){return r.BrowserUtils.isPlayStation},keyCodes:{38:i.Direction.UP,40:i.Direction.DOWN,37:i.Direction.LEFT,39:i.Direction.RIGHT,13:i.Action.SELECT,27:i.Action.BACK}},c={isApplicable:function(){return r.BrowserUtils.isAndroid},keyCodes:{38:i.Direction.UP,40:i.Direction.DOWN,37:i.Direction.LEFT,39:i.Direction.RIGHT,13:i.Action.SELECT,27:i.Action.BACK}},u={isApplicable:function(){return r.BrowserUtils.isHisense},keyCodes:{38:i.Direction.UP,40:i.Direction.DOWN,37:i.Direction.LEFT,39:i.Direction.RIGHT,13:i.Action.SELECT,8:i.Action.BACK}},p={38:i.Direction.UP,40:i.Direction.DOWN,37:i.Direction.LEFT,39:i.Direction.RIGHT,13:i.Action.SELECT,27:i.Action.BACK}},{"../browserutils":3,"./types":109}],102:[function(e,t,n){"use strict";function o(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function i(e){var t=o(e);return{x:e.x/t,y:e.y/t}}function r(e,t){return e.x*t.x+e.y*t.y}function s(e,t){return o({x:t.x-e.x,y:t.y-e.y})}function a(e){var t=u(e);return{x:t.x+t.width/2,y:t.y+t.height/2}}function l(e,t,n){var s={x:n===p.Direction.LEFT?-1:n===p.Direction.RIGHT?1:0,y:n===p.Direction.UP?-1:n===p.Direction.DOWN?1:0},a=i({x:t.x-e.x,y:t.y-e.y}),l=r(s,a)/(o(s)*o(a));return 180*Math.acos(l)/Math.PI}function c(e,t,n){var o;if(e){var i=45,r=a(e);return null===(o=t.filter(function(t){return t!==e}).map(function(e){var t=a(e),o=s(r,t),i=l(r,t,n);return{angle:i,dist:o,element:e}}).filter(function(e){var t=e.angle;return t<=i}).sort(function(e,t){var n=e.angle,o=e.dist,i=t.angle,r=t.dist;return n-i+(o-r)}).shift())||void 0===o?void 0:o.element}}function u(e){var t=e.getBoundingClientRect();return"number"!=typeof t.x&&"number"!=typeof t.y&&(t.x=t.left,t.y=t.top),t}Object.defineProperty(n,"__esModule",{value:!0}),n.getElementInDirection=c,n.getBoundingRectFromElement=u;var p=e("./types")},{"./types":109}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NavigationGroup=void 0;var o=e("./navigationalgorithm"),i=e("./gethtmlelementsfromcomponents"),r=e("./nodeeventsubscriber"),s=e("./typeguards"),a=e("./types"),l=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.container=e,this.removeElementHoverEventListeners=function(){},this.components=t,this.eventSubscriber=new r.NodeEventSubscriber}return e.prototype.getActiveElement=function(){return this.activeElement},e.prototype.focusElement=function(e){this.blurActiveElement(),this.activeElement=e,this.activeElement.focus()},e.prototype.blurActiveElement=function(){var e;null===(e=this.activeElement)||void 0===e||e.blur()},e.prototype.focusFirstElement=function(){var e=(0,i.getHtmlElementsFromComponents)(this.components)[0];e&&this.focusElement(e)},
e.prototype.defaultNavigationHandler=function(e){var t=(0,o.getElementInDirection)(this.activeElement,(0,i.getHtmlElementsFromComponents)(this.components),e);t&&this.focusElement(t)},e.prototype.defaultActionHandler=function(e){switch(e){case a.Action.SELECT:this.activeElement.click();break;case a.Action.BACK:this.container.hide()}},e.prototype.handleInput=function(e,t,n){var o=!0,i=function(){return o=!1};null==n||n(e,this.activeElement,i),o&&t.call(this,e)},e.prototype.handleNavigation=function(e){this.activeElement?this.handleInput(e,this.defaultNavigationHandler,this.onNavigation):this.activeElementBeforeDisable?this.focusElement(this.activeElementBeforeDisable):this.focusFirstElement()},e.prototype.handleAction=function(e){this.handleInput(e,this.defaultActionHandler,this.onAction)},e.prototype.disable=function(){this.activeElement&&(this.activeElementBeforeDisable=this.activeElement,this.blurActiveElement(),this.activeElement=void 0)},e.prototype.enable=function(){this.activeElementBeforeDisable&&!(0,s.isSettingsPanel)(this.container)?(this.focusElement(this.activeElementBeforeDisable),this.activeElementBeforeDisable=void 0):this.focusFirstElement(),this.trackElementHover()},e.prototype.trackElementHover=function(){var e=this;this.removeElementHoverEventListeners();var t=(0,i.getHtmlElementsFromComponents)(this.components).map(function(t){var n=e.focusElement.bind(e,t),o=function(){return e.disable()};return e.eventSubscriber.on(t,"mouseenter",n),e.eventSubscriber.on(t,"mouseleave",o),function(){e.eventSubscriber.off(t,"mouseenter",n),e.eventSubscriber.off(t,"mouseleave",o)}});this.removeElementHoverEventListeners=function(){return t.forEach(function(e){return e()})}},e.prototype.release=function(){this.eventSubscriber.release(),this.activeElement=void 0,this.components.splice(0,this.components.length),this.removeElementHoverEventListeners()},e}();n.NavigationGroup=l},{"./gethtmlelementsfromcomponents":100,"./navigationalgorithm":102,"./nodeeventsubscriber":104,"./typeguards":108,"./types":109}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NodeEventSubscriber=void 0;var o=function(){function e(){this.attachedListeners=new Map}return e.prototype.getEventListenersOfType=function(e){return this.attachedListeners.has(e)||this.attachedListeners.set(e,[]),this.attachedListeners.get(e)},e.prototype.on=function(e,t,n,o){e.addEventListener(t,n,o),this.getEventListenersOfType(t).push([e,n,o])},e.prototype.off=function(e,t,n,o){var i=this.getEventListenersOfType(t),r=i.findIndex(function(t){var i=t[0],r=t[1],s=t[2];return i===e&&r===n&&s===o});e.removeEventListener(t,n,o),r>-1&&i.splice(r,1)},e.prototype.release=function(){var e=this;this.attachedListeners.forEach(function(t,n){t.forEach(function(t){var o=t[0],i=t[1],r=t[2];e.off(o,n,i,r)})}),this.attachedListeners.clear()},e}();n.NodeEventSubscriber=o},{}],105:[function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(n,"__esModule",{value:!0}),n.RootNavigationGroup=void 0;var s=e("./navigationgroup"),a=e("./types"),l=function(e){function t(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=e.apply(this,r([t],n,!1))||this;return i.container=t,i}return i(t,e),t.prototype.handleAction=function(t){this.container.showUi(),e.prototype.handleAction.call(this,t)},t.prototype.handleNavigation=function(t){this.container.showUi(),e.prototype.handleNavigation.call(this,t)},t.prototype.defaultActionHandler=function(t){t===a.Action.BACK?this.container.hideUi():e.prototype.defaultActionHandler.call(this,t)},t.prototype.release=function(){e.prototype.release.call(this)},t}(s.NavigationGroup);n.RootNavigationGroup=l},{"./navigationgroup":103,"./types":109}],106:[function(e,t,n){"use strict";function o(e){return Array.from(e.classList).findIndex(function(e){return/-ui-seekbar$/.test(e)})>-1}function i(e){return e.children.item(0)}function r(e){return e.querySelector('[class*="seekbar-playbackposition-marker"]')}Object.defineProperty(n,"__esModule",{value:!0}),n.SeekBarHandler=void 0;var s=e("./nodeeventsubscriber"),a=e("./types"),l=e("./navigationalgorithm"),c=.005,u=100,p=1.1,f=function(){function e(e){var t=this;this.rootNavigationGroup=e,this.cursorPosition={x:0,y:0},this.isScrubbing=!1,this.scrubSpeedPercentage=c,this.onNavigation=function(e,n,r){o(n)&&(e!==a.Direction.UP&&e!==a.Direction.DOWN?(t.initializeOrUpdateCursorPosition(n,e),t.dispatchMouseMoveEvent(i(n)),r()):t.stopSeeking(i(n)))},this.onAction=function(e,n,r){if(o(n)){var s=i(n);e===a.Action.SELECT&&t.isScrubbing?(t.dispatchMouseClickEvent(s),r()):e===a.Action.BACK&&(t.stopSeeking(s),r())}},this.rootNavigationGroup.onAction=this.onAction,this.eventSubscriber=new s.NodeEventSubscriber,this.rootNavigationGroup.onNavigation=this.onNavigation}return e.prototype.updateScrubSpeedPercentage=function(){var e=this;clearTimeout(this.scrubSpeedResetTimeout),this.scrubSpeedPercentage*=p,this.scrubSpeedResetTimeout=window.setTimeout(function(){return e.scrubSpeedPercentage=c},u)},e.prototype.getIncrement=function(e,t){this.updateScrubSpeedPercentage();var n=t.getBoundingClientRect().width,o=n*this.scrubSpeedPercentage;return e===a.Direction.RIGHT?o:-o},e.prototype.resetCursorPosition=function(){this.cursorPosition.x=0,this.cursorPosition.y=0},e.prototype.updateCursorPosition=function(e,t){this.cursorPosition.x+=this.getIncrement(e,t)},e.prototype.initializeCursorPosition=function(e){var t=r(e),n=(0,l.getBoundingRectFromElement)(t),o=n.x+n.width/2,i=n.y;this.cursorPosition.x=o,this.cursorPosition.y=i},e.prototype.initializeOrUpdateCursorPosition=function(e,t){this.isScrubbing?this.updateCursorPosition(t,e):this.initializeCursorPosition(e),this.isScrubbing=!0},e.prototype.getCursorPositionMouseEventInit=function(){return{clientX:this.cursorPosition.x,clientY:this.cursorPosition.y}},e.prototype.dispatchMouseMoveEvent=function(e){e.dispatchEvent(new MouseEvent("mousemove",this.getCursorPositionMouseEventInit()))},e.prototype.dispatchMouseClickEvent=function(e){var t=this,n=function(){var o=t.getCursorPositionMouseEventInit();document.dispatchEvent(new MouseEvent("mouseup",o)),t.eventSubscriber.off(e,"mousedown",n),t.stopSeeking(e)};this.eventSubscriber.on(e,"mousedown",n),e.dispatchEvent(new MouseEvent("mousedown"))},e.prototype.stopSeeking=function(e){this.resetCursorPosition(),this.isScrubbing=!1,this.dispatchMouseLeaveEvent(e)},e.prototype.dispatchMouseLeaveEvent=function(e){e.dispatchEvent(new MouseEvent("mouseleave"))},e.prototype.release=function(){this.eventSubscriber.release(),this.rootNavigationGroup.onAction=void 0,this.rootNavigationGroup.onNavigation=void 0},e}();n.SeekBarHandler=f},{"./navigationalgorithm":102,"./nodeeventsubscriber":104,"./types":109}],107:[function(e,t,n){"use strict";function o(e){return e.keyCode}var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(n,"__esModule",{value:!0}),n.SpatialNavigation=void 0;var r=e("./nodeeventsubscriber"),s=e("./seekbarhandler"),a=e("./keymap"),l=e("./typeguards"),c=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var c=this;this.navigationGroups=[],this.onShow=function(e){c.activeNavigationGroups.push(e),c.updateEnabledNavigationGroup()},this.onHide=function(e){var t=c.activeNavigationGroups.findIndex(function(t){return t===e});t>-1&&(e.disable(),c.activeNavigationGroups.splice(t,1),c.updateEnabledNavigationGroup())},this.handleKeyEvent=function(e){var t=c.keyMap[o(e)],n=c.getActiveNavigationGroup();n&&n.container&&!n.container.isHidden()&&!n.container.isDisabled()&&((0,l.isDirection)(t)&&(n.handleNavigation(t),e.preventDefault(),e.stopPropagation()),(0,l.isAction)(t)&&(n.handleAction(t),e.preventDefault(),e.stopPropagation()))},this.seekBarHandler=new s.SeekBarHandler(e),this.activeNavigationGroups=[],this.unsubscribeVisibilityChangesFns=[],this.eventSubscriber=new r.NodeEventSubscriber,this.navigationGroups=i([e],t,!0),this.keyMap=(0,a.getKeyMapForPlatform)(),this.subscribeToNavigationGroupVisibilityChanges(),this.attachKeyEventHandler(),this.enableDefaultNavigationGroup()}return e.prototype.attachKeyEventHandler=function(){this.eventSubscriber.on(document,"keydown",this.handleKeyEvent,!0)},e.prototype.subscribeToNavigationGroupVisibilityChanges=function(){var e=this;this.navigationGroups.forEach(function(t){var n=function(){return e.onShow(t)},o=function(){return e.onHide(t)};t.container.onShow.subscribe(n),t.container.onHide.subscribe(o),e.unsubscribeVisibilityChangesFns.push(function(){return t.container.onShow.unsubscribe(n)},function(){return t.container.onHide.unsubscribe(o)})})},e.prototype.unsubscribeFromNavigationGroupVisibilityChanges=function(){this.unsubscribeVisibilityChangesFns.forEach(function(e){return e()}),this.unsubscribeVisibilityChangesFns=[]},e.prototype.enableDefaultNavigationGroup=function(){var e,t=function(e){return e.container.isShown()},n=null!==(e=this.navigationGroups.find(t))&&void 0!==e?e:this.navigationGroups[0];n&&(this.activeNavigationGroups.push(n),this.updateEnabledNavigationGroup())},e.prototype.updateEnabledNavigationGroup=function(){var e=this;this.activeNavigationGroups.forEach(function(t,n){n<e.activeNavigationGroups.length-1?t.disable():t.enable()})},e.prototype.getActiveNavigationGroup=function(){return this.activeNavigationGroups[this.activeNavigationGroups.length-1]},e.prototype.release=function(){this.unsubscribeFromNavigationGroupVisibilityChanges(),this.eventSubscriber.release(),this.navigationGroups.forEach(function(e){return e.release()}),this.seekBarHandler.release()},e}();n.SpatialNavigation=c},{"./keymap":101,"./nodeeventsubscriber":104,"./seekbarhandler":106,"./typeguards":108}],108:[function(e,t,n){"use strict";function o(e){return e instanceof u.SettingsPanel}function i(e){return null!=e&&e instanceof c.Component}function r(e){return null!=e&&e instanceof p.Container}function s(e){return e instanceof f.ListBox}function a(e){return"string"==typeof e&&Object.values(g.Direction).includes(e)}function l(e){return"string"==typeof e&&Object.values(g.Action).includes(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.isSettingsPanel=o,n.isComponent=i,n.isContainer=r,n.isListBox=s,n.isDirection=a,n.isAction=l;var c=e("../components/component"),u=e("../components/settingspanel"),p=e("../components/container"),f=e("../components/listbox"),g=e("./types")},{"../components/component":18,"../components/container":19,"../components/listbox":29,"../components/settingspanel":45,"./types":109}],109:[function(e,t,n){"use strict";var o,i;Object.defineProperty(n,"__esModule",{value:!0}),n.Action=n.Direction=void 0,function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right"}(o||(n.Direction=o={})),function(e){e.SELECT="select",e.BACK="back"}(i||(n.Action=i={}))},{}],110:[function(e,t,n){"use strict";var o;Object.defineProperty(n,"__esModule",{value:!0}),n.StorageUtils=void 0,function(e){function t(e){a=e.disableStorageApi}function n(){try{return!a&&window.localStorage&&"function"==typeof localStorage.getItem&&"function"==typeof localStorage.setItem}catch(e){return!1}}function o(e,t){if(n())try{window.localStorage.setItem(e,t)}catch(t){console.debug("Failed to set storage item ".concat(e),t)}}function i(e){if(n())try{return window.localStorage.getItem(e)}catch(t){console.debug("Failed to get storage item ".concat(e),t)}return null}function r(e,t){var n=JSON.stringify(t);o(e,n)}function s(e){var t=i(e);if(t){var n=JSON.parse(t);return n}return null}var a;e.setStorageApiDisabled=t,e.setItem=o,e.getItem=i,e.setObject=r,e.getObject=s}(o||(n.StorageUtils=o={}))},{}],111:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.StringUtils=void 0;var o,i=e("./localization/i18n");(function(e){function t(t,n){void 0===n&&(n=e.FORMAT_HHMMSS);var i=t<0;i&&(t=-t);var r=Math.floor(t/3600),s=Math.floor(t/60)-60*r,a=Math.floor(t)%60;return(i?"-":"")+n.replace("hh",o(r,2)).replace("mm",o(s,2)).replace("ss",o(a,2))}function n(e){var t=e<0;t&&(e=-e);var n=Math.floor(e/3600),r=Math.floor(e/60)-60*n,s=Math.floor(e)%60;return(t?"-":"")+(0!==n?"".concat(o(n,2)," ").concat(i.i18n.performLocalization(i.i18n.getLocalizer("settings.time.hours"))," "):"")+(0!==r?"".concat(o(r,2)," ").concat(i.i18n.performLocalization(i.i18n.getLocalizer("settings.time.minutes"))," "):"")+"".concat(o(s,2)," ").concat(i.i18n.performLocalization(i.i18n.getLocalizer("settings.time.seconds")))}function o(e,t){var n=e+"",o="0000000000".substr(0,t-n.length);return o+n}function r(e,t,n){var o=new RegExp("\\{(remainingTime|playedTime|adDuration|adBreakRemainingTime)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})","g");return e.replace(o,function(e){var o=0;if(e.indexOf("remainingTime")>-1)o=t?Math.ceil(t-n.getCurrentTime()):n.getDuration()-n.getCurrentTime();else if(e.indexOf("playedTime")>-1)o=n.getCurrentTime();else if(e.indexOf("adDuration")>-1)o=n.getDuration();else if(e.indexOf("adBreakRemainingTime")>-1&&(o=0,n.ads.isLinearAdActive())){var i=function(e){return n.ads.getActiveAd().id===e.id},r=n.ads.getActiveAdBreak().ads.findIndex(i),a=n.ads.getActiveAdBreak().ads.slice(r).reduce(function(e,t){return e+(t.isLinear?t.duration:0)},0);o=a-n.getCurrentTime()}return s(Math.round(o),e)})}function s(e,n){var i=/%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/,r=/(%0[1-9]\d*)(?=(\.\d+f|f|d))/,s=/\.\d*(?=f)/;i.test(n)||(n="%d");var a=0,l=n.match(r);l&&(a=parseInt(l[0].substring(2)));var c=null,u=n.match(s);if(u&&!isNaN(parseInt(u[0].substring(1)))&&(c=parseInt(u[0].substring(1)),c>20&&(c=20)),n.indexOf("f")>-1){var p="";return p=null!==c?e.toFixed(c):""+e,p.indexOf(".")>-1?o(p,p.length+(a-p.indexOf("."))):o(p,a)}if(n.indexOf(":")>-1){var f=Math.ceil(e);if(n.indexOf("hh")>-1)return t(f);var g=Math.floor(f/60),d=f%60;return o(g,2)+":"+o(d,2)}return o(Math.ceil(e),a)}e.FORMAT_HHMMSS="hh:mm:ss",e.FORMAT_MMSS="mm:ss",e.secondsToTime=t,e.secondsToText=n,e.replaceAdMessagePlaceholders=r})(o||(n.StringUtils=o={}))},{"./localization/i18n":91}],112:[function(e,t,n){"use strict";var o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(n,"__esModule",{value:!0}),n.SubtitleSwitchHandler=void 0;var i=e("./localization/i18n"),r=function(){function e(t,n,r){var s=this;this.addSubtitle=function(e){var t=e.subtitle;s.listElement.hasItem(t.id)||s.listElement.addItem(t.id,t.label)},this.removeSubtitle=function(e){var t=e.subtitle;s.listElement.hasItem(t.id)&&s.listElement.removeItem(t.id)},this.selectCurrentSubtitle=function(){if(s.player.subtitles){var t=s.player.subtitles.list().filter(function(e){return e.enabled}).pop();s.listElement.selectItem(t?t.id:e.SUBTITLES_OFF_KEY)}},this.clearSubtitles=function(){s.listElement.clearItems()},this.refreshSubtitles=function(){if(s.player.subtitles){var t={key:e.SUBTITLES_OFF_KEY,label:i.i18n.getLocalizer("off")},n=s.player.subtitles.list(),r=function(e){return{key:e.id,label:e.label}};s.listElement.synchronizeItems(o([t],n.map(r),!0)),s.selectCurrentSubtitle()}},this.player=t,this.listElement=n,this.uimanager=r,this.bindSelectionEvent(),this.bindPlayerEvents(),this.refreshSubtitles()}return e.prototype.bindSelectionEvent=function(){var t=this;this.listElement.onItemSelected.subscribe(function(n,o){if(o===e.SUBTITLES_OFF_KEY){var i=t.player.subtitles.list().filter(function(e){return e.enabled}).pop();i&&t.player.subtitles.disable(i.id)}else t.player.subtitles.enable(o,!0)})},e.prototype.bindPlayerEvents=function(){this.player.on(this.player.exports.PlayerEvent.SubtitleAdded,this.addSubtitle),this.player.on(this.player.exports.PlayerEvent.SubtitleEnabled,this.selectCurrentSubtitle),this.player.on(this.player.exports.PlayerEvent.SubtitleDisabled,this.selectCurrentSubtitle),this.player.on(this.player.exports.PlayerEvent.SubtitleRemoved,this.removeSubtitle),this.player.on(this.player.exports.PlayerEvent.SourceUnloaded,this.clearSubtitles),this.player.on(this.player.exports.PlayerEvent.PeriodSwitched,this.refreshSubtitles),this.uimanager.getConfig().events.onUpdated.subscribe(this.refreshSubtitles)},e.SUBTITLES_OFF_KEY="null",e}();n.SubtitleSwitchHandler=r},{"./localization/i18n":91}],113:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Timeout=void 0;var o=function(){function e(e,t,n){void 0===n&&(n=!1),this.delay=e,this.callback=t,this.repeat=n,this.timeoutOrIntervalId=0,this.active=!1,this.suspended=!1}return e.prototype.start=function(){return this.reset(),this},e.prototype.clear=function(){this.clearInternal()},e.prototype.suspend=function(){return this.suspended=!0,this.clearInternal(),this},e.prototype.resume=function(e){return this.suspended=!1,e&&this.reset(),this},e.prototype.reset=function(){var e=this;this.clearInternal(),this.suspended||(this.repeat?this.timeoutOrIntervalId=setInterval(this.callback,this.delay):this.timeoutOrIntervalId=setTimeout(function(){e.active=!1,e.callback()},this.delay),this.active=!0)},e.prototype.isActive=function(){return this.active},e.prototype.clearInternal=function(){this.repeat?clearInterval(this.timeoutOrIntervalId):clearTimeout(this.timeoutOrIntervalId),this.active=!1},e}();n.Timeout=o},{}],114:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})},{}],115:[function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.UIFactory=void 0;var i,r=e("./components/subtitleoverlay"),s=e("./components/settingspanelpage"),a=e("./components/settingspanelitem"),l=e("./components/videoqualityselectbox"),c=e("./components/playbackspeedselectbox"),u=e("./components/audiotrackselectbox"),p=e("./components/audioqualityselectbox"),f=e("./components/settingspanel"),g=e("./components/subtitlesettings/subtitlesettingspanelpage"),d=e("./components/settingspanelpageopenbutton"),h=e("./components/subtitlesettings/subtitlesettingslabel"),v=e("./components/subtitleselectbox"),y=e("./components/controlbar"),m=e("./components/container"),b=e("./components/playbacktimelabel"),C=e("./components/seekbar"),P=e("./components/seekbarlabel"),S=e("./components/playbacktogglebutton"),w=e("./components/volumetogglebutton"),E=e("./components/volumeslider"),_=e("./components/spacer"),O=e("./components/pictureinpicturetogglebutton"),k=e("./components/airplaytogglebutton"),x=e("./components/casttogglebutton"),T=e("./components/vrtogglebutton"),M=e("./components/settingstogglebutton"),L=e("./components/fullscreentogglebutton"),A=e("./components/uicontainer"),B=e("./components/bufferingoverlay"),I=e("./components/playbacktoggleoverlay"),j=e("./components/caststatusoverlay"),D=e("./components/titlebar"),U=e("./components/recommendationoverlay"),z=e("./components/watermark"),R=e("./components/errormessageoverlay"),V=e("./components/adclickoverlay"),H=e("./components/admessagelabel"),F=e("./components/adskipbutton"),N=e("./components/closebutton"),W=e("./components/metadatalabel"),G=e("./playerutils"),q=e("./components/label"),K=e("./components/castuicontainer"),Q=e("./uimanager"),Y=e("./localization/i18n"),X=e("./components/subtitlelistbox"),J=e("./components/audiotracklistbox"),Z=e("./spatialnavigation/spatialnavigation"),$=e("./spatialnavigation/rootnavigationgroup"),ee=e("./spatialnavigation/ListNavigationGroup"),te=e("./components/ecomodecontainer");(function(e){function t(t,n){return void 0===n&&(n={}),e.buildModernUI(t,n)}function n(t,n){return void 0===n&&(n={}),e.buildModernSmallScreenUI(t,n)}function i(t,n){return void 0===n&&(n={}),e.buildModernCastReceiverUI(t,n)}function ne(t,n){return void 0===n&&(n={}),e.buildModernTvUI(t,n)}function oe(e){var t,n=new r.SubtitleOverlay,o=[new a.SettingsPanelItem(Y.i18n.getLocalizer("settings.video.quality"),new l.VideoQualitySelectBox),new a.SettingsPanelItem(Y.i18n.getLocalizer("speed"),new c.PlaybackSpeedSelectBox),new a.SettingsPanelItem(Y.i18n.getLocalizer("settings.audio.track"),new u.AudioTrackSelectBox),new a.SettingsPanelItem(Y.i18n.getLocalizer("settings.audio.quality"),new p.AudioQualitySelectBox)];if(e.ecoMode){var i=new te.EcoModeContainer;i.setOnToggleCallback(function(){V.getDomElement().css({width:"",height:""})}),o.unshift(i)}t=new s.SettingsPanelPage({components:o});var V=new f.SettingsPanel({components:[t],hidden:!0}),H=new g.SubtitleSettingsPanelPage({settingsPanel:V,overlay:n}),F=new v.SubtitleSelectBox,N=new d.SettingsPanelPageOpenButton({targetPage:H,container:V,ariaLabel:Y.i18n.getLocalizer("settings.subtitles"),text:Y.i18n.getLocalizer("open")});t.addComponent(new a.SettingsPanelItem(new h.SubtitleSettingsLabel({text:Y.i18n.getLocalizer("settings.subtitles"),opener:N}),F,{role:"menubar"})),V.addComponent(H);var W=new y.ControlBar({components:[V,new m.Container({components:[new b.PlaybackTimeLabel({timeLabelMode:b.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new C.SeekBar({label:new P.SeekBarLabel}),new b.PlaybackTimeLabel({timeLabelMode:b.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]}),new m.Container({components:[new S.PlaybackToggleButton,new w.VolumeToggleButton,new E.VolumeSlider,new _.Spacer,new O.PictureInPictureToggleButton,new k.AirPlayToggleButton,new x.CastToggleButton,new T.VRToggleButton,new M.SettingsToggleButton({settingsPanel:V}),new L.FullscreenToggleButton],cssClasses:["controlbar-bottom"]})]});return new A.UIContainer({components:[n,new B.BufferingOverlay,new I.PlaybackToggleOverlay,new j.CastStatusOverlay,W,new D.TitleBar,new U.RecommendationOverlay,new z.Watermark,new R.ErrorMessageOverlay],hideDelay:2e3,hidePlayerStateExceptions:[G.PlayerUtils.PlayerState.Prepared,G.PlayerUtils.PlayerState.Paused,G.PlayerUtils.PlayerState.Finished]})}function ie(){return new A.UIContainer({components:[new B.BufferingOverlay,new V.AdClickOverlay,new I.PlaybackToggleOverlay,new m.Container({components:[new H.AdMessageLabel({text:Y.i18n.getLocalizer("ads.remainingTime")}),new F.AdSkipButton],cssClass:"ui-ads-status"}),new y.ControlBar({components:[new m.Container({components:[new S.PlaybackToggleButton,new w.VolumeToggleButton,new E.VolumeSlider,new _.Spacer,new L.FullscreenToggleButton],cssClasses:["controlbar-bottom"]})]})],cssClasses:["ui-skin-ads"],hideDelay:2e3,hidePlayerStateExceptions:[G.PlayerUtils.PlayerState.Prepared,G.PlayerUtils.PlayerState.Paused,G.PlayerUtils.PlayerState.Finished]})}function re(){var e=new r.SubtitleOverlay,t=new s.SettingsPanelPage({components:[new a.SettingsPanelItem(Y.i18n.getLocalizer("settings.video.quality"),new l.VideoQualitySelectBox),new a.SettingsPanelItem(Y.i18n.getLocalizer("speed"),new c.PlaybackSpeedSelectBox),new a.SettingsPanelItem(Y.i18n.getLocalizer("settings.audio.track"),new u.AudioTrackSelectBox),new a.SettingsPanelItem(Y.i18n.getLocalizer("settings.audio.quality"),new p.AudioQualitySelectBox)]}),n=new f.SettingsPanel({components:[t],hidden:!0,pageTransitionAnimation:!1,hideDelay:-1}),o=new g.SubtitleSettingsPanelPage({settingsPanel:n,overlay:e}),i=new d.SettingsPanelPageOpenButton({targetPage:o,container:n,ariaLabel:Y.i18n.getLocalizer("settings.subtitles"),text:Y.i18n.getLocalizer("open")}),S=new v.SubtitleSelectBox;t.addComponent(new a.SettingsPanelItem(new h.SubtitleSettingsLabel({text:Y.i18n.getLocalizer("settings.subtitles"),opener:i}),S,{role:"menubar"})),n.addComponent(o),n.addComponent(new N.CloseButton({target:n})),o.addComponent(new N.CloseButton({target:n}));var E=new y.ControlBar({components:[new m.Container({components:[new b.PlaybackTimeLabel({timeLabelMode:b.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new C.SeekBar({label:new P.SeekBarLabel}),new b.PlaybackTimeLabel({timeLabelMode:b.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]})]});return new A.UIContainer({components:[e,new B.BufferingOverlay,new j.CastStatusOverlay,new I.PlaybackToggleOverlay,new U.RecommendationOverlay,E,new D.TitleBar({components:[new W.MetadataLabel({content:W.MetadataLabelContent.Title}),new x.CastToggleButton,new T.VRToggleButton,new O.PictureInPictureToggleButton,new k.AirPlayToggleButton,new w.VolumeToggleButton,new M.SettingsToggleButton({settingsPanel:n}),new L.FullscreenToggleButton]}),n,new z.Watermark,new R.ErrorMessageOverlay],cssClasses:["ui-skin-smallscreen"],hideDelay:2e3,hidePlayerStateExceptions:[G.PlayerUtils.PlayerState.Prepared,G.PlayerUtils.PlayerState.Paused,G.PlayerUtils.PlayerState.Finished]})}function se(){return new A.UIContainer({components:[new B.BufferingOverlay,new V.AdClickOverlay,new I.PlaybackToggleOverlay,new D.TitleBar({components:[new q.Label({cssClass:"label-metadata-title"}),new L.FullscreenToggleButton]}),new m.Container({components:[new H.AdMessageLabel({text:"Ad: {remainingTime} secs"}),new F.AdSkipButton],cssClass:"ui-ads-status"})],cssClasses:["ui-skin-ads","ui-skin-smallscreen"],hideDelay:2e3,hidePlayerStateExceptions:[G.PlayerUtils.PlayerState.Prepared,G.PlayerUtils.PlayerState.Paused,G.PlayerUtils.PlayerState.Finished]})}function ae(){var e=new y.ControlBar({components:[new m.Container({components:[new b.PlaybackTimeLabel({timeLabelMode:b.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new C.SeekBar({smoothPlaybackPositionUpdateIntervalMs:-1}),new b.PlaybackTimeLabel({timeLabelMode:b.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]})]});return new K.CastUIContainer({components:[new r.SubtitleOverlay,new B.BufferingOverlay,new I.PlaybackToggleOverlay,new z.Watermark,e,new D.TitleBar({keepHiddenWithoutMetadata:!0}),new R.ErrorMessageOverlay],cssClasses:["ui-skin-cast-receiver"],hideDelay:2e3,hidePlayerStateExceptions:[G.PlayerUtils.PlayerState.Prepared,G.PlayerUtils.PlayerState.Paused,G.PlayerUtils.PlayerState.Finished]})}function le(e,t){void 0===t&&(t={});var n=600;return new Q.UIManager(e,[{ui:se(),condition:function(e){return e.isMobile&&e.documentWidth<n&&e.isAd&&e.adRequiresUi}},{ui:ie(),condition:function(e){return e.isAd&&e.adRequiresUi}},{ui:re(),condition:function(e){return!e.isAd&&!e.adRequiresUi&&e.isMobile&&e.documentWidth<n}},{ui:oe(t),condition:function(e){return!e.isAd&&!e.adRequiresUi}}],t)}function ce(e,t){return void 0===t&&(t={}),new Q.UIManager(e,[{ui:se(),condition:function(e){return e.isAd&&e.adRequiresUi}},{ui:re(),condition:function(e){return!e.isAd&&!e.adRequiresUi}}],t)}function ue(e,t){return void 0===t&&(t={}),new Q.UIManager(e,ae(),t)}function pe(e,t){return void 0===t&&(t={}),new Q.UIManager(e,[o({},fe())],t)}function fe(){var e=new X.SubtitleListBox,t=new f.SettingsPanel({components:[new s.SettingsPanelPage({components:[new a.SettingsPanelItem(null,e)]})],hidden:!0}),n=new J.AudioTrackListBox,o=new f.SettingsPanel({components:[new s.SettingsPanelPage({components:[new a.SettingsPanelItem(null,n)]})],hidden:!0}),i=new C.SeekBar({label:new P.SeekBarLabel}),l=new I.PlaybackToggleOverlay,c=new M.SettingsToggleButton({settingsPanel:t,autoHideWhenNoActiveSettings:!0,cssClass:"ui-subtitlesettingstogglebutton",text:Y.i18n.getLocalizer("settings.subtitles")}),u=new M.SettingsToggleButton({settingsPanel:o,autoHideWhenNoActiveSettings:!0,cssClass:"ui-audiotracksettingstogglebutton",ariaLabel:Y.i18n.getLocalizer("settings.audio.track"),text:Y.i18n.getLocalizer("settings.audio.track")}),p=new A.UIContainer({components:[new r.SubtitleOverlay,new B.BufferingOverlay,l,new y.ControlBar({components:[new m.Container({components:[new b.PlaybackTimeLabel({timeLabelMode:b.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),i,new b.PlaybackTimeLabel({timeLabelMode:b.PlaybackTimeLabelMode.RemainingTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]})]}),new D.TitleBar({components:[new m.Container({components:[new W.MetadataLabel({content:W.MetadataLabelContent.Title}),c,u],cssClasses:["ui-titlebar-top"]}),new m.Container({components:[new W.MetadataLabel({content:W.MetadataLabelContent.Description}),t,o],cssClasses:["ui-titlebar-bottom"]})]}),new U.RecommendationOverlay,new R.ErrorMessageOverlay],cssClasses:["ui-skin-tv"],hideDelay:2e3,hidePlayerStateExceptions:[G.PlayerUtils.PlayerState.Prepared,G.PlayerUtils.PlayerState.Paused,G.PlayerUtils.PlayerState.Finished]}),g=new Z.SpatialNavigation(new $.RootNavigationGroup(p,l,i,u,c),new ee.ListNavigationGroup(ee.ListOrientation.Vertical,t,e),new ee.ListNavigationGroup(ee.ListOrientation.Vertical,o,n));return{ui:p,spatialNavigation:g}}e.buildDefaultUI=t,e.buildDefaultSmallScreenUI=n,e.buildDefaultCastReceiverUI=i,e.buildDefaultTvUI=ne,e.modernUI=oe,e.modernAdsUI=ie,e.modernSmallScreenUI=re,e.modernSmallScreenAdsUI=se,e.modernCastReceiverUI=ae,e.buildModernUI=le,e.buildModernSmallScreenUI=ce,e.buildModernCastReceiverUI=ue,e.buildModernTvUI=pe,e.modernTvUI=fe})(i||(n.UIFactory=i={}))},{"./components/adclickoverlay":4,"./components/admessagelabel":5,"./components/adskipbutton":6,"./components/airplaytogglebutton":7,"./components/audioqualityselectbox":8,"./components/audiotracklistbox":9,"./components/audiotrackselectbox":10,"./components/bufferingoverlay":11,"./components/caststatusoverlay":13,"./components/casttogglebutton":14,"./components/castuicontainer":15,"./components/closebutton":17,"./components/container":19,"./components/controlbar":20,"./components/ecomodecontainer":21,"./components/errormessageoverlay":23,"./components/fullscreentogglebutton":24,"./components/label":28,"./components/metadatalabel":31,"./components/pictureinpicturetogglebutton":32,"./components/playbackspeedselectbox":33,"./components/playbacktimelabel":34,"./components/playbacktogglebutton":35,"./components/playbacktoggleoverlay":36,"./components/recommendationoverlay":38,"./components/seekbar":40,"./components/seekbarlabel":43,"./components/settingspanel":45,"./components/settingspanelitem":46,"./components/settingspanelpage":47,"./components/settingspanelpageopenbutton":50,"./components/settingstogglebutton":51,"./components/spacer":52,"./components/subtitlelistbox":53,"./components/subtitleoverlay":54,"./components/subtitleselectbox":55,"./components/subtitlesettings/subtitlesettingslabel":66,"./components/subtitlesettings/subtitlesettingspanelpage":68,"./components/titlebar":73,"./components/uicontainer":76,"./components/videoqualityselectbox":77,"./components/volumeslider":79,"./components/volumetogglebutton":80,"./components/vrtogglebutton":81,"./components/watermark":82,"./localization/i18n":91,"./playerutils":98,"./spatialnavigation/ListNavigationGroup":99,"./spatialnavigation/rootnavigationgroup":105,"./spatialnavigation/spatialnavigation":107,"./uimanager":116}],116:[function(e,t,n){"use strict";function o(e){for(var t=[];e;){var n=Object.getOwnPropertyNames(e).filter(function(e){return-1===t.indexOf(e)});t=t.concat(n),e=Object.getPrototypeOf(e)}return t}var i,r=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]
}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerWrapper=n.UIInstanceManager=n.UIManager=void 0;var l=e("./components/uicontainer"),c=e("./dom"),u=e("./components/container"),p=e("./eventdispatcher"),f=e("./uiutils"),g=e("./arrayutils"),d=e("./browserutils"),h=e("./volumecontroller"),v=e("./localization/i18n"),y=e("./focusvisibilitytracker"),m=e("./mobilev3playerapi"),b=e("./components/subtitlesettings/subtitlesettingsmanager"),C=e("./storageutils"),P=function(){function e(e,t,n){void 0===n&&(n={});var o=this;if(this.events={onUiVariantResolve:new p.EventDispatcher,onActiveUiChanged:new p.EventDispatcher},t instanceof l.UIContainer){var i=t,r=[];r.push({ui:i}),this.uiVariants=r}else this.uiVariants=t;this.subtitleSettingsManager=new b.SubtitleSettingsManager,this.player=e,this.managerPlayerWrapper=new E(e),n.metadata=n.metadata?n.metadata:{},this.config=s(s({playbackSpeedSelectionEnabled:!0,autoUiVariantResolve:!0,disableAutoHideWhenHovered:!1,enableSeekPreview:!0},n),{events:{onUpdated:new p.EventDispatcher},volumeController:new h.VolumeController(this.managerPlayerWrapper.getPlayer())});var a=function(){var t=e.getSource()||{};o.config.metadata=JSON.parse(JSON.stringify(n.metadata||{}));var i={metadata:{title:t.title,description:t.description,markers:t.markers},recommendations:t.recommendations};o.config.metadata.title=i.metadata.title||n.metadata.title,o.config.metadata.description=i.metadata.description||n.metadata.description,o.config.metadata.markers=i.metadata.markers||n.metadata.markers||[],o.config.recommendations=i.recommendations||n.recommendations||[],C.StorageUtils.setStorageApiDisabled(n)};a(),this.subtitleSettingsManager.initialize();var u=function(){a(),o.config.events.onUpdated.dispatch(o)},f=this.managerPlayerWrapper.getPlayer();f.on(this.player.exports.PlayerEvent.SourceLoaded,u),(0,m.isMobileV3PlayerAPI)(f)&&f.on(m.MobileV3PlayerEvent.PlaylistTransition,u),n.container?this.uiContainerElement=(n.container,HTMLElement,new c.DOM(n.container)):this.uiContainerElement=new c.DOM(e.getContainer()),this.uiInstanceManagers=[];for(var g=[],d=0,v=this.uiVariants;d<v.length;d++){var P=v[d];null==P.condition&&g.push(P),this.uiInstanceManagers.push(new w(e,P.ui,this.config,this.subtitleSettingsManager,P.spatialNavigation))}if(g.length>1)throw Error("Too many UIs without a condition: You cannot have more than one default UI");if(g.length>0&&g[0]!==this.uiVariants[this.uiVariants.length-1])throw Error("Invalid UI variant order: the default UI (without condition) must be at the end of the list");var S=null,_=function(t){if(null!=t)switch(t.type){case e.exports.PlayerEvent.AdStarted:S=t;break;case e.exports.PlayerEvent.AdBreakFinished:S=null,o.config.events.onUpdated.dispatch(o);break;case e.exports.PlayerEvent.SourceLoaded:case e.exports.PlayerEvent.SourceUnloaded:S=null}var n=null!=S,i=!1;if(n){var r=S.ad;if(r.isLinear){var s=r;i=s.uiConfig&&s.uiConfig.requestsUi||!1}}i&&o.config.events.onUpdated.dispatch(o),o.resolveUiVariant({isAd:n,adRequiresUi:i},function(e){e.isAd&&o.currentUi.getWrappedPlayer().fireEventInUI(o.player.exports.PlayerEvent.AdStarted,S)})};this.config.autoUiVariantResolve&&(this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.SourceLoaded,_),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.SourceUnloaded,_),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.Play,_),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.Paused,_),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.AdStarted,_),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.AdBreakFinished,_),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.PlayerResized,_),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.ViewModeChanged,_)),this.focusVisibilityTracker=new y.FocusVisibilityTracker("bmpui"),_(null)}return e.localize=function(e){return v.i18n.getLocalizer(e)},e.setLocalizationConfig=function(e){v.i18n.setConfig(e)},e.prototype.getSubtitleSettingsManager=function(){return this.subtitleSettingsManager},e.prototype.getConfig=function(){return this.config},e.prototype.getUiVariants=function(){return this.uiVariants},e.prototype.switchToUiVariant=function(e,t){var n=this.uiVariants.indexOf(e),o=this.currentUi,i=this.uiInstanceManagers[n];i!==this.currentUi&&(this.currentUi&&this.currentUi.getUI().hide(),this.currentUi=i,null!=this.currentUi&&(this.currentUi.isConfigured()||(this.addUi(this.currentUi),this.currentUi.getUI().isHidden()||this.currentUi.getUI().hide()),t&&t(),this.currentUi.getUI().show(),this.events.onActiveUiChanged.dispatch(this,{previousUi:o,currentUi:i})))},e.prototype.resolveUiVariant=function(e,t){void 0===e&&(e={});var n={isAd:!1,adRequiresUi:!1,isFullscreen:this.player.getViewMode()===this.player.exports.ViewMode.Fullscreen,isMobile:d.BrowserUtils.isMobile,isPlaying:this.player.isPlaying(),width:this.uiContainerElement.width(),documentWidth:document.body.clientWidth},o=s(s({},n),e);this.events.onUiVariantResolve.dispatch(this,o);for(var i=null,r=0,a=this.uiVariants;r<a.length;r++){var l=a[r],c=null==l.condition||!0===l.condition(o);null==i&&c?i=l:l.ui.hide()}this.switchToUiVariant(i,function(){t&&t(o)})},e.prototype.addUi=function(e){var t=e.getUI().getDomElement(),n=e.getWrappedPlayer();e.configureControls(),this.uiContainerElement.append(t),n.getSource()&&this.config.events.onUpdated.dispatch(this),window.requestAnimationFrame?requestAnimationFrame(function(){e.onConfigured.dispatch(e.getUI())}):setTimeout(function(){e.onConfigured.dispatch(e.getUI())},0)},e.prototype.releaseUi=function(e){e.releaseControls();var t=e.getUI();t.hasDomElement()&&t.getDomElement().remove(),e.clearEventHandlers()},e.prototype.release=function(){for(var e=0,t=this.uiInstanceManagers;e<t.length;e++){var n=t[e];this.releaseUi(n)}this.managerPlayerWrapper.clearEventHandlers(),this.focusVisibilityTracker.release()},Object.defineProperty(e.prototype,"onUiVariantResolve",{get:function(){return this.events.onUiVariantResolve},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onActiveUiChanged",{get:function(){return this.events.onActiveUiChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeUi",{get:function(){return this.currentUi},enumerable:!1,configurable:!0}),e.prototype.getTimelineMarkers=function(){return this.config.metadata.markers},e.prototype.addTimelineMarker=function(e){this.config.metadata.markers.push(e),this.config.events.onUpdated.dispatch(this)},e.prototype.removeTimelineMarker=function(e){return g.ArrayUtils.remove(this.config.metadata.markers,e)===e&&(this.config.events.onUpdated.dispatch(this),!0)},e}();n.UIManager=P;var S=function(){function e(e,t,n,o,i){this.events={onConfigured:new p.EventDispatcher,onSeek:new p.EventDispatcher,onSeekPreview:new p.EventDispatcher,onSeeked:new p.EventDispatcher,onComponentShow:new p.EventDispatcher,onComponentHide:new p.EventDispatcher,onComponentViewModeChanged:new p.EventDispatcher,onControlsShow:new p.EventDispatcher,onPreviewControlsHide:new p.EventDispatcher,onControlsHide:new p.EventDispatcher,onRelease:new p.EventDispatcher},this.playerWrapper=new E(e),this.ui=t,this.config=n,this.subtitleSettingsManager=o,this.spatialNavigation=i}return e.prototype.getSubtitleSettingsManager=function(){return this.subtitleSettingsManager},e.prototype.getConfig=function(){return this.config},e.prototype.getUI=function(){return this.ui},e.prototype.getPlayer=function(){return this.playerWrapper.getPlayer()},Object.defineProperty(e.prototype,"onConfigured",{get:function(){return this.events.onConfigured},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSeek",{get:function(){return this.events.onSeek},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSeekPreview",{get:function(){return this.events.onSeekPreview},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this.events.onSeeked},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComponentShow",{get:function(){return this.events.onComponentShow},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComponentHide",{get:function(){return this.events.onComponentHide},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onControlsShow",{get:function(){return this.events.onControlsShow},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onPreviewControlsHide",{get:function(){return this.events.onPreviewControlsHide},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onControlsHide",{get:function(){return this.events.onControlsHide},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRelease",{get:function(){return this.events.onRelease},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComponentViewModeChanged",{get:function(){return this.events.onComponentViewModeChanged},enumerable:!1,configurable:!0}),e.prototype.clearEventHandlers=function(){this.playerWrapper.clearEventHandlers();var e=this.events;for(var t in e){var n=e[t];n.unsubscribeAll()}},e}();n.UIInstanceManager=S;var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getWrappedPlayer=function(){return this.getPlayer()},t.prototype.configureControls=function(){this.configureControlsTree(this.getUI()),this.configured=!0},t.prototype.isConfigured=function(){return this.configured},t.prototype.configureControlsTree=function(e){var t=this,n=[];f.UIUtils.traverseTree(e,function(e){for(var o=0,i=n;o<i.length;o++){var r=i[o];if(r===e)throw console&&console.error("Circular reference in UI tree",e),Error("Circular reference in UI tree: "+e.constructor.name)}e.initialize(),e.configure(t.getPlayer(),t),n.push(e)})},t.prototype.releaseControls=function(){var e;this.configured&&(this.onRelease.dispatch(this.getUI()),this.releaseControlsTree(this.getUI()),this.configured=!1),null===(e=this.spatialNavigation)||void 0===e||e.release(),this.released=!0},t.prototype.isReleased=function(){return this.released},t.prototype.releaseControlsTree=function(e){if(e.release(),e instanceof u.Container)for(var t=0,n=e.getComponents();t<n.length;t++){var o=n[t];this.releaseControlsTree(o)}},t.prototype.clearEventHandlers=function(){e.prototype.clearEventHandlers.call(this)},t}(S),E=function(){function e(e){var t=this;this.eventHandlers={},this.player=e;for(var n=Object.getOwnPropertyNames(Object.getPrototypeOf({})),i=a(["constructor"],n,!0),r=o(e).filter(function(e){return-1===i.indexOf(e)}),s=[],l=[],c=0,u=r;c<u.length;c++){var p=u[c];"function"==typeof e[p]?s.push(p):l.push(p)}for(var f={},d=function(t){f[t]=function(){return e[t].apply(e,arguments)}},h=0,v=s;h<v.length;h++){var y=v[h];d(y)}for(var m=function(t){var n=function(e){for(;e;){var n=Object.getOwnPropertyDescriptor(e,t);if(n)return n;e=Object.getPrototypeOf(e)}}(e);n&&(n.get||n.set)?Object.defineProperty(f,t,{get:function(){return n.get.call(e)},set:function(t){return n.set.call(e,t)}}):f[t]=e[t]},b=0,C=l;b<C.length;b++){var P=C[b];m(P)}f.on=function(n,o){return e.on(n,o),t.eventHandlers[n]||(t.eventHandlers[n]=[]),t.eventHandlers[n].push(o),f},f.off=function(n,o){return e.off(n,o),t.eventHandlers[n]&&g.ArrayUtils.remove(t.eventHandlers[n],o),f},f.fireEventInUI=function(e,n){if(t.eventHandlers[e])for(var o=Object.assign({},{timestamp:Date.now(),type:e,uiSourced:!0},n),i=0,r=t.eventHandlers[e];i<r.length;i++){var s=r[i];s(o)}},this.wrapper=f}return e.prototype.getPlayer=function(){return this.wrapper},e.prototype.clearEventHandlers=function(){try{this.player.getSource()}catch(e){e instanceof this.player.exports.PlayerAPINotAvailableError&&(this.eventHandlers={})}for(var e in this.eventHandlers)for(var t=0,n=this.eventHandlers[e];t<n.length;t++){var o=n[t];this.player.off(e,o)}},e}();n.PlayerWrapper=E},{"./arrayutils":1,"./browserutils":3,"./components/container":19,"./components/subtitlesettings/subtitlesettingsmanager":67,"./components/uicontainer":76,"./dom":84,"./eventdispatcher":86,"./focusvisibilitytracker":87,"./localization/i18n":91,"./mobilev3playerapi":97,"./storageutils":110,"./uiutils":117,"./volumecontroller":118}],117:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.UIUtils=void 0;var o,i=e("./components/container");(function(e){function t(e,t){var n=function(e,o){if(t(e,o),e instanceof i.Container)for(var r=0,s=e.getComponents();r<s.length;r++){var a=s[r];n(a,e)}};n(e)}e.traverseTree=t,function(e){e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Space=32]="Space",e[e.End=35]="End",e[e.Home=36]="Home"}(e.KeyCode||(e.KeyCode={}))})(o||(n.UIUtils=o={}))},{"./components/container":19}],118:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.VolumeTransition=n.VolumeController=void 0;var o=e("./eventdispatcher"),i=function(){function e(e){var t=this;this.player=e,this.events={onChanged:new o.EventDispatcher},this.storeVolume();var n=function(){t.onChangedEvent()};e.on(e.exports.PlayerEvent.SourceLoaded,n),e.on(e.exports.PlayerEvent.VolumeChanged,n),e.on(e.exports.PlayerEvent.Muted,n),e.on(e.exports.PlayerEvent.Unmuted,n)}return e.prototype.setVolume=function(t){this.player.setVolume(t,e.issuerName)},e.prototype.getVolume=function(){return this.player.getVolume()},e.prototype.setMuted=function(t){t?this.player.mute(e.issuerName):this.player.unmute(e.issuerName)},e.prototype.toggleMuted=function(){this.isMuted()||0===this.getVolume()?this.recallVolume():this.setMuted(!0)},e.prototype.isMuted=function(){return this.player.isMuted()},e.prototype.storeVolume=function(){this.storedVolume=this.getVolume()},e.prototype.recallVolume=function(){this.setMuted(0===this.storedVolume),this.setVolume(this.storedVolume)},e.prototype.startTransition=function(){return new r(this)},e.prototype.onChangedEvent=function(){var e=this.isMuted(),t=this.getVolume(),n=e||0===t,o=e?0:t;this.storeVolume(),this.events.onChanged.dispatch(this,{volume:o,muted:n})},Object.defineProperty(e.prototype,"onChanged",{get:function(){return this.events.onChanged.getEvent()},enumerable:!1,configurable:!0}),e.issuerName="ui-volumecontroller",e}();n.VolumeController=i;var r=function(){function e(e){this.controller=e,e.storeVolume()}return e.prototype.update=function(e){this.controller.setMuted(!1),this.controller.setVolume(e)},e.prototype.finish=function(e){0===e?(this.controller.recallVolume(),this.controller.setMuted(!0)):(this.controller.setMuted(!1),this.controller.setVolume(e),this.controller.storeVolume())},e}();n.VolumeTransition=r},{"./eventdispatcher":86}],119:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.VttUtils=void 0;var o,i,r=28,s=21;(function(e){e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right"})(o||(o={})),function(e){e.GrowingRight="lr",e.GrowingLeft="rl"}(i||(i={}));var a,l=new Map([[o.Top,o.Bottom],[o.Bottom,o.Top],[o.Left,o.Right],[o.Right,o.Left]]),c=function(e,t){t.region?(e.css("position","relative"),e.css("unicode-bidi","plaintext")):(e.css("position","absolute"),e.css("overflow-wrap","break-word"),e.css("overflow","hidden"),e.css("flex-flow","column")),e.css("display","inline-flex")},u=function(e,t,n,o){var i=t.lineAlign;switch(i){case"center":v(e,n,o);break;case"end":y(e,n,o)}},p=function(e,t,n,o){var i=l.get(n);if("auto"===t.line&&t.vertical)e.css(i,"0");else if("auto"!==t.line||t.vertical){var r=parseFloat(t.line);if(t.snapToLines){var a=Number(t.line);a<0&&(a=s+a);var c=o.height/s,p=c*a;r=100*p/o.height}"end"!==t.lineAlign&&e.css(i,"".concat(r,"%")),u(e,t,n,r)}},f=function(e,t,n){switch(t.vertical){case"":e.css("writing-mode","horizontal-tb"),e.css(o.Bottom,"0"),p(e,t,o.Bottom,n);break;case i.GrowingRight:g(e,o.Right,t,n);break;case i.GrowingLeft:g(e,o.Left,t,n)}},g=function(e,t,n,i){var r=t===o.Right?"vertical-lr":"vertical-rl";e.css("writing-mode",r),e.css(o.Top,"0"),p(e,n,t,i)},d=function(e,t,n){if("auto"===t.position)e.css(n,"0");else switch(t.positionAlign){case"line-left":e.css(n,"".concat(t.position,"%")),e.css(l.get(n),"auto"),e.css("justify-content","flex-start");break;case"center":e.css(n,"".concat(t.position-t.size/2,"%")),e.css(l.get(n),"auto"),e.css("justify-content","center");break;case"line-right":e.css(n,"auto"),e.css(l.get(n),"".concat(100-t.position,"%")),e.css("justify-content","flex-end");break;default:e.css(n,"".concat(t.position,"%")),e.css("justify-content","flex-start")}},h=function(e){return e.split("<br />").length},v=function(e,t,n){switch(t){case o.Bottom:e.css("transform","translateY(-50%)");break;case o.Left:e.css("transform","translateX(50%)");break;case o.Right:e.css("transform","translateX(-50%)")}},y=function(e,t,n){var o=t;e.css(o,"".concat(100-n,"%"))};(function(e){e.setVttCueBoxStyles=function(e,t){var n=e.vtt,i=e.getDomElement();c(i,n),h(e.getText()),f(i,n,t);var r="middle"===n.align?"center":n.align;i.css("text-align",r);var s=n.size;""===n.vertical?(i.css("width","".concat(s,"%")),d(i,n,o.Left)):(i.css("height","".concat(s,"%")),d(i,n,o.Top))},e.setVttRegionStyles=function(e,t,n){var i=e.getDomElement(),s=n.width*t.viewportAnchorX/100-n.width*t.width/100*t.regionAnchorX/100,a=n.height*t.viewportAnchorY/100-t.lines*r*t.regionAnchorY/100;i.css("position","absolute"),i.css("overflow","hidden"),i.css("width","".concat(t.width,"%")),i.css(o.Left,"".concat(s,"px")),i.css(o.Right,"unset"),i.css(o.Top,"".concat(a,"px")),i.css(o.Bottom,"unset"),i.css("height","".concat(t.lines*r,"px"))}})(a||(n.VttUtils=a={}))},{}]},{},[96])(96)});